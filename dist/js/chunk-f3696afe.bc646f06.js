(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f3696afe"],{"02f4":function(t,e,s){var r=s("4588"),a=s("be13");t.exports=function(t){return function(e,s){var i,n,o=String(a(e)),l=r(s),c=o.length;return l<0||l>=c?t?"":void 0:(i=o.charCodeAt(l),i<55296||i>56319||l+1===c||(n=o.charCodeAt(l+1))<56320||n>57343?t?o.charAt(l):i:t?o.slice(l,l+2):n-56320+(i-55296<<10)+65536)}}},"0390":function(t,e,s){"use strict";var r=s("02f4")(!0);t.exports=function(t,e,s){return e+(s?r(t,e).length:1)}},"214f":function(t,e,s){"use strict";s("b0c5");var r=s("2aba"),a=s("32e9"),i=s("79e5"),n=s("be13"),o=s("2b4c"),l=s("520a"),c=o("species"),u=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),p=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var s="ab".split(t);return 2===s.length&&"a"===s[0]&&"b"===s[1]}();t.exports=function(t,e,s){var d=o(t),v=!i((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),f=v?!i((function(){var e=!1,s=/a/;return s.exec=function(){return e=!0,null},"split"===t&&(s.constructor={},s.constructor[c]=function(){return s}),s[d](""),!e})):void 0;if(!v||!f||"replace"===t&&!u||"split"===t&&!p){var b=/./[d],m=s(n,d,""[t],(function(t,e,s,r,a){return e.exec===l?v&&!a?{done:!0,value:b.call(e,s,r)}:{done:!0,value:t.call(s,e,r)}:{done:!1}})),h=m[0],g=m[1];r(String.prototype,t,h),a(RegExp.prototype,d,2==e?function(t,e){return g.call(t,this,e)}:function(t){return g.call(t,this)})}}},"520a":function(t,e,s){"use strict";var r=s("0bfb"),a=RegExp.prototype.exec,i=String.prototype.replace,n=a,o="lastIndex",l=function(){var t=/a/,e=/b*/g;return a.call(t,"a"),a.call(e,"a"),0!==t[o]||0!==e[o]}(),c=void 0!==/()??/.exec("")[1],u=l||c;u&&(n=function(t){var e,s,n,u,p=this;return c&&(s=new RegExp("^"+p.source+"$(?!\\s)",r.call(p))),l&&(e=p[o]),n=a.call(p,t),l&&n&&(p[o]=p.global?n.index+n[0].length:e),c&&n&&n.length>1&&i.call(n[0],s,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(n[u]=void 0)})),n}),t.exports=n},"5f1b":function(t,e,s){"use strict";var r=s("23c6"),a=RegExp.prototype.exec;t.exports=function(t,e){var s=t.exec;if("function"===typeof s){var i=s.call(t,e);if("object"!==typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},a481:function(t,e,s){"use strict";var r=s("cb7c"),a=s("4bf8"),i=s("9def"),n=s("4588"),o=s("0390"),l=s("5f1b"),c=Math.max,u=Math.min,p=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,v=/\$([$&`']|\d\d?)/g,f=function(t){return void 0===t?t:String(t)};s("214f")("replace",2,(function(t,e,s,b){return[function(r,a){var i=t(this),n=void 0==r?void 0:r[e];return void 0!==n?n.call(r,i,a):s.call(String(i),r,a)},function(t,e){var a=b(s,t,this,e);if(a.done)return a.value;var p=r(t),d=String(this),v="function"===typeof e;v||(e=String(e));var h=p.global;if(h){var g=p.unicode;p.lastIndex=0}var _=[];while(1){var S=l(p,d);if(null===S)break;if(_.push(S),!h)break;var y=String(S[0]);""===y&&(p.lastIndex=o(d,i(p.lastIndex),g))}for(var C="",E=0,P=0;P<_.length;P++){S=_[P];for(var O=String(S[0]),R=c(u(n(S.index),d.length),0),x=[],I=1;I<S.length;I++)x.push(f(S[I]));var U=S.groups;if(v){var A=[O].concat(x,R,d);void 0!==U&&A.push(U);var w=String(e.apply(void 0,A))}else w=m(O,d,R,x,U,e);R>=E&&(C+=d.slice(E,R)+w,E=R+O.length)}return C+d.slice(E)}];function m(t,e,r,i,n,o){var l=r+t.length,c=i.length,u=v;return void 0!==n&&(n=a(n),u=d),s.call(o,u,(function(s,a){var o;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(l);case"<":o=n[a.slice(1,-1)];break;default:var u=+a;if(0===u)return s;if(u>c){var d=p(u/10);return 0===d?s:d<=c?void 0===i[d-1]?a.charAt(1):i[d-1]+a.charAt(1):s}o=i[u-1]}return void 0===o?"":o}))}}))},b0c5:function(t,e,s){"use strict";var r=s("520a");s("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},dc02:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dashboard-body"},[s("errorNav"),s("div",{staticClass:"row"},[s("sidenav",{staticClass:"col-2"}),s("div",{staticClass:"col-10 content-section admin-dashboard-title"},[s("div",{staticClass:"card title-card"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},[s("h4",{staticClass:"col-2"},[t._v("Users "),t.usersMetaData?s("span",{staticClass:"count"},[t._v("("+t._s(t.usersMetaData.total)+")")]):t._e()]),s("router-link",{staticClass:"btn col-1 ml-auto add-user-btn",attrs:{to:{name:t.ADD_USER_ROUTE}}},[t._v("Add User")])],1)])]),s("filterUsers"),s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[t.usersIsLoading?s("div",{staticClass:"alert loading-alert",attrs:{role:"alert"}},[t._m(0)]):t._e(),s("table",{staticClass:"table table-bordered table-hover"},[t._m(1),s("tbody",[t._l(t.users,(function(e,r){return[s("tr",{key:r},[s("th",{attrs:{scope:"row"}},[t._v(t._s(r+1))]),s("td",[t._v(t._s(t._f("capitalize")(e.fname))+" "+t._s(t._f("capitalize")(e.lname)))]),s("td",[s("router-link",{staticClass:"edit-btn",attrs:{to:{name:t.EDIT_USER_ROUTE,params:{id:e._id}}}},[t._v("Edit")])],1),s("td",[s("router-link",{staticClass:"profile-btn",attrs:{to:{name:t.USERS_PROFILE_ROUTE,params:{id:e._id}}}},[t._v("Profile")])],1),s("td",[t._l(e.roles,(function(e,r){return[s("span",{key:r,staticClass:"badge badge-secondary"},[t._v(t._s(t._f("capitalize")(e)))])]}))],2),s("td",[s("span",{class:[t.getUserSubscriptionStatus(e.hasActiveSubscription,e.lastActiveSubscription)==t.USER_SUBSCRIPTION_ACTIVE?"badge-success":t.getUserSubscriptionStatus(e.hasActiveSubscription,e.lastActiveSubscription)==t.USER_SUBSCRIPTION_PENDING?"badge-secondary":"badge-danger","badge"]},[t._v(t._s(t.getUserSubscriptionStatus(e.hasActiveSubscription,e.lastActiveSubscription)))])]),s("td",[null!=t.actingUser&&t.actingUser._id==e._id&&t.actingUserIsLoading?s("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):s("span",{class:[e.isActive?" badge-success":" badge-danger","badge toggle-badge"],on:{click:function(s){return t.changeUserActiveStatus(e._id,e.isActive)}}},[t._v(t._s(e.isActive?"Enabled":"Disabled"))])]),s("td",{staticClass:"appversion"},[e.mobileDeviceInfo?s("span",[t._v(t._s(e.mobileDeviceInfo.buildInfo.version)+"+"+t._s(e.mobileDeviceInfo.buildInfo.buildNumber))]):s("span",[t._v(" - ")])]),s("td",{staticClass:"email"},[s("a",{attrs:{href:"mailto:"+e.email}},[t._v(t._s(e.email))])]),s("td",{staticClass:"phoneNumber"},[s("a",{attrs:{href:"tel:"+e.mobile.e164}},[t._v(t._s(e.mobile.formatInternational))])])])]}))],2)])])]),t.usersMetaData?s("v-pagination",{attrs:{"page-count":Math.ceil((null!=t.usersMetaData?t.usersMetaData.total:1)/(null!=t.usersMetaData?t.usersMetaData.limit:1)),classes:t.bootstrapPaginationClasses,labels:t.paginationAnchorTexts},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e()],1)],1)],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"spinner-border",attrs:{role:"status"}},[s("span",{staticClass:"sr-only"},[t._v("Loading...")])]),s("div",{staticClass:"col-3"},[t._v("\n                                Loading...\n                            ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{staticClass:"title",attrs:{scope:"col"}},[t._v("#")]),s("th",{staticClass:"title",attrs:{scope:"col"}},[t._v("Full Name")]),s("th",{staticClass:"title",attrs:{scope:"col"}}),s("th",{staticClass:"title",attrs:{scope:"col"}}),s("th",{staticClass:"title",attrs:{scope:"col"}},[t._v("Role")]),s("th",{staticClass:"title",attrs:{scope:"col"}},[t._v("Subscription")]),s("th",{staticClass:"title",attrs:{scope:"col"}},[t._v("Account")]),s("th",{staticClass:"title",attrs:{scope:"col"}},[t._v("App")]),s("th",{staticClass:"title",attrs:{scope:"col"}},[t._v("Email")]),s("th",{staticClass:"title",attrs:{scope:"col"}},[t._v("Mobile")])])])}],i=(s("8e6e"),s("ac6a"),s("456d"),s("ade3")),n=(s("a481"),s("21e0")),o=s("c67e"),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"d-flex flex-wrap"},[s("div",{staticClass:"filter-options"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.fname,expression:"fname"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Name","aria-label":"Search"},domProps:{value:t.fname},on:{input:function(e){e.target.composing||(t.fname=e.target.value)}}})]),s("div",{staticClass:"filter-options"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Email","aria-label":"Search"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),s("div",{staticClass:"filter-options"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.mobile,expression:"mobile"}],staticClass:"form-control",attrs:{type:"tel",placeholder:"Phone No.","aria-label":"Search"},domProps:{value:t.mobile},on:{input:function(e){e.target.composing||(t.mobile=e.target.value)}}})]),s("div",{staticClass:"filter-options"},[s("div",{staticClass:"input-group mb-3"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.roles,expression:"roles"}],staticClass:"custom-select",attrs:{id:"roles"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.roles=e.target.multiple?s:s[0]}}},[s("option",{attrs:{disabled:""},domProps:{value:[]}},[t._v("- Role -")]),s("option",{domProps:{value:[t.ROLES[0]]}},[t._v("Root")]),s("option",{domProps:{value:[t.ROLES[1]]}},[t._v("Admin")]),s("option",{domProps:{value:[t.ROLES[2]]}},[t._v("Sales Coordinator")]),s("option",{domProps:{value:[t.ROLES[3]]}},[t._v("Encoder")]),s("option",{domProps:{value:[t.ROLES[4]]}},[t._v("Editor")]),s("option",{domProps:{value:[t.ROLES[5]]}},[t._v("User")])])])]),s("div",{staticClass:"filter-options"},[s("div",{staticClass:"input-group mb-3"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.subscriptionEndDate,expression:"subscriptionEndDate"}],staticClass:"custom-select",attrs:{id:"roles"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.subscriptionEndDate=e.target.multiple?s:s[0]}}},[s("option",{attrs:{disabled:""},domProps:{value:null}},[t._v("- Subscription Expiry -")]),s("option",{attrs:{value:"1"}},[t._v("Today")]),s("option",{attrs:{value:"2"}},[t._v("In 3 days")]),s("option",{attrs:{value:"3"}},[t._v("In 1 week")]),s("option",{attrs:{value:"3"}},[t._v("In a month")])])])]),s("div",{staticClass:"filter-options"},[s("div",{staticClass:"input-group mb-3"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.subscriptionStatus,expression:"subscriptionStatus"}],staticClass:"custom-select",attrs:{id:"roles"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.subscriptionStatus=e.target.multiple?s:s[0]}}},[s("option",{attrs:{disabled:""},domProps:{value:null}},[t._v("- Subscription Status -")]),s("option",{domProps:{value:t.USER_SUBSCRIPTION_ACTIVE}},[t._v("Active")]),s("option",{domProps:{value:t.USER_SUBSCRIPTION_PENDING}},[t._v("Pending")]),s("option",{domProps:{value:t.USER_SUBSCRIPTION_EXPIRED}},[t._v("Expired")])])])]),s("div",{staticClass:"filter-options"},[s("div",{staticClass:"input-group mb-3"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.alertStatus,expression:"alertStatus"}],staticClass:"custom-select",attrs:{id:"roles"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.alertStatus=e.target.multiple?s:s[0]}}},[s("option",{attrs:{disabled:""},domProps:{value:null}},[t._v("- Alert Status -")]),s("option",{domProps:{value:!0}},[t._v("Active")]),s("option",{domProps:{value:!1}},[t._v("Disabled")])])])]),s("div",{staticClass:"filter-options"},[s("div",{staticClass:"input-group mb-3"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.createdBy,expression:"createdBy"}],staticClass:"custom-select",attrs:{id:"roles"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.createdBy=e.target.multiple?s:s[0]}}},[s("option",{attrs:{disabled:""},domProps:{value:null}},[t._v("- Created By -")]),t._l(t.admins,(function(e,r){return[s("option",{key:r,domProps:{value:e._id}},[t._v(t._s(e.fname))])]}))],2)])]),s("div",{staticClass:"row col-2 ml-auto control-btns"},[s("button",{staticClass:"btn col-6 filter-btn",attrs:{type:"submit"},on:{click:t.filterUsers}},[t._v("Filter")]),s("button",{staticClass:"btn col-6 reset-btn",attrs:{type:"submit"},on:{click:t.reset}},[t._v("Reset")])])])])])},c=[],u=s("ede6"),p=s("37b6");function d(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function v(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?d(Object(s),!0).forEach((function(e){Object(i["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):d(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var f={data:function(){return{ROLES:p["o"],USER_SUBSCRIPTION_ACTIVE:p["x"],USER_SUBSCRIPTION_PENDING:p["z"],USER_SUBSCRIPTION_EXPIRED:p["y"],fname:null,email:null,mobile:null,roles:[],subscriptionEndDate:null,subscriptionStatus:null,hasActiveSubscription:null,alertStatus:null,createdBy:null}},computed:{admins:function(){return this.$store.getters.admins.data}},methods:{filterUsers:function(){var t=v(v(v(v(v(v(v({},null!=this.fname?{fname:this.fname}:{}),null!=this.email?{email:this.email}:{}),null!=this.mobile?{mobile:this.mobile}:{}),this.roles.length>0?{roles:JSON.stringify(this.roles)}:{}),null!=this.subscriptionStatus?this.subscriptionStatus==p["x"]?{hasActiveSubscription:!0}:this.subscriptionStatus==p["z"]?{hasActiveSubscription:!1,lastActiveSubscription:JSON.stringify({$eq:null})}:this.subscriptionStatus==p["y"]?{hasActiveSubscription:!1,lastActiveSubscription:JSON.stringify({$ne:null})}:{}:{}),null!=this.alertStatus?{alertStatus:this.alertStatus}:{}),null!=this.createdBy?{createdBy:this.createdBy}:{});console.log("filters",t),this.$router.replace(v(v({},this.$router.currentRoute),{},{query:v({page:1},t)})),this.$store.dispatch(u["W"],t)},reset:function(){this.fname=null,this.email=null,this.mobile=null,this.roles=[],this.subscriptionStatus=null,this.alertStatus=null,this.createdBy=null,this.$router.replace(v(v({},this.$router.currentRoute),{},{query:null})),this.$store.dispatch(u["W"],{page:1})},getAdmins:function(){this.$store.dispatch(u["C"])}},mounted:function(){this.getAdmins()}},b=f,m=s("2877"),h=Object(m["a"])(b,l,c,!1,null,null,null),g=h.exports,_=s("9f2e");function S(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function y(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?S(Object(s),!0).forEach((function(e){Object(i["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):S(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var C={components:{sidenav:n["a"],errorNav:o["a"],filterUsers:g},data:function(){return{USER_SUBSCRIPTION_ACTIVE:p["x"],USER_SUBSCRIPTION_PENDING:p["z"],USER_SUBSCRIPTION_EXPIRED:p["y"],USERS_PROFILE_ROUTE:_["z"],ADD_USER_ROUTE:_["d"],EDIT_USER_ROUTE:_["m"],currentPage:1,bootstrapPaginationClasses:{ul:"pagination",li:"page-item",liActive:"active",liDisable:"disabled",button:"page-link"},paginationAnchorTexts:{first:"First",prev:"Previous",next:"Next",last:"Last"}}},watch:{usersMetaData:{handler:function(){this.currentPage=null!=this.usersMetaData?this.usersMetaData.currentPage:1}},currentPage:{handler:function(){this.getUsers(),this.$route.query.page=this.currentPage,this.$router.replace(y(y({},this.$router.currentRoute),{},{query:this.$route.query})),this.scrollToTop()}}},computed:{actingUser:function(){return this.$store.getters.user.data},actingUserIsLoading:function(){return this.$store.getters.user.isLoading},users:function(){return this.$store.getters.users.data},usersIsLoading:function(){return this.$store.getters.users.isLoading},usersMetaData:function(){return this.$store.getters.users.metaData}},methods:{scrollToTop:function(){window.scrollTo(0,0)},setCurrentPage:function(){this.currentPage=null!=this.$route.query.page&&parseInt(this.$route.query.page)>0?this.$route.query.page:1},changeUserActiveStatus:function(t){this.$store.dispatch(u["lb"],{_id:t})},getUsers:function(){this.$route.query.page=this.currentPage,this.$store.dispatch(u["W"],this.$route.query)},getUserSubscriptionStatus:function(t,e){return t?p["x"]:t||null!=e?t||null==e?void 0:p["y"]:p["z"]}},mounted:function(){this.setCurrentPage(),this.getUsers()}},E=C,P=Object(m["a"])(E,r,a,!1,null,null,null);e["default"]=P.exports}}]);
//# sourceMappingURL=chunk-f3696afe.bc646f06.js.map