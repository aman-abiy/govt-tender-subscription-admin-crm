{"version":3,"sources":["webpack:///./src/views/tenders/Edit_Tender.vue?6bf0","webpack:///./src/views/tenders/Edit_Tender.vue?cc16","webpack:///./node_modules/@syncfusion/ej2-navigations/src/common/h-scroll.js","webpack:///./node_modules/@syncfusion/ej2-navigations/src/common/v-scroll.js","webpack:///./node_modules/@syncfusion/ej2-navigations/src/toolbar/toolbar.js","webpack:///./node_modules/@syncfusion/ej2-splitbuttons/src/common/common.js","webpack:///./node_modules/@syncfusion/ej2-inputs/src/input/input.js","webpack:///./node_modules/@syncfusion/ej2-splitbuttons/src/drop-down-button/drop-down-button.js","webpack:///./node_modules/@syncfusion/ej2-splitbuttons/src/split-button/split-button.js","webpack:///./node_modules/@syncfusion/ej2-popups/src/tooltip/tooltip.js","webpack:///./node_modules/@syncfusion/ej2-inputs/src/numerictextbox/numerictextbox.js","webpack:///./node_modules/@syncfusion/ej2-inputs/src/slider/slider.js","webpack:///./node_modules/@syncfusion/ej2-inputs/src/color-picker/color-picker.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/renderer/toolbar-renderer.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/base-toolbar.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/dropdown-buttons.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/toolbar-action.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/toolbar.js","webpack:///./node_modules/@syncfusion/ej2-buttons/src/check-box/check-box.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/common/util.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/renderer/link-module.js","webpack:///./node_modules/@syncfusion/ej2-popups/src/spinner/spinner.js","webpack:///./node_modules/@syncfusion/ej2-inputs/src/uploader/uploader.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/renderer/image-module.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/count.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/formatter/formatter.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/base/constant.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/selection/selection.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/common/config.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/dom-node.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/lists.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/insert-methods.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/nodecutter.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/formats.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/inserthtml.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/link.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/alignments.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/indents.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/base/classes.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/image.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/table.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/isformatted.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/selection-commands.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/selection-exec.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/inserthtml-exec.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/clearformat.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/clearformat-exec.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/undo.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/ms-word-clean-up.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/insert-text.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/base/editor-manager.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/formatter/html-formatter.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/toolbar-status.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/html-toolbar-status.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/renderer/content-renderer.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/renderer/iframe-content-renderer.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/color-picker.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/xhtml-validation.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/html-editor.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/base-quick-toolbar.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/renderer/popup-renderer.js","webpack:///./node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/quick-toolbar.js","webpack:///src/views/tenders/Edit_Tender.vue","webpack:///./src/views/tenders/Edit_Tender.vue?9741","webpack:///./src/views/tenders/Edit_Tender.vue?cf70"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","on","navigateBack","_m","_e","scopedSlots","_u","key","fn","ref","errors","directives","name","rawName","value","expression","domProps","$event","target","composing","title","_s","iframeData","tender","description","class","isActive","changeTenderActiveStatus","_id","isFeatured","_l","category","index","checkIfCategoryIsSelected","children","map","e","selectCategory","CATEGORY_SELECTION_MULTIPLE","en","subCategory","subIndex","CATEGORY_SELECTION_SINGLE","isParent","region","Array","isArray","tenderRegions","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","slice","checkIfRegionIsSelected","staticRenderFns","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","CLS_ROOT","CLS_DISABLE","CLS_HSCROLLBAR","CLS_HSCROLLCON","CLS_NAVARROW","CLS_NAVRIGHTARROW","CLS_NAVLEFTARROW","CLS_HSCROLLNAV","CLS_HSCROLLNAVRIGHT","CLS_HSCROLLNAVLEFT","CLS_DEVICE","CLS_OVERLAY","CLS_RIGHTOVERLAY","CLS_LEFTOVERLAY","OVERLAY_MAXWID","_super","HScroll","options","element","call","preRender","browser","info","browserCheck","isDevice","customStep","ieCheck","initialize","id","uniqueId","style","display","enableRtl","classList","add","touchModule","scroll","touchHandler","bind","swipe","swipeHandler","scrollEle","scrollHandler","createOverlay","createNavIcon","setScrollState","scrollStep","offsetWidth","createElement","className","scrollDiv","setAttribute","ele","innerEle","innerEle_1","ele_1","appendChild","overflowX","scrollItems","getPersistData","keyEntity","addOnPersist","getModuleName","destroy","remove","nav","overlay","forEach","_a","elem","removeAttribute","disable","navEles","el","rightOverlayEle","clsRight","rightEle","navItem","leftEle","insertBefore","firstChild","eventBinding","clsLeft","navEle","navLeftItem","onKeyPress","_this","timeoutFun_1","keyTimeout","eleScrolling","keyTimer","window","setTimeout","onKeyUp","click","clearTimeout","tapHold","tabHoldHandler","tapHoldThreshold","addEventListener","repeatScroll","preventDefault","clickEventHandler","clearInterval","timeout","trgt","originalEvent","contains","firstElementChild","scrollDis","timeoutFun","setInterval","isContinuous","rootEle","querySelector","scrollLeft","frameScrollRequest","distance","swipeEle","velocity","distanceX","start","animate","step","Math","sin","cancelAnimationFrame","swipeDirection","requestAnimationFrame","scrollUpdating","scrollVal","action","scrollValue","scrollDirection","arrowDisabling","addDisable","removeDisable","arrowEle","arrowIcon","width","navLeftEle","navRightEle","leftOverlay","rightOverlay","scrollWidth","ceil","disEle","onPropertyChanged","newProp","oldProp","keys","prop","CLS_VSCROLLBAR","CLS_VSCROLLCON","CLS_NAVUPARROW","CLS_NAVDOWNARROW","CLS_VSCROLLNAV","CLS_VSCROLLNAVUP","CLS_VSCROLLNAVDOWN","CLS_UPOVERLAY","CLS_DOWNOVERLAY","VScroll","scrollEventHandler","createOverlayElement","wheelEventHandler","offsetHeight","scrollCnt","scrollBar","overflowY","navs","overlays","downOverlayEle","clsDown","downEle","upEle","clsUp","navElement","navUpItem","ev","scrollDistance","event","deltaY","swipeElement","distanceY","scrollTop","addDisableCls","removeDisableCls","height","navUpEle","navDownEle","upOverlay","downOverlay","scrollHeight","CLS_VERTICAL","CLS_ITEMS","BZ_ITEMS","CLS_ITEM","CLS_SEPARATOR","CLS_POPUPICON","CLS_POPUPDOWN","CLS_POPUPOPEN","CLS_TEMPLATE","CLS_POPUPTEXT","CLS_TBARTEXT","CLS_TBAROVERFLOW","CLS_POPOVERFLOW","CLS_TBARBTN","CLS_TBARNAV","CLS_TBARSCRLNAV","CLS_TBARRIGHT","CLS_TBARLEFT","CLS_TBARCENTER","CLS_TBARPOS","CLS_HSCROLLCNT","CLS_VSCROLLCNT","CLS_POPUPNAV","CLS_POPUPCLASS","CLS_POPUP","CLS_TBARBTNTEXT","CLS_TBARNAVACT","CLS_TBARIGNORE","CLS_POPPRI","CLS_HIDDEN","CLS_MULTIROW","CLS_MULTIROWPOS","CLS_MULTIROW_SEPARATOR","CLS_EXTENDABLE_SEPARATOR","CLS_EXTEANDABLE_TOOLBAR","CLS_EXTENDABLECLASS","CLS_EXTENDPOPUP","CLS_EXTENDEDPOPOPEN","Item","apply","Toolbar","resizeContext","resize","keyConfigs","moveLeft","moveRight","moveUp","moveDown","popupOpen","popupClose","tab","home","end","unwireEvents","tempId","document","body","isServerRendered","resetServerItems","subControls","querySelectorAll","node","instances","ej2_instances","instance","lastElementChild","removeChild","trgtEle","ctrlTem","clearProperty","popObj","tbarAlign","cssClass","split","attrb","eventArgs","enableCollision","trigger","scrollModule","tbarItemsCol","items","isVertical","isExtendedOpen","popupPriCount","wireEvents","clickHandler","allowKeyboard","wireKeyboardEvent","keyModule","keyAction","keyActionHandler","docKeyDown","unwireKeyboardEvent","tagName","popCheck","overflowMode","keyCode","hide","duration","keyCheck","destroyScroll","removeEventListener","docEvent","tbarEle","tbarAlgEle","lefts","centers","rights","popEle","destroyItems","tbarItems","destroyMode","tempEle","popupRefresh","val","elementFocus","fChild","focus","activeEleSwitch","clstElement","tbrNavChk","clst","keyHandling","navChk","scrollChk","popAnimate","eleFocus","nodes","popupCheck","popFrstEle","activeEle","activeEleRemove","top","show","tbarScrollChk","eleContains","getAttribute","closest","pos","sib","skipEle","parentElement","itemObj","clsList","isPopupElement","popupNav","popupClickHandler","tempItem","indexOf","text","showAlwaysInPopup","disabled","prefixIcon","suffixIcon","visible","overflow","template","type","showTextOn","htmlAttributes","tooltipText","align","item","cancel","clickedArgs","CLS_RTL","position","X","Y","offsetX","dataBind","refreshPosition","getElementOffsetY","minHeight","renderControl","renderComplete","ariaAttr","renderItems","renderLayout","renderOverflowMode","itemPositioning","childElementCount","checkPopupRefresh","separator","itemsAlign","itemEleDom","innerItem","innerPos","itemEleBlaDom","setAttr","clearEvents","itemClick","renderSubComponent","push","tbarItemAlign","toLowerCase","serverItemsRerender","serverItemsRefresh","wrapBlaEleDom","refreshOverflow","itemEles","changeOrientation","initScroll","innerItems","checkOverflow","itemWidthCal","getComputedStyle","parseFloat","marginTop","marginRight","marginBottom","marginLeft","getScrollCntEle","trgClass","eleWidth","itemWidth","popNav","scrollNav","navEleWidth","toolbarAlign","priorityCheck","offsetWid","getElementsByClassName","removePositioning","setOverflowAttributes","createPopupEle","eleInlineItem","eleItem","multiVar","extendVar","offsetLeft","innerNav","vertical","createPopupIcon","innerNavDom","direction","checkPriority","removeProperty","createPopup","pushingPoppedEle","tbarObj","popupPri","eleHeight","sepHeight","nodeIndex","poppedEle","nodePri","tbResize","childNodes","tbarElement","sepItem","extendEle","popupEle","popupInit","getPropertyValue","clientHeight","maxHeight","eleStyles","popup","relateTo","offsetY","open","close","collision","appendTo","borderRightWidth","visibility","tbarPopupHandler","isOpen","toolEle","popupElePos","offsetTop","popIcon","scrollY","innerHeight","overflowHeight","tbEleData","getBoundingClientRect","bottom","inEle","pre","eleOffset","checkoffset","popPriority","len","eleWid","sepCheck","itemCount","itemPopCount","checkClass","rVal","cls","mrgn","compuStyle","fstEleCheck","tbarEleMrgn","eleWid_1","minWidth","sepEle","popedEle","tbarPriRef","indx","sepPri","des","elWid","wid","ig","ignoreCount","query","priEleCnt","eleSep","ignoreCheck","sepDisplay","eleSepWidth","prevSep","previousElementSibling","isVer","dimension","popupEleWidth","popupEleRefresh","ignoreEleFetch","ignoreEle","ignoreInx","count","root","tbarWidth","tbarItemsWid","elWidth","btnText","btn","eleSplice","_loop_1","this_1","sepBeforePri_1","state_1","refreshPositioning","margin","tbarWid","popWid","left","right","itemEle","alignDiv","alignEle","leftAlign_1","ctrlTemplate","cloneNode","attr","keyVal","enableItems","isEnable","elements","enable","a","itemElement","getElementByIndex","addItems","extendedOpen","itemsDiv","itemsRerender","itemAgn","items_1","algIndex","splice","parentNode","removeItems","args","parseInt","toString","removeItemByIndex","eleIdx","indexAgn","templateRender","templateProp","isComponent","itemType","eleObj","templateFn","trim","tempStr","outerHTML","tempArray","toolbarTemplateID","isStringTemplate","buttonRendering","dom","iconCss","iconPos","textStr","btnTxt","innerHTML","enableHtmlSanitizer","sanitize","btnObj","iconPosition","tempDom","textContent","sTxt","currentTarget","curEle","multirowele","tEle","notify","changedProb","property","newProperty","refresh","popupPriCheck","booleanCheck","itemCol","hideItem","initIndex","isElement","eleIndex","innerItems_1","innerItems_2","nextEle","setFlag","removeFlag","initELe","getModel","props","model","obj","upDownKeyHandler","ul","li","defaultIdx","liIdx","selectedLi","isValidLI","setBlankIconStyle","blankIconList","iconLi","cssProp","icon","padding","size","fontSize","paddingLeft","DISABLED","FOCUS","ICON","ITEM","POPUP","RTL","SEPARATOR","VERTICAL","DropDownButton","toggle","canOpen","openPopUp","closePopup","newItem","idx","j","createItems","len_1","div","dropDown","targetType","content","getTargetElement","getPopUpElement","appendItems","span","showIcon","hasIcon","getULElement","url","createAnchor","field","button","enablePersistence","appendArrowSpan","setActiveElem","activeElem","classList_1","attrList","getElementById","unWireEvents","popupElement","delegateMousedownHandler","mousedownHandler","keyBoardHandler","rippleFn","selector","altKey","keyEventHandler","getLI","beforeOpenArgs","observedArgs","ul_1","openArgs","focusEle","beforeCloseArgs","ul_2","closeArgs","btnModel","setProperties","arrowSpan","focusIn","TAGNAME","SplitButton","ejInstance","wrapper","attributes","nodeName","nodeValue","initWrapper","createPrimaryButton","createSecondaryButton","secondaryBtnObj","setAria","primaryBtnObj","dropDownBtnModel","btnElem","beforeItemRender","select","beforeOpen","callBackPromise","Deferred","resolve","beforeClose","primaryBtnClickHandler","btnKeyBoardHandler","altdownarrow","promise","Promise","reject","catch","then","TOUCHEND_HIDE_DELAY","TAPHOLD_THRESHOLD","SHOW_POINTER_TIP_GAP","HIDE_POINTER_TIP_GAP","MOUSE_TRAIL_GAP","POINTER_ADJUST","ROOT","DEVICE","CLOSE","TOOLTIP_WRAP","CONTENT","ARROW_TIP","ARROW_TIP_OUTER","ARROW_TIP_INNER","TIP_BOTTOM","TIP_TOP","TIP_LEFT","TIP_RIGHT","POPUP_ROOT","POPUP_OPEN","POPUP_CLOSE","POPUP_LIB","HIDE_POPUP","Animation","effect","delay","Tooltip","isBlazorTooltip","contentTargetValue","contentEvent","contentAnimation","formatPosition","isServerRender","_b","tooltipPositionY","tooltipPositionX","renderArrow","setTipClass","tip","tooltipEle","tipClass","renderPopup","elePos","mouseTrail","getTooltipPosition","popupObj","openPopupHandler","closePopupHandler","offsetPos","calculateTooltipOffset","collisionFlipFit","reposition","needTemplateReposition","findTarget","tooltipEventArgs","clear","tooltipEleWidth","tooltipEleHeight","tipWidth","tipHeight","tipAdjust","showTipPointer","tipHeightAdjust","tipWidthAdjust","clientWidth","updateTipPosition","selEle","removeList","adjustArrow","leftValue","topValue","tooltipWidth","tooltipHeight","arrowInnerELe","tipPosExclude","tipPointerPosition","renderContent","tooltipContent","HTMLElement","templateFunction","isBlazorTemplate","renderCloseIcon","isSticky","tipClose","touchStartEvent","onStickyClose","addDescribedBy","describedby","join","removeDescribedBy","orgdescribedby","tapHoldHandler","evt","autoCloseTimer","targetHover","touchEndHandler","targetClick","hideTooltip","animation","targetList","ctrlId","targetList_1","target_1","restoreElement","showTooltip","showAnimation","showTimer","hideTimer","isInteracted","observeCallback","beforeRenderArgs","beforeRenderCallback","isBlazorTooltipRendered","isHidden","interopAdaptor","invokeMethodAsync","role","styles","beforeRenderBlazor","afterRenderBlazor","stop","contentUpdated","ctrlObj","maxWidth","beforeOpenCallback","openAnimation_1","timingFunction","undefined","openDelay","wireMouseEvents","tooltip","viewContainerRef","checkCollision","x","y","horizontal","affectedPos","newpos","collidedPosition","arrowleft","hideAnimation","targetElement","blazorHide","popupHide","proxy","clearTemplate","closeAnimation","closeDelay","unwireMouseEvents","onMouseOut","enteredElement","relatedTarget","checkForTooltipElement","tooltipElementMouseOut","onMouseMove","eventPageX","eventPageY","touches","pageX","pageY","colpos","keyDown","touchEnd","opensOn","triggerList","getTriggerList","triggerList_1","wireFocusEvents","touchEndEvent","targetList_2","triggerList_2","unwireFocusEvents","targetList_3","triggerList_3","placeholder","CLASSNAMES","DISABLE","INPUT","TEXTAREA","INPUTGROUP","FLOATINPUT","FLOATLINE","FLOATTEXT","CLEARICON","CLEARICONHIDE","LABELTOP","LABELBOTTOM","NOFLOATLABEL","INPUTCUSTOMTAG","FLOATCUSTOMTAG","Input","floatType","createInput","internalCreateElement","makeElement","inputObject","container","buttons","clearButton","floatLabelType","createInputContainer","createFloatingInput","bindInitialEvent","properties","showClearButton","setClearButton","appendSpan","setPropertyValue","checkInputValue","parent","getParentNode","inputElement","inputValue","_focusFn","label","_blurFn","getElementsByTagName","wireFloatingEvents","unwireFloatingEvents","floatLinelement","floatLabelElement","customTag","replace","innerText","encodePlaceHolder","inputWrap","updateLabelState","checkFloatLabelType","setCssClass","setEnabled","enabled","setEnableRtl","setPlaceholder","setReadonly","readonly","updateIconState","createClearButton","initial","baseElement","insertAdjacentElement","wireClearBtnEvents","readOnly","activeElement","validateLabel","tagClass","tag","result","spanEle","hiddenInput","setValue","oldClass","setWidth","match","isReadonly","isRtl","inputContainer","disabledAttrs","considerWrapper","removeAttributes","addAttributes","isClear","removeFloating","input","inputEle","addFloating","iconEle","inputObj","isPrependIcon","floatLine","floatText","setRipple","isRipple","_internalRipple","argsButton","_onMouseDownRipple","_onMouseUpRipple","_onMouseRipple","parentEle","createIconEle","iconClass","addIcon","icons","internalCreate","result_1","result_2","prependSpan","innerWrapper","wrap","SPINICON","SPINUP","SPINDOWN","ERROR","INCREMENT","DECREMENT","INTREGEXP","RegExp","DECIMALSEPARATOR","COMPONENT","CONTROL","NUMERIC_FOCUS","HIDDENELEMENT","wrapperAttributes","NumericTextBox","isVue","preventChange","numericOptions","isPrevFocused","decimalSeparator","intRegExp","isCalled","cloneElement","angularTagName","formEle","attributeName","hasAttribute","localeText","incrementTitle","decrementTitle","l10n","locale","getConstant","isValidState","inputStyle","inputName","cultureInfo","initCultureInfo","initCultureFunc","prevValue","updateHTMLAttrToElement","checkAttributes","inputEleValue","validateMinMax","validateStep","updatePlaceholder","inputWrapper","showSpinButton","spinDown","spinUp","wireSpinBtnEvents","createWrapper","spinBtnCreation","setElementWidth","changeValue","isNaN","strictMode","trimValue","decimals","roundNumber","elementPrevValue","isDynamic","attributes_1","setNumber","getNumberParser","format","minValue","maxValue","stepValue","currency","currencyCode","updatedCssClassValue","getNumericValidClassList","updateHTMLAttrToWrapper","updateDataAttribute","pro","updateCssClass","newClass","numericClassName","updatedClassValue","numericStyle","min","Number","max","MAX_VALUE","formattedValue","getNumberFormat","maximumFractionDigits","minimumFractionDigits","useGrouping","operation","isInteract","isFocused","performAction","raiseChangeEvent","checkErrorClass","bindClearEvent","resetHandler","setElementValue","formElement","nextElementSibling","keyupEvent","createEvent","initEvent","dispatchEvent","resetFormHandler","updateValue","setSpinButton","focusHandler","focusOutHandler","keyDownHandler","keyUpHandler","inputHandler","keyPressHandler","changeHandler","pasteHandler","mouseDownOnSpinner","mouseUpOnSpinner","touchMoveEvent","touchMoveOnSpinner","unwireSpinBtnEvents","stopPropagation","parsedInput","changeEventArgs","previousValue","isInteraction","beforeUpdate","numericRegex","test","preventHandler","iOS","navigator","platform","selectionStart","currentPos","prevPos","ignoreKeyCode","valArray","numericObject","charCodeAt","prevVal","setSelectionRange","lastIndexOf","substring","cursorPosChanged","parseValue","fireFox","userAgent","current","previous","updatedValue","correctRounding","floatExp","floatValue","floatStep","valueCount","exec","stepCount","roundValue","precision","divide","pow","round","updateCurrency","propVal","numberOfDecimals","getNumberOfDecimals","modifyText","validateState","formatNumber","elementValue","serverDecimalSeparator","EXPREGEXP","valueString","toFixed","decimalPart","result1","result2","cancelEvent","version","which","metaKey","ctrlKey","currentChar","String","fromCharCode","selectionEnd","fractionRule","validateDecimalOnType","mouseWheel","delta","rawEvent","wheelDelta","detail","focusEventArgs","formatValue_1","isIos","blurEventArgs","value_1","focusEvent","getElementData","mouseUpClick","timeOut","elementFromPoint","clientX","clientY","floatLabelTypeUpdate","increment","decrement","attrArray","getText","focusOut","blur","updateSpinButton","updateClearButton","setLocale","propValue","TicksData","ColorRangeData","LimitData","TooltipData","bootstrapTooltipOffset","bootstrap4TooltipOffset","rtl","sliderHiddenInput","controlWrapper","sliderHandle","rangeBar","sliderButton","firstButton","secondButton","scale","tick","large","tickValue","sliderTooltip","sliderHover","sliderFirstHandle","sliderSecondHandle","sliderDisabled","sliderContainer","horizontalTooltipBefore","horizontalTooltipAfter","verticalTooltipBefore","verticalTooltipAfter","materialTooltip","materialTooltipOpen","materialTooltipActive","materialSlider","sliderTrack","sliderHorizantalColor","sliderVerticalColor","sliderHandleFocused","verticalSlider","horizontalSlider","sliderHandleStart","sliderTooltipStart","sliderTabHandle","sliderButtonIcon","sliderSmallSize","sliderTickPosition","sliderFirstTick","sliderLastTick","sliderButtonClass","sliderTooltipWrapper","sliderTabTrack","sliderTabRange","sliderActiveHandle","sliderMaterialHandle","sliderMaterialRange","sliderMaterialDefault","materialTooltipShow","materialTooltipHide","limits","limitBarDefault","limitBarFirst","limitBarSecond","dragHorizontal","dragVertical","Slider","horDir","verDir","transition","handle","transitionOnMaterialTooltip","scaleTransform","customAriaText","drag","isElementFocused","tickElementCollection","tooltipFormatInfo","ticksFormatInfo","formChecker","isForm","formResetValue","internationalization","ticks","formatString","formatInfo","formatValue","makeRoundNumber","elementVal","fractionalToInteger","noOfDecimals","tens","initRender","setZindex","setCSSClass","oldCSSClass","isVisible","tooltipElement","showOn","getTheme","theme","tabIndex","getThemeInitialization","setHandler","createRangeBar","createLimitBar","setOrientClass","random","showButtons","setButtons","setEnableRTL","rangeValueUpdate","previousVal","checkHandleValue","previousChanged","setLimitBar","placement","renderScale","renderTooltip","isMaterial","isBootstrap","isBootstrap4","isMaterialTooltip","orientation","firstElementClassName","firstHandle","secondHandle","setAriaAttributes","customValues","range","createSecondHandle","createFirstHandle","materialHandle","wireFirstHandleEvt","handleFocus","transitionEnd","handleOver","handleLeave","wireSecondHandleEvt","handleStart","handlePos1","propertyName","getHandle","tooltipToggle","closeTooltip","handleFocusOut","focusSliderElement","sliderBarClick","sliderBarMove","sliderBarUp","preDir","currDir","setBarColor","tooltipValue","formatContent","setTooltipContent","tooltipObj","addTooltipClass","setAriaAttrValue","ariaContent","handle1","handleVal1","handle2","handleVal2","oldCss","newCss","transform","getTooltipTransformProperties","previousTooltipClass","rotate","tooltipPlacement","tooltipBeforeOpen","filter","css","setTooltipTransform","tooltipCollision","tooltipOffsetValue","materialTooltipEventCallBack","wireMaterialTooltipEvent","tooltipPositionCalculation","transformProperties","translate","openMaterialTooltip","refreshTooltip","tooltipContentElement","cursor","closeMaterialTooltip","tooltipTarget","checkTooltipPosition","tooltipCollidedPosition","tooltipClass","beforeCollision","tooltipBeforeClose","initializeTooltipProps","tooltipShowOn","firstBtn","secondBtn","buttonTitle","enabledRTL","buttonFocusOut","repeatButton","hVal","handleValueUpdate","getLimitCorrectedValues","changeHandleValue","repeatHandlerMouse","buttonClick","repeatInterval","materialChange","repeatHandlerUp","changeEvent","customTickCounter","bigNum","tickCount","liElementPosition","orien","zIndex","isAndroid","smallStep","showSmallTicks","largeStep","steps","abs","islargeTick","tickWidth","Infinity","k","largestep","startValue","repeat","createTick","updateTicksValues","formatTicksValue","decimalPoints","ticksAlignment","liElement","blazortTicksValue","tickText","tickElement","triggerEvent","lastChild","ticksWrapper","tickElements","scaleAlignment","spanElement","renderingTicks","tickValuePosition","otherChild","first","other","firstTickPostion","otherTicksPosition","ariaValueText","isTickFormatted","valuenow","activeHandle","getLimitValueAndPosition","minStart","minEnd","maxStart","maxEnd","buttonUp","openTooltip","setRangeBar","handlePos2","checkValidValueAndPos","checkHandlePosition","setLimitBarPositions","fromMinPostion","fromMaxpostion","toMinPostion","toMaxpostion","fromPosition","toPosition","currentValue","limitBar","preHandlePos1","values","setHandlePosition","validateRangeValue","setRangeValue","modifyZindex","updateRangeValue","eventName","setPreviousVal","preHandlePos2","values_1","tempStartEnd","removeElement","startHandleFixed","endHandleFixed","xyToPosition","num","top_1","stepValueCalculation","percentStep","remain","addition","positionToValue","diff","total","changedTouches","handlepos","handleVal","focusedElement","checkRepeatedValue","handleValueAdjust","handleValue","assignValue","handleNumber","minDiff","dragRangeBarMove","xPostion","yPostion","rangeBarDragged","secondPartRemain","firstPartRemain","valueAndPostion","dragRangeBarUp","wireButtonEvt","sliderFocusOut","rangeBarMousedown","elementClick","onresize","keyUp","hover","formResetHandler","changeSliderType","updateConfig","changeRtl","limitsPropertyChange","setMinMaxValue","setTooltip","setReadOnly","trackPosition","trackClassName","child","colorRange","startingPosition","endPosition","trackContainer","backgroundColor","color","border","APPLY","CANCEL","CURRENT","CONTAINER","CTRLBTN","CTRLSWITCH","FORMATSWITCH","HANDLER","HEX","HIDEHEX","HIDEOPACITY","HIDERGBA","HIDEVALUE","HIDEVALUESWITCH","HSVAREA","HSVCONTAINER","INPUTWRAPPER","MODESWITCH","NOCOLOR","OPACITY","PALETTES","PALETTECONTENT","PICKERCONTENT","PREVIEW","PREVIOUS","SHOWVALUE","SELECT","SPLITPREVIEW","TILE","presets","default","ColorPicker","Apply","Cancel","ModeSwitcher","inline","createWidget","createSplitBtn","enableOpacity","getWrapper","noColor","mode","slicedValue","initialInputValue","tileRipple","ctrlBtnRipple","createPalette","firstPaletteFocus","createPicker","getDragHandler","isRgb","createCtrlBtn","toggleDisabled","refreshPopupPos","splitButton","splitBtn","onOpen","hex","rgba","convertToRgbString","hexToRgb","preview","getPopupEle","popupInst","getPopupInst","bindCallBackEvent","observeOpenArgs","pageYOffset","pageXOffset","modal","observedCloseArgs","onPopupClose","destroyOtherComp","presetColors","paletteGroup","appendElement","appendPalette","modeSwitcher","setNoColor","borderBottomWidth","rgb","hsv","rgbToHsv","colors","refEle","row","tile","roundedColor","palette","columns","presetName","addTileSelection","noColorEle","insertPos","hsvContainer","dragHandler","setHsvContainerBg","setHandlerPosition","createSlider","createDragTooltip","h","getHsvContainer","hsvToRgb","hsvArea","sliderPreviewWrapper","createPreview","sliderWrapper","slider","hueSlider","change","hueChange","createOpacitySlider","opacitySlider","opacityChange","opacityBgTrack","updateOpacitySliderBg","background","convertToOtherFormat","pValue","rgbToHex","cValue","updateOpacityInput","updatePreview","opacityTextBoxInst","previewContainer","colorValue","isPicker","createNumericInput","numericInput","appendValueSwitchBtn","hexInput","clsName","appendOpacityValue","targetEle","valueSwitchBtn","formatSwitchHandler","btnWrapper","controlBtnWrapper","appendModeSwitchBtn","getTooltipInst","setTooltipOffset","convertToHsvString","updateHsv","isKey","updateInput","substr","removeTileSelection","selectedEle","convertRgbToNumberArray","n","getValue","pickerKeyDown","handlerDown","addCtrlSwitchEvent","previewHandler","paletteClickHandler","paletteKeyDown","ctrlSwitchBtn","btnClickHandler","handlerDragPosition","enterKeyHandler","triggerChangeEvent","observedcloseArgs","prob","setHsv","handlerMove","handlerEnd","switchToPalette","ctrlBtnClick","inst","toUpperCase","noColorTile","switchToPicker","grpEle","tiles","prevSelectedEle","pop","tilePosition","keySelectionChanges","newEle","cIdx","emptyCount","inputValueChange","isPopupOpen","tooltipInst","tempValue","charAt","opacity","bigInt","g","s","v","f","q","t","floor","changeModeSwitcherProp","ctrlSwitchWrapper","changeShowBtnProps","ctrlBtnWrapper","changeValueProp","setInputEleProps","changeDisabledProp","changeCssClassProps","popupWrapper","changeRtlProps","changePaletteProps","changeOpacityProps","otherCompModel","reduce","count_1","ToolbarRenderer","wireEvent","unWireEvent","off","popupOverlay","onPopupOverlay","removePopupContainer","toolbarBeforeCreate","toolbarCreated","toolbarClicked","dropDownSelected","beforeDropDownItemRender","dropDownOpen","classes","popupModal","dropDownClose","popupContainer","nextSibling","renderToolbar","setPanel","renderPanel","rteToolbarObj","toolbarObj","beforeCreate","created","clicked","renderDropDownButton","inlineMode","divNode","getID","setIsModel","paletteSelection","dropDownArgs","currentElement","colorbox","borderBottomColor","renderColorPickerDropDown","colorPicker","inlineEle","fontColor","currentDropdown","colorpickerValue","formatter","editorManager","nodeSelection","getRange","contentModule","getDocument","startContainer","iframeSettings","ownerDocument","collapsed","subCommand","command","onclick","setColorPickerContentWidth","pickerRefresh","dropElement","onmousedown","onkeydown","popupElem","colorPickerContent","borderWidth","renderColorPicker","beforeTileRender","colorPickerArgs","beforeModeSwitch","colorCode","getPanel","toolbarPanel","panel","BaseToolbar","serviceLocator","tools","locator","renderFactory","getService","toolbarSettings","itemConfigs","setRtl","getTemplateObject","itemStr","toLocaleLowerCase","getObject","getItems","tbItems","proxy_1","callback_1","undo","getUndoRedoStack","saveData","tbItems_1","getToolbarOptions","toolbarRenderer","getRenderer","DropDownButtons","initializeInstance","beforeRender","dropdownContent","renderDropDowns","containerType","tbElement","formatItem","types","defineProperties","enumerable","formatDropDown","itemName","fontItem","fontFamily","fontNameContent","fontNameDropDown","getEditNode","fontsize","fontSizeContent","fontSizeDropDown","alignDropDown","imageAlignmentDropDown","imageDisplayDropDown","rowDropDown","columnDropDown","verticalAlignDropDown","tableStylesDropDown","getUpdateItems","dropDownItems","fontItems","_d","_f","_g","formatItems","getEditPanel","tableRowsDropDown","tableColumnsDropDown","tableCellVerticalAlignDropDown","displayDropDown","imageAlignDropDown","tableSettings","removeDropDownClasses","destroyDropDowns","isDestroyed","onIframeMouseDown","ToolbarAction","register","toolbarClick","dropDownSelect","renderSelection","controlParent","quickToolbarModule","tableQTBar","process","isToolbar","isTransformChild","addRenderer","baseToolbar","contentRenderer","Content","editableElement","editPanel","toolbarBindEvent","keyBoardModule","getToolbarElement","toolBarKeyDown","keyConfig","createToolbarElement","enableFloating","tbWrapper","getToolbarMode","tbMode","Expand","Scrollable","checkToolbarResponsive","tBarMode","MultiRow","addFixedTBarClass","dropDownModule","checkIsTransformChild","transformElements","toggleFloatClass","scrollParent","isBody","isFloat","floatOffset","floatingToolbarOffset","tbHeight","getToolbarHeight","getExpandTBarPopHeight","scrollParentRelativeTop","trgHeight","bodyStyle","paddingTop","targetTop","scrollParentYOffset","isMSPointer","scrollParentRect","scrollParentTop","outOfRange","parent_1","refreshToolbarOverflow","divEle","iframeEle","targetItem","updateItem","getBaseToolbarObject","disableToolbarItem","removeFixedTBarClass","showFixedTBar","hideFixedTBar","trgItem","addTBarItem","prefixId","updateToolbarStatus","tbElements","fullScreen","fullScreenModule","showFullScreen","hideScreen","hideFullScreen","getBaseToolbar","enableTBarItems","muteToolbarUpdate","trgItems","undoRedoManager","getUndoStatus","removeTBarItems","popHeight","expandPopup","isToolbarDestroyed","destroyToolbar","unWireScrollElementsEvents","getDOMVisibility","offsetParent","mouseDownHandler","focusChangeHandler","dropDownBeforeOpenHandler","tbFocusHandler","activeElm","isToolbaractive","toolbarItem","tbKeydownHandler","toolbarMouseDownHandler","trg","setContentHeight","toolbarActionModule","onRefresh","refreshToolbar","module","wireScrollElementsEvents","CHECK","FRAME","INDETERMINATE","LABEL","RIPPLE","RIPPLECHECK","RIPPLEINDETERMINATE","WRAPPER","containerAttr","CheckBox","isMouseClick","changeState","state","ariaState","rippleSpan","frameSpan","indeterminate","initialCheckedValue","setDisabled","for","labelPosition","isCenterRipple","setText","labelMouseHandler","labelWrap","updateHtmlAttributeToWrapper","inlineNode","isIDevice","setEditFrameFocus","iframe","contentWindow","updateTextNode","tempNode","resultElm","isPreviousInlineElem","previousParent","paraElm","tableElm","tdElm","imageElm","Link","rteID","i10n","rendererFactory","dialogRenderObj","linkDialog","onKeyDown","showLinkQuickToolbar","onToolbarAction","removeLink","editLink","openLink","editAreaClickHandler","dialogObj","returnValue","linkQTBar","quickToolObj","parentTop","parentLeft","isNotify","toolbarModule","linkTop","linkLeft","linkPos","showPopup","endContainer","hideLinkQuickToolbar","hidePopup","showOnRightClick","quickToolbarSettings","editorMode","getAnchorNode","save","selectNodeEle","getNodeCollection","selectParentEle","getParentNodeCollection","selectNode","selection","selectParent","textArea","markdownSelection","member","getSelectedText","inputDetails","selectText","linkWebAddress","linkDisplayText","linkTooltip","urlPlace","textPlace","linkDialogEle","linkContent","htmlTextbox","contentElem","linkTarget","linkUrl","linkText","linkTitle","linkOpenLabel","checkBoxObj","linkInsert","linkCancel","selectObj","selfLink","dialogModel","header","showCloseIcon","closeOnEscape","isModal","insertlink","buttonModel","isPrimary","cancelDialog","animationSettings","isBlur","restore","checkUrl","startOffset","endOffset","onDocumentClick","inlineQTBar","linkEle","isUrl","enableAutoUrl","isIE","argsValue","code","argsVal","regexp","href","selectedNode","linkUpdate","globalTimeOut","spinTemplate","spinCSSClass","DEFT_MAT_WIDTH","DEFT_FAB_WIDTH","DEFT_BOOT_WIDTH","DEFT_BOOT4_WIDTH","CLS_SHOWSPIN","CLS_HIDESPIN","CLS_MATERIALSPIN","CLS_FABRICSPIN","CLS_BOOTSPIN","CLS_BOOT4SPIN","CLS_HIGHCONTRASTSPIN","CLS_SPINWRAP","CLS_SPININWRAP","CLS_SPINCIRCLE","CLS_SPINARC","CLS_SPINLABEL","CLS_SPINTEMPLATE","createSpinner","radius","create_spinner_container","calculateRadius","setTheme","createLabel","inner_wrap","replaceContent","labelEle","createMaterialSpinner","uniqueID","random_generator","create_material_element","mat_calculate_attributes","createBootstrap4Spinner","startMatAnimate","globalObject","timeOutVar","globalVariables","spinnerInfo","globalInfo","animateMaterial","createFabricSpinner","create_fabric_element","fb_calculate_attributes","createHighContrastSpinner","innerContainer","svg","createBootstrapSpinner","create_bootstrap_element","boot_calculate_attributes","svgBoot","createElementNS","viewBoxValue","trans","defaultRadius","bootCircle","rad","startArc","defineArcPoints","circleEle","generateSeries","begin","series","formSeries","animateBootstrap","rotation","circle","boot_animate","isAnimate","inner","defaultSize","previousId","combine","innerCon","themeClass","svgFabric","fabricCirclePath","fabricCircleArc","svgMaterial","matCirclePath","spinnerContainer","spinnerInnerContainer","createCircle","easeAnimation","easing","startTime","Date","getTime","diameter","getSize","strokeSize","getStrokeSize","mat_animation","currentTime","updatePath","path","getDashOffset","transformOrigin","drawArc","PI","parsed","offset","timestamp","timecount","innerConainer","centerX","centerY","endArc","defineCircle","defineArc","angle","radians","cos","showSpinner","showHideSpinner","isHide","spinnerWrap","spinCheck","svgEle","hideSpinner","CONTROL_WRAPPER","INPUT_WRAPPER","DROP_AREA","DROP_WRAPPER","LIST_PARENT","FILE","STATUS","ACTION_BUTTONS","UPLOAD_BUTTONS","CLEAR_BUTTONS","FILE_NAME","FILE_TYPE","FILE_SIZE","REMOVE_ICON","DELETE_ICON","SPINNER_PANE","ABORT_ICON","RETRY_ICON","DRAG_HOVER","PROGRESS_WRAPPER","PROGRESSBAR","PROGRESSBAR_TEXT","UPLOAD_INPROGRESS","UPLOAD_SUCCESS","UPLOAD_FAILED","TEXT_CONTAINER","VALIDATION_FAILS","RTL_CONTAINER","ICON_FOCUSED","PROGRESS_INNER_WRAPPER","PAUSE_UPLOAD","RESUME_UPLOAD","RESTRICT_RETRY","wrapperAttr","FORM_UPLOAD","HIDDEN_INPUT","INVALID_FILE","INFORMATION","FilesProp","ButtonsProps","AsyncSettings","Uploader","initialAttr","accept","multiple","uploadedFilesData","base64String","allTypes","pausedData","uploadMetaData","btnTabIndex","disableKeyboardNavigation","actionCompleteCount","flag","selectedFiles","uploaderName","fileStreams","newFileRef","isFirstFileOnSelection","fileList","filesData","uploaderOptions","setExtensions","allowedExtensions","clearAll","setControlStatus","setMultipleSelection","setRTL","reRenderFileList","browse","upload","renderButtonTemplates","unBindDropEvents","updateDropArea","checkHTMLAttributes","renderPreLoadFiles","updateDirectoryAttributes","isServerBlazor","setLocalizedTexts","preLocaleObj","browseButton","localizedTexts","uploadWrapper","updateFileList","getKeyValue","keyValue","status","autoUpload","uploadButton","listParent","createFileList","actionButtons","removeActionButtons","renderActionButtons","checkActionButtonStatus","Browse","Clear","Upload","dropFilesHint","invalidMaxFileSize","invalidMinFileSize","invalidFileType","uploadFailedMessage","uploadSuccessMessage","removedSuccessMessage","removedFailedMessage","inProgress","readyToUploadMessage","abort","delete","pauseUpload","pause","resume","retry","fileUploadCancel","invalidFileSelection","totalFiles","isBlazorSaveUrl","asyncSettings","saveUrl","sequentialUpload","formRendered","isPureReactComponent","enter","browserName","documentElement","directoryUpload","dropAreaWrapper","setDropArea","renderBrowseButton","initializeUpload","wireActionButtonEvents","serverActionButtonsEventBind","unwireActionButtonEvents","serverUlElement","serverRemoveIconBindEvent","checkAutoUpload","uploadButtonClick","clearButtonClick","uploadText","clearText","files","clearData","files_1","data","fileData","rawFile","validationMessages","minSize","maxSize","statusCode","allowUpload","showFileList","length_1","dropTextArea","dropArea","dropZoneElement","enableDropText","createDropTextHint","bindDropEvents","fileDropArea","updatedClassValues","uploadStyle","newAttr","createAttribute","setAttributeNode","sequenceUpload","isFileListCreated","updatedOldCssClass","browseButtonClick","onSelectFiles","removeFocus","keyboardModule","resetForm","metaData","getCurrentMetaData","file","abortUpload","resumeUpload","chunkUpload","removeFiles","fileInfo","targetMetaData","dragHover","onDragLeave","onPasteFile","dropEffect","dataTransfer","clipboardData","pasteFile","kind","renderSelectedFiles","getAsFile","getSelectedFiles","allFiles","getFilesData","nameElements","startIndex","selectedElement","formUpload","isFormUpload","getFilesInArray","spinnerTarget","uploadSequential","checkActionComplete","removeFilesData","customTemplate","getLiElement","removeUploadedFile","removeDirectly","custom","ajax","removeUrl","emitError","formData","FormData","beforeSend","currentRequest","httpRequest","currentRequestHeader","updateCustomheader","customFormDatas","updateFormData","removingEventCallback","name_1","append","onLoad","removeCompleted","onError","removeFailed","send","postRawFile","customFormData","customData","request","_loop_2","setRequestHeader","response","getResponse","readyState","updateStatus","rootElement","statusElement","getFilesFromFolder","filesEntries","validDirectoryUpload","checkDirectoryUpload","_loop_3","webkitGetAsEntry","isFile","files_2","fileObj","fullPath","isDirectory","traverseFileTree","directoryReader","createReader","readFileFromDirectory","readEntries","entries","pushFilesEntries","_loop_4","this_2","targetFiles","sortFilesList","sortFileList","getBase64","fileReader","FileReader","readAsDataURL","onload","onerror","error","directory","paste","isModified","modifiedFilesData","progressInterval","isCanceled","updateInitialFileDetails","checkExtension","_internalRenderSelect","fileName","getFileType","webkitRelativePath","fileDetails","validatedFileSize","fileSource","dataFiles","updateSortedFileList","raiseActionComplete","allowFormUpload","singleUpload","removedList","previousListClone","added","removedList_1","oldList","createParentUL","isBlank","str","dropFiles","extensions","extensions_1","extension","fileSize","minSizeError","maxSizeError","minFileSize","maxFileSize","errorMessage","isPreLoadFile","isPreload","createCustomfileList","fileData_1","listItem","uploadTemplateFn","templateComplier","fromElements","eventsArgs","formFileList","statusMessage","fileContainer","fileData_2","fileNameEle","getFileNameOnly","fileTypeEle","rtlContainer","truncateName","formValidateFileInfo","setListToFileInfo","infoEle","bytesToSize","getFileSize","createFormInput","iconElement","mergeFileInfo","addInvalidClass","typeValidationMessage","fileData_3","fileData_4","list","fileNames","fileData_5","statusForFormUpload","isValid","fileData_6","formCustomFileList","isSelectedFile","fileListData","fileData_7","textContainer","textElement","fileExtension","preventActionComplete","getSlicedName","nameElement","dataset","tail","fileData_8","names","setInitialAttributes","filterfileList","filterFiles","updateLiStatus","createProgressBar","progressbarWrapper","progressBar","progressbarInnerWrapper","progressbarText","updateProgressbar","loaded","changeProgressValue","progressValue","uploadInProgress","customUI","cancelUploadingFile","updateProgressBarClasses","name_2","removecanceledFile","renderFailureState","requestResponse","removeProgressbar","deleteIcon","pauseButton","retryElement","reloadcanceledFile","uploadComplete","raiseSuccessEvent","uploadFailed","statusText","headers","getAllResponseHeaders","withCredentials","removeIconEle","spinnerEle","getSelectedFileStatus","matchFiles","matchFilesIndex","selectFileIndex","selectedFileData","fileDataIndex","callType","progressAnimation","animateProgressBar","uploadTemplate","exception","isMutiple","isDisabled","fileIndex","chunkSize","blob","chunkIndex","retryCount","sendRequest","totalChunk","async","contentType","chunkUploadComplete","onUploadProgress","chunkUploadInProgress","currentChunkIndex","uploadingEventCallback","chunkUploadFailed","eventCancelByArgs","removeIcon","checkChunkUpload","updateMetaData","eventArgs_1","sendNextRequest","name_3","removeChunkFile","removeChunkProgressBar","pauseIcon","chunkCount","cancelButton","retryRequest","retryAfterDelay","file_1","failureMessage","checkPausePlayAction","retryUpload","fromcanceledStage","clearIcon","loadedSize","abortIcon","bytes","sortedFileNames","sort","sortedFilesData","sortedFileNames_1","name_4","attributes_2","uploadFiles_1","uploadFiles","serverReadFileBase64","totalCount","reader","contents","uploadFileCount","getFileRead","fileCount","getFileInfo","_loop_5","this_3","File","uploadFilesRequest","getFileData","cloneFiles","chunkEnabled","name_5","spliceFiles","liIndex","endIndex","beforeEventArgs","removingFiles","isLiRemoved","removingFiles_1","validUrl","_loop_6","removeFiles_1","fileDataFiles","pauseUploading","getFiles","resumeFiles","retryFailedFiles","cancelingFiles","cancelUpload","showHideUploadSpinner","Image","isImgUploaded","deletedImg","insertImage","showImageQuickToolbar","caption","deleteImg","insertImgLink","insertAltText","imageSize","alignmentSelect","afterRender","imagePaste","dragDrop","dragStart","dragEnter","dragOver","imageClick","observer","undoStack","insertImageSettings","resizeStart","onCutHandler","temp","img","outline","resizeEnd","resizeBtnInit","imgEle","requestType","getPointX","preventDefaultResize","imgResizeDiv","imageResize","getPointY","stopImmediatePropagation","imageQTBar","resizeBtnStat","topLeft","topRight","botLeft","botRight","resizeStartArgs","cancelResizeAction","imgResizePos","resizeImgDupPos","resizing","calcPos","imgWid","imgHgt","borWid","devWid","ignoreOffset","parentOffset","doc","nodeType","setAspectRatio","expectedX","expectedY","resizeByPercent","pixToPerc","expected","imgDupMouseMove","resizingArgs","mouseX","mouseY","imgDupPos","openImgLink","editImgLink","removeImgLink","isCapLink","captionEle","insertElement","isCursor","keyCodeValues","isCursor_1","checkImageBack","checkImageDel","prev","remvoeResizEle","setSelectionText","event_1","src","previousSibling","justifyImageLeft","justifyImageCenter","justifyImageRight","break","imageWithLinkQTBarItemUpdate","toolbarElement","newItems","addQTBarItem","hideImageQuickToolbar","setSelectionContents","imagDialog","linkWrap","inputLink","linkargs_1","selfImage","link","localeObj","altText","altWrap","altHeader","getAlt","inputAlt","altArgs_1","alt","insertAlt","captionClass","contenteditable","draggable","imgWrap","imgInner","imgCaption","imgSizeHeader","dialogContent","imgsizeInput","selectObj_1","insertSize","imgDialog","imgInsert","imglinkCancel","imgHeader","insertImageUrl","uploadObj","removing","imgUpload","linkHeader","linkHeaderText","imageUrlPopup","imgUrl","placeUrl","inputUrl","spellcheck","uploadUrl","regex","matchUrl","imgHeight","imgWidth","imgSizeWrap","widthVal","getClientRects","heightVal","widthNum","heightNum","dialogEle","uploadParentEle","deviceImgUpMsg","imgUpMsg","spanMsg","btnEle","autofocus","browserMsg","btnClick","fileSelect","selectArgs","beforeUploadArgs","uploadEle","allowedTypes","selected","JSON","parse","stringify","reader_1","saveFormat","URL","createObjectURL","beforeUpload","uploading","success","failure","getButtons","actionBeginArgs","effectAllowed","imgElement","contentEditable","caretRangeFromPoint","createRange","setStart","rangeParent","rangeOffset","getDropRange","uploadArea","insertDragImage","startRange","setRange","startNode","startCharIndexCharacter","setEnd","rangeRect","activePopupElement","imgFiles","imgType","onSelect","insertNode","imgArgs_1","validFiles","imageTag","uploadMethod","dragEvent","imageElement","isUploading","viewPortElement","refreshPopup","canceling","uploadFailure","uploadSuccess","selectNodeContents","imgPosition","rtePosition","reader_2","callBack","showPopupToolBar","imageSrc","createQTBar","image","ImageToolbar","Count","renderCount","appendCount","maxLength","charCountBackground","htmlLength","htmlText","string","percentage","Formatter","self","saveSelection","getSelection","rangeCount","getRangeAt","getAncestorNode","commonAncestorContainer","action_1","itemCollection","isTableModule","tableModule","ensureInsideTableList","onSuccess","clipboardAction","execCommand","enableUndo","onKeyHandler","events","callbackArgs","setPlaceHolder","autoResize","undoRedoStack","quickTBarObj","IMAGE","TABLE","LINK","INSERT_ROW","INSERT_COLUMN","DELETEROW","DELETECOLUMN","REMOVETABLE","TABLEHEADER","TABLE_VERTICAL_ALIGN","ALIGNMENT_TYPE","INDENT_TYPE","DEFAULT_TAG","BLOCK_TAGS","IGNORE_BLOCK_TAGS","TABLE_BLOCK_TAGS","SELECTION_TYPE","INSERTHTML_TYPE","INSERT_TEXT_TYPE","CLEAR_TYPE","NodeSelection","startNodeName","endNodeName","saveInstance","cloneRange","rootNode","documentFromRange","getNodeArray","html","docElement","get","collapse","defaultView","getIndex","isChildNode","nodeCollection","getNode","endNode","getParentNodes","reverse","getSelectionNodeCollection","getSelectionNodes","getSelectionNodeCollectionBr","getSelectionNodesBr","regEx","getInsertNodeCollection","getInsertNodes","isStart","array","setRangePoint","isvalid","constant","selectRange","removeAllRanges","addRange","setSelectionNode","getSelectedNodes","insertParentNode","newNode","surroundContents","setCursorPoint","point","htmlKeyConfig","selfClosingTags","markerClassName","startSelection","endSelection","DOMNode","currentDocument","isBlockNode","Node","ELEMENT_NODE","isLink","blockParentNode","hasClass","rawAttributes","rawAttr","orderRawAttr","attrKey","attrValue","clearAttributes","openTagString","closeTagString","createTagString","relativeElement","isList","isEditable","replaceWith","parseHTMLFragment","DocumentFragment","createContextualFragment","insertAfter","referenceNode","wrapInner","unWrap","unWrapNode","getSelectedNode","TEXT_NODE","nodeFinds","existNodes","isEditorArea","getRangePoint","ranges","getPreviousNode","encode","saveMarker","startTextNode","endTextNode","marker","setMarker","existNode","textNodes","markerStart","markerEnd","ensureSelfClosingTag","isTable","parNode","tdNode","lastNode","createTempNode","ignoreBr","getImageTagInSelection","focusNode","blockNodes","collectionNodes","ignoreTableTag","listNodes","Lists","domNode","applyListsHandler","testList","olListRegex","elementStart","testCurrentList","olListStartRegex","spaceList","preElement","nextElement","preElemULStart","nextElemULStart","startElementOLTest","preElementOLTest","nextElementOLTest","enterList","backspaceList","parentList","isNested","ignoreDefault","currentAction","getAction","shiftKey","revertList","revertClean","nestedList","cleanNode","prevSibling","noPreviousElement","firstNode","firstNodeOL","siblingListOL","siblingListLI","siblingListLIFirst","nestedElement","nestedElementLI","firstNodeLI","listsNodes","applyLists","isRevert","removeEmptyListElements","checkLists","elemAtt","openTag","closeTag","newTag","replaceHTML","collectionString","listElem","nodesTemp","liParents","contentNodes","findUnSelected","rightIndent","indentElements","lastElement","childElements","z","childLI","viewNode","siblingList","wrapperclass","childNode","nodeInnerHtml","emptyUl","emptyLi","InsertMethods","WrapBefore","textNode","isAfter","AppendBefore","Wrap","unwrap","NodeCutter","GetSpliceNode","SplitNode","isCollapsed","clone","setStartBefore","setEndAfter","fragment","extractContents","spliceEmptyNode","isEmpty","isImgElm","GetCursorStart","indexes","GetCursorRange","cursorRange","TrimLineBreak","GetCursorNode","line","Formats","applyFormats","startCon","endCon","preElem","endPreElem","liParent","deleteContent","removeCodeContent","lastEmpty","lastBeforeBr","startParent","paraFocus","isNotEndCursor","pointer","deleteContents","referNode","pTag","nodeCutter","isEnd","insertMarker","brTag","previousSib","insertAdjacentHTML","setCursorPosition","markerElem","mrkParentElem","focusSelectionParent","brElm","tempSpanPElem","tempSpan","isSelectAll","formatsNodes","exeValue","cleanFormats","replaceNode","replaceTag","preFormatMerge","preNodes","ignoreAttr","InsertHtml","Insert","editNode","isExternal","closestParentNode","closestEle","pasteInsertHTML","preNode","sibNode","lasNode","removeEmptyElements","previousNode","parentNode1","imageFocus","frag","createDocumentFragment","isSingleNode","currentBlockNode","getImmediateBlockNode","containsBlockNode","removingComments","lastSelectionNode","allChildNodes","insertTempNode","isFirstTextNode","firstParaElm","replaceChild","placeCursorEnd","cursorPos","blockNode","splitedElm","createTextNode","elm","innerElement","findDetachEmptyElem","removableElement","emptyElements","detachableElement","LinkCommand","linkCommand","createLink","closestAnchor","domSelection","localeCompare","anchor","createAchorNode","removeText","createLinkNode","anchorEle","currentNode","txtArray","inlineNodes","removeNodes","anchorNodes","finalinlineNodes","check","j_1","cln","j_2","arr","linkNode","containsNode","Alignments","alignments","applyAlignment","getTableNode","cellNode","isTableAlign","alignmentNodes","imageTags","elementNode","imgObj","imageCommand","Indents","indentValue","applyIndents","indentsNodes","parentNodes","indentsValue","CLASS_IMAGE_RIGHT","CLASS_IMAGE_LEFT","CLASS_IMAGE_CENTER","CLASS_IMAGE_BREAK","CLASS_CAPTION","CLASS_CAPTION_INLINE","CLASS_IMAGE_INLINE","ImageCommand","createImage","insertImageLink","openImageLink","editImageLink","removeImageLink","removeImage","insertAltTextImage","imageDimension","imageCaption","imageJustifyLeft","imageJustifyCenter","imageJustifyRight","imageInline","imageBreak","setStyle","imgElm_1","calculateStyleValue","styleValue","capImgWrap","textEle","newTextEle","TableCommand","createTable","insertRow","insertColumn","deleteRow","deleteColumn","removeTable","tableHeader","tableVerticalAlign","table","tblBody","tdWid","cell","removeEmptyNode","emptyLiChild","selectedCell","newRow","curRow","tabCell","tdElement","curCell","allRows","rows","colIndex","colTemplate","selectedCellIndex","cellIndex","parentTable","deleteCell","sContainer","startChildLength","selectedRowIndex","rowIndex","seletedTable","headerExit","cellCount","createTHead","th","deleteTHead","tableCell","verticalAlign","IsFormatted","getFormattedNode","getFormatParent","isFormattedNode","isBold","isItalic","isUnderline","isStrikethrough","isSuperscript","isSubscript","isFontColor","isFontName","isFontSize","isBackgroundColor","validTags","inlineTags","fontWeight","fontStyle","textDecoration","backColor","SelectionCommands","applyFormat","validFormats","isFormatted","isFormat","isFontStyle","cursorNode","insertCursorNode","formatNode","insertFormat","removeFormat","applySelection","cursorNodes","cursorFormat","getInsertNode","bgStyle","splitNode","bg","formatNodeStyles","formatNodeTagName","GetFormatNode","currentNodeElem","curParentElem","toLocaleUpperCase","applyStyles","getChildNode","updateStyles","SelectionBasedExec","InsertHtmlExec","applyHtml","pastedElements","allPastedElements","imgElements","allImgElm","imgElem","ClearFormat","lastText","exactNodes","cloneSelectNodes","clearInlines","reSelection","cloneParentNodes","clearBlocks","selectionNodes","endIndexNode","spliceParent","removeParent","index1","index2","index3","parentIndex","elementIndex","NONVALID_TAGS","NONVALID_PARENT_TAGS","IGNORE_PARENT_TAGS","removeInlineParent","ClearFormatExec","applyClear","UndoRedoManager","undoRedoSteps","undoRedoTimer","debounceListener","onAction","redo","changEle","shift","removedContent","MsWordPaste","olData","ulData","ignorableNodes","removableElements","listContents","wordCleanup","wordPasteStyleConfig","allowedStylePropertiesArray","tempHTMLContent","getData","rtfData","patern","patern2","patern3","imageConversion","cleanUp","listConverter","styleCorrection","removeUnwantedElements","breakLineAddition","removeClassName","checkVShape","imgSrc","base64Src","imgName","hexValue","hexConversion","convertToBase64","allNodes","base64","byteArr","conHexStringToBytes","conBytesToBase64","base64Str","base64Char","byteArrLen","array3","array3length","array4","picHead","pic","source","fullImg","elmWithClass","allElements","findDetachElem","brElement","regExpStartElem","regExpEndElem","styleElement","styleClassObject_1","findStyleObject","removeUnwantedStyle","filterStyles","resultElem","styleProperty","valueSplit","changedValue","elmWithStyles","elemStyleProperty","styleValues","styleClassObject","tempStyle","classNameCollection","stylesCollection","classNames","prevflagState","tempCleaner","level","stNode","collection","getListContent","listType","nestedLevel","makeConversion","elemColl","temp1","prevList","pLevel","listCount","pElement","listStyle","getListStyle","getNamedItem","pushContent","InsertTextExec","insertText","EditorManager","listObj","formatObj","alignmentObj","indentsObj","linkObj","selectionObj","inserthtmlObj","insertTextObj","clearObj","tableObj","msWordPaste","editorKeyDown","editorKeyUp","onWordPaste","HTMLFormatter","updateFormatter","editElement","statusCollection","bold","italic","subscript","superscript","strikethrough","orderedlist","unorderedlist","underline","backgroundcolor","fontcolor","fontname","formats","createlink","insertcode","ToolbarStatus","targetNode","fontName","documentNode","formatCollection","nodesLength","isOrderedList","isUnorderedList","isAlignment","isFormats","pattern","search","textAlign","HtmlToolbarStatus","onRefreshHandler","toolbarStatus","ContentRender","rteObj","rteContent","contentPanel","IFRAMEHEADER","IframeContentRender","iFrameBodyContent","iFrameContent","contentDocument","setThemeColor","write","ColorPickerInput","renderColorPickerInput","targetID","suffixID","fontNode","fontColorPicker","fontColorDropDown","backNode","backgroundColorPicker","backgroundColorDropDown","destroyColorPicker","font","fontBorder","backgroundBorder","XhtmlValidation","enableXhtmlValidation","enableXhtml","clean","AddRootElement","ImageTags","removeTags","RemoveUnsupported","imgNodes","RemoveElementNode","rmvNode","parentArray","rmvArray","underlineEle","strongEle","boldEle","RemoveAttributeByName","attrName","hasChildNodes","childEle","HtmlEditor","rangeCollection","xhtmlValidation","sanitizeHelper","nodeSelectionObj","colorPickerModule","instantiateRenderer","onToolbarClick","selectAll","getSelectedHtml","onSelectionSave","onSelectionRestore","updateReadOnly","onPaste","enableTabKey","textCont","spaceLink","httpRegex","wwwRegex","enterSplitText","contentInnerElem","contentWithSpace","spaceBetweenContent","spaceSplit","divElement","paraElem","splitTextContent","resultSplitContent","pasteCleanupModule","executeCommand","splitText","urlText","urlTextRange","closestElement","imageDialog","print","option","formatterClass","toolbarUpdate","BaseQuickToolbar","isDOMElement","popupRenderer","Popup","dropDownButtons","colorPickerObj","appendPopupContent","popupType","popupId","stringItems","toolbarItems","createToolbar","setPosition","imgWrapper","targetOffsetTop","parentOffsetTop","parentData","editTop","tBarElementHeight","editHeight","popWidth","viewPort","contentTop","windowY","posY","windowHeight","windowWidth","bodyRightSpace","beforeQuickToolbarArgs","editPanelTop","editPanelHeight","bodyRight","paddingRight","innerWidth","toolbarAvail","getToolbar","expTBHeight","tBarHeight","cntEle","enableToolbarItem","showPopupData","viewSourcePanel","sourceCodeModule","getViewPanel","removeEleFromDOM","removeQTBarItem","PopupRenderer","quickToolbarOpen","popupPanel","QuickToolbar","formattedItems","getQTBarOptions","popType","renderType","qTBar","initializeQuickToolbars","onSelection","selectionChangeHandler","onMouseDown","isRTE","renderQuickToolbars","textQTBar","LinkToolbar","TextToolbar","TableToolbar","renderInlineQuickToolbar","InlineToolbar","showInlineQTBar","hideInlineQTBar","hideQuickToolbars","deBounce","deBouncer","mouseUpHandler","coordinates","touchData","prevClientX","prevClientY","inlineQTBarMouseDownHandler","onSelectionChange","getInlineBaseToolbar","wireInlineQTBarEvents","unWireInlineQTBarEvents","toolbarUpdated","actionOnScroll","library","components","sidenav","errorNav","provide","richtexteditor","EDIT_TENDERS_ROUTE","tenderCategories","watch","tenderIsLoading","handler","computed","categoryList","regions","methods","changeTenderFeaturedStatus","setValues","categories","ids","getRegions","getCategories","getTender","clearTender","mounted","beforeDestroy","component"],"mappings":"kHAAA,W,2CCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,YAAYA,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,UAAU,CAACE,YAAY,UAAUF,EAAG,MAAM,CAACE,YAAY,gDAAgD,CAACF,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,qCAAqC,CAACF,EAAG,SAAS,CAACE,YAAY,uBAAuBC,MAAM,CAAC,KAAO,WAAW,CAACP,EAAIQ,GAAG,UAAUJ,EAAG,SAAS,CAACE,YAAY,4BAA4BC,MAAM,CAAC,KAAO,UAAUE,GAAG,CAAC,MAAQT,EAAIU,eAAe,CAACV,EAAIQ,GAAG,mBAAoBR,EAAoB,iBAAEI,EAAG,MAAM,CAACE,YAAY,sBAAsBC,MAAM,CAAC,KAAO,UAAU,CAACP,EAAIW,GAAG,KAAKX,EAAIY,KAAKR,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACN,EAAIQ,GAAG,qEAAqEJ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,qBAAqB,CAACG,MAAM,CAAC,KAAO,OAAO,MAAQ,YAAYM,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAC7oC,IAAIC,EAASD,EAAIC,OACjB,MAAO,CAACd,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,UAAU,CAACP,EAAIQ,GAAG,WAAWJ,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,WAAW,CAACe,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOtB,EAAS,MAAEuB,WAAW,UAAUjB,YAAY,eAAeC,MAAM,CAAC,GAAK,QAAQ,KAAO,KAAKiB,SAAS,CAAC,MAASxB,EAAS,OAAGS,GAAG,CAAC,MAAQ,SAASgB,GAAWA,EAAOC,OAAOC,YAAqB3B,EAAI4B,MAAMH,EAAOC,OAAOJ,aAAYlB,EAAG,QAAQ,CAACE,YAAY,wBAAwB,CAACN,EAAIQ,GAAGR,EAAI6B,GAAGX,EAAO,cAAcd,EAAG,qBAAqB,CAACG,MAAM,CAAC,KAAO,aAAa,MAAQ,YAAYM,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GACvlB,IAAIC,EAASD,EAAIC,OACjB,MAAO,CAACd,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,eAAe,CAACP,EAAIQ,GAAG,UAAUJ,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,qBAAqB,CAACa,IAAI,SAASV,MAAM,CAAC,OAAS,IAAI,eAAiBP,EAAI8B,aAAa,CAAC9B,EAAIQ,GAAG,iDAAiDR,EAAI6B,GAAG7B,EAAI+B,OAAOC,aAAa,6CAA6C,GAAG5B,EAAG,QAAQ,CAACE,YAAY,wBAAwB,CAACN,EAAIQ,GAAGR,EAAI6B,GAAGX,EAAO,cAAcd,EAAG,MAAMA,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,UAAU,CAACP,EAAIQ,GAAG,YAAYJ,EAAG,KAAK,CAAEJ,EAAmB,gBAAEI,EAAG,OAAO,CAACE,YAAY,mCAAmCC,MAAM,CAAC,KAAO,SAAS,cAAc,UAAUH,EAAG,OAAO,CAAC6B,MAAM,CAACjC,EAAI+B,OAAOG,SAAW,gBAAkB,kBAAmB,SAASzB,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAOzB,EAAImC,yBAAyBnC,EAAI+B,OAAOK,QAAQ,CAACpC,EAAIQ,GAAGR,EAAI6B,GAAG7B,EAAI+B,OAAOG,SAAW,SAAY,mBAAmB9B,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,UAAU,CAACP,EAAIQ,GAAG,cAAcJ,EAAG,KAAK,CAAEJ,EAAmB,gBAAEI,EAAG,OAAO,CAACE,YAAY,mCAAmCC,MAAM,CAAC,KAAO,SAAS,cAAc,UAAUH,EAAG,OAAO,CAAC6B,MAAM,CAACjC,EAAI+B,OAAOM,WAAa,gBAAkB,kBAAmB,SAAS5B,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAOzB,EAAImC,yBAAyBnC,EAAI+B,OAAOK,QAAQ,CAACpC,EAAIQ,GAAGR,EAAI6B,GAAG7B,EAAI+B,OAAOM,WAAa,MAAS,gBAAgB,OAAOjC,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACN,EAAIQ,GAAG,4EAA4EJ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,eAAe,CAACP,EAAIQ,GAAG,cAAcJ,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,aAAa,CAACE,YAAY,aAAaC,MAAM,CAAC,GAAK,OAAO,mBAAmB,GAAG,iBAAiB,aAAa,CAACP,EAAIsC,GAAItC,EAAgB,cAAE,SAASuC,EAASC,GAAO,MAAO,CAAED,EAAiB,SAAEnC,EAAG,yBAAyB,CAACW,IAAIyB,EAAMjC,MAAM,CAAC,SAAWP,EAAIyC,0BAA0BF,EAASG,SAASC,KAAI,SAAUC,GAAK,OAAOA,EAAER,UAAW,CAAChC,EAAG,SAAS,CAACE,YAAY,SAASG,GAAG,CAAC,MAAQ,SAASgB,GAAQzB,EAAI6C,eAAeN,EAASG,SAASC,KAAI,SAAUC,GAAK,OAAOA,EAAER,OAASpC,EAAI8C,gCAAgC,CAAC9C,EAAIQ,GAAGR,EAAI6B,GAAGU,EAASnB,KAAK2B,OAAO/C,EAAIsC,GAAIC,EAAiB,UAAE,SAASS,EAAYC,GAAU,MAAO,CAAC7C,EAAG,kBAAkB,CAACW,IAAIkC,EAAS1C,MAAM,CAAC,SAAWP,EAAIyC,0BAA0B,CAACO,EAAYZ,OAAO3B,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAOzB,EAAI6C,eAAe,CAACG,EAAYZ,KAAMpC,EAAIkD,8BAA8B,CAAClD,EAAIQ,GAAGR,EAAI6B,GAAGmB,EAAY5B,KAAK2B,YAAW,GAAG/C,EAAIY,KAAO2B,EAASY,SAAwPnD,EAAIY,KAAlPR,EAAG,kBAAkB,CAACW,IAAIyB,EAAMjC,MAAM,CAAC,SAAWP,EAAIyC,0BAA0B,CAACF,EAASH,OAAO3B,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAOzB,EAAI6C,eAAe,CAACN,EAASH,KAAMpC,EAAIkD,8BAA8B,CAAClD,EAAIQ,GAAGR,EAAI6B,GAAGU,EAASnB,KAAK2B,YAAoB,IAAI,GAAG3C,EAAG,MAAMA,EAAG,MAAMA,EAAG,MAAMA,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,YAAY,CAACP,EAAIQ,GAAG,aAAaR,EAAIsC,GAAItC,EAAW,SAAE,SAASoD,EAAOZ,GAAO,MAAO,CAACpC,EAAG,MAAM,CAACW,IAAIyB,EAAMlC,YAAY,0DAA0D,CAACF,EAAG,QAAQ,CAACe,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOtB,EAAiB,cAAEuB,WAAW,kBAAkBjB,YAAY,uBAAuBC,MAAM,CAAC,KAAO,WAAW,GAAM,UAAYiC,EAAM,IAAKhB,SAAS,CAAC,MAAQ4B,EAAOhB,IAAI,SAAU,EAAK,QAAUiB,MAAMC,QAAQtD,EAAIuD,eAAevD,EAAIwD,GAAGxD,EAAIuD,cAAcH,EAAOhB,MAAM,EAAGpC,EAAiB,eAAGS,GAAG,CAAC,OAAS,SAASgB,GAAQ,IAAIgC,EAAIzD,EAAIuD,cAAcG,EAAKjC,EAAOC,OAAOiC,IAAID,EAAKE,QAAuB,GAAGP,MAAMC,QAAQG,GAAK,CAAC,IAAII,EAAIT,EAAOhB,IAAI0B,EAAI9D,EAAIwD,GAAGC,EAAII,GAAQH,EAAKE,QAASE,EAAI,IAAI9D,EAAIuD,cAAcE,EAAIM,OAAO,CAACF,KAAYC,GAAK,IAAI9D,EAAIuD,cAAcE,EAAIO,MAAM,EAAEF,GAAKC,OAAON,EAAIO,MAAMF,EAAI,UAAW9D,EAAIuD,cAAcI,MAASvD,EAAG,QAAQ,CAACE,YAAY,uBAAuBC,MAAM,CAAC,IAAO,UAAYiC,EAAM,KAAM,CAACxC,EAAIQ,GAAGR,EAAI6B,GAAGuB,EAAOhC,KAAK2B,IAAI,MAAM/C,EAAI6B,GAAG7B,EAAIiE,wBAAwBb,EAAOhB,gBAAe,YAAY,IAAI,IAC34H8B,EAAkB,CAAC,WAAa,IAAIlE,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,iBAAiBC,MAAM,CAAC,KAAO,WAAW,CAACH,EAAG,OAAO,CAACE,YAAY,WAAW,CAACN,EAAIQ,GAAG,kBAAkBJ,EAAG,MAAM,CAACE,YAAY,SAAS,CAACN,EAAIQ,GAAG,oE,gOCLxS2D,EAAwC,WACxC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,gBAClB,CAAEC,UAAW,cAAgBpB,OAAS,SAAUgB,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAII,KAAKJ,EAAOA,EAAEK,eAAeD,KAAIL,EAAEK,GAAKJ,EAAEI,KAClEN,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASM,IAAO3E,KAAK4E,YAAcR,EADnCD,EAAcC,EAAGC,GAEjBD,EAAES,UAAkB,OAANR,EAAaC,OAAOQ,OAAOT,IAAMM,EAAGE,UAAYR,EAAEQ,UAAW,IAAIF,IAV3C,GAaxCI,EAA0C,SAAUC,EAAYvD,EAAQX,EAAKmE,GAC7E,IAA2Hb,EAAvHc,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIzD,EAAkB,OAATwD,EAAgBA,EAAOX,OAAOgB,yBAAyB7D,EAAQX,GAAOmE,EACrH,GAAuB,kBAAZM,SAAoD,oBAArBA,QAAQC,SAAyBH,EAAIE,QAAQC,SAASR,EAAYvD,EAAQX,EAAKmE,QACpH,IAAK,IAAIQ,EAAIT,EAAWI,OAAS,EAAGK,GAAK,EAAGA,KAASrB,EAAIY,EAAWS,MAAIJ,GAAKH,EAAI,EAAId,EAAEiB,GAAKH,EAAI,EAAId,EAAE3C,EAAQX,EAAKuE,GAAKjB,EAAE3C,EAAQX,KAASuE,GAChJ,OAAOH,EAAI,GAAKG,GAAKf,OAAOoB,eAAejE,EAAQX,EAAKuE,GAAIA,GAK5DM,EAAW,YACX,EAAU,QACVC,EAAc,YACdC,EAAiB,gBACjBC,EAAiB,oBACjBC,EAAe,cACfC,EAAoB,oBACpBC,EAAmB,mBACnBC,EAAiB,eACjBC,EAAsB,qBACtBC,EAAqB,oBACrBC,EAAa,kBACbC,EAAc,mBACdC,EAAmB,yBACnBC,EAAkB,wBAClBC,EAAiB,GAajB,EAAyB,SAAUC,GAOnC,SAASC,EAAQC,EAASC,GACtB,OAAOH,EAAOI,KAAK9G,KAAM4G,EAASC,IAAY7G,KA+alD,OAtbAkE,EAAUyC,EAASD,GAanBC,EAAQ9B,UAAUkC,UAAY,WAC1B/G,KAAKgH,QAAU,OAAQC,KAAK9F,KAC5BnB,KAAKkH,aAAgC,YAAjBlH,KAAKgH,QACzBhH,KAAKmH,SAAW,OAAQA,SACxBnH,KAAKoH,YAAa,EAClB,IAAIP,EAAU7G,KAAK6G,QACnB7G,KAAKqH,QAA2B,SAAjBrH,KAAKgH,SAAuC,SAAjBhH,KAAKgH,QAC/ChH,KAAKsH,aACc,KAAfT,EAAQU,KACRV,EAAQU,GAAK,eAAY,WACzBvH,KAAKwH,UAAW,GAEpBX,EAAQY,MAAMC,QAAU,QACpB1H,KAAK2H,WACLd,EAAQe,UAAUC,IAAI,IAO9BlB,EAAQ9B,UAAU/E,OAAS,WACvBE,KAAK8H,YAAc,IAAI,OAAM9H,KAAK6G,QAAS,CAAEkB,OAAQ/H,KAAKgI,aAAaC,KAAKjI,MAAOkI,MAAOlI,KAAKmI,aAAaF,KAAKjI,QACjH,OAAa6H,IAAI7H,KAAKoI,UAAW,SAAUpI,KAAKqI,cAAerI,MAC1DA,KAAKmH,UAINnH,KAAK6G,QAAQe,UAAUC,IAAIxB,GAC3BrG,KAAKsI,cAActI,KAAK6G,UAJxB7G,KAAKuI,cAAcvI,KAAK6G,SAM5B7G,KAAKwI,kBAET7B,EAAQ9B,UAAU2D,eAAiB,WAC3B,eAAkBxI,KAAKyI,aAAezI,KAAKyI,WAAa,GACxDzI,KAAKyI,WAAazI,KAAKoI,UAAUM,YACjC1I,KAAKoH,YAAa,GAGlBpH,KAAKoH,YAAa,GAG1BT,EAAQ9B,UAAUyC,WAAa,WAC3B,IAAIc,EAAYpI,KAAK2I,cAAc,MAAO,CAAEC,UAAW9C,IACnD+C,EAAY7I,KAAK2I,cAAc,MAAO,CAAEC,UAAW/C,IACvDgD,EAAUC,aAAa,WAAY,MAGnC,IAFA,IAAIC,EAAM/I,KAAK6G,QACXmC,EAAW,GAAGjF,MAAM+C,KAAKiC,EAAItG,UACxBc,EAAK,EAAG0F,EAAaD,EAAUzF,EAAK0F,EAAW7D,OAAQ7B,IAAM,CAClE,IAAI2F,EAAQD,EAAW1F,GACvB6E,EAAUe,YAAYD,GAE1BL,EAAUM,YAAYf,GACtBW,EAAII,YAAYN,GAChBA,EAAUpB,MAAM2B,UAAY,SAC5BpJ,KAAKoI,UAAYS,EACjB7I,KAAKqJ,YAAcjB,GAEvBzB,EAAQ9B,UAAUyE,eAAiB,WAC/B,IAAIC,EAAY,CAAC,cACjB,OAAOvJ,KAAKwJ,aAAaD,IAO7B5C,EAAQ9B,UAAU4E,cAAgB,WAC9B,MAAO,WAMX9C,EAAQ9B,UAAU6E,QAAU,WACxB,IAAIX,EAAM/I,KAAK6G,QACfkC,EAAItB,MAAMC,QAAU,GACpBqB,EAAInB,UAAU+B,OAAOhE,GACrBoD,EAAInB,UAAU+B,OAAOtD,GACrB,IAAIuD,EAAM,eAAU,MAAQb,EAAIxB,GAAK,QAAUrB,EAAgB6C,GAC3Dc,EAAU,eAAU,IAAMvD,EAAayC,GAC3C,GAAGhF,MAAM+C,KAAK+C,GAASC,SAAQ,SAAUf,GACrC,eAAOA,MAEX,IAAK,IAAIxF,EAAK,EAAGwG,EAAK,GAAGhG,MAAM+C,KAAK9G,KAAKqJ,YAAY5G,UAAWc,EAAKwG,EAAG3E,OAAQ7B,IAAM,CAClF,IAAIyG,EAAOD,EAAGxG,GACdwF,EAAII,YAAYa,GAEhBhK,KAAKwH,UACLxH,KAAK6G,QAAQoD,gBAAgB,MAEjC,eAAOjK,KAAKoI,WACRwB,EAAIxE,OAAS,IACb,eAAOwE,EAAI,IACN,eAAkBA,EAAI,KACvB,eAAOA,EAAI,KAGnB,OAAaD,OAAO3J,KAAKoI,UAAW,SAAUpI,KAAKqI,eACnDrI,KAAK8H,YAAY4B,UACjB1J,KAAK8H,YAAc,KACnBpB,EAAO7B,UAAU6E,QAAQ5C,KAAK9G,OAQlC2G,EAAQ9B,UAAUqF,QAAU,SAAU7I,GAClC,IAAI8I,EAAU,eAAU,sBAAwBvE,EAAc,IAAK5F,KAAK6G,SACxExF,EAAQrB,KAAK6G,QAAQe,UAAUC,IAAIjC,GAAe5F,KAAK6G,QAAQe,UAAU+B,OAAO/D,GAChF,GAAG7B,MAAM+C,KAAKqD,GAASL,SAAQ,SAAUM,GACrCA,EAAGtB,aAAa,WAAazH,EAAc,KAAN,SAG7CsF,EAAQ9B,UAAUyD,cAAgB,SAAUzB,GACxC,IAAIU,EAAKV,EAAQU,GAAGzD,OAAO,QACvBuG,EAAkBrK,KAAK2I,cAAc,MAAO,CAAEC,UAAWtC,EAAc,IAAMC,IAC7E+D,EAAW,KAAOzD,EAAQU,GAAGzD,OAAO,QAAUoC,EAAiB,IAAMC,GACrEoE,EAAWvK,KAAK2I,cAAc,MAAO,CAAEpB,GAAIA,EAAGzD,OAAO,UAAW8E,UAAW0B,IAC3EE,EAAUxK,KAAK2I,cAAc,MAAO,CAAEC,UAAW5C,EAAoB,IAAMD,EAAe,aAC9FwE,EAASpB,YAAYqB,GACrB,IAAIC,EAAUzK,KAAK2I,cAAc,MAAO,CAAEC,UAAWtC,EAAc,IAAME,IACrExG,KAAKqH,SACLkD,EAAS3C,UAAUC,IAAI,cAE3BhB,EAAQsC,YAAYkB,GACpBxD,EAAQsC,YAAYoB,GACpB1D,EAAQ6D,aAAaD,EAAS5D,EAAQ8D,YACtC3K,KAAK4K,aAAa,CAACL,KAEvB5D,EAAQ9B,UAAU0D,cAAgB,SAAU1B,GACxC,IAAIU,EAAKV,EAAQU,GAAGzD,OAAO,QACvBwG,EAAW,KAAOzD,EAAQU,GAAGzD,OAAO,QAAUoC,EAAiB,IAAMC,GACrEyD,EAAM5J,KAAK2I,cAAc,MAAO,CAAEpB,GAAIA,EAAGzD,OAAO,UAAW8E,UAAW0B,IAC1EV,EAAId,aAAa,gBAAiB,SAClC,IAAI0B,EAAUxK,KAAK2I,cAAc,MAAO,CAAEC,UAAW5C,EAAoB,IAAMD,EAAe,aAC1F8E,EAAU,KAAOhE,EAAQU,GAAGzD,OAAO,QAAUoC,EAAiB,IAAME,GACpE0E,EAAS9K,KAAK2I,cAAc,MAAO,CAAEpB,GAAIA,EAAGzD,OAAO,SAAU8E,UAAWiC,EAAU,IAAMjF,IAC5FkF,EAAOhC,aAAa,gBAAiB,QACrC,IAAIiC,EAAc/K,KAAK2I,cAAc,MAAO,CAAEC,UAAW3C,EAAmB,IAAMF,EAAe,aACjG+E,EAAO3B,YAAY4B,GACnBnB,EAAIT,YAAYqB,GAChB3D,EAAQsC,YAAYS,GACpB/C,EAAQ6D,aAAaI,EAAQjE,EAAQ8D,YACjC3K,KAAKqH,UACLuC,EAAIhC,UAAUC,IAAI,cAClBiD,EAAOlD,UAAUC,IAAI,eAEzB7H,KAAK4K,aAAa,CAAChB,EAAKkB,KAE5BnE,EAAQ9B,UAAUmG,WAAa,SAAUrI,GACrC,IAAIsI,EAAQjL,KACZ,GAAc,UAAV2C,EAAE7B,IAAiB,CACnB,IAAIoK,EAAe,WACfD,EAAME,YAAa,EACnBF,EAAMG,aAAa,GAAIzI,EAAElB,QAAQ,IAErCzB,KAAKqL,SAAWC,OAAOC,YAAW,WAC9BL,MACD,OAGXvE,EAAQ9B,UAAU2G,QAAU,SAAU7I,GACpB,UAAVA,EAAE7B,MAGFd,KAAKmL,WACLnL,KAAKmL,YAAa,EAGlBxI,EAAElB,OAAOgK,QAEbC,aAAa1L,KAAKqL,YAEtB1E,EAAQ9B,UAAU+F,aAAe,SAAU7B,GACvC,IAAIkC,EAAQjL,KACZ,GAAG+D,MAAM+C,KAAKiC,GAAKe,SAAQ,SAAUM,GACjC,IAAI,OAAMA,EAAI,CAAEuB,QAASV,EAAMW,eAAe3D,KAAKgD,GAAQY,iBAAkB,MAC7EzB,EAAG0B,iBAAiB,UAAWb,EAAMD,WAAW/C,KAAKgD,IACrDb,EAAG0B,iBAAiB,QAASb,EAAMO,QAAQvD,KAAKgD,IAChDb,EAAG0B,iBAAiB,UAAWb,EAAMc,aAAa9D,KAAKgD,IACvDb,EAAG0B,iBAAiB,WAAYb,EAAMc,aAAa9D,KAAKgD,IACxDb,EAAG0B,iBAAiB,eAAe,SAAUnJ,GACzCA,EAAEqJ,oBAEN,OAAanE,IAAIuC,EAAI,QAASa,EAAMgB,kBAAmBhB,OAG/DtE,EAAQ9B,UAAUkH,aAAe,WAC7BG,cAAclM,KAAKmM,UAEvBxF,EAAQ9B,UAAU+G,eAAiB,SAAUjJ,GACzC,IAAIsI,EAAQjL,KACRoM,EAAOzJ,EAAE0J,cAAc5K,OAC3B2K,EAAOpM,KAAKsM,SAASF,EAAMlG,GAAkBkG,EAAKG,kBAAoBH,EACtE,IAAII,EAAY,GACZC,EAAa,WACbxB,EAAMG,aAAaoB,EAAWJ,GAAM,IAExCpM,KAAKmM,QAAUb,OAAOoB,aAAY,WAC9BD,MACD,KAEP9F,EAAQ9B,UAAUyH,SAAW,SAAUvD,EAAKH,GACxC,OAAOG,EAAInB,UAAU0E,SAAS1D,IAElCjC,EAAQ9B,UAAUuG,aAAe,SAAUoB,EAAWJ,EAAMO,GACxD,IAAI9F,EAAU7G,KAAKoI,UACfwE,EAAU5M,KAAK6G,QACfe,EAAYwE,EAAKxE,UACjBA,EAAU0E,SAASpG,KACnB0B,EAAYwE,EAAKS,cAAc,IAAM9G,GAAc6B,WAEnD5H,KAAKsM,SAASM,EAAS,IAAY5M,KAAKkH,eACxCsF,GAAaA,GAEF3F,EAAQiG,YACjB9M,KAAKsM,SAASM,EAAS,IAAY5M,KAAKkH,cAAiBlH,KAAKqH,QAC5DO,EAAU0E,SAAStG,GACnBhG,KAAK+M,mBAAmBP,EAAW,MAAOG,GAG1C3M,KAAK+M,mBAAmBP,EAAW,GAAIG,GAIvC/E,EAAU0E,SAASrG,GACnBjG,KAAK+M,mBAAmBP,EAAW,MAAOG,GAG1C3M,KAAK+M,mBAAmBP,EAAW,GAAIG,IAInDhG,EAAQ9B,UAAUoH,kBAAoB,SAAUtJ,GAC5C3C,KAAKoL,aAAapL,KAAKyI,WAAY9F,EAAElB,QAAQ,IAEjDkF,EAAQ9B,UAAUsD,aAAe,SAAUxF,GACvC,IACIqK,EADAC,EAAWjN,KAAKoI,UAGhB4E,EADArK,EAAEuK,UAAY,EACHvK,EAAEwK,WAA0B,GAAbxK,EAAEuK,UAGjBvK,EAAEwK,UAAYxK,EAAEuK,SAE/B,IAAIE,EAAQ,GACRC,EAAU,WACV,IAAIC,EAAOC,KAAKC,IAAIJ,GAChBE,GAAQ,EACRhC,OAAOmC,qBAAqBH,IAGH,SAArB3K,EAAE+K,eACFT,EAASH,YAAcE,EAAWM,EAER,UAArB3K,EAAE+K,iBACPT,EAASH,YAAcE,EAAWM,GAEtCF,GAAS,GACT9B,OAAOqC,sBAAsBN,KAGrCA,KAEJ1G,EAAQ9B,UAAU+I,eAAiB,SAAUC,EAAWC,GACrC,QAAXA,EACA9N,KAAKoI,UAAU0E,YAAce,EAG7B7N,KAAKoI,UAAU0E,YAAce,GAGrClH,EAAQ9B,UAAUkI,mBAAqB,SAAUc,EAAWC,EAAQnB,GAChE,IAAI1B,EAAQjL,KACRsN,EAAO,GACX,GAAIX,EACA3M,KAAK4N,eAAeC,EAAWC,OADnC,CAIK9N,KAAKoH,YACN,GAAGrD,MAAM+C,KAAK,eAAU,IAAMR,EAAatG,KAAK6G,UAAUiD,SAAQ,SAAUM,GACxEyD,GAAazD,EAAG1B,eAGxB,IAAI2E,EAAU,WACV,IAAIU,EACAtF,EACAwC,EAAMqB,SAASrB,EAAMpE,QAAS,IAAYoE,EAAM/D,cAChD6G,GAAeF,EACfpF,GAAc6E,IAGdS,EAAcF,EACdpF,EAAa6E,GAEbS,EAAcT,EACdhC,OAAOmC,qBAAqBhF,IAG5BwC,EAAM2C,eAAenF,EAAYqF,GACjCD,GAAapF,EACb6C,OAAOqC,sBAAsBN,KAGrCA,MAEJ1G,EAAQ9B,UAAUmD,aAAe,SAAUrF,GACvC,IACIqK,EADAjE,EAAM/I,KAAKoI,UAEf4E,EAAWrK,EAAEwK,UACRnN,KAAY,SAAKA,KAAKsM,SAAStM,KAAK6G,QAAS,KAC9CmG,GAAYA,GAEU,SAAtBrK,EAAEqL,gBACFjF,EAAI+D,WAAa/D,EAAI+D,WAAaE,EAEP,UAAtBrK,EAAEqL,kBACPjF,EAAI+D,WAAa/D,EAAI+D,WAAaE,IAG1CrG,EAAQ9B,UAAUoJ,eAAiB,SAAUC,EAAYC,GACrD,GAAInO,KAAKmH,SAAU,CACf,IAAIiH,EAAW,eAAkBF,GAAcC,EAAgBD,EAC3DG,EAAYD,EAASvB,cAAc,IAAM9G,GACzC,eAAkBmI,GAClB,eAAUG,EAAW,CAACrI,GAAoB,CAACC,IAG3C,eAAUoI,EAAW,CAACpI,GAAmB,CAACD,SAI9CkI,EAAWtG,UAAUC,IAAIjC,GACzBsI,EAAWpF,aAAa,gBAAiB,QACzCoF,EAAWjE,gBAAgB,YAC3BkE,EAAcvG,UAAU+B,OAAO/D,GAC/BuI,EAAcrF,aAAa,gBAAiB,SAC5CqF,EAAcrF,aAAa,WAAY,KAE3C9I,KAAK+L,gBAETpF,EAAQ9B,UAAUwD,cAAgB,SAAU1F,GACxC,IAAIlB,EAASkB,EAAElB,OACX6M,EAAQ7M,EAAOiH,YACfkE,EAAU5M,KAAK6G,QACf0H,EAAavO,KAAK6G,QAAQgG,cAAc,IAAMzG,GAC9CoI,EAAcxO,KAAK6G,QAAQgG,cAAc,IAAM1G,GAC/CsI,EAAczO,KAAK6G,QAAQgG,cAAc,IAAMrG,GAC/CkI,EAAe1O,KAAK6G,QAAQgG,cAAc,IAAMtG,GAChDuG,EAAarL,EAAOqL,WAsBxB,GArBIA,GAAc,IACdA,GAAcA,GAEd9M,KAAKmH,YACDnH,KAAK2H,WAAe3H,KAAKkH,cAAgBlH,KAAKqH,UAC9CoH,EAAczO,KAAK6G,QAAQgG,cAAc,IAAMtG,GAC/CmI,EAAe1O,KAAK6G,QAAQgG,cAAc,IAAMrG,IAGhDiI,EAAYhH,MAAM6G,MADlBxB,EAAarG,EACaqG,EAAa,KAGb,OAEzBrL,EAAOkN,YAAcpB,KAAKqB,KAAKN,EAAQxB,GAAerG,EACvDiI,EAAajH,MAAM6G,MAAS7M,EAAOkN,YAAcpB,KAAKqB,KAAKN,EAAQxB,GAAe,KAGlF4B,EAAajH,MAAM6G,MAAQ,QAGhB,IAAfxB,GACM9M,KAAKsM,SAASM,EAAS,IAAY5M,KAAKkH,cAAiBlH,KAAKqH,QAChErH,KAAKiO,eAAeM,EAAYC,GAGhCxO,KAAKiO,eAAeO,EAAaD,QAGpC,GAAIhB,KAAKqB,KAAKN,EAAQxB,EAAa,KAAOrL,EAAOkN,aAC5C3O,KAAKsM,SAASM,EAAS,IAAY5M,KAAKkH,cAAiBlH,KAAKqH,QAChErH,KAAKiO,eAAeO,EAAaD,GAGjCvO,KAAKiO,eAAeM,EAAYC,OAGnC,CACD,IAAIK,EAAS7O,KAAK6G,QAAQgG,cAAc,IAAM3G,EAAiB,IAAMN,GACjEiJ,IACAA,EAAOjH,UAAU+B,OAAO/D,GACxBiJ,EAAO/F,aAAa,gBAAiB,SACrC+F,EAAO/F,aAAa,WAAY,QAW5CnC,EAAQ9B,UAAUiK,kBAAoB,SAAUC,EAASC,GACrD,IAAK,IAAIzL,EAAK,EAAGwG,EAAKzF,OAAO2K,KAAKF,GAAUxL,EAAKwG,EAAG3E,OAAQ7B,IAAM,CAC9D,IAAI2L,EAAOnF,EAAGxG,GACd,OAAQ2L,GACJ,IAAK,aACDlP,KAAKwI,iBACL,MACJ,IAAK,YACDuG,EAAQpH,UAAY3H,KAAK6G,QAAQe,UAAUC,IAAI,GAAW7H,KAAK6G,QAAQe,UAAU+B,OAAO,GACxF,SAIhB5E,EAAW,CACP,eAAS,OACV4B,EAAQ9B,UAAW,kBAAc,GACpC8B,EAAU5B,EAAW,CACjB,QACD4B,GACIA,EAvbiB,CAwb1B,QC1eE,EAAwC,WACxC,IAAIxC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,gBAClB,CAAEC,UAAW,cAAgBpB,OAAS,SAAUgB,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAII,KAAKJ,EAAOA,EAAEK,eAAeD,KAAIL,EAAEK,GAAKJ,EAAEI,KAClEN,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASM,IAAO3E,KAAK4E,YAAcR,EADnCD,EAAcC,EAAGC,GAEjBD,EAAES,UAAkB,OAANR,EAAaC,OAAOQ,OAAOT,IAAMM,EAAGE,UAAYR,EAAEQ,UAAW,IAAIF,IAV3C,GAaxC,EAA0C,SAAUK,EAAYvD,EAAQX,EAAKmE,GAC7E,IAA2Hb,EAAvHc,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIzD,EAAkB,OAATwD,EAAgBA,EAAOX,OAAOgB,yBAAyB7D,EAAQX,GAAOmE,EACrH,GAAuB,kBAAZM,SAAoD,oBAArBA,QAAQC,SAAyBH,EAAIE,QAAQC,SAASR,EAAYvD,EAAQX,EAAKmE,QACpH,IAAK,IAAIQ,EAAIT,EAAWI,OAAS,EAAGK,GAAK,EAAGA,KAASrB,EAAIY,EAAWS,MAAIJ,GAAKH,EAAI,EAAId,EAAEiB,GAAKH,EAAI,EAAId,EAAE3C,EAAQX,EAAKuE,GAAKjB,EAAE3C,EAAQX,KAASuE,GAChJ,OAAOH,EAAI,GAAKG,GAAKf,OAAOoB,eAAejE,EAAQX,EAAKuE,GAAIA,GAK5D,EAAW,YACX,EAAU,QACV,EAAc,YACd8J,EAAiB,gBACjBC,EAAiB,oBACjB,EAAe,cACfC,EAAiB,iBACjBC,EAAmB,mBACnBC,EAAiB,eACjBC,EAAmB,kBACnBC,EAAqB,oBACrB,EAAa,kBACb,GAAc,mBACdC,GAAgB,sBAChBC,GAAkB,wBAClB,GAAiB,GAajB,GAAyB,SAAUjJ,GAOnC,SAASkJ,EAAQhJ,EAASC,GACtB,OAAOH,EAAOI,KAAK9G,KAAM4G,EAASC,IAAY7G,KAsYlD,OA7YA,EAAU4P,EAASlJ,GAanBkJ,EAAQ/K,UAAUkC,UAAY,WAC1B/G,KAAKgH,QAAU,OAAQC,KAAK9F,KAC5BnB,KAAKkH,aAAgC,YAAjBlH,KAAKgH,QACzBhH,KAAKmH,SAAW,OAAQA,SACxBnH,KAAKoH,YAAa,EAClB,IAAI2B,EAAM/I,KAAK6G,QACf7G,KAAKqH,QAA2B,SAAjBrH,KAAKgH,SAAuC,SAAjBhH,KAAKgH,QAC/ChH,KAAKsH,aACU,KAAXyB,EAAIxB,KACJwB,EAAIxB,GAAK,eAAY,WACrBvH,KAAKwH,UAAW,GAEpBuB,EAAItB,MAAMC,QAAU,QAChB1H,KAAK2H,WACLoB,EAAInB,UAAUC,IAAI,IAO1B+H,EAAQ/K,UAAU/E,OAAS,WACvBE,KAAK8H,YAAc,IAAI,OAAM9H,KAAK6G,QAAS,CAAEkB,OAAQ/H,KAAKgI,aAAaC,KAAKjI,MAAOkI,MAAOlI,KAAKmI,aAAaF,KAAKjI,QACjH,OAAa6H,IAAI7H,KAAKoI,UAAW,SAAUpI,KAAK6P,mBAAoB7P,MAC/DA,KAAKmH,UAINnH,KAAK6G,QAAQe,UAAUC,IAAI,GAC3B7H,KAAK8P,qBAAqB9P,KAAK6G,UAJ/B7G,KAAKuI,cAAcvI,KAAK6G,SAM5B7G,KAAKwI,iBACL,OAAaX,IAAI7H,KAAK6G,QAAS,QAAS7G,KAAK+P,kBAAmB/P,OAEpE4P,EAAQ/K,UAAU2D,eAAiB,WAC3B,eAAkBxI,KAAKyI,aAAezI,KAAKyI,WAAa,GACxDzI,KAAKyI,WAAazI,KAAKoI,UAAU4H,aACjChQ,KAAKoH,YAAa,GAGlBpH,KAAKoH,YAAa,GAG1BwI,EAAQ/K,UAAUyC,WAAa,WAC3B,IAAI2I,EAAY,eAAS,MAAO,CAAErH,UAAWwG,IACzCc,EAAY,eAAS,MAAO,CAAEtH,UAAWuG,IAC7Ce,EAAUpH,aAAa,WAAY,MAGnC,IAFA,IAAIC,EAAM/I,KAAK6G,QACXmC,EAAW,GAAGjF,MAAM+C,KAAKiC,EAAItG,UACxBc,EAAK,EAAG0F,EAAaD,EAAUzF,EAAK0F,EAAW7D,OAAQ7B,IAAM,CAClE,IAAI2F,EAAQD,EAAW1F,GACvB0M,EAAU9G,YAAYD,GAE1BgH,EAAU/G,YAAY8G,GACtBlH,EAAII,YAAY+G,GAChBA,EAAUzI,MAAM0I,UAAY,SAC5BnQ,KAAKoI,UAAY8H,EACjBlQ,KAAKqJ,YAAc4G,GAEvBL,EAAQ/K,UAAUyE,eAAiB,WAC/B,IAAIC,EAAY,CAAC,cACjB,OAAOvJ,KAAKwJ,aAAaD,IAO7BqG,EAAQ/K,UAAU4E,cAAgB,WAC9B,MAAO,WAMXmG,EAAQ/K,UAAU6E,QAAU,WACxB,IAAIU,EAAKpK,KAAK6G,QACduD,EAAG3C,MAAMC,QAAU,GACnB,eAAY,CAAC1H,KAAK6G,SAAU,CAAC,EAAU,IACvC,IAAIuJ,EAAO,eAAU,MAAQhG,EAAG7C,GAAK,QAAUgI,EAAgBnF,GAC3DiG,EAAW,eAAU,IAAM,GAAajG,GAC5C,GAAGrG,MAAM+C,KAAKuJ,GAAUvG,SAAQ,SAAUf,GACtC,eAAOA,MAEX,IAAK,IAAIxF,EAAK,EAAGwG,EAAK,GAAGhG,MAAM+C,KAAK9G,KAAKqJ,YAAY5G,UAAWc,EAAKwG,EAAG3E,OAAQ7B,IAAM,CAClF,IAAIyG,EAAOD,EAAGxG,GACd6G,EAAGjB,YAAYa,GAEfhK,KAAKwH,UACLxH,KAAK6G,QAAQoD,gBAAgB,MAEjC,eAAOjK,KAAKoI,WACRgI,EAAKhL,OAAS,IACd,eAAOgL,EAAK,IACP,eAAkBA,EAAK,KACxB,eAAOA,EAAK,KAGpB,OAAazG,OAAO3J,KAAKoI,UAAW,SAAUpI,KAAK6P,oBACnD7P,KAAK8H,YAAY4B,UACjB1J,KAAK8H,YAAc,KACnBpB,EAAO7B,UAAU6E,QAAQ5C,KAAK9G,OAQlC4P,EAAQ/K,UAAUqF,QAAU,SAAU7I,GAClC,IAAIyJ,EAAS,eAAU,sBAAwB,EAAc,IAAK9K,KAAK6G,SACvExF,EAAQrB,KAAK6G,QAAQe,UAAUC,IAAI,GAAe7H,KAAK6G,QAAQe,UAAU+B,OAAO,GAChF,GAAG5F,MAAM+C,KAAKgE,GAAQhB,SAAQ,SAAUM,GACpCA,EAAGtB,aAAa,WAAazH,EAAc,KAAN,SAG7CuO,EAAQ/K,UAAUiL,qBAAuB,SAAUjJ,GAC/C,IAAIU,EAAKV,EAAQU,GAAGzD,OAAO,QACvBwM,EAAiB,eAAS,MAAO,CAAE1H,UAAW,GAAc,IAAM+G,KAClEY,EAAU,KAAO1J,EAAQU,GAAGzD,OAAO,QAAUyL,EAAiB,IAAME,GACpEe,EAAU,eAAS,MAAO,CAAEjJ,GAAIA,EAAGzD,OAAO,QAAS8E,UAAW2H,IAC9D/F,EAAU,eAAS,MAAO,CAAE5B,UAAW0G,EAAmB,IAAM,EAAe,aACnFkB,EAAQrH,YAAYqB,GACpB,IAAIiG,EAAQ,eAAS,MAAO,CAAE7H,UAAW,GAAc,IAAM8G,KACzD1P,KAAKqH,SACLmJ,EAAQ5I,UAAUC,IAAI,cAE1BhB,EAAQsC,YAAYmH,GACpBzJ,EAAQsC,YAAYqH,GACpB3J,EAAQ6D,aAAa+F,EAAO5J,EAAQ8D,YACpC3K,KAAK4K,aAAa,CAAC4F,KAEvBZ,EAAQ/K,UAAU0D,cAAgB,SAAU1B,GACxC,IAAIU,EAAKV,EAAQU,GAAGzD,OAAO,QACvByM,EAAU,KAAO1J,EAAQU,GAAGzD,OAAO,QAAUyL,EAAiB,IAAME,GACpE7F,EAAM,eAAS,MAAO,CAAErC,GAAIA,EAAGzD,OAAO,SAAU8E,UAAW2H,IAC/D3G,EAAId,aAAa,gBAAiB,SAClC,IAAI0B,EAAU,eAAS,MAAO,CAAE5B,UAAW0G,EAAmB,IAAM,EAAe,aAC/EoB,EAAQ,KAAO7J,EAAQU,GAAGzD,OAAO,QAAUyL,EAAiB,IAAMC,GAClEmB,EAAa,eAAS,MAAO,CAAEpJ,GAAIA,EAAGzD,OAAO,OAAQ8E,UAAW8H,EAAQ,IAAM,IAClFC,EAAW7H,aAAa,gBAAiB,QACzC,IAAI8H,EAAY,eAAS,MAAO,CAAEhI,UAAWyG,EAAiB,IAAM,EAAe,aACnFsB,EAAWxH,YAAYyH,GACvBhH,EAAIT,YAAYqB,GAChBZ,EAAId,aAAa,WAAY,KAC7BjC,EAAQsC,YAAYS,GACpB/C,EAAQ6D,aAAaiG,EAAY9J,EAAQ8D,YACrC3K,KAAKqH,UACLuC,EAAIhC,UAAUC,IAAI,cAClB8I,EAAW/I,UAAUC,IAAI,eAE7B7H,KAAK4K,aAAa,CAAChB,EAAK+G,KAE5Bf,EAAQ/K,UAAUmG,WAAa,SAAU6F,GACrC,IAAI5F,EAAQjL,KACZ,GAAe,UAAX6Q,EAAG/P,IAAiB,CACpB,IAAIoK,EAAe,WACfD,EAAME,YAAa,EACnBF,EAAMG,aAAa,GAAIyF,EAAGpP,QAAQ,IAEtCzB,KAAKqL,SAAWC,OAAOC,YAAW,WAAcL,MAAmB,OAG3E0E,EAAQ/K,UAAU2G,QAAU,SAAUqF,GACnB,UAAXA,EAAG/P,MAGHd,KAAKmL,WACLnL,KAAKmL,YAAa,EAGlB0F,EAAGpP,OAAOgK,QAEdC,aAAa1L,KAAKqL,YAEtBuE,EAAQ/K,UAAU+F,aAAe,SAAU/D,GACvC,IAAIoE,EAAQjL,KACZ,GAAG+D,MAAM+C,KAAKD,GAASiD,SAAQ,SAAUf,GACrC,IAAI,OAAMA,EAAK,CAAE4C,QAASV,EAAMW,eAAe3D,KAAKgD,GAAQY,iBAAkB,MAC9E9C,EAAI+C,iBAAiB,UAAWb,EAAMD,WAAW/C,KAAKgD,IACtDlC,EAAI+C,iBAAiB,QAASb,EAAMO,QAAQvD,KAAKgD,IACjDlC,EAAI+C,iBAAiB,UAAWb,EAAMc,aAAa9D,KAAKgD,IACxDlC,EAAI+C,iBAAiB,WAAYb,EAAMc,aAAa9D,KAAKgD,IACzDlC,EAAI+C,iBAAiB,eAAe,SAAUnJ,GAC1CA,EAAEqJ,oBAEN,OAAanE,IAAIkB,EAAK,QAASkC,EAAMgB,kBAAmBhB,OAGhE2E,EAAQ/K,UAAUkH,aAAe,WAC7BG,cAAclM,KAAKmM,UAEvByD,EAAQ/K,UAAU+G,eAAiB,SAAUiF,GACzC,IAAI5F,EAAQjL,KACRoM,EAAOyE,EAAGxE,cAAc5K,OAC5B2K,EAAOpM,KAAKsM,SAASF,EAAMmD,GAAkBnD,EAAKG,kBAAoBH,EACtE,IAAI0E,EAAiB,GACjBrE,EAAa,WACbxB,EAAMG,aAAa0F,EAAgB1E,GAAM,IAE7CpM,KAAKmM,QAAUb,OAAOoB,aAAY,WAAcD,MAAiB,KAErEmD,EAAQ/K,UAAUyH,SAAW,SAAUzF,EAAS+B,GAC5C,OAAO/B,EAAQe,UAAU0E,SAAS1D,IAEtCgH,EAAQ/K,UAAUuG,aAAe,SAAUoB,EAAWJ,EAAMO,GACtC3M,KAAK6G,QAAvB,IACIe,EAAYwE,EAAKxE,UACjBA,EAAU0E,SAASiD,KACnB3H,EAAYwE,EAAKS,cAAc,IAAM,GAAcjF,WAEnDA,EAAU0E,SAASgD,GACnBtP,KAAK+M,mBAAmBP,EAAW,MAAOG,GAErC/E,EAAU0E,SAAS+C,IACxBrP,KAAK+M,mBAAmBP,EAAW,GAAIG,IAG/CiD,EAAQ/K,UAAUoH,kBAAoB,SAAU8E,GAC5C/Q,KAAKoL,aAAapL,KAAKyI,WAAYsI,EAAMtP,QAAQ,IAErDmO,EAAQ/K,UAAUkL,kBAAoB,SAAUpN,GAC5CA,EAAEqJ,iBACFhM,KAAK+M,mBAAmB/M,KAAKyI,WAAa9F,EAAEqO,OAAS,EAAI,MAAQ,IAAK,IAE1EpB,EAAQ/K,UAAUsD,aAAe,SAAUxF,GACvC,IACIqK,EADAiE,EAAejR,KAAKoI,UAGpB4E,EADArK,EAAEuK,UAAY,EACHvK,EAAEuO,WAA0B,GAAbvO,EAAEuK,UAGjBvK,EAAEuO,UAAYvO,EAAEuK,SAE/B,IAAIE,EAAQ,GACRC,EAAU,WACV,IAAIC,EAAOC,KAAKC,IAAIJ,GAChBE,GAAQ,EACRhC,OAAOmC,qBAAqBH,IAGH,OAArB3K,EAAE+K,eACFuD,EAAaE,WAAanE,EAAWM,EAEX,SAArB3K,EAAE+K,iBACPuD,EAAaE,WAAanE,EAAWM,GAEzCF,GAAS,IACT9B,OAAOqC,sBAAsBN,KAGrCA,KAEJuC,EAAQ/K,UAAU+I,eAAiB,SAAUC,EAAWC,GACrC,QAAXA,EACA9N,KAAKoI,UAAU+I,WAAatD,EAG5B7N,KAAKoI,UAAU+I,WAAatD,GAGpC+B,EAAQ/K,UAAUkI,mBAAqB,SAAUgB,EAAaD,EAAQnB,GAClE,IAAI1B,EAAQjL,KACRsN,EAAO,GACX,GAAIX,EACA3M,KAAK4N,eAAeG,EAAaD,OADrC,CAIK9N,KAAKoH,YACN,GAAGrD,MAAM+C,KAAK,eAAU,IAAM,GAAa9G,KAAK6G,UAAUiD,SAAQ,SAAUM,GACxE2D,GAAe3D,EAAG4F,gBAG1B,IAAI3C,EAAU,WACNU,EAAcT,EACdhC,OAAOmC,qBAAqBH,IAG5BrC,EAAM2C,eAAeN,EAAMQ,GAC3BC,GAAeT,EACfhC,OAAOqC,sBAAsBN,KAGrCA,MAEJuC,EAAQ/K,UAAUmD,aAAe,SAAUrF,GACvC,IACIqK,EADA5C,EAAKpK,KAAKoI,UAEd4E,EAAWrK,EAAEuO,UACa,OAAtBvO,EAAEqL,gBACF5D,EAAG+G,UAAY/G,EAAG+G,UAAYnE,EAEH,SAAtBrK,EAAEqL,kBACP5D,EAAG+G,UAAY/G,EAAG+G,UAAYnE,IAGtC4C,EAAQ/K,UAAUoJ,eAAiB,SAAUmD,EAAeC,GACxD,GAAIrR,KAAKmH,SAAU,CACf,IAAIiH,EAAW,eAAkBgD,GAAiBC,EAAmBD,EACjE/C,EAAYD,EAASvB,cAAc,IAAM,GACzC,eAAkBuE,GAClB,eAAU/C,EAAW,CAACiB,GAAmB,CAACD,IAG1C,eAAUhB,EAAW,CAACgB,GAAiB,CAACC,SAI5C8B,EAAcxJ,UAAUC,IAAI,GAC5BuJ,EAActI,aAAa,gBAAiB,QAC5CsI,EAAcnH,gBAAgB,YAC9BoH,EAAiBzJ,UAAU+B,OAAO,GAClC0H,EAAiBvI,aAAa,gBAAiB,SAC/CuI,EAAiBvI,aAAa,WAAY,KAE9C9I,KAAK+L,gBAET6D,EAAQ/K,UAAUgL,mBAAqB,SAAUlN,GAC7C,IAAIlB,EAASkB,EAAElB,OACX6P,EAAS7P,EAAOuO,aAEhBuB,GADUvR,KAAK6G,QACJ7G,KAAK6G,QAAQgG,cAAc,IAAM2C,IAC5CgC,EAAaxR,KAAK6G,QAAQgG,cAAc,IAAM4C,GAC9CgC,EAAYzR,KAAK6G,QAAQgG,cAAc,IAAM6C,IAC7CgC,EAAc1R,KAAK6G,QAAQgG,cAAc,IAAM8C,IAC/CwB,EAAY1P,EAAO0P,UAkBvB,GAjBIA,GAAa,IACbA,GAAaA,GAEbnR,KAAKmH,WAEDsK,EAAUhK,MAAM6J,OADhBH,EAAY,GACaA,EAAY,KAGZ,OAExB1P,EAAOkQ,aAAepE,KAAKqB,KAAK0C,EAASH,GAAc,GACxDO,EAAYjK,MAAM6J,OAAU7P,EAAOkQ,aAAepE,KAAKqB,KAAK0C,EAASH,GAAc,KAGnFO,EAAYjK,MAAM6J,OAAS,QAGjB,IAAdH,EACAnR,KAAKiO,eAAesD,EAAUC,QAE7B,GAAIjE,KAAKqB,KAAK0C,EAASH,EAAY,KAAO1P,EAAOkQ,aAClD3R,KAAKiO,eAAeuD,EAAYD,OAE/B,CACD,IAAI1C,EAAS7O,KAAK6G,QAAQgG,cAAc,IAAM0C,EAAiB,IAAM,GACjEV,IACAA,EAAOjH,UAAU+B,OAAO,GACxBkF,EAAO/F,aAAa,gBAAiB,SACrC+F,EAAO/F,aAAa,WAAY,QAW5C8G,EAAQ/K,UAAUiK,kBAAoB,SAAUC,EAASC,GACrD,IAAK,IAAIzL,EAAK,EAAGwG,EAAKzF,OAAO2K,KAAKF,GAAUxL,EAAKwG,EAAG3E,OAAQ7B,IAAM,CAC9D,IAAI2L,EAAOnF,EAAGxG,GACd,OAAQ2L,GACJ,IAAK,aACDlP,KAAKwI,iBACL,MACJ,IAAK,YACDuG,EAAQpH,UAAY3H,KAAK6G,QAAQe,UAAUC,IAAI,GAAW7H,KAAK6G,QAAQe,UAAU+B,OAAO,GACxF,SAIhB,EAAW,CACP,eAAS,OACViG,EAAQ/K,UAAW,kBAAc,GACpC+K,EAAU,EAAW,CACjB,QACDA,GACIA,EA9YiB,CA+Y1B,QCjcE,GAAwC,WACxC,IAAIzL,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,gBAClB,CAAEC,UAAW,cAAgBpB,OAAS,SAAUgB,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAII,KAAKJ,EAAOA,EAAEK,eAAeD,KAAIL,EAAEK,GAAKJ,EAAEI,KAClEN,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASM,IAAO3E,KAAK4E,YAAcR,EADnCD,EAAcC,EAAGC,GAEjBD,EAAES,UAAkB,OAANR,EAAaC,OAAOQ,OAAOT,IAAMM,EAAGE,UAAYR,EAAEQ,UAAW,IAAIF,IAV3C,GAaxC,GAA0C,SAAUK,EAAYvD,EAAQX,EAAKmE,GAC7E,IAA2Hb,EAAvHc,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIzD,EAAkB,OAATwD,EAAgBA,EAAOX,OAAOgB,yBAAyB7D,EAAQX,GAAOmE,EACrH,GAAuB,kBAAZM,SAAoD,oBAArBA,QAAQC,SAAyBH,EAAIE,QAAQC,SAASR,EAAYvD,EAAQX,EAAKmE,QACpH,IAAK,IAAIQ,EAAIT,EAAWI,OAAS,EAAGK,GAAK,EAAGA,KAASrB,EAAIY,EAAWS,MAAIJ,GAAKH,EAAI,EAAId,EAAEiB,GAAKH,EAAI,EAAId,EAAE3C,EAAQX,EAAKuE,GAAKjB,EAAE3C,EAAQX,KAASuE,GAChJ,OAAOH,EAAI,GAAKG,GAAKf,OAAOoB,eAAejE,EAAQX,EAAKuE,GAAIA,GAa5DuM,GAAe,aACfC,GAAY,kBACZC,GAAW,yBACXC,GAAW,iBACX,GAAU,QACVC,GAAgB,cAChBC,GAAgB,kBAChBC,GAAgB,oBAChBC,GAAgB,eAChBC,GAAe,aACf,GAAc,YACdC,GAAgB,iBAChBC,GAAe,eACfC,GAAmB,kBACnBC,GAAkB,kBAClBC,GAAc,aACdC,GAAc,YACdC,GAAkB,eAClBC,GAAgB,kBAChBC,GAAe,iBACfC,GAAiB,mBACjBC,GAAc,aACdC,GAAiB,oBACjBC,GAAiB,oBACjB,GAAiB,gBACjBC,GAAe,YACfC,GAAiB,gBACjBC,GAAY,kBACZC,GAAkB,kBAClBC,GAAiB,eACjBC,GAAiB,WACjBC,GAAa,gBACbC,GAAa,WACbC,GAAe,qBACfC,GAAkB,iBAClBC,GAAyB,uBACzBC,GAA2B,uBAC3BC,GAA0B,qBAC1BC,GAAsB,qBACtBC,GAAkB,iBAClBC,GAAsB,kBAItB,GAAsB,SAAUvN,GAEhC,SAASwN,IACL,OAAkB,OAAXxN,GAAmBA,EAAOyN,MAAMnU,KAAMmF,YAAcnF,KAqD/D,OAvDA,GAAUkU,EAAMxN,GAIhB,GAAW,CACP,eAAS,KACVwN,EAAKrP,UAAW,UAAM,GACzB,GAAW,CACP,eAAS,KACVqP,EAAKrP,UAAW,YAAQ,GAC3B,GAAW,CACP,eAAS,SACVqP,EAAKrP,UAAW,aAAS,GAC5B,GAAW,CACP,eAAS,KACVqP,EAAKrP,UAAW,gBAAY,GAC/B,GAAW,CACP,gBAAS,IACVqP,EAAKrP,UAAW,yBAAqB,GACxC,GAAW,CACP,gBAAS,IACVqP,EAAKrP,UAAW,gBAAY,GAC/B,GAAW,CACP,eAAS,KACVqP,EAAKrP,UAAW,kBAAc,GACjC,GAAW,CACP,eAAS,KACVqP,EAAKrP,UAAW,kBAAc,GACjC,GAAW,CACP,gBAAS,IACVqP,EAAKrP,UAAW,eAAW,GAC9B,GAAW,CACP,eAAS,SACVqP,EAAKrP,UAAW,gBAAY,GAC/B,GAAW,CACP,eAAS,KACVqP,EAAKrP,UAAW,gBAAY,GAC/B,GAAW,CACP,eAAS,WACVqP,EAAKrP,UAAW,YAAQ,GAC3B,GAAW,CACP,eAAS,SACVqP,EAAKrP,UAAW,kBAAc,GACjC,GAAW,CACP,eAAS,OACVqP,EAAKrP,UAAW,sBAAkB,GACrC,GAAW,CACP,eAAS,KACVqP,EAAKrP,UAAW,mBAAe,GAClC,GAAW,CACP,eAAS,SACVqP,EAAKrP,UAAW,aAAS,GAC5B,GAAW,CACP,kBACDqP,EAAKrP,UAAW,aAAS,GACrBqP,EAxDc,CAyDvB,QAYE,GAAyB,SAAUxN,GAOnC,SAAS0N,EAAQxN,EAASC,GACtB,IAAIoE,EAAQvE,EAAOI,KAAK9G,KAAM4G,EAASC,IAAY7G,KAgBnD,OAfAiL,EAAMoJ,cAAgBpJ,EAAMqJ,OAAOrM,KAAKgD,GAIxCA,EAAMsJ,WAAa,CACfC,SAAU,YACVC,UAAW,aACXC,OAAQ,UACRC,SAAU,YACVC,UAAW,QACXC,WAAY,SACZC,IAAK,MACLC,KAAM,OACNC,IAAK,OAEF/J,EAggEX,OAvhEA,GAAUmJ,EAAS1N,GA6BnB0N,EAAQvP,UAAU6E,QAAU,WACxB,IAAIuB,EAAQjL,KAQZ,GAPA0G,EAAO7B,UAAU6E,QAAQ5C,KAAK9G,MAC9BA,KAAKiV,eACLjV,KAAKkV,OAAOpL,SAAQ,SAAUf,GACrB,eAAMkC,EAAMpE,QAAQgG,cAAc9D,MACnCoM,SAASC,KAAKjM,YAAY8B,EAAMpE,QAAQgG,cAAc9D,IAAMtB,MAAMC,QAAU,WAGhF,kBAAc1H,KAAKqV,iBACnBrV,KAAKsV,uBAEJ,CACD,IAAIC,EAAcvV,KAAK6G,QAAQ2O,iBAAiB,cAChD,GAAGzR,MAAM+C,KAAKyO,GAAazL,SAAQ,SAAU2L,GACzC,IAAIC,EAAYD,EAAKE,cACrB,GAAID,EAAW,CACX,IAAIE,EAAWF,EAAU,GACrBE,GACAA,EAASlM,cAKzB,MAAO1J,KAAK6G,QAAQgP,mBAAqB7V,KAAK6G,QAAQgP,iBAAiBjO,UAAU0E,SAASwF,IACtF9R,KAAK6G,QAAQiP,YAAY9V,KAAK6G,QAAQgP,kBAEtC7V,KAAK+V,SACL/V,KAAK6G,QAAQsC,YAAYnJ,KAAKgW,SAElChW,KAAKiW,gBACLjW,KAAKkW,OAAS,KACdlW,KAAKmW,UAAY,KACjBnW,KAAK2J,OAAO3J,KAAK6G,QAAS,aACtB7G,KAAKoW,UACL,eAAY,CAACpW,KAAK6G,SAAU7G,KAAKoW,SAASC,MAAM,MAEpDrW,KAAK6G,QAAQoD,gBAAgB,SAC7B,CAAC,gBAAiB,mBAAoB,gBAAiB,QAAQH,SAAQ,SAAUwM,GAC7E,OAAOrL,EAAMpE,QAAQoD,gBAAgBqM,OAO7ClC,EAAQvP,UAAUkC,UAAY,WAC1B,IAAIwP,EAAY,CAAEC,gBAAiBxW,KAAKwW,gBAAiB/N,WAAYzI,KAAKyI,YAC1EzI,KAAKyW,QAAQ,eAAgBF,GAC7BvW,KAAKwW,gBAAkBD,EAAUC,gBACjCxW,KAAKyI,WAAa8N,EAAU9N,WAC5BzI,KAAK0W,aAAe,KACpB1W,KAAKkW,OAAS,KACdlW,KAAKkV,OAAS,GACdlV,KAAK2W,aAAe3W,KAAK4W,MACzB5W,KAAK6W,aAAa7W,KAAK6G,QAAQe,UAAU0E,SAASsF,IAClD5R,KAAK8W,gBAAiB,EACtB9W,KAAK+W,cAAgB,EACjB/W,KAAK2H,WACL3H,KAAK6H,IAAI7H,KAAK6G,QAAS,KAG/BuN,EAAQvP,UAAUmS,WAAa,WAC3B,OAAanP,IAAI7H,KAAK6G,QAAS,QAAS7G,KAAKiX,aAAcjX,MAC3DsL,OAAOQ,iBAAiB,SAAU9L,KAAKqU,eACnCrU,KAAKkX,eACLlX,KAAKmX,qBAGb/C,EAAQvP,UAAUsS,kBAAoB,WAClCnX,KAAKoX,UAAY,IAAI,OAAepX,KAAK6G,QAAS,CAC9CwQ,UAAWrX,KAAKsX,iBAAiBrP,KAAKjI,MACtCuU,WAAYvU,KAAKuU,aAErB,OAAa1M,IAAI7H,KAAK6G,QAAS,UAAW7G,KAAKuX,WAAYvX,MAC3DA,KAAK6G,QAAQiC,aAAa,WAAY,MAE1CsL,EAAQvP,UAAU2S,oBAAsB,WAChCxX,KAAKoX,YACL,OAAazN,OAAO3J,KAAK6G,QAAS,UAAW7G,KAAKuX,YAClDvX,KAAKoX,UAAU1N,UACf1J,KAAKoX,UAAY,OAGzBhD,EAAQvP,UAAU0S,WAAa,SAAU5U,GACrC,GAAyB,UAArBA,EAAElB,OAAOgW,QAAb,CAGA,IAAIC,GAAY,eAAM1X,KAAKkW,SAAW,eAAUlW,KAAKkW,OAAOrP,UAAkC,aAAtB7G,KAAK2X,aAC3D,IAAdhV,EAAEiV,UAA8D,IAA7CjV,EAAElB,OAAOmG,UAAU0E,SAAS,cAAyBoL,GACxE1X,KAAKkW,OAAO2B,KAAK,CAAE1W,KAAM,UAAW2W,SAAU,MAElD,IAAIC,EAA0B,KAAdpV,EAAEiV,SAAgC,KAAdjV,EAAEiV,SAAgC,KAAdjV,EAAEiV,SAAgC,KAAdjV,EAAEiV,QAC1EG,GACApV,EAAEqJ,mBAGVoI,EAAQvP,UAAUoQ,aAAe,WAC7B,OAAatL,OAAO3J,KAAK6G,QAAS,QAAS7G,KAAKiX,cAChDjX,KAAKgY,gBACLhY,KAAKwX,sBACLlM,OAAO2M,oBAAoB,SAAUjY,KAAKqU,eAC1C,OAAa1K,OAAOwL,SAAU,SAAUnV,KAAKkY,UAC7C,OAAavO,OAAOwL,SAAU,QAASnV,KAAKkY,WAEhD9D,EAAQvP,UAAUoR,cAAgB,WAC9BjW,KAAKmY,QAAU,GACfnY,KAAKoY,WAAa,CAAEC,MAAO,GAAIC,QAAS,GAAIC,OAAQ,KAExDnE,EAAQvP,UAAUqT,SAAW,SAAUvV,GACnC,IAAI6V,EAAS,eAAQ7V,EAAElB,OAAQ,YAC3BzB,KAAKkW,QAAU,eAAUlW,KAAKkW,OAAOrP,WAAa2R,GAAgC,UAAtBxY,KAAK2X,cACjE3X,KAAKkW,OAAO2B,KAAK,CAAE1W,KAAM,UAAW2W,SAAU,OAGtD1D,EAAQvP,UAAUmT,cAAgB,WAC1BhY,KAAK0W,eACD1W,KAAKmW,WACLnW,KAAK6H,IAAI7H,KAAK0W,aAAa7P,QAASkM,IAExC/S,KAAK0W,aAAahN,UAClB1J,KAAK0W,aAAe,OAG5BtC,EAAQvP,UAAU4T,aAAe,WAC7B,GAAG1U,MAAM+C,KAAK9G,KAAK6G,QAAQ2O,iBAAiB,IAAMzD,KAAWjI,SAAQ,SAAUM,GAC3E,eAAOA,MAEX,IAAIsO,EAAY1Y,KAAK6G,QAAQgG,cAAc,IAAMgF,IAC7C7R,KAAKmW,YACL,GAAGpS,MAAM+C,KAAK4R,EAAUjW,UAAUqH,SAAQ,SAAUM,GAChD,eAAOA,MAEXpK,KAAKmW,WAAY,EACjBnW,KAAK2J,OAAO+O,EAAW3F,KAE3B/S,KAAKiW,iBAET7B,EAAQvP,UAAU8T,YAAc,WACxB3Y,KAAK0W,eACL1W,KAAK2J,OAAO3J,KAAK0W,aAAa7P,QAAS,IACvC7G,KAAKgY,iBAEThY,KAAK2J,OAAO3J,KAAK6G,QAASoN,IAC1BjU,KAAK2J,OAAO3J,KAAK6G,QAASiN,IAC1B,IAAI8E,EAAU5Y,KAAK6G,QAAQgG,cAAc,uBACrC+L,GACA5Y,KAAK2J,OAAOiP,EAASlF,IAErB1T,KAAKkW,QACLlW,KAAK6Y,aAAa7Y,KAAKkW,OAAOrP,SAAS,IAG/CuN,EAAQvP,UAAUgD,IAAM,SAAUkB,EAAK+P,GACnC/P,EAAInB,UAAUC,IAAIiR,IAEtB1E,EAAQvP,UAAU8E,OAAS,SAAUZ,EAAK+P,GACtC/P,EAAInB,UAAU+B,OAAOmP,IAEzB1E,EAAQvP,UAAUkU,aAAe,SAAUhQ,GACvC,IAAIiQ,EAASjQ,EAAIwD,kBACbyM,GACAA,EAAOC,QACPjZ,KAAKkZ,gBAAgBnQ,IAGrBA,EAAIkQ,SAGZ7E,EAAQvP,UAAUsU,YAAc,SAAUC,EAAWhN,GACjD,IAAIiN,EAWJ,OATIA,EADAD,GAAapZ,KAAKkW,QAAU,eAAUlW,KAAKkW,OAAOrP,SAC3C7G,KAAKkW,OAAOrP,QAAQgG,cAAc,IAAMkF,IAE1C/R,KAAK6G,UAAYuF,GAAQgN,EAEvBpZ,KAAK6G,QAAQgG,cAAc,IAAMkF,GAAW,SAAW,GAAc,WAAaC,GAAgB,WAAayB,GAAa,MAG5H,eAAQrH,EAAM,IAAM2F,IAExBsH,GAEXjF,EAAQvP,UAAUyU,YAAc,SAAUD,EAAM1W,EAAGyJ,EAAMmN,EAAQC,GAC7D,IAAItD,EAASlW,KAAKkW,OACdtJ,EAAU5M,KAAK6G,QACf4S,EAAa,CAAEtY,KAAM,UAAW2W,SAAU,KAC9C,OAAQnV,EAAEmL,QACN,IAAK,YACD,GAAI9N,KAAK6W,WACL,OAEAjK,IAAYR,EACZpM,KAAK+Y,aAAaM,GAEZE,GACNvZ,KAAK0Z,SAASL,EAAM,QAExB,MACJ,IAAK,WACD,GAAIrZ,KAAK6W,WACL,OAEC0C,GACDvZ,KAAK0Z,SAASL,EAAM,YAExB,MACJ,IAAK,OACL,IAAK,MACD,IAAItQ,OAAM,EACN4Q,OAAQ,EACZ,GAAIN,EAAM,CACN,IAAIO,EAAa,eAAQP,EAAM,YAC3BO,EACI,eAAU5Z,KAAKkW,OAAOrP,WACtB8S,EAAQ,GAAG5V,MAAM+C,KAAK8S,EAAWnX,UAE7BsG,EADa,SAAbpG,EAAEmL,OACI6L,EAAM,GAGNA,EAAMA,EAAMvU,OAAS,KAKnCuU,EAAQ3Z,KAAK6G,QAAQ2O,iBAAiB,IAAM3D,GAAY,KAAOE,IAE3DhJ,EADa,SAAbpG,EAAEmL,OACI6L,EAAM,GAGNA,EAAMA,EAAMvU,OAAS,IAG/B2D,GACA/I,KAAK+Y,aAAahQ,GAG1B,MACJ,IAAK,SACL,IAAK,WACD,IAAI1H,EAAqB,WAAbsB,EAAEmL,OAAsB,WAAa,OACjD,GAAK9N,KAAK6W,WAgBW,WAAblU,EAAEmL,OACF9N,KAAK0Z,SAASL,EAAM,YAGpBrZ,KAAK0Z,SAASL,EAAM,aAnBxB,GAAInD,GAAU,eAAQ9J,EAAM,YAAa,CACrC,IAAIoM,EAAStC,EAAOrP,QAChBgT,EAAarB,EAAOjM,kBACxB,GAAe,aAAVlL,GAAwBwY,IAAeR,GAAoB,SAAVhY,GAAoBmX,EAAO3C,mBAAqBwD,EAClG,OAGArZ,KAAK0Z,SAASL,EAAMhY,OAGN,aAAbsB,EAAEmL,QAAyBoI,GAAU,eAAUA,EAAOrP,UAC3D7G,KAAK+Y,aAAaM,GAW1B,MACJ,IAAK,MACD,IAAKG,IAAcD,EAAQ,CACvB,IAAIrQ,EAAQmQ,EAAK9M,kBACbK,IAAYR,IACRpM,KAAK8Z,UACL9Z,KAAK8Z,UAAUb,SAGfjZ,KAAK+Z,gBAAgB7Q,GACrBA,EAAM+P,SAEVjZ,KAAK6G,QAAQoD,gBAAgB,aAGrC,MACJ,IAAK,aACGiM,GAAgC,aAAtBlW,KAAK2X,cACfzB,EAAO2B,KAAK4B,GAEhB,MACJ,IAAK,YACD,IAAKF,EACD,OAEArD,IAAW,eAAUA,EAAOrP,UAC5BqP,EAAOrP,QAAQY,MAAMuS,IAAMpN,EAAQoD,aAAe,KAClDkG,EAAO+D,KAAK,CAAE9Y,KAAM,SAAU2W,SAAU,OAGxC5B,EAAO2B,KAAK4B,GAEhB,QAGZrF,EAAQvP,UAAUyS,iBAAmB,SAAU3U,GAC3C,IAAIyJ,EAAOzJ,EAAElB,OACb,GAAqB,UAAjB2K,EAAKqL,SAAwC,aAAjBrL,EAAKqL,UAA0BzX,KAAK6G,QAAQe,UAAU0E,SAAS,IAA/F,CAIA,IAAI+M,EADJ1W,EAAEqJ,iBAEF,IAAIoN,EAAYhN,EAAKxE,UAAU0E,SAASoG,IACpCwH,EAAgB9N,EAAKxE,UAAU0E,SAASqG,IAC5C0G,EAAOrZ,KAAKmZ,YAAYC,EAAWhN,IAC/BiN,GAAQa,IACRla,KAAKsZ,YAAYD,EAAM1W,EAAGyJ,EAAMgN,EAAWc,KASnD9F,EAAQvP,UAAUqF,QAAU,SAAU7I,GAClC,IAAIuL,EAAU5M,KAAK6G,QACnBxF,EAAQuL,EAAQhF,UAAUC,IAAI,IAAe+E,EAAQhF,UAAU+B,OAAO,IACtEiD,EAAQ9D,aAAa,WAAazH,EAAc,KAAN,KACtCrB,KAAK8Z,WACL9Z,KAAK8Z,UAAUhR,aAAa,WAAazH,EAAc,KAAN,KAEjDrB,KAAK0W,cACL1W,KAAK0W,aAAaxM,QAAQ7I,GAE1BrB,KAAKkW,SACD,eAAUlW,KAAKkW,OAAOrP,UAAkC,aAAtB7G,KAAK2X,cACvC3X,KAAKkW,OAAO2B,OAEhBjL,EAAQC,cAAc,IAAMD,EAAQrF,GAAK,QAAQuB,aAAa,WAAazH,EAAc,KAAN,OAG3F+S,EAAQvP,UAAUsV,YAAc,SAAU/P,GAEtC,OAAOA,EAAGxC,UAAU0E,SAAS0F,KAAkB5H,EAAGxC,UAAU0E,SAAS,KAAgBlC,EAAGgQ,aAAa,aAAehQ,EAAGxC,UAAU0E,SAASmH,MAAgB,eAAUrJ,IAGxKgK,EAAQvP,UAAU6U,SAAW,SAAUW,EAASC,GAC5C,IAAIC,EAAMjW,OAAO+V,GAASC,EAAM,kBAChC,GAAIC,EAAK,CACL,IAAIC,EAAUxa,KAAKma,YAAYI,GAC/B,GAAIC,EAEA,YADAxa,KAAK0Z,SAASa,EAAKD,GAGvBta,KAAK+Y,aAAawB,QAEjB,GAAIva,KAAKmW,UAAW,CACrB,IAAInM,EAAO1F,OAAO+V,EAAQI,eAAeH,EAAM,kBAI/C,GAHK,eAAMtQ,IAAkC,IAAzBA,EAAKvH,SAAS2C,SAC9B4E,EAAO1F,OAAO0F,GAAMsQ,EAAM,oBAEzB,eAAMtQ,IAASA,EAAKvH,SAAS2C,OAAS,EACvC,GAAY,SAARkV,EAAgB,CAChB,IAAIlQ,EAAKJ,EAAK6C,cAAc,IAAMkF,IAC9B/R,KAAKma,YAAY/P,GACjBpK,KAAK0Z,SAAStP,EAAIkQ,IAGlBlQ,EAAGmC,kBAAkB0M,QACrBjZ,KAAKkZ,gBAAgB9O,QAGxB,CACGA,EAAKJ,EAAK6L,iBACV7V,KAAKma,YAAY/P,GACjBpK,KAAK0Z,SAAStP,EAAIkQ,GAGlBta,KAAK+Y,aAAa3O,MAMtCgK,EAAQvP,UAAUoS,aAAe,SAAUtU,GACvC,IAgBI+X,EAhBAzP,EAAQjL,KACRoM,EAAOzJ,EAAElB,OACTkZ,EAAUvO,EAAKxE,UACfmB,EAAM/I,KAAK6G,QACX+T,GAAkB,eAAM,eAAQxO,EAAM,IAAM+G,KAC5C0H,EAAW,eAAQzO,EAAO,IAAMsG,IAC/BmI,IACDA,EAAWzO,GAEVrD,EAAItG,SAAS,GAAGmF,UAAU0E,SAAS,cAAiBvD,EAAItG,SAAS,GAAGmF,UAAU0E,SAAS,eACpFqO,EAAQrO,SAASoG,MACrBiI,EAAUvO,EAAKS,cAAc,YAAYjF,YAEzC+S,EAAQrO,SAAS2F,KAAkB0I,EAAQrO,SAAS4F,MACpDlS,KAAK8a,kBAAkB/R,EAAK8R,EAAU,IAG1C,IAAIxB,EAAO,eAAQ1W,EAAElB,OAAQ,IAAMsQ,IACnC,IAAK,eAAMsH,KAASA,EAAKzR,UAAU0E,SAAS,KAAkBuO,EAASjT,UAAU0E,SAASoG,IAA1F,CAGA,GAAI2G,EAAM,CACN,IAAI0B,EAAW/a,KAAK4W,MAAM5W,KAAKmY,QAAQ6C,QAAQ3B,IAE3CqB,EADAK,GAAY,kBAAc/a,KAAKqV,iBACrB,CACN9N,GAAIwT,EAASxT,GACb0T,KAAMF,EAASE,KACf3M,MAAOyM,EAASzM,MAChB8H,SAAU2E,EAAS3E,SACnB8E,kBAAmBH,EAASG,kBAC5BC,SAAUJ,EAASI,SACnBC,WAAYL,EAASK,WACrBC,WAAYN,EAASM,WACrBC,QAASP,EAASO,QAClBC,SAAUR,EAASQ,SACnBC,SAAUT,EAASS,SACnBC,KAAMV,EAASU,KACfC,WAAYX,EAASW,WACrBC,eAAgBZ,EAASY,eACzBC,YAAab,EAASa,YACtBC,MAAOd,EAASc,MAChBpQ,MAAOsP,EAAStP,OAIVsP,EAGlB,IAAIxE,EAAY,CAAElK,cAAe1J,EAAGmZ,KAAMpB,GACtCA,IAAY,eAAMA,EAAQjP,QAC1BzL,KAAKyW,QAAQ,SAAWzW,KAAKmY,QAAQ6C,QAAQ3B,GAAQ,UAAW9C,GAE/DA,EAAUwF,QACX/b,KAAKyW,QAAQ,UAAWF,GAAW,SAAUyF,IACpC,eAAM/Q,EAAMiL,SAAW0E,IAAmBoB,EAAYD,QAAiC,UAAvB9Q,EAAM0M,cACvEqE,EAAYF,MAAkC,UAA1BE,EAAYF,KAAKL,MACrCxQ,EAAMiL,OAAO2B,KAAK,CAAE1W,KAAM,UAAW2W,SAAU,WAM/D1D,EAAQvP,UAAUiW,kBAAoB,SAAU/R,EAAK8R,EAAUoB,GAC3D,IAAI/F,EAASlW,KAAKkW,OACd,eAAUA,EAAOrP,UACjBgU,EAASjT,UAAU+B,OAAO2J,IAC1B4C,EAAO2B,KAAK,CAAE1W,KAAM,UAAW2W,SAAU,QAGrC/O,EAAInB,UAAU0E,SAAS2P,KACvB/F,EAAOvO,WAAY,EACnBuO,EAAOgG,SAAW,CAAEC,EAAG,OAAQC,EAAG,QAEf,IAAnBlG,EAAOmG,SAAkBtT,EAAInB,UAAU0E,SAAS2P,KAChD/F,EAAOvO,WAAY,EACnBuO,EAAOgG,SAAW,CAAEC,EAAG,QAASC,EAAG,QAEvClG,EAAOoG,WACPpG,EAAOqG,kBACPrG,EAAOrP,QAAQY,MAAMuS,IAAMha,KAAKwc,oBAAsB,KAC5B,aAAtBxc,KAAK2X,eACLzB,EAAOrP,QAAQY,MAAMgV,UAAY,OAErC5B,EAASjT,UAAUC,IAAIyL,IACvB4C,EAAO+D,KAAK,CAAE9Y,KAAM,SAAU2W,SAAU,QAOhD1D,EAAQvP,UAAU/E,OAAS,WACvBE,KAAKsH,aACLtH,KAAK0c,gBACL1c,KAAKgX,aACLhX,KAAK2c,kBAETvI,EAAQvP,UAAUyC,WAAa,WAC3B,IAAIgH,EAAQ,eAAWtO,KAAKsO,OACxBgD,EAAS,eAAWtR,KAAKsR,QACH,SAAtB,OAAQrK,KAAK9F,MAAmC,SAAhBnB,KAAKsR,QAA2C,aAAtBtR,KAAK2X,cAC/D,eAAS3X,KAAK6G,QAAS,CAAE,OAAUyK,IAEvC,eAAStR,KAAK6G,QAAS,CAAE,MAASyH,IAClC,IAAIsO,EAAW,CACX,KAAQ,UAAW,gBAAiB,QAAS,gBAAiB,QAC9D,mBAAqB5c,KAAK6W,WAA4B,WAAf,cAE3C,eAAW7W,KAAK6G,QAAS+V,GACrB5c,KAAKoW,UACL,eAAS,CAACpW,KAAK6G,SAAU7G,KAAKoW,SAASC,MAAM,OAGrDjC,EAAQvP,UAAU6X,cAAgB,WAC9B,IAAI3T,EAAM/I,KAAK6G,QACf7G,KAAK+V,QAAWhN,EAAItG,SAAS2C,OAAS,IAAO,mBAAepF,KAAKqV,iBAAqBtM,EAAI8D,cAAc,OAAS,KACjH7M,KAAKoY,WAAa,CAAEC,MAAO,GAAIC,QAAS,GAAIC,OAAQ,IACpDvY,KAAK6c,cACL7c,KAAK8c,gBAET1I,EAAQvP,UAAUiY,aAAe,WAC7B9c,KAAK+c,qBACD/c,KAAKmW,WACLnW,KAAKgd,kBAELhd,KAAKkW,QAAUlW,KAAKkW,OAAOrP,QAAQoW,kBAAoB,GAAKjd,KAAKkd,kBAAkBld,KAAK6G,QAAS7G,KAAKkW,OAAOrP,UAC7G7G,KAAK6Y,aAAa7Y,KAAKkW,OAAOrP,SAAS,GAE3C7G,KAAKmd,aAET/I,EAAQvP,UAAUuY,WAAa,SAAUxG,EAAOyG,GAC5C,IAAIC,EACAC,EACCvd,KAAKmY,UACNnY,KAAKmY,QAAU,IAEnB,IAAK,IAAI1S,EAAI,EAAGA,EAAImR,EAAMxR,OAAQK,IAAK,CACnC,GAAI,kBAAczF,KAAKqV,iBAAkB,CACrCrV,KAAK6W,aAAa7W,KAAK6G,QAAQe,UAAU0E,SAASsF,IAClD,IAAI4L,EAAgBxd,KAAK6G,QAAQgG,cAAc,IAAMiF,IAErD,GADAwL,EAAYE,EAAc3Q,cAAc,IAAMkF,GAAW,gBAAkBtM,EAAI,OAC1E6X,EACD,SAEsB,SAAtB1G,EAAMnR,GAAG8V,UAAuB3E,EAAMnR,GAAGyV,oBAAsBoC,EAAU1V,UAAU0E,SAAS0F,KAC5FhS,KAAK+W,gBAELH,EAAMnR,GAAGkW,gBACT3b,KAAKyd,QAAQ7G,EAAMnR,GAAGkW,eAAgB2B,GAEpB,WAAlB1G,EAAMnR,GAAGgW,OACT,OAAaiC,YAAYJ,GACzB,OAAazV,IAAIyV,EAAW,QAAStd,KAAK2d,UAAW3d,YAIzDsd,EAAYtd,KAAK4d,mBAAmBhH,EAAMnR,GAAIA,IAET,IAArCzF,KAAKmY,QAAQ6C,QAAQsC,IACrBtd,KAAKmY,QAAQ0F,KAAKP,GAEjBtd,KAAKmW,WACNnW,KAAK8d,cAAclH,EAAMnR,GAAI4X,EAAY5X,GAE7C8X,EAAWF,EAAWxQ,cAAc,cAAgB+J,EAAMnR,GAAGoW,MAAMkC,eAC/DR,GACM3G,EAAMnR,GAAGyV,mBAA2C,SAAtBtE,EAAMnR,GAAG8V,UACzCvb,KAAKoY,YAAYxB,EAAMnR,GAAGoW,MAAQ,KAAKkC,eAAeF,KAAKP,GAE/DC,EAASpU,YAAYmU,IAGrBD,EAAWlU,YAAYmU,KAInClJ,EAAQvP,UAAUmZ,oBAAsB,WACpChe,KAAK2Y,cACL3Y,KAAKsV,mBACLtV,KAAKie,sBAET7J,EAAQvP,UAAUoZ,mBAAqB,WACnC,IAAIC,EAAgBle,KAAK6G,QAAQgG,cAAc,IAAMiF,IACjDoM,EAAczb,SAAS2C,OAAS,IAChCpF,KAAKod,WAAWpd,KAAK4W,MAAO5W,KAAK6G,QAAQgG,cAAc,IAAMgF,KAC7D7R,KAAK8c,eACL9c,KAAKme,oBAGb/J,EAAQvP,UAAUyQ,iBAAmB,WACjC,IAAI4I,EAAgBle,KAAK6G,QAAQgG,cAAc,IAAMiF,IACjDsM,EAAW,GAAGra,MAAM+C,KAAK,eAAU,IAAM+K,GAAY,KAAOE,GAAU/R,KAAK6G,UAC/E,eAAOuX,EAAUF,GACjBle,KAAKiW,iBAGT7B,EAAQvP,UAAUwZ,kBAAoB,WAClC,IAAItV,EAAM/I,KAAK6G,QACX7G,KAAK6W,YACL9N,EAAInB,UAAU+B,OAAOiI,IACrB5R,KAAK6W,YAAa,EACE,SAAhB7W,KAAKsR,QAAqC,SAAhBtR,KAAKsR,SAC/BvI,EAAItB,MAAM6J,OAAStR,KAAKsR,QAE5BvI,EAAID,aAAa,mBAAoB,gBAGrCC,EAAInB,UAAUC,IAAI+J,IAClB5R,KAAK6W,YAAa,EAClB9N,EAAID,aAAa,mBAAoB,YACrC,eAAS9I,KAAK6G,QAAS,CAAE,OAAU,eAAW7G,KAAKsR,QAAS,MAAS,eAAWtR,KAAKsO,UAEzFtO,KAAK2Y,cACL3Y,KAAKme,mBAET/J,EAAQvP,UAAUyZ,WAAa,SAAUzX,EAAS0X,IACzCve,KAAK0W,cAAgB1W,KAAKwe,cAAc3X,EAAS0X,EAAW,MACzDve,KAAKmW,WACLnW,KAAK6G,QAAQgG,cAAc,IAAMgF,GAAY,KAAOiB,IAAgB7I,gBAAgB,SAEpFjK,KAAK6W,WACL7W,KAAK0W,aAAe,IAAI,GAAQ,CAAEjO,WAAYzI,KAAKyI,WAAYd,UAAW3H,KAAK2H,WAAa4W,EAAW,IAGvGve,KAAK0W,aAAe,IAAI,EAAQ,CAAEjO,WAAYzI,KAAKyI,WAAYd,UAAW3H,KAAK2H,WAAa4W,EAAW,IAE3Gve,KAAK2J,OAAO3J,KAAK0W,aAAa7P,QAASkM,IACvC,eAAS/S,KAAK6G,QAAS,CAAE0U,SAAU,aAG3CnH,EAAQvP,UAAU4Z,aAAe,SAAU7H,GACvC,IAEInP,EAFAwD,EAAQjL,KACRsO,EAAQ,EAUZ,MARA,GAAGvK,MAAM+C,KAAK,eAAU,IAAMiL,GAAU6E,IAAQ9M,SAAQ,SAAUM,GAC1D,eAAUA,KACV3C,EAAQ6D,OAAOoT,iBAAiBtU,GAChCkE,GAASrD,EAAM4L,WAAazM,EAAG4F,aAAe5F,EAAG1B,YACjD4F,GAASqQ,WAAW1T,EAAM4L,WAAapP,EAAMmX,UAAYnX,EAAMoX,aAC/DvQ,GAASqQ,WAAW1T,EAAM4L,WAAapP,EAAMqX,aAAerX,EAAMsX,gBAGnEzQ,GAEX8F,EAAQvP,UAAUma,gBAAkB,SAAU1B,GAC1C,IAAI2B,EAAYjf,KAAe,WAAI,qBAAuB,qBAC1D,OAAOsd,EAAUzQ,cAAcoS,IAEnC7K,EAAQvP,UAAU2Z,cAAgB,SAAU3X,EAASyW,GACjD,GAAI,eAAMzW,IAAY,eAAMyW,KAAe,eAAUzW,GACjD,OAAO,EAEX,IAAIqY,EAAWlf,KAAK6W,WAAahQ,EAAQmJ,aAAenJ,EAAQ6B,YAC5DyW,EAAYnf,KAAK6W,WAAayG,EAAUtN,aAAesN,EAAU5U,aACjE1I,KAAKmW,WAAanW,KAAK0W,cAAiBwI,IAAaC,KACrDA,EAAYnf,KAAKye,aAAaze,KAAK0W,aAAe1W,KAAKgf,gBAAgB1B,GAAaA,IAExF,IAAI8B,EAASvY,EAAQgG,cAAc,IAAM6F,IACrC2M,EAAYxY,EAAQgG,cAAc,IAAM8F,IACxC2M,EAAc,EAOlB,OANIF,EACAE,EAActf,KAAK6W,WAAauI,EAAOpP,aAAeoP,EAAO1W,YAExD2W,IACLC,EAActf,KAAK6W,WAAuC,EAAzBwI,EAAUrP,aAA+C,EAAxBqP,EAAU3W,aAE5EyW,EAAYD,EAAWI,GAa/BlL,EAAQvP,UAAUsZ,gBAAkB,WAChCne,KAAKsU,UAETF,EAAQvP,UAAU0a,aAAe,SAAUhB,GACnCve,KAAKmW,YACLnW,KAAK6H,IAAI0W,EAAYxL,IACrB/S,KAAKgd,oBAGb5I,EAAQvP,UAAUkY,mBAAqB,WACnC,IAAIhU,EAAM/I,KAAK6G,QACX0X,EAAaxV,EAAI8D,cAAc,IAAMgF,IACrC2N,EAAgBxf,KAAK+W,cAAgB,EACzC,GAAIhO,GAAOA,EAAItG,SAAS2C,OAAS,EAM7B,OALApF,KAAKyf,UAAY1W,EAAIL,YACrB1I,KAAK2J,OAAO3J,KAAK6G,QAAS,aACA,SAAtB,OAAQI,KAAK9F,MAAmC,SAAhBnB,KAAKsR,SACrCvI,EAAItB,MAAM6J,OAAS,IAEftR,KAAK2X,cACT,IAAK,aACG,eAAM3X,KAAK0W,eACX1W,KAAKse,WAAWvV,EAAK,GAAGhF,MAAM+C,KAAKiC,EAAI2W,uBAAuB7N,MAElE,MACJ,IAAK,QACD7R,KAAK6H,IAAI7H,KAAK6G,QAAS,aACnB7G,KAAKmW,WACLnW,KAAK2f,qBAEL3f,KAAKwe,cAAczV,EAAKwV,IAAeiB,IACvCxf,KAAK4f,sBAAsB7W,GAE/B/I,KAAKuf,aAAahB,GAClB,MACJ,IAAK,WACDve,KAAK6H,IAAI0W,EAAY7K,IACjB1T,KAAKwe,cAAczV,EAAKwV,IAAeve,KAAKmW,YAC5CnW,KAAK2f,oBACL3f,KAAK6H,IAAI0W,EAAY5K,KAEE,WAAvB5K,EAAItB,MAAM8T,WACVxS,EAAItB,MAAM8T,SAAW,IAEC,SAAtB,OAAQtU,KAAK9F,MAAwC,SAArB4H,EAAItB,MAAM6J,SAC1CvI,EAAItB,MAAM6J,OAAS,QAEvB,MACJ,IAAK,WACDtR,KAAK6H,IAAI7H,KAAK6G,QAASiN,KACnB9T,KAAKwe,cAAczV,EAAKwV,IAAeiB,KACnCxf,KAAKmW,WACLnW,KAAK2f,oBAET3f,KAAK4f,sBAAsB7W,IAE/B/I,KAAKuf,aAAahB,KAIlCnK,EAAQvP,UAAU+a,sBAAwB,SAAU7W,GAChD/I,KAAK6f,eAAe9W,EAAK,GAAGhF,MAAM+C,KAAK,eAAU,IAAM+K,GAAY,KAAOE,GAAUhJ,KACpF/I,KAAK6G,QAAQgG,cAAc,IAAM6F,IAAa5J,aAAa,WAAY,KACvE9I,KAAK6G,QAAQgG,cAAc,IAAM6F,IAAa5J,aAAa,OAAQ,SAEvEsL,EAAQvP,UAAUsY,UAAY,WAC1B,IAEI2C,EAFAjZ,EAAU7G,KAAK6G,QACfkZ,EAAU,GAAGhc,MAAM+C,KAAKD,EAAQ2O,iBAAiB,IAAMxD,KAEvDgO,EAAWnZ,EAAQgG,cAAc,IAAM+G,IACvCqM,EAAYpZ,EAAQgG,cAAc,IAAMgH,IAC5CiM,EAAsC,aAAtB9f,KAAK2X,aAA8BqI,EAAWC,EACxC,OAAlBH,IAC0B,aAAtB9f,KAAK2X,aACLmI,EAAclY,UAAU+B,OAAOiK,IAEJ,aAAtB5T,KAAK2X,cACVmI,EAAclY,UAAU+B,OAAOkK,KAGvC,IAAK,IAAIpO,EAAI,EAAGA,GAAKsa,EAAQ3a,OAAS,EAAGK,IACjCsa,EAAQta,GAAGya,WAAa,IAAgC,IAA1BH,EAAQta,GAAGya,aACf,aAAtBlgB,KAAK2X,aACLoI,EAAQta,GAAGmC,UAAUC,IAAI+L,IAEE,aAAtB5T,KAAK2X,cACVoI,EAAQta,GAAGmC,UAAUC,IAAIgM,MAKzCO,EAAQvP,UAAUgb,eAAiB,SAAU9W,EAAKC,GAC9C,IAAImX,EAAWpX,EAAI8D,cAAc,IAAM6F,IACnC0N,EAAWpgB,KAAK6W,WACfsJ,GACDngB,KAAKqgB,gBAAgBtX,GAEzBoX,EAAWpX,EAAI8D,cAAc,IAAM6F,IACnC,IAAI4N,EAAeF,EAAWD,EAASnQ,aAAemQ,EAASzX,YAC3DwW,GAAakB,EAAWrX,EAAIiH,aAAejH,EAAIL,aAAe,EAClE1I,KAAK6G,QAAQe,UAAU+B,OAAO,SAC9B,eAAS3J,KAAK6G,QAAS,CAAE0Z,UAAW,YACpCvgB,KAAKwgB,cAAczX,EAAKC,EAAUkW,GAAU,GACxClf,KAAK2H,WACL3H,KAAK6G,QAAQe,UAAUC,IAAI,SAE/B7H,KAAK6G,QAAQY,MAAMgZ,eAAe,aAClCzgB,KAAK0gB,eAETtM,EAAQvP,UAAU8b,iBAAmB,SAAUC,EAASC,EAAU9X,EAAK+X,EAAWC,GAC9E,IAAIla,EAAU+Z,EAAQ/Z,QAClB8S,EAAQ,eAAU,IAAMpH,GAAkBxJ,GAC1CiY,EAAY,EACZC,EAAY,GAAGld,MAAM+C,KAAK,eAAU,IAAMsM,GAAWvM,EAAQgG,cAAc,IAAMgF,MACjFqP,EAAU,EACdD,EAAUnX,SAAQ,SAAUM,EAAI7H,GAC5BoX,EAAQ,eAAU,IAAMpH,GAAkBxJ,GACtCqB,EAAGxC,UAAU0E,SAASiG,KAAqBoH,EAAMvU,OAAS,EACtDwb,EAAQO,UAAYxH,EAAMvU,OAAS7C,GACnCwG,EAAI2B,aAAaN,EAAIuP,EAAMpX,MACzB2e,IAGFnY,EAAI2B,aAAaN,EAAIrB,EAAItG,SAASkX,EAAMvU,WACtC8b,GAGD9W,EAAGxC,UAAU0E,SAASiG,KAItBqO,EAAQO,UAAY/W,EAAGxC,UAAU0E,SAASkG,KAAoBzJ,EAAItG,SAAS2C,OAAS,GAAsB,IAAjBuU,EAAMvU,QAHpG2D,EAAI2B,aAAaN,EAAIrB,EAAI4B,cACvBuW,GAMG9W,EAAGxC,UAAU0E,SAASkG,IAC3BqO,EAAShD,KAAKzT,GAETwW,EAAQO,UACbpY,EAAI2B,aAAaN,EAAIrB,EAAIqY,WAAWJ,EAAYE,MAC9CF,GAGFjY,EAAII,YAAYiB,GAEhBA,EAAGxC,UAAU0E,SAAS0F,IACtB,eAAS5H,EAAI,CAAE1C,QAAS,GAAI4J,OAAQyP,EAAY,OAGhD,eAAS3W,EAAI,CAAE1C,QAAS,GAAI4J,OAAQwP,EAAY,UAGxDD,EAAS/W,SAAQ,SAAUM,GACvBrB,EAAII,YAAYiB,MAGpB,IADA,IAAI+N,EAAU,eAAU,IAAMpG,GAAUlL,EAAQgG,cAAc,IAAMgF,KAC3DpM,EAAI0S,EAAQ/S,OAAS,EAAGK,GAAK,EAAGA,IAAK,CAC1C,IAAI4b,EAAclJ,EAAQ1S,GAC1B,IAAI4b,EAAYzZ,UAAU0E,SAAS0F,KAAwC,aAAtBhS,KAAK2X,aAItD,MAHA,eAAS0J,EAAa,CAAE3Z,QAAS,WAO7C0M,EAAQvP,UAAU6b,YAAc,WAC5B,IACII,EACAf,EACAgB,EACAO,EAOAvY,EAXAlC,EAAU7G,KAAK6G,QAKO,aAAtB7G,KAAK2X,eACL2J,EAAUza,EAAQgG,cAAc,IAAMmF,GAAgB,SAAWoB,GAAY,KAC7E2N,EAAsC,SAAzBla,EAAQY,MAAM6J,QAA8C,KAAzBzK,EAAQY,MAAM6J,OAAiB,KAAOgQ,EAAQtR,cAElG+P,EAAUlZ,EAAQgG,cAAc,IAAMkF,GAAW,SAAWC,GAAgB,UAAYoB,GAAY,KACpG0N,EAAsC,SAAzBja,EAAQY,MAAM6J,QAA8C,KAAzBzK,EAAQY,MAAM6J,OAAiB,KAAQyO,GAAWA,EAAQ/P,aAE1G,IAAI6Q,EAAW,GACf,GAAIha,EAAQgG,cAAc,IAAMhG,EAAQU,GAAK,UAAY4L,IACrDpK,EAAMlC,EAAQgG,cAAc,IAAMhG,EAAQU,GAAK,UAAY4L,QAE1D,CACD,IAAIoO,EAAYvhB,KAAK2I,cAAc,MAAO,CACtCpB,GAAIV,EAAQU,GAAK,SAAUqB,UAAWuK,GAAiB,IAAMY,KAE7DyN,EAAWxhB,KAAK2I,cAAc,MAAO,CAAEpB,GAAIV,EAAQU,GAAK,SAAUqB,UAAWuK,KACjFpK,EAA4B,aAAtB/I,KAAK2X,aAA8B4J,EAAYC,EAEzDxhB,KAAK2gB,iBAAiB3gB,KAAM6gB,EAAU9X,EAAK+X,EAAWC,GACtD/gB,KAAKyhB,UAAU5a,EAASkC,IAE5BqL,EAAQvP,UAAU2X,kBAAoB,WAClC,MAA8B,aAAtBxc,KAAK2X,cAAwG,eAAzErM,OAAOoT,iBAAiB1e,KAAK6G,SAAS6a,iBAAiB,cAC/F1hB,KAAK6G,QAAQ8a,aAAe3hB,KAAK6G,QAAQmJ,cAEjDoE,EAAQvP,UAAU4c,UAAY,SAAU5a,EAASkC,GAC7C,GAAK/I,KAAKkW,OAoCL,CACD,IAAIsL,EAAWxhB,KAAKkW,OAAOrP,QAC3B,eAAS2a,EAAU,CAAEI,UAAW,GAAIla,QAAS,UAC7C,eAAS8Z,EAAU,CAAEI,UAAWJ,EAASxR,aAAe,KAAMtI,QAAS,SAvCzD,CACdb,EAAQsC,YAAYJ,GACpB,eAAS/I,KAAK6G,QAAS,CAAE0U,SAAU,KACnC,IAAIsG,EAAYvW,OAAOoT,iBAAiB1e,KAAK6G,SACzCib,EAAQ,IAAI,OAAM,KAAM,CACxBC,SAAU/hB,KAAK6G,QACfmb,QAAUhiB,KAAe,WAAI,EAAIA,KAAKwc,oBACtC7U,UAAW3H,KAAK2H,UAChBsa,KAAMjiB,KAAK4U,UAAU3M,KAAKjI,MAC1BkiB,MAAOliB,KAAK6U,WAAW5M,KAAKjI,MAC5BmiB,UAAW,CAAE/F,EAAGpc,KAAKwW,gBAAkB,OAAS,QAChD0F,SAAUlc,KAAK2H,UAAY,CAAEwU,EAAG,OAAQC,EAAG,OAAU,CAAED,EAAG,QAASC,EAAG,SAa1E,GAXA0F,EAAMM,SAASrZ,GACW,aAAtB/I,KAAK2X,eACLmK,EAAMxT,MAAQqQ,WAAWkD,EAAUvT,OAAqD,EAA1CqQ,WAAWkD,EAAUQ,kBACnEP,EAAMzF,QAAU,GAEpB,OAAaxU,IAAIsN,SAAU,SAAUnV,KAAKkY,SAASjQ,KAAKjI,OACxD,OAAa6H,IAAIsN,SAAU,SAAUnV,KAAKkY,SAASjQ,KAAKjI,OACxD8hB,EAAMjb,QAAQY,MAAMma,UAAYE,EAAMjb,QAAQmJ,aAAe,KACzDhQ,KAAK6W,aACLiL,EAAMjb,QAAQY,MAAM6a,WAAa,UAEjCtiB,KAAK8W,eAAgB,CACrB,IAAI+D,EAAW7a,KAAK6G,QAAQgG,cAAc,IAAM6F,IAChDmI,EAASjT,UAAUC,IAAIyL,IACvB,eAAUuH,EAAStO,kBAAmB,CAAC0F,IAAgB,CAACC,KACxDlS,KAAK6G,QAAQgG,cAAc,IAAMkH,IAAqBnM,UAAUC,IAAIsK,SAGpE2P,EAAMjK,OAEV7X,KAAKkW,OAAS4L,EACd9hB,KAAK6G,QAAQiC,aAAa,gBAAiB,UAQnDsL,EAAQvP,UAAU0d,iBAAmB,SAAUC,GACjB,aAAtBxiB,KAAK2X,eACL6K,EAASxiB,KAAK6H,IAAI7H,KAAK6G,QAASoN,IAAuBjU,KAAK2J,OAAO3J,KAAK6G,QAASoN,MAGzFG,EAAQvP,UAAU+P,UAAY,SAAUjS,GACpC,IAAIuT,EAASlW,KAAKkW,OACblW,KAAK6W,aACNX,EAAO8L,QAAUhiB,KAAKwc,oBACtBtG,EAAOoG,YAEX,IAAIkF,EAAWxhB,KAAKkW,OAAOrP,QACvB4b,EAAUziB,KAAKkW,OAAOrP,QAAQ4T,cAC9BI,EAAW4H,EAAQ5V,cAAc,IAAM6F,IAC3C,eAASwD,EAAOrP,QAAS,CAAEyK,OAAQ,OAAQsQ,UAAW,KACtD1L,EAAOrP,QAAQY,MAAMma,UAAY1L,EAAOrP,QAAQmJ,aAAe,KACrC,aAAtBhQ,KAAK2X,eACLzB,EAAOrP,QAAQY,MAAMgV,UAAY,IAErC,IAAIiG,EAAclB,EAASmB,UAAYnB,EAASxR,aAAe,eAAkByS,GAASzI,IACtF4I,EAAU/H,EAAStO,kBACvBsO,EAASjT,UAAUC,IAAIyL,IACvB,eAAUsP,EAAS,CAAC3Q,IAAgB,CAACC,KACrClS,KAAKuiB,kBAAiB,GACtB,IAAI1U,EAAY,eAAMvC,OAAOuX,SAAW,EAAIvX,OAAOuX,QACnD,IAAK7iB,KAAK6W,YAAgBvL,OAAOwX,YAAcjV,EAAa6U,GAAiB1iB,KAAK6G,QAAQ8b,UAAYnB,EAASxR,aAAe,CAC1H,IAAI+S,EAAkBvB,EAASxR,cAAiB0S,EAAcpX,OAAOwX,YAAcjV,EAAa,GAChGqI,EAAO5E,OAASyR,EAAiB,KACjC,IAAK,IAAItd,EAAI,EAAGA,GAAK+b,EAASvE,kBAAmBxX,IAAK,CAClD,IAAIsD,EAAMyY,EAAS/e,SAASgD,GAC5B,GAAIsD,EAAI4Z,UAAY5Z,EAAIiH,aAAe+S,EAAgB,CACnDA,EAAiBha,EAAI4Z,UACrB,OAGR,eAASzM,EAAOrP,QAAS,CAAE+a,UAAWmB,EAAiB,YAEtD,GAAI/iB,KAAK6W,WAAY,CACtB,IAAImM,EAAYhjB,KAAK6G,QAAQoc,wBAC7B,eAAS/M,EAAOrP,QAAS,CAAE+a,UAAYoB,EAAUhJ,IAAMha,KAAK6G,QAAQmJ,aAAgB,KAAMkT,OAAQ,EAAGZ,WAAY,KAEjHpM,GACAA,EAAOqG,mBAGfnI,EAAQvP,UAAUgQ,WAAa,SAAUlS,GACrC,IAAIkE,EAAU7G,KAAK6G,QACfgU,EAAWhU,EAAQgG,cAAc,IAAM6F,IACvCkQ,EAAU/H,EAAStO,kBACvBsO,EAASjT,UAAU+B,OAAO2J,IAC1B,eAAUsP,EAAS,CAAC1Q,IAAgB,CAACD,KACrCjS,KAAKuiB,kBAAiB,IAE1BnO,EAAQvP,UAAU2b,cAAgB,SAAUzX,EAAKoa,EAAOjE,EAAUkE,GAkB9D,IAjBA,IAGIC,EACAC,EAJAC,EAAcvjB,KAAK+W,cAAgB,EACnCyM,EAAML,EAAM/d,OACZqe,EAASvE,EAGTwE,EAAW,EACXC,EAAY,EACZC,EAAe,EACfC,EAAa,SAAU9a,EAAK+P,GAC5B,IAAIgL,GAAO,EAMX,OALAhL,EAAIhP,SAAQ,SAAUia,GACdhb,EAAInB,UAAU0E,SAASyX,KACvBD,GAAO,MAGRA,GAEFre,EAAI+d,EAAM,EAAG/d,GAAK,EAAGA,IAAK,CAC/B,IAAIue,OAAO,EACPC,EAAa3Y,OAAOoT,iBAAiByE,EAAM1d,IAC3CzF,KAAK6W,YACLmN,EAAOrF,WAAW,EAAaC,WAC/BoF,GAAQrF,WAAW,EAAaG,gBAGhCkF,EAAOrF,WAAW,EAAaE,aAC/BmF,GAAQrF,WAAW,EAAaI,aAEpC,IAAImF,EAAcf,EAAM1d,KAAOzF,KAAKmY,QAAQ,GACxC+L,IACAlkB,KAAKmkB,YAAcH,GAEvBX,EAAYrjB,KAAK6W,WAAasM,EAAM1d,GAAGuK,aAAemT,EAAM1d,GAAGiD,YAC/D,IAAI0b,EAAWF,EAAeb,EAAYW,EAAQX,EAiBlD,GAhBIQ,EAAWV,EAAM1d,GAAI,CAAC+N,MAAgB+P,IACtCJ,EAAM1d,GAAGmC,UAAUC,IAAIuL,IACnBpT,KAAK6W,WACL,eAASsM,EAAM1d,GAAI,CAAEiC,QAAS,OAAQ+U,UAAW2H,EAAW,OAG5D,eAASjB,EAAM1d,GAAI,CAAEiC,QAAS,OAAQ2c,SAAUD,EAAW,OAE/DR,KAGAN,EADAtjB,KAAK6W,WACUsM,EAAM1d,GAAGkd,UAAYQ,EAAM1d,GAAGuK,aAAegU,EAAQ9E,EAGrDiE,EAAM1d,GAAGya,WAAaiD,EAAM1d,GAAGiD,YAAcsb,EAAQ9E,EAEpEoE,EAAa,CACb,GAAIH,EAAM1d,GAAGmC,UAAU0E,SAAS0F,KAC5B,GAA0B,aAAtBhS,KAAK2X,aAA6B,CAClC,GAAIgM,IAAcC,EAAc,CAC5B,IAAIU,EAASnB,EAAM1d,GACfoe,EAAWS,EAAQ,CAACtS,GAAeuB,OACnC4P,EAAM1d,GAAGmC,UAAUC,IAAIuL,IACvBwQ,KAGRD,SAEC,GAA0B,UAAtB3jB,KAAK2X,aAA0B,CACpC,GAAI+L,EAAW,GAAKC,IAAcC,EAAc,CACxCU,EAASnB,EAAM1d,EAAIke,GAAaD,EAAW,IAC3CG,EAAWS,EAAQ,CAACtS,GAAeuB,MACnC,eAAS+Q,EAAQ,CAAE5c,QAAS,SAGpCgc,IACAC,EAAY,EACZC,EAAe,QAInBD,IAEAR,EAAM1d,GAAGmC,UAAU0E,SAASiG,KAAqB6Q,GAG3CS,EAAWV,EAAM1d,GAAI,CAACuM,GAAeuB,KAF3C2L,IAAclf,KAAK6W,WAAasM,EAAM1d,GAAGuK,aAAemT,EAAM1d,GAAGiD,aAAe,GAGhFya,EAAM1d,GAAGmC,UAAUC,IAAIuL,IACnBpT,KAAK6W,WACL,eAASsM,EAAM1d,GAAI,CAAEiC,QAAS,OAAQ+U,UAAW2H,EAAW,OAG5D,eAASjB,EAAM1d,GAAI,CAAEiC,QAAS,OAAQ2c,SAAUD,EAAW,OAE/DR,MAOZ,GAAIR,EAAK,CACL,IAAImB,EAAW,eAAU,IAAMxS,GAAW,SAAWqB,GAAY,IAAKpT,KAAK6G,SAC3E7G,KAAKwgB,cAAczX,EAAKwb,EAAUd,GAAQ,KAGlDrP,EAAQvP,UAAUwb,gBAAkB,SAAUxZ,GAC1C,IAAIU,EAAKV,EAAQU,GAAGzD,OAAO,QACvB8E,EAAY,KAAO/B,EAAQU,GAAGzD,OAAO,QAAUoP,IACnDtK,EAAkC,aAAtB5I,KAAK2X,aAA8B/O,EAAY,IAAMoL,GAAkBpL,EACnF,IAAIgB,EAAM5J,KAAK2I,cAAc,MAAO,CAAEpB,GAAIA,EAAIqB,UAAWA,IAC/B,SAAtB,OAAQ3B,KAAK9F,MAAyC,SAAtB,OAAQ8F,KAAK9F,MAC7CyI,EAAIhC,UAAUC,IAAI,cAEtB,IAAI2C,EAAUxK,KAAK2I,cAAc,MAAO,CAAEC,UAAWsJ,GAAgB,aACrEtI,EAAIT,YAAYqB,GAChBZ,EAAId,aAAa,WAAY,KAC7Bc,EAAId,aAAa,OAAQ,QACzBjC,EAAQsC,YAAYS,IAExBwK,EAAQvP,UAAU2f,WAAa,SAAUrB,EAAOsB,EAAMC,EAAQta,EAAIua,EAAKC,EAAOC,EAAKC,GAC/E,IAAIC,EAAcD,EACdtM,EAASxY,KAAKkW,OAAOrP,QACrBme,EAAQ,IAAMjT,GAAW,SAAWC,GAAgB,UAAYO,GAAmB,IACnF0S,EAAY,eAAU,IAAM7R,GAAY,SAAWb,GAAmB,IAAKiG,GAAQpT,OACnFye,EAAa,SAAU9a,EAAK+P,GAC5B,OAAO/P,EAAInB,UAAU0E,SAASwM,IAElC,GAAuC,IAAnC,eAAUkM,EAAO7B,GAAO/d,OAAc,CACtC,IAAI8f,EAAS/B,EAAM1gB,SAASgiB,GAAQA,EAAOC,GAAU,GACjDS,GAAgB,eAAMD,IAAWrB,EAAWqB,EAAQ3R,IACxD,IAAM,eAAM2R,IAAWrB,EAAWqB,EAAQlT,MAAmB,eAAUkT,IAAYC,EAAa,CAC5F,IAAIC,EAAa,OACjBF,EAAOzd,MAAMC,QAAU,UACvB,IAAI2d,EAAcH,EAAOxc,YAAyE,EAA1DiW,WAAWrT,OAAOoT,iBAAiBwG,GAAQrG,aAC/EyG,EAAUJ,EAAOK,uBAChBX,EAAQS,EAAeR,GAAOF,GAC/BxB,EAAMzY,aAAaN,EAAI+Y,EAAM1gB,SAAUgiB,EAAOM,GAAgBN,EAAOC,KAChE,eAAMY,KACPA,EAAQ7d,MAAMC,QAAU,KAIxB4d,EAAQ1d,UAAU0E,SAAS0F,MAC3BsT,EAAQ7d,MAAMC,QAAU0d,GAGhCF,EAAOzd,MAAMC,QAAU,QAGvByb,EAAMzY,aAAaN,EAAI+Y,EAAM1gB,SAAUgiB,EAAOM,GAAgBN,EAAOC,UAIzEvB,EAAMzY,aAAaN,EAAI+Y,EAAM1gB,SAAUgiB,EAAOM,EAAeE,KAGrE7Q,EAAQvP,UAAUgU,aAAe,SAAU2I,EAAU9X,GACjD,IAAIuB,EAAQjL,KACR+I,EAAM/I,KAAK6G,QACX2e,EAAQxlB,KAAK6W,WACbuI,EAASrW,EAAI8D,cAAc,IAAM6F,IACjC1J,EAAWD,EAAI8D,cAAc,IAAMgF,IACvC,IAAI,eAAMuN,GAAV,CAKA,IAAIqG,EAFJzc,EAASiB,gBAAgB,SACzBuX,EAAS/Z,MAAMC,QAAU,QAGrB+d,EADAD,EACYzc,EAAIiH,cAAgBoP,EAAOpP,aAAehH,EAASgH,cAGnDjH,EAAIL,aAAe0W,EAAO1W,YAAcM,EAASN,aAEjE,IAAIgd,EAAgB,EACpB,GAAG3hB,MAAM+C,KAAK0a,EAAS/e,UAAUqH,SAAQ,SAAUM,GAC/Csb,GAAiBza,EAAMya,cAActb,GACrC,eAASA,EAAI,CAAE,SAAY,QAE1Bqb,GAAaD,EAAQpG,EAAOpP,aAAeoP,EAAO1W,aAAgB,GAA0C,IAAvB1I,KAAK+W,gBAC3FrN,GAAU,GAEd1J,KAAK2lB,gBAAgBF,EAAWjE,EAAU9X,GAC1C8X,EAAS/Z,MAAMC,QAAU,GACQ,IAA7B8Z,EAAS/e,SAAS2C,QAAgBga,GAAUpf,KAAKkW,SACjD,eAAOkJ,GACPA,EAAS,KACTpf,KAAKkW,OAAOxM,UACZ,eAAO1J,KAAKkW,OAAOrP,SACnB7G,KAAKkW,OAAS,KACdnN,EAAID,aAAa,gBAAiB,YAG1CsL,EAAQvP,UAAU+gB,eAAiB,SAAUrjB,EAAOyG,GAChD,IAAI6c,EAAY,GAAG9hB,MAAM+C,KAAKkC,EAASwM,iBAAiB,IAAMjC,KAC1DuS,EAAY,GACZC,EAAQ,EACZ,OAAIF,EAAUzgB,OAAS,GACnBygB,EAAU/b,SAAQ,SAAUf,GACxB+c,EAAUjI,KAAK,GAAG9Z,MAAM+C,KAAKkC,EAASvG,UAAUuY,QAAQjS,OAMhE+c,EAAUhc,SAAQ,SAAUgP,GACpBA,GAAOvW,GACPwjB,OAGDA,GAPI,GASf3R,EAAQvP,UAAUqY,kBAAoB,SAAU8I,EAAMxN,GAClDA,EAAO/Q,MAAMC,QAAU,QACvB,IAAIkd,EAAQ5kB,KAAK0lB,cAAclN,EAAOjM,mBACtCiM,EAAOjM,kBAAkB9E,MAAMgZ,eAAe,YAC9C,IAAIwF,EAAYD,EAAKtd,YAAcsd,EAAKnZ,cAAc,IAAM6F,IAAahK,YACrEwd,EAAeF,EAAKnZ,cAAc,IAAMgF,IAAWnJ,YAEvD,OADA8P,EAAO/Q,MAAMgZ,eAAe,WACxBwF,EAAarB,EAAQsB,GAK7B9R,EAAQvP,UAAU6gB,cAAgB,SAAUtb,GACxCA,EAAG3C,MAAMyU,SAAW,WACpB,IAAIiK,EAAUnmB,KAAK6W,WAAazM,EAAG4F,aAAe5F,EAAG1B,YACjD0d,EAAUhc,EAAGyC,cAAc,IAAMwG,IACrC,GAAIjJ,EAAGxC,UAAU0E,SAAS,iBAAmBlC,EAAGxC,UAAU0E,SAASgG,IAAe,CAC9E,IAAI+T,EAAMjc,EAAG3H,SAAS,IACjB,eAAM2jB,IAAYhc,EAAGxC,UAAU0E,SAASgG,IACzC8T,EAAQ3e,MAAMC,QAAU,QAElB,eAAM0e,IAAYhc,EAAGxC,UAAU0E,SAAS+F,MAC9C+T,EAAQ3e,MAAMC,QAAU,SAE5B2e,EAAI5e,MAAM4c,SAAW,KACrB8B,EAAUxH,WAAY3e,KAAK6W,WAAiCzM,EAAG3C,MAAMgV,UAA7BrS,EAAG3C,MAAM4c,UACjDgC,EAAI5e,MAAM4c,SAAW,GACrBgC,EAAI5e,MAAMgV,UAAY,GACjB,eAAM2J,KACPA,EAAQ3e,MAAMC,QAAU,IAGhC,OAAOye,GAEX/R,EAAQvP,UAAU8gB,gBAAkB,SAAUrX,EAAOkT,EAAU9X,GA8D3D,IA7DA,IAEIub,EACA1iB,EACAic,EAJA+E,EAAcvjB,KAAK+W,cAAgB,EACnCuP,EAAYtmB,KAAKmY,QAIjBnP,EAAWhJ,KAAK6G,QAAQgG,cAAc,IAAMgF,IAC5CkT,EAAc,EACdwB,EAAU,SAAUnc,GACpB,GAAIA,EAAGxC,UAAU0E,SAASkH,KAAe+P,IAAgB7Z,EACrD,MAAO,WAEX,IAAIyc,EAAUK,EAAOd,cAActb,GAKnC,GAJIA,IAAOoc,EAAOrO,QAAQ,KACtBgO,GAAWK,EAAOrC,aAEtB/Z,EAAG3C,MAAMyU,SAAW,KAChBiK,EAAU7X,GAAS5E,GAyCnB,MAAO,QAnCP,GALA,eAASU,EAAI,CAAEia,SAAU,GAAI/S,OAAQ,GAAImL,UAAW,KAC/CrS,EAAGxC,UAAU0E,SAASkG,KACvBpI,EAAGxC,UAAU+B,OAAOyJ,IAExB7Q,EAAQikB,EAAOrO,QAAQ6C,QAAQ5Q,GAC3Boc,EAAOrQ,UAAW,CAClB,IAAImE,EAAMkM,EAAO5P,MAAMrU,GAAOsZ,MAC9BtZ,EAAQikB,EAAOpO,YAAYkC,EAAM,KAAKyD,eAAe/C,QAAQ5Q,GAC7Dkc,EAAYE,EAAOpO,YAAYkC,EAAM,KAAKyD,eAC1C/U,EAAWwd,EAAO3f,QAAQgG,cAAc,IAAMgF,GAAN,eAAwCyI,EAAIyD,eAExF,IAAI0I,EAAiB,EACO,aAAxBD,EAAO7O,cACP2O,EAAUviB,MAAM,EAAGxB,GAAOuH,SAAQ,SAAUM,IACpCA,EAAGxC,UAAU0E,SAASiG,KAAqBnI,EAAGxC,UAAU0E,SAAS0F,OAC7D5H,EAAGxC,UAAU0E,SAAS0F,MACtB5H,EAAG3C,MAAMC,QAAU,GACnB4G,GAASlE,EAAG1B,aAEhB+d,QAIZ1B,EAAcyB,EAAOZ,eAAerjB,EAAOyG,GACvCoB,EAAGxC,UAAU0E,SAASiG,KACtBiU,EAAOhC,WAAWxb,EAAUzG,EAAOkkB,EAAgBrc,EAAIV,EAASyc,EAAS7X,EAAOyW,GAChFzW,GAASlE,EAAG1B,aAEG,IAAVnG,GACLyG,EAAS0B,aAAaN,EAAIpB,EAAS2B,YACnC2D,GAASlE,EAAG1B,cAGZuc,EAAY,eAAU,IAAM1S,GAAkBiU,EAAOtQ,OAAOrP,SAASzB,OACrE4D,EAAS0B,aAAaN,EAAIpB,EAASvG,SAAUF,EAAQwiB,EAAeE,IACpE3W,GAASlE,EAAG1B,aAEhB0B,EAAG3C,MAAM6J,OAAS,IAMtBkV,EAASxmB,KACJuD,EAAK,EAAGwG,EAAK,GAAGhG,MAAM+C,KAAK0a,EAAS/e,UAAWc,EAAKwG,EAAG3E,OAAQ7B,IAAM,CAC1E,IAAI6G,EAAKL,EAAGxG,GACRmjB,EAAUH,EAAQnc,GACtB,GAAgB,UAAZsc,EACA,MAERlI,EAAgBxe,KAAKwe,cAAcxe,KAAK6G,QAAS7G,KAAK6G,QAAQ6Y,uBAAuB7N,IAAW,IAC5F2M,IAAkB9U,GAClB1J,KAAK+c,sBAGb3I,EAAQvP,UAAU8a,kBAAoB,WAClC,IAAI7D,EAAO9b,KAAK6G,QAAQgG,cAAc,IAAMgF,IAC5C,IAAI,eAAMiK,IAAUA,EAAKlU,UAAU0E,SAASyG,IAA5C,CAGA/S,KAAK2J,OAAOmS,EAAM/I,IAClB,IAAIuK,EAAY,GAAGvZ,MAAM+C,KAAKgV,EAAKsF,YACnC9D,EAAU,GAAGrT,gBAAgB,SAC7BqT,EAAU,GAAGrT,gBAAgB,WAEjCmK,EAAQvP,UAAU8hB,mBAAqB,WACnC,IAAI7K,EAAO9b,KAAK6G,QAAQgG,cAAc,IAAMgF,IAC5C7R,KAAK6H,IAAIiU,EAAM/I,IACf/S,KAAKgd,mBAET5I,EAAQvP,UAAUmY,gBAAkB,WAChC,IACI4J,EADA9K,EAAO9b,KAAK6G,QAAQgG,cAAc,IAAMgF,IAE5C,IAAI,eAAMiK,IAAUA,EAAKlU,UAAU0E,SAASyG,IAA5C,CAGA,IACIuK,EADAzC,EAAW7a,KAAK6G,QAAQgG,cAAc,IAAM6F,IAEhD,GAAI1S,KAAK0W,aAAc,CACnB,IAAIuI,EAAYjf,KAAe,WAAIiT,GAAiBD,GACpDsK,EAAY,GAAGvZ,MAAM+C,KAAKgV,EAAKjP,cAAc,IAAMoS,GAAUxc,eAG7D6a,EAAY,GAAGvZ,MAAM+C,KAAKgV,EAAKsF,YAG/BwF,EADA5mB,KAAK6W,WACIyG,EAAU,GAAGtN,aAAesN,EAAU,GAAGtN,aAGzCsN,EAAU,GAAG5U,YAAc4U,EAAU,GAAG5U,YAErD,IAAIme,EAAU7mB,KAAK6W,WAAa7W,KAAK6G,QAAQmJ,aAAehQ,KAAK6G,QAAQ6B,YACzE,GAAImS,EAAU,CACVgM,GAAY7mB,KAAK6W,WAAagE,EAAS7K,aAAe6K,EAASnS,YAC/D,IAAIoe,GAAU9mB,KAAK6W,WAAagE,EAAS7K,aAAe6K,EAASnS,aAAe,KAChF4U,EAAU,GAAGrT,gBAAgB,SACzBjK,KAAK6W,WACL7W,KAAK2H,UAAY2V,EAAU,GAAG7V,MAAMuS,IAAM8M,EAASxJ,EAAU,GAAG7V,MAAMyb,OAAS4D,EAG/E9mB,KAAK2H,UAAY2V,EAAU,GAAG7V,MAAMsf,KAAOD,EAASxJ,EAAU,GAAG7V,MAAMuf,MAAQF,EAGvF,KAAID,GAAWD,GAAf,CAGA,IAAIvlB,GAAWwlB,EAAUD,GAAa5mB,KAAK6W,WAAwCyG,EAAU,GAAGtN,aAAxCsN,EAAU,GAAG5U,cAA4C,EACjH4U,EAAU,GAAGrT,gBAAgB,SAC7B,IAAI+Z,GAAUhkB,KAAK6W,WAAwCyG,EAAU,GAAGtN,aAAxCsN,EAAU,GAAG5U,aAA2CrH,EAAS,KAC7FrB,KAAK6W,WACL7W,KAAK2H,UAAY2V,EAAU,GAAG7V,MAAMqX,aAAekF,EAAO1G,EAAU,GAAG7V,MAAMmX,UAAYoF,EAGzFhkB,KAAK2H,UAAY2V,EAAU,GAAG7V,MAAMoX,YAAcmF,EAAO1G,EAAU,GAAG7V,MAAMsX,WAAaiF,KAGjG5P,EAAQvP,UAAUiZ,cAAgB,SAAUhC,EAAMmL,EAAS3M,GACvD,IAAIrP,EAAQjL,KACZ,IAAI8b,EAAKZ,mBAAuC,SAAlBY,EAAKP,SAAnC,CAGA,IAAI2L,EAAW,GAIf,GAHAA,EAASrJ,KAAK7d,KAAK2I,cAAc,MAAO,CAAEC,UAAWiK,MACrDqU,EAASrJ,KAAK7d,KAAK2I,cAAc,MAAO,CAAEC,UAAWkK,MACrDoU,EAASrJ,KAAK7d,KAAK2I,cAAc,MAAO,CAAEC,UAAWgK,MACzC,IAAR0H,GAA4B,SAAfwB,EAAKD,MAClBqL,EAASpd,SAAQ,SAAUf,GACvBke,EAAQ9d,YAAYJ,MAExB/I,KAAKmW,WAAY,EACjBnW,KAAK6H,IAAIof,EAASlU,SAEjB,GAAmB,SAAf+I,EAAKD,MAAkB,CAC5B,IAAIsL,EAAWF,EAAQ7F,WACnBgG,EAAcF,EAAS,GAC3B,GAAGnjB,MAAM+C,KAAKqgB,GAAUrd,SAAQ,SAAUM,GACtCa,EAAMmN,WAAWC,MAAMwF,KAAKzT,GAC5Bgd,EAAYje,YAAYiB,MAE5B6c,EAAQ9d,YAAYie,GACpBH,EAAQ9d,YAAY+d,EAAS,IAC7BD,EAAQ9d,YAAY+d,EAAS,IAC7BlnB,KAAKmW,WAAY,EACjBnW,KAAK6H,IAAIof,EAASlU,OAG1BqB,EAAQvP,UAAUwiB,aAAe,WAC7B,IAAIpc,EAAQjL,KACZA,KAAKgW,QAAUhW,KAAK+V,QAAQuR,WAAU,GACtCtnB,KAAK6H,IAAI7H,KAAK+V,QAASlE,IACvB7R,KAAKmY,QAAU,GACf,IAAInP,EAAW,GAAGjF,MAAM+C,KAAK9G,KAAK+V,QAAQtT,UAC1CuG,EAASc,SAAQ,SAAUf,GACH,QAAhBA,EAAI0O,UACJxM,EAAMkN,QAAQ0F,KAAK9U,GACnBA,EAAID,aAAa,gBAAiB,SAClCmC,EAAMpD,IAAIkB,EAAKgJ,SAI3BqC,EAAQvP,UAAUgY,YAAc,WAC5B,IAAI9T,EAAM/I,KAAK6G,QACX+P,EAAQ5W,KAAK4W,MACjB,GAAoB,MAAhB5W,KAAK+V,QACL/V,KAAKqnB,oBAEJ,GAAIte,GAAO6N,EAAMxR,OAAS,EAAG,CAC9B,IAAIiY,OAAa,EACbtU,GAAOA,EAAItG,SAAS2C,OAAS,IAC7BiY,EAAatU,EAAI8D,cAAc,IAAMgF,KAEpCwL,IACDA,EAAard,KAAK2I,cAAc,MAAO,CAAEC,UAAWiJ,MAExD7R,KAAKod,WAAWxG,EAAOyG,GACvBtU,EAAII,YAAYkU,KAGxBjJ,EAAQvP,UAAU4Y,QAAU,SAAU8J,EAAM1gB,GAGxC,IAFA,IACI2gB,EADA1mB,EAAMwD,OAAO2K,KAAKsY,GAEb9hB,EAAI,EAAGA,EAAI3E,EAAIsE,OAAQK,IAC5B+hB,EAAS1mB,EAAI2E,GACF,UAAX+hB,EAAqBxnB,KAAK6H,IAAIhB,EAAS0gB,EAAKC,IAAW3gB,EAAQiC,aAAa0e,EAAQD,EAAKC,KAUjGpT,EAAQvP,UAAU4iB,YAAc,SAAU7Q,EAAO8Q,GAC7C,IAEI3e,EAFA4e,EAAW/Q,EACX4M,EAAMmE,EAASviB,OAEf,eAAMsiB,KACNA,GAAW,GAEf,IAAIE,EAAS,SAAUF,EAAU3e,GACzB2e,GACA3e,EAAInB,UAAU+B,OAAO,IACrBZ,EAAID,aAAa,gBAAiB,WAGlCC,EAAInB,UAAUC,IAAI,IAClBkB,EAAID,aAAa,gBAAiB,UAG1C,IAAK,eAAM0a,IAAQA,GAAO,EAAG,CACzB,IAAK,IAAIqE,EAAI,EAAGhhB,EAAU,GAAG9C,MAAM+C,KAAK6gB,GAAWE,EAAIrE,EAAKqE,IAAK,CAC7D,IAAIC,EAAcjhB,EAAQghB,GAC1B,GAA6B,kBAAlB,EAA4B,CAEnC,GADA9e,EAAM/I,KAAK+nB,kBAAkBD,GACzB,eAAM/e,GACN,OAGA4e,EAASE,GAAK9e,OAIlBA,EAAM+e,EAEVF,EAAOF,EAAU3e,GAErB2e,EAAW,eAAYC,EAAU,IAAe,eAASA,EAAU,QAElE,CACD,GAA0B,kBAAf,GAEP,GADA5e,EAAM/I,KAAK+nB,kBAAkBJ,GACzB,eAAM5e,GACN,YAIJA,EAAM6N,EAEVgR,EAAOF,EAAU3e,KAGzBqL,EAAQvP,UAAUkjB,kBAAoB,SAAUxlB,GAC5C,OAAIvC,KAAKmY,QAAQ5V,GACNvC,KAAKmY,QAAQ5V,GAEjB,MASX6R,EAAQvP,UAAUmjB,SAAW,SAAUpR,EAAOrU,GAC1C,IAAIgc,EACJve,KAAKioB,eACL,IAAIC,EAAWloB,KAAK6G,QAAQgG,cAAc,IAAMgF,IAChD,GAAI,eAAMqW,GACNloB,KAAKmoB,cAAcvR,OADvB,CAIA,IAAI5N,EACAof,EAAU,OACV,eAAM7lB,KACNA,EAAQ,GAEZqU,EAAM9M,SAAQ,SAAUnH,GACf,eAAMA,EAAEkZ,QAAsB,SAAZlZ,EAAEkZ,OAAgC,SAAZuM,IACzCA,EAAUzlB,EAAEkZ,UAGpB,IAAK,IAAItY,EAAK,EAAG8kB,EAAUzR,EAAOrT,EAAK8kB,EAAQjjB,OAAQ7B,IAAM,CACzD,IAAIuY,EAAOuM,EAAQ9kB,GAOnB,GANI,eAAMuY,EAAKL,QACXK,EAAKL,KAAO,UAEhB8C,EAAa,eAAU,IAAMxM,GAAU/R,KAAK6G,SAC5CiV,EAAKD,MAAQuM,EACbpf,EAAWhJ,KAAK4d,mBAAmB9B,EAAMvZ,GACrCvC,KAAKmY,QAAQ/S,QAAU7C,GAASgc,EAAWnZ,QAAU,EAAG,CACpD,eAAMpF,KAAK0W,eACX1W,KAAK2Y,cAET,IAAI2P,EAA6B,MAAlBxM,EAAKD,MAAM,GAAa,EAAsB,MAAlBC,EAAKD,MAAM,GAAa,EAAI,EACnE9S,OAAM,EACL/I,KAAKmW,WAAyB,SAAZiS,EAQdpoB,KAAKmW,WACVpN,EAAM,eAAQwV,EAAW,GAAI,IAAM1M,IAAWpP,SAAS6lB,GACvDvf,EAAI2B,aAAa1B,EAAUD,EAAItG,SAASF,IACxCvC,KAAKoY,YAAY0D,EAAKD,MAAQ,KAAKkC,eAAewK,OAAOhmB,EAAO,EAAGyG,GACnEhJ,KAAK2mB,sBAEsB,IAAtBpI,EAAWnZ,QAChBmZ,EAAa,eAAU,IAAM1M,GAAW7R,KAAK6G,SAC7C0X,EAAW,GAAGpV,YAAYH,IAG1BuV,EAAW,GAAGiK,WAAW9d,aAAa1B,EAAUuV,EAAWhc,KAlB3DvC,KAAK8d,cAAchC,EAAMoM,EAAU,GACnCloB,KAAKmW,WAAY,EACjBpN,EAAM,eAAQwV,EAAW,GAAI,IAAM1M,IAAWpP,SAAS6lB,GACvDvf,EAAII,YAAYH,GAChBhJ,KAAKoY,YAAY0D,EAAKD,MAAQ,KAAKkC,eAAeF,KAAK7U,GACvDhJ,KAAK2mB,sBAeT3mB,KAAK4W,MAAM2R,OAAOhmB,EAAO,EAAGuZ,GAC5B9b,KAAKmY,QAAQoQ,OAAOhmB,EAAO,EAAGyG,GAC9BzG,IACAvC,KAAKyf,UAAYyI,EAASxf,aAGlCwf,EAASzgB,MAAM6G,MAAQ,GACvBtO,KAAK+c,uBAST3I,EAAQvP,UAAU4jB,YAAc,SAAUC,GACtC,IACInmB,EADAolB,EAAWe,EAEXnK,EAAa,GAAGxa,MAAM+C,KAAK,eAAU,IAAMiL,GAAU/R,KAAK6G,UAC9D,GAA0B,kBAAf,EACPtE,EAAQomB,SAASD,EAAKE,WAAY,IAClC5oB,KAAK6oB,kBAAkBtmB,EAAOgc,QAG9B,GAAIoJ,GAAYA,EAASviB,OAAS,EAC9B,IAAK,IAAI7B,EAAK,EAAGwG,EAAK,GAAGhG,MAAM+C,KAAK6gB,GAAWpkB,EAAKwG,EAAG3E,OAAQ7B,IAAM,CACjE,IAAIwF,EAAMgB,EAAGxG,GACbhB,EAAQvC,KAAKmY,QAAQ6C,QAAQjS,GAC7B/I,KAAK6oB,kBAAkBtmB,EAAOgc,GAC9BA,EAAa,eAAU,IAAMxM,GAAU/R,KAAK6G,aAG/C,CACGkC,EAAO4e,GAAYA,EAASviB,QAA8B,IAApBuiB,EAASviB,OAAgBuiB,EAAS,GAAKe,EACjFnmB,EAAQgc,EAAWvD,QAAQjS,GAC3B/I,KAAK6oB,kBAAkBtmB,EAAOgc,GAGtCve,KAAKsU,UAETF,EAAQvP,UAAUgkB,kBAAoB,SAAUtmB,EAAOgc,GACnD,GAAIve,KAAKmY,QAAQ5V,IAAUgc,EAAWhc,GAAQ,CAC1C,IAAIumB,EAAS9oB,KAAKmY,QAAQ6C,QAAQuD,EAAWhc,IAC7C,GAAIvC,KAAKmW,UAAW,CAChB,IAAI4S,OAAW,EACfA,EAAW/oB,KAAKoY,YAAYpY,KAAK4W,MAAMkS,GAAQjN,MAAQ,KAAKkC,eAAe/C,QAAQhb,KAAKmY,QAAQ2Q,IAChG9oB,KAAKoY,YAAYpY,KAAK4W,MAAMkS,GAAQjN,MAAQ,KAAKkC,eAAewK,OAAOQ,EAAU,GAErF,eAAOxK,EAAWhc,IAClBvC,KAAK4W,MAAM2R,OAAOO,EAAQ,GAC1B9oB,KAAKmY,QAAQoQ,OAAOO,EAAQ,KAGpC1U,EAAQvP,UAAUmkB,eAAiB,SAAUC,EAAcjgB,EAAU8S,EAAMvZ,GACvE,IAEI2mB,EAFAC,EAAWrN,EAAKL,KAChB2N,EAASH,EAKb,GAH8B,kBAAnB,IACPC,EAA2C,oBAArBE,EAAe,UAEX,kBAAnB,GAAgCF,GAoCtC,GAAiB,UAAbC,EAAsB,CACvBpgB,EAAM/I,KAAK2I,cAAc,SAC7BmT,EAAKvU,GAAMwB,EAAIxB,GAAKuU,EAAKvU,GAAOwB,EAAIxB,GAAK,eAAY,WACrDyB,EAASG,YAAYJ,GACrBqgB,EAAOhH,SAASrZ,QAxCoC,CACpD,IAAIsgB,OAAa,EACbvQ,EAAMmQ,EACVnQ,EAAiC,kBAAnB,EAA+BmQ,EAAaK,OAASL,EAEnE,IACI,GAA8B,kBAAnB,GAAgC,eAAMA,EAAaxR,UAGzD,GAAItC,SAASK,iBAAiBsD,GAAK1T,OAAQ,CAC5C,IAAI2D,EAAMoM,SAAStI,cAAciM,GAC7ByQ,EAAUxgB,EAAIygB,UAAUF,OAC5BtgB,EAASG,YAAYJ,GACrBA,EAAItB,MAAMC,QAAU,GACf,eAAM6hB,IACPvpB,KAAKkV,OAAO2I,KAAK/E,SARrB9P,EAASG,YAAY8f,GAY7B,MAAOtmB,GACH0mB,EAAa,eAAiBvQ,GAElC,IAAI2Q,OAAY,EAChB,IAAK,eAAMJ,GAAa,CACpB,IAAIK,EAAoB1pB,KAAK6G,QAAQU,GAAKhF,EAAQ,YAClDknB,EAAYJ,EAAW,GAAIrpB,KAAM,WAAY0pB,EAAmB1pB,KAAK2pB,mBAEpE,eAAMF,IAAcA,EAAUrkB,OAAS,GACxC,GAAGrB,MAAM+C,KAAK2iB,GAAW3f,SAAQ,SAAUf,GAClC,eAAMA,EAAI0O,WACX1O,EAAItB,MAAMC,QAAU,IAExBsB,EAASG,YAAYJ,MAUjC/I,KAAK6H,IAAImB,EAAUoJ,IACnBpS,KAAKmY,QAAQ0F,KAAK7U,IAEtBoL,EAAQvP,UAAU+kB,gBAAkB,SAAU9N,EAAM9S,GAChD,IAAI6gB,EAAM7pB,KAAK2I,cAAc,SAAU,CAAEC,UAAW6J,KACpDoX,EAAI/gB,aAAa,OAAQ,UACzB,IACIghB,EACAC,EAFAC,EAAUlO,EAAKb,KAGnBa,EAAKvU,GAAMsiB,EAAItiB,GAAKuU,EAAKvU,GAAMsiB,EAAItiB,GAAK,eAAY,aACpD,IAAI0iB,EAASjqB,KAAK2I,cAAc,OAAQ,CAAEC,UAAW,oBACjDohB,GACAC,EAAOC,UAAYlqB,KAAKmqB,oBAAsB,OAAmBC,SAASJ,GAAWA,EACrFH,EAAI1gB,YAAY8gB,GAChBJ,EAAIjiB,UAAUC,IAAI,eAGlB7H,KAAK6H,IAAImB,EAAU,iBAEnB8S,EAAKV,YAAcU,EAAKT,cACnBS,EAAKV,YAAcU,EAAKT,YAAeS,EAAKV,YAC7C0O,EAAUhO,EAAKV,WAAa,WAC5B2O,EAAU,SAGVD,EAAUhO,EAAKT,WAAa,WAC5B0O,EAAU,UAGlB,IAAIM,EAAS,IAAI,OAAO,CAAEP,QAASA,EAASQ,aAAcP,IAM1D,OALAM,EAAO1hB,cAAgB3I,KAAK2I,cAC5B0hB,EAAOjI,SAASyH,GACZ/N,EAAKxN,OACL,eAASub,EAAK,CAAE,MAAS,eAAW/N,EAAKxN,SAEtCub,GAEXzV,EAAQvP,UAAU+Y,mBAAqB,SAAU9B,EAAMvZ,GACnD,IAAIyG,EACA6gB,EACJ7gB,EAAWhJ,KAAK2I,cAAc,MAAO,CAAEC,UAAWmJ,KAClD/I,EAASF,aAAa,gBAAiB,SACvC,IAAIyhB,EAAUvqB,KAAK2I,cAAc,MAAO,CACpCuhB,UAAWlqB,KAAKmqB,oBAAsB,OAAmBC,SAAStO,EAAKF,aAAeE,EAAKF,cAc/F,GAZK5b,KAAKmY,UACNnY,KAAKmY,QAAU,IAEf2D,EAAKH,gBACL3b,KAAKyd,QAAQ3B,EAAKH,eAAgB3S,GAElC8S,EAAKF,aACL5S,EAASF,aAAa,QAASyhB,EAAQC,aAEvC1O,EAAK1F,WACLpN,EAASJ,UAAYI,EAASJ,UAAY,IAAMkT,EAAK1F,UAErD0F,EAAKN,SACLxb,KAAKgpB,eAAelN,EAAKN,SAAUxS,EAAU8S,EAAMvZ,QAGnD,OAAQuZ,EAAKL,MACT,IAAK,SACDoO,EAAM7pB,KAAK4pB,gBAAgB9N,EAAM9S,GACjC6gB,EAAI/gB,aAAa,WAAY,MAC7B+gB,EAAI/gB,aAAa,aAAegT,EAAKb,MAAQa,EAAKF,aAClD5S,EAASG,YAAY0gB,GACrB7gB,EAAS8C,iBAAiB,QAAS9L,KAAK2d,UAAU1V,KAAKjI,OACvD,MACJ,IAAK,YACDA,KAAK6H,IAAImB,EAAUgJ,IACnB,MAGZ,GAAI8J,EAAKJ,WAAY,CACjB,IAAI+O,EAAO3O,EAAKJ,WACH,YAAT+O,GACAzqB,KAAK6H,IAAImB,EAAUqJ,IACnBrS,KAAK6H,IAAImB,EAAU,iBAEL,aAATyhB,GACLzqB,KAAK6H,IAAImB,EAAUsJ,IAG3B,GAAIwJ,EAAKP,SAAU,CACf,IAAIA,EAAWO,EAAKP,SACH,SAAbA,EACAvb,KAAK6H,IAAImB,EAAUuJ,IAED,SAAbgJ,IACAvS,EAASpB,UAAU0E,SAAS0F,KAC7BhS,KAAK6H,IAAImB,EAAUwJ,KAc/B,MAVsB,SAAlBsJ,EAAKP,UAAuBO,EAAKZ,oBAAsBlS,EAASpB,UAAU0E,SAAS0F,MACnFhS,KAAK6H,IAAImB,EAAUwK,IACnBxT,KAAK+W,iBAEL+E,EAAKX,UACLnb,KAAK6H,IAAImB,EAAU,KAEF,IAAjB8S,EAAKR,SACLtb,KAAK6H,IAAImB,EAAUyK,IAEhBzK,GAEXoL,EAAQvP,UAAU8Y,UAAY,SAAUhb,GACpC3C,KAAKkZ,gBAAgBvW,EAAE+nB,gBAE3BtW,EAAQvP,UAAUqU,gBAAkB,SAAUnQ,GAC1C/I,KAAK+Z,gBAAgBhR,EAAIwD,mBACzBvM,KAAK8Z,UAAUb,SAEnB7E,EAAQvP,UAAUkV,gBAAkB,SAAU4Q,GACrC,eAAM3qB,KAAK8Z,YACZ9Z,KAAK8Z,UAAUhR,aAAa,WAAY,MAE5C9I,KAAK8Z,UAAY6Q,EACb,eAAM3qB,KAAK+V,WAAa4U,EAAOlQ,cAAc7S,UAAU0E,SAAS8F,IAChEuY,EAAO1gB,gBAAgB,YAGvBjK,KAAK8Z,UAAUhR,aAAa,WAAY,MAGhDsL,EAAQvP,UAAUyE,eAAiB,WAC/B,OAAOtJ,KAAKwJ,aAAa,KAO7B4K,EAAQvP,UAAU4E,cAAgB,WAC9B,MAAO,WAEX2K,EAAQvP,UAAUsjB,cAAgB,SAAUpZ,GACxC/O,KAAK4W,MAAQ5W,KAAK2W,aAClB3W,KAAK2Y,cACL3Y,KAAKyY,eACLzY,KAAK4W,MAAQ7H,EACb/O,KAAK2W,aAAe3W,KAAK4W,MACzB5W,KAAK6c,cACL7c,KAAK+c,sBAET3I,EAAQvP,UAAUyP,OAAS,WACvB,IAAIvL,EAAM/I,KAAK6G,QACf7G,KAAKmhB,UAAW,EACZnhB,KAAKmW,WACLnW,KAAKgd,kBAELhd,KAAKkW,QAAgC,UAAtBlW,KAAK2X,cACpB3X,KAAKkW,OAAO2B,OAEhB,IAAI2G,EAAgBxe,KAAKwe,cAAczV,EAAKA,EAAI2W,uBAAuB7N,IAAW,IAClF,IAAK2M,EAAe,CAChBxe,KAAKgY,gBACL,IAAI4S,EAAc7hB,EAAI8D,cAAc,IAAMgF,IACrC,eAAM+Y,KACP5qB,KAAK2J,OAAOihB,EAAajX,IACrB3T,KAAKmW,WACLnW,KAAK6H,IAAI+iB,EAAa7X,KAIlC,IAAIyL,IAAiBxe,KAAK0W,cAAiB1W,KAAKyf,YAAc1W,EAAIL,YAAlE,CAMA,IAHI1I,KAAKyf,UAAY1W,EAAIL,aAAe8V,IACpCxe,KAAK+c,qBAEL/c,KAAKkW,OAAQ,CACb,GAA0B,aAAtBlW,KAAK2X,aAA6B,CAClC,IAAIkK,EAAYvW,OAAOoT,iBAAiB1e,KAAK6G,SAC7C7G,KAAKkW,OAAO5H,MAAQqQ,WAAWkD,EAAUvT,OAAqD,EAA1CqQ,WAAWkD,EAAUQ,kBAEzEriB,KAAKmW,WACLnW,KAAK2f,oBAET3f,KAAK6Y,aAAa7Y,KAAKkW,OAAOrP,SAAS,GACnC7G,KAAKmW,WACLnW,KAAK2mB,qBAGT3mB,KAAK6G,QAAQgG,cAAc,IAAM,MACjC7M,KAAKyI,WAAazI,KAAK6G,QAAQgG,cAAc,IAAM,IAAgBnE,aAEvE1I,KAAKyf,UAAY1W,EAAIL,YACrB1I,KAAKmhB,UAAW,EAChBnhB,KAAKmd,cAET/I,EAAQvP,UAAUojB,aAAe,WAC7B,IAAI1N,EAAMva,KAAK6G,QAAQgG,cAAc,IAAMkH,IACjB,aAAtB/T,KAAK2X,cAA+B4C,IACpCva,KAAK8W,eAAiByD,EAAI3S,UAAU0E,SAAS6F,MAUrDiC,EAAQvP,UAAUiK,kBAAoB,SAAUC,EAASC,GACrD,IAAI6b,EAAO7qB,KAAK6G,QAChB7G,KAAKioB,eACL,IAAK,IAAI1kB,EAAK,EAAGwG,EAAKzF,OAAO2K,KAAKF,GAAUxL,EAAKwG,EAAG3E,OAAQ7B,IAAM,CAC9D,IAAI2L,EAAOnF,EAAGxG,GACd,OAAQ2L,GACJ,IAAK,QACD,GAAMH,EAAQ6H,iBAAiBxT,OAAS4L,EAAQ4H,iBAAiBxT,OAAWpD,KAAKqV,iBA6BxE,kBAAcrV,KAAKqV,kBACxBrV,KAAKge,sBACLhe,KAAK8qB,OAAO,iBAAkB,KAG9B9qB,KAAKmoB,cAAcpZ,EAAQ6H,YAhC3B,IADA,IAAImU,EAAczmB,OAAO2K,KAAKF,EAAQ6H,OAC7BnR,EAAI,EAAGA,EAAIslB,EAAY3lB,OAAQK,IAAK,CACzC,IAAIlD,EAAQomB,SAASrkB,OAAO2K,KAAKF,EAAQ6H,OAAOnR,GAAI,IAChDulB,EAAW1mB,OAAO2K,KAAKF,EAAQ6H,MAAMrU,IAAQ,GAC7C0oB,EAAc3mB,OAAOyK,EAAQ6H,MAAMrU,IAAQyoB,GAC/C,GAAIhrB,KAAKmW,WAA0B,UAAb6U,EAAsB,CACxChrB,KAAKkrB,UACLlrB,KAAKyW,QAAQ,WACb,MAEJ,IAAI0U,EAA6B,sBAAbH,IAAqCC,EACrDG,EAA4B,aAAbJ,GAAkD,IAAvBhrB,KAAK+W,eAC/C,GAAoB/W,KAAK4W,MAAMrU,GAAwB,mBAAK6oB,MAC1DprB,KAAK+W,cAEP,eAAM/W,KAAK0W,eACX1W,KAAK2Y,cAET,IAAI0S,EAAU,GAAGtnB,MAAM+C,KAAK,eAAU,IAAM+K,GAAY,KAAOE,GAAU8Y,IACzE,eAAOQ,EAAQ9oB,IACfvC,KAAKmY,QAAQoQ,OAAOhmB,EAAO,GAC3BvC,KAAKgoB,SAAS,CAAChoB,KAAK4W,MAAMrU,IAASA,GACnCvC,KAAK4W,MAAM2R,OAAOhmB,EAAO,GACrBvC,KAAK4W,MAAMrU,GAAOiZ,UAClBxb,KAAKmY,QAAQoQ,OAAOvoB,KAAK4W,MAAMxR,OAAQ,GAWnD,MACJ,IAAK,QACD,IAAIyf,EAAMgG,EAAKniB,YACf,eAASmiB,EAAM,CAAE,MAAS,eAAW9b,EAAQT,SAC7CtO,KAAK+c,qBACD/c,KAAKkW,QAAU2O,EAAMgG,EAAKniB,aAC1B1I,KAAK6Y,aAAa7Y,KAAKkW,OAAOrP,SAAS,GAE3C,MACJ,IAAK,SACD,eAAS7G,KAAK6G,QAAS,CAAE,OAAU,eAAWkI,EAAQuC,UACtD,MACJ,IAAK,eACDtR,KAAK2Y,cACL3Y,KAAK+c,qBACD/c,KAAK2H,WACL3H,KAAK6H,IAAIgjB,EAAM,IAEnB7qB,KAAKme,kBACL,MACJ,IAAK,YACDpP,EAAQpH,UAAY3H,KAAK6H,IAAIgjB,EAAM,IAAW7qB,KAAK2J,OAAOkhB,EAAM,IAC3D,eAAM7qB,KAAK0W,gBACZ3H,EAAQpH,UAAY3H,KAAK6H,IAAI7H,KAAK0W,aAAa7P,QAAS,IAAW7G,KAAK2J,OAAO3J,KAAK0W,aAAa7P,QAAS,KAEzG,eAAM7G,KAAKkW,UACZnH,EAAQpH,UAAY3H,KAAK6H,IAAI7H,KAAKkW,OAAOrP,QAAS,IAAW7G,KAAK2J,OAAO3J,KAAKkW,OAAOrP,QAAS,KAE9F7G,KAAKmW,WACLnW,KAAKgd,kBAET,MACJ,IAAK,aACGhd,KAAK0W,eACL1W,KAAK0W,aAAajO,WAAazI,KAAKyI,YAExC,MACJ,IAAK,kBACGzI,KAAKkW,SACLlW,KAAKkW,OAAOiM,UAAY,CAAE/F,EAAGpc,KAAKwW,gBAAkB,OAAS,SAEjE,MACJ,IAAK,WACGxH,EAAQoH,UACR,eAAY,CAACpW,KAAK6G,SAAUmI,EAAQoH,SAASC,MAAM,MAEnDtH,EAAQqH,UACR,eAAS,CAACpW,KAAK6G,SAAUkI,EAAQqH,SAASC,MAAM,MAEpD,MACJ,IAAK,gBACDrW,KAAKwX,sBACDzI,EAAQmI,eACRlX,KAAKmX,oBAET,SAUhB/C,EAAQvP,UAAUymB,SAAW,SAAU/oB,EAAOlB,GAC1C,IAEIkqB,EACAxiB,EAHAyiB,EAAgC,kBAAZ,EACpBC,EAAWlpB,EAGXgc,EAAa,GAAGxa,MAAM+C,KAAK,eAAU,IAAMiL,GAAU/R,KAAK6G,UAC9D,GAAI2kB,EACAziB,EAAMxG,OAEL,GAAIvC,KAAKmY,QAAQsT,GAAW,CAC7B,IAAIC,EAAe,GAAG3nB,MAAM+C,KAAK,eAAU,IAAMiL,GAAU/R,KAAK6G,UAChEkC,EAAM2iB,EAAaD,GAEvB,GAAI1iB,EAAK,CAEL,GADA1H,EAAQ0H,EAAInB,UAAUC,IAAI4L,IAAc1K,EAAInB,UAAU+B,OAAO8J,IACzDpS,GAAS,eAAMrB,KAAK6G,QAAQuT,aAAa,eAAiBrR,EAAInB,UAAU0E,SAAS0F,KACjF,GAAI,eAAMjJ,EAAIwD,kBAAkB6N,aAAa,aAAc,CACvDrR,EAAIwD,kBAAkBzD,aAAa,WAAY,MAC/C,IAAI6iB,EAAe,GAAG5nB,MAAM+C,KAAK,eAAU,IAAMiL,GAAU/R,KAAK6G,UAC5D2kB,IACAC,EAAWE,EAAa3Q,QAAQjS,IAEpC,IAAI6iB,EAAUD,IAAeF,GAC7B,MAAOG,EAAS,CACZ,IAAIpR,EAAUxa,KAAKma,YAAYyR,GAC/B,IAAKpR,EAAS,CACVoR,EAAQrf,kBAAkBtC,gBAAgB,YAC1C,MAEJ2hB,EAAUD,IAAeF,UAIhC,GAAI,eAAMzrB,KAAK6G,QAAQuT,aAAa,eAAiBrR,EAAInB,UAAU0E,SAAS0F,IAAgB,CAC7FuZ,EAAY,EACZ,IAAIM,GAAU,EACVC,GAAa,EACbC,EAAUxN,EAAWgN,GACzB,MAAOQ,EACH,GAAKA,EAAQnkB,UAAU0E,SAAS0F,IAkB5B+Z,EAAUxN,IAAagN,QAjBvB,GAAI,eAAMQ,EAAQxf,kBAAkB6N,aAAa,aAC7C2R,EAAQxf,kBAAkBzD,aAAa,WAAY,MACnD+iB,GAAU,MAET,CACD,GAAIA,GAAWC,EACX,MAEAtR,EAAUxa,KAAKma,YAAY4R,GAC1BvR,IACDuR,EAAQxf,kBAAkBtC,gBAAgB,YAC1C6hB,GAAa,GAEjBC,EAAUxN,IAAagN,IAQvCvrB,KAAKme,oBAGb,GAAW,CACP,eAAW,GAAI,KAChB/J,EAAQvP,UAAW,aAAS,GAC/B,GAAW,CACP,eAAS,SACVuP,EAAQvP,UAAW,aAAS,GAC/B,GAAW,CACP,eAAS,SACVuP,EAAQvP,UAAW,cAAU,GAChC,GAAW,CACP,eAAS,KACVuP,EAAQvP,UAAW,gBAAY,GAClC,GAAW,CACP,eAAS,eACVuP,EAAQvP,UAAW,oBAAgB,GACtC,GAAW,CACP,kBACDuP,EAAQvP,UAAW,kBAAc,GACpC,GAAW,CACP,gBAAS,IACVuP,EAAQvP,UAAW,uBAAmB,GACzC,GAAW,CACP,gBAAS,IACVuP,EAAQvP,UAAW,2BAAuB,GAC7C,GAAW,CACP,gBAAS,IACVuP,EAAQvP,UAAW,qBAAiB,GACvC,GAAW,CACP,kBACDuP,EAAQvP,UAAW,eAAW,GACjC,GAAW,CACP,kBACDuP,EAAQvP,UAAW,eAAW,GACjC,GAAW,CACP,kBACDuP,EAAQvP,UAAW,iBAAa,GACnC,GAAW,CACP,kBACDuP,EAAQvP,UAAW,oBAAgB,GACtCuP,EAAU,GAAW,CACjB,QACDA,GACIA,EAxhEiB,CAyhE1B,QCxqEE,GAAwC,WACxC,IAAIjQ,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,gBAClB,CAAEC,UAAW,cAAgBpB,OAAS,SAAUgB,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAII,KAAKJ,EAAOA,EAAEK,eAAeD,KAAIL,EAAEK,GAAKJ,EAAEI,KAClEN,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASM,IAAO3E,KAAK4E,YAAcR,EADnCD,EAAcC,EAAGC,GAEjBD,EAAES,UAAkB,OAANR,EAAaC,OAAOQ,OAAOT,IAAMM,EAAGE,UAAYR,EAAEQ,UAAW,IAAIF,IAV3C,GAaxC,GAA0C,SAAUK,EAAYvD,EAAQX,EAAKmE,GAC7E,IAA2Hb,EAAvHc,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIzD,EAAkB,OAATwD,EAAgBA,EAAOX,OAAOgB,yBAAyB7D,EAAQX,GAAOmE,EACrH,GAAuB,kBAAZM,SAAoD,oBAArBA,QAAQC,SAAyBH,EAAIE,QAAQC,SAASR,EAAYvD,EAAQX,EAAKmE,QACpH,IAAK,IAAIQ,EAAIT,EAAWI,OAAS,EAAGK,GAAK,EAAGA,KAASrB,EAAIY,EAAWS,MAAIJ,GAAKH,EAAI,EAAId,EAAEiB,GAAKH,EAAI,EAAId,EAAE3C,EAAQX,EAAKuE,GAAKjB,EAAE3C,EAAQX,KAASuE,GAChJ,OAAOH,EAAI,GAAKG,GAAKf,OAAOoB,eAAejE,EAAQX,EAAKuE,GAAIA,GAOzD,SAAS2mB,GAASC,EAAOC,GAE5B,IADA,IAAIC,EAAM,eAAO,GAAIF,GACZ1oB,EAAK,EAAGwG,EAAKzF,OAAO2K,KAAKkd,GAAM5oB,EAAKwG,EAAG3E,OAAQ7B,IAAM,CAC1D,IAAI2L,EAAOnF,EAAGxG,GACV,EAAQyX,QAAQ9L,GAAQ,GACxB,eAAaid,EAAKjd,GAG1B,OAAOid,EAGJ,SAASC,GAAiBC,EAAIzU,GACjC,IAEI0U,EAFAC,EAAyB,KAAZ3U,EAAiB,EAAIyU,EAAGpP,kBAAoB,EACzDuP,EAAQD,EAERE,EAAaJ,EAAGxf,cAAc,eAC9B4f,GACAA,EAAW7kB,UAAU+B,OAAO,cAEhC,IAAK,IAAIlE,EAAI,EAAG+d,EAAM6I,EAAG5pB,SAAS2C,OAAQK,EAAI+d,EAAK/d,IAC3C4mB,EAAG5pB,SAASgD,GAAGmC,UAAU0E,SAAS,eAClCggB,EAAKD,EAAG5pB,SAASgD,GACjB+mB,EAAQ/mB,EACR6mB,EAAG1kB,UAAU+B,OAAO,aACR,KAAZiO,EAAiB4U,IAAUA,IACvBA,KAAuB,KAAZ5U,EAAiByU,EAAGpP,mBAAqB,KACpDuP,EAAQD,IAIpBD,EAAKD,EAAG5pB,SAAS+pB,GACjBA,EAAQE,GAAUL,EAAIC,EAAIE,EAAO5U,IAClB,IAAX4U,IACA,eAAS,CAACH,EAAG5pB,SAAS+pB,IAAS,aAC/BH,EAAG5pB,SAAS+pB,GAAOvT,SAG3B,SAASyT,GAAUL,EAAIC,EAAI/pB,EAAOqV,EAASmO,GAWvC,QAVc,IAAVA,IAAoBA,EAAQ,IAC5BuG,EAAG1kB,UAAU0E,SAAS,gBAAkBggB,EAAG1kB,UAAU0E,SAAS,iBAC1D/J,KAAuB,KAAZqV,EAAiByU,EAAGpP,kBAAoB,EAAI,GACvD1a,EAAoB,KAAZqV,EAAiB,EAAIyU,EAAGpP,kBAAoB,EAGxC,KAAZrF,EAAiBrV,IAAUA,KAGnC+pB,EAAKD,EAAG5pB,SAASF,GACb+pB,EAAG1kB,UAAU0E,SAAS,gBAAkBggB,EAAG1kB,UAAU0E,SAAS,cAAe,CAE7E,GADAyZ,IACIA,IAAUsG,EAAGpP,kBACb,OAAgB,EAEpB1a,EAAQmqB,GAAUL,EAAIC,EAAI/pB,EAAOqV,EAASmO,GAE9C,OAAOxjB,EAGJ,SAASoqB,GAAkB7K,GAC9B,IAAI8K,EAAgB,GAAG7oB,MAAM+C,KAAKgb,EAAMpC,uBAAuB,iBAC/D,GAAKkN,EAAcxnB,OAAnB,CAGA,IAAIynB,EAAS/K,EAAMjV,cAAc,gDAC7BggB,EAAOjlB,UAAU0E,SAAS,WAC1BugB,EAASA,EAAOhgB,cAAc,gBAElC,IACIigB,EADAC,EAAOF,EAAOhgB,cAAc,gBAE5BlF,EAAYma,EAAMla,UAAU0E,SAAS,SAErCwgB,EADAnlB,EACU,CAAEqlB,QAAS,eAAgBpG,OAAQ,cAGnC,CAAEoG,QAAS,cAAepG,OAAQ,eAGhD,IAAIqG,EAAOtE,SAASjK,iBAAiBqO,GAAMG,SAAU,IAAMvE,SAAsBjK,iBAAiBqO,GAAMD,EAAQlG,QAAmD,IAC7J+B,SAASjK,iBAAiBmO,GAAQM,YAAa,IAAM,KAC3DP,EAAc9iB,SAAQ,SAAUwiB,GACxBA,EAAG1kB,UAAU0E,SAAS,SACtBggB,EAAGzf,cAAc,eAAepF,MAAMqlB,EAAQE,SAAWC,EAGzDX,EAAG7kB,MAAMqlB,EAAQE,SAAWC,MAQxC,IC9FW,GD8FP,GAAsB,SAAUvmB,GAEhC,SAASwN,IACL,OAAkB,OAAXxN,GAAmBA,EAAOyN,MAAMnU,KAAMmF,YAAcnF,KAiB/D,OAnBA,GAAUkU,EAAMxN,GAIhB,GAAW,CACP,eAAS,KACVwN,EAAKrP,UAAW,eAAW,GAC9B,GAAW,CACP,eAAS,KACVqP,EAAKrP,UAAW,UAAM,GACzB,GAAW,CACP,gBAAS,IACVqP,EAAKrP,UAAW,iBAAa,GAChC,GAAW,CACP,eAAS,KACVqP,EAAKrP,UAAW,YAAQ,GAC3B,GAAW,CACP,eAAS,KACVqP,EAAKrP,UAAW,WAAO,GACnBqP,EApBc,CAqBvB,QEzIE,GAAwC,WACxC,IAAI/P,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,gBAClB,CAAEC,UAAW,cAAgBpB,OAAS,SAAUgB,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAII,KAAKJ,EAAOA,EAAEK,eAAeD,KAAIL,EAAEK,GAAKJ,EAAEI,KAClEN,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASM,IAAO3E,KAAK4E,YAAcR,EADnCD,EAAcC,EAAGC,GAEjBD,EAAES,UAAkB,OAANR,EAAaC,OAAOQ,OAAOT,IAAMM,EAAGE,UAAYR,EAAEQ,UAAW,IAAIF,IAV3C,GAaxC,GAA0C,SAAUK,EAAYvD,EAAQX,EAAKmE,GAC7E,IAA2Hb,EAAvHc,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIzD,EAAkB,OAATwD,EAAgBA,EAAOX,OAAOgB,yBAAyB7D,EAAQX,GAAOmE,EACrH,GAAuB,kBAAZM,SAAoD,oBAArBA,QAAQC,SAAyBH,EAAIE,QAAQC,SAASR,EAAYvD,EAAQX,EAAKmE,QACpH,IAAK,IAAIQ,EAAIT,EAAWI,OAAS,EAAGK,GAAK,EAAGA,KAASrB,EAAIY,EAAWS,MAAIJ,GAAKH,EAAI,EAAId,EAAEiB,GAAKH,EAAI,EAAId,EAAE3C,EAAQX,EAAKuE,GAAKjB,EAAE3C,EAAQX,KAASuE,GAChJ,OAAOH,EAAI,GAAKG,GAAKf,OAAOoB,eAAejE,EAAQX,EAAKuE,GAAIA,GAU5D,GAAa,CACb+nB,SAAU,aACVC,MAAO,YACPC,KAAM,cACNC,KAAM,SACNC,MAAO,mBACPC,IAAK,QACLC,UAAW,cACXC,SAAU,cAeV,GAAgC,SAAUjnB,GAO1C,SAASknB,EAAehnB,EAASC,GAC7B,OAAOH,EAAOI,KAAK9G,KAAM4G,EAASC,IAAY7G,KAwflD,OA/fA,GAAU4tB,EAAgBlnB,GAS1BknB,EAAe/oB,UAAUkC,UAAY,aAOrC6mB,EAAe/oB,UAAUyE,eAAiB,WACtC,OAAOtJ,KAAKwJ,aAAa,KAM7BokB,EAAe/oB,UAAUgpB,OAAS,WAC9B7tB,KAAK8tB,UAAY9tB,KAAK+tB,YAAc/tB,KAAKguB,cAO7CJ,EAAe/oB,UAAU/E,OAAS,WAC9BE,KAAKsH,aACAtH,KAAKmb,UACNnb,KAAKgX,aAEThX,KAAK2c,kBASTiR,EAAe/oB,UAAUmjB,SAAW,SAAUpR,EAAOqE,GAGjD,IAFA,IAAIgT,EACAC,EAAMluB,KAAK4W,MAAMxR,OACZ+oB,EAAI,EAAG3K,EAAMxjB,KAAK4W,MAAMxR,OAAQ+oB,EAAI3K,EAAK2K,IAC9C,GAAIlT,IAASjb,KAAK4W,MAAMuX,GAAGlT,KAAM,CAC7BiT,EAAMC,EACN,MAGR,IAAK,IAAI1oB,EAAImR,EAAMxR,OAAS,EAAGK,GAAK,EAAGA,IAEnCwoB,EAAU,IAAI,GAAKjuB,KAAM,QAAS4W,EAAMnR,IAAI,GAC5CzF,KAAK4W,MAAM2R,OAAO2F,EAAK,EAAGD,GAEzBjuB,KAAK8tB,WACN9tB,KAAKouB,eAQbR,EAAe/oB,UAAU4jB,YAAc,SAAU7R,GAC7C,IAAK,IAAInR,EAAI,EAAG+d,EAAM5M,EAAMxR,OAAQK,EAAI+d,EAAK/d,IACzC,IAAK,IAAI0oB,EAAI,EAAGE,EAAQruB,KAAK4W,MAAMxR,OAAQ+oB,EAAIE,EAAOF,IAClD,GAAIvX,EAAMnR,KAAOzF,KAAK4W,MAAMuX,GAAGlT,KAAM,CACjCjb,KAAK4W,MAAM2R,OAAO4F,EAAG,GACrB,MAIPnuB,KAAK8tB,WACN9tB,KAAKouB,eAGbR,EAAe/oB,UAAU6b,YAAc,WACnC,IAAI3W,EACAukB,EAAMtuB,KAAK2I,cAAc,MAAO,CAChCC,UAAW,GAAW4kB,MACtBjmB,GAAIvH,KAAK6G,QAAQU,GAAK,WAE1B4N,SAASC,KAAKjM,YAAYmlB,GAC1BtuB,KAAKuuB,SAAW,IAAI,OAAMD,EAAK,CAC3BvM,SAAU/hB,KAAK6G,QACfsb,UAAW,CAAEhG,EAAG,MAAOC,EAAG,QAC1BF,SAAU,CAAEC,EAAG,OAAQC,EAAG,UAC1BoS,WAAY,WACZC,QAASzuB,KAAKyB,OAASzB,KAAK0uB,mBAAqB,GACjD/mB,UAAW3H,KAAK2H,YAEyB,UAAzC3H,KAAKuuB,SAAS1nB,QAAQY,MAAMyU,UAC5Blc,KAAKuuB,SAAShS,gBAAgBvc,KAAK6G,SAEvC7G,KAAKuuB,SAAS1W,OACd,eAAW7X,KAAK6G,SAAUkD,EAAK,GAC3BA,EAAG,iBAAmB/J,KAAK4W,MAAMxR,QAAUpF,KAAKyB,OAAS,OAAS,QAClEsI,EAAG,iBAAmB,QACtBA,EAAG,aAAe/J,KAAK2uB,kBAAkBpnB,GACzCwC,EAAG,QAAU,SACbA,EAAG,cAAgB/J,KAAK6G,QAAQ2jB,YAAc,kBAC9CzgB,IACA/J,KAAKoW,UACL,eAAS,CAACkY,GAAMtuB,KAAKoW,SAASC,MAAM,OAG5CuX,EAAe/oB,UAAU6pB,iBAAmB,WACxC,MAAgC,kBAAjB1uB,KAAW,OAAiB,eAAOA,KAAKyB,QAAUzB,KAAKyB,QAE1EmsB,EAAe/oB,UAAUupB,YAAc,SAAUQ,GAC7C,IAEIC,EACA/S,EACAwQ,EACA/V,EALAK,EAAQ5W,KAAK4W,MACbkY,EAAW9uB,KAAK+uB,QAAQ/uB,KAAK4W,MAAO,WAKpCyV,EAAKrsB,KAAKgvB,eACV3C,EACAA,EAAGnC,UAAY,GAGfmC,EAAKrsB,KAAK2I,cAAc,KAAM,CAC1BrI,MAAO,CAAE,KAAQ,OAAQ,SAAY,OAG7C,IAAK,IAAImF,EAAI,EAAGA,EAAImR,EAAMxR,OAAQK,IAAK,CACnCqW,EAAOlF,EAAMnR,GACb,IAAIsV,EAAY/a,KAAwB,oBAAI,OAAmBoqB,SAAStO,EAAKb,MAAQa,EAAKb,KAC1FqR,EAAKtsB,KAAK2I,cAAc,KAAM,CAC1BuhB,UAAWpO,EAAKmT,IAAM,GAAKlU,EAC3BnS,UAAWkT,EAAKqB,UAAY,GAAWoQ,KAAO,IAAM,GAAWG,UAAY,GAAWH,KACtFjtB,MAAO,CAAE,KAAQ,WAAY,SAAY,MACzCiH,GAAIuU,EAAKvU,GAAKuU,EAAKvU,GAAK,eAAY,KAAOvH,KAAKyJ,gBAAkB,WAElEqS,EAAKmT,MACL3C,EAAGnjB,YAAYnJ,KAAKkvB,aAAapT,IACjCwQ,EAAG1kB,UAAUC,IAAI,UAEjBiU,EAAKgO,SACL+E,EAAO7uB,KAAK2I,cAAc,OAAQ,CAAEC,UAAW,GAAW0kB,KAAO,IAAMxR,EAAKgO,UAC3EhO,EAAQ,IAAIwQ,EAAGlL,WAAW,GAAGjY,YAAY0lB,GAAQvC,EAAG5hB,aAAamkB,EAAMvC,EAAGlL,WAAW,KAGlF0N,IAAahT,EAAKqB,WAClBmP,EAAG1kB,UAAUC,IAAI,gBAGzB0O,EAAY,CAAEuF,KAAMA,EAAMjV,QAASylB,GACnCtsB,KAAKyW,QAAQ,mBAAoBF,GACjC8V,EAAGljB,YAAYmjB,GAEfsC,GACA5uB,KAAK2uB,kBAAkBxlB,YAAYkjB,GAEnCyC,GACAnC,GAAkB3sB,KAAK2uB,oBAG/Bf,EAAe/oB,UAAUkqB,QAAU,SAAUnY,EAAOuY,GAChD,IAAK,IAAI1pB,EAAI,EAAG+d,EAAM5M,EAAMxR,OAAQK,EAAI+d,EAAK/d,IACzC,GAAImR,EAAMnR,GAAG0pB,GACT,OAAO,EAGf,OAAO,GAEXvB,EAAe/oB,UAAUqqB,aAAe,SAAUpT,GAC9C,IAAIf,EAAY/a,KAAwB,oBAAI,OAAmBoqB,SAAStO,EAAKb,MAAQa,EAAKb,KAC1F,OAAOjb,KAAK2I,cAAc,IAAK,CAAEC,UAAW,yBAA0BshB,UAAWnP,EAAUza,MAAO,CAAE,KAAQwb,EAAKmT,QAErHrB,EAAe/oB,UAAUyC,WAAa,WAClCtH,KAAKovB,OAAS,IAAI,OAAO,CACrBtF,QAAS9pB,KAAK8pB,QAASQ,aAActqB,KAAKsqB,aAAclU,SAAUpW,KAAKoW,SAAUqY,QAASzuB,KAAKyuB,QAC/FtT,SAAUnb,KAAKmb,SAAUxT,UAAW3H,KAAK2H,UAAW0nB,kBAAmBrvB,KAAKqvB,oBAEhFrvB,KAAKovB,OAAOzmB,cAAgB3I,KAAK2I,cACjC3I,KAAKovB,OAAOhN,SAASpiB,KAAK6G,SACrB7G,KAAK6G,QAAQU,KACdvH,KAAK6G,QAAQU,GAAK,eAAY,KAAOvH,KAAKyJ,kBAE9CzJ,KAAKsvB,kBACLtvB,KAAK0gB,cACL1gB,KAAKuvB,cAAc,CAACvvB,KAAK6G,WAE7B+mB,EAAe/oB,UAAUyqB,gBAAkB,WACvCtvB,KAAK6G,QAAQsC,YAAYnJ,KAAK2I,cAAc,OAAQ,CAChDC,UAAW,8BAAqC5I,KAAKoW,SAAS4E,QAAQ,GAAW2S,WAAa,EACxF,SAAW,SAAW,eAGpCC,EAAe/oB,UAAU0qB,cAAgB,SAAUvlB,GAC/ChK,KAAKwvB,WAAaxlB,GAOtB4jB,EAAe/oB,UAAU4E,cAAgB,WACrC,MAAO,gBAEXmkB,EAAe/oB,UAAUipB,QAAU,WAC/B,OAAO9tB,KAAK2uB,kBAAkB/mB,UAAU0E,SAAS,kBAMrDshB,EAAe/oB,UAAU6E,QAAU,WAC/B,IAAIuB,EAAQjL,KAEZ,GADA0G,EAAO7B,UAAU6E,QAAQ5C,KAAK9G,MACD,iBAAzBA,KAAKyJ,gBAAoC,CACzC,IACIgmB,EADAC,OAAW,EAEX1vB,KAAK6G,QAAQgG,cAAc,iBAC3B,eAAO7M,KAAK6G,QAAQgG,cAAc,iBAElC7M,KAAKoW,WACLqZ,EAAczvB,KAAKoW,SAASC,MAAM,MAEtCrW,KAAKovB,OAAO1lB,UACR+lB,GACA,eAAY,CAACzvB,KAAK6G,SAAU4oB,GAEhC,eAAYzvB,KAAKwvB,WAAY,CAAC,aAC9BE,EAAW1vB,KAAK6G,QAAQuT,aAAa,SAAW,CAAC,gBAAiB,gBAAiB,YAAa,QAC1F,CAAC,gBAAiB,gBAAiB,YAAa,OAAQ,SAC9DsV,EAAS5lB,SAAQ,SAAUhJ,GACvBmK,EAAMpE,QAAQoD,gBAAgBnJ,MAElCd,KAAKuuB,SAAS7kB,UACd,IAAI8X,EAAWrM,SAASwa,eAAe3vB,KAAK2uB,kBAAkBpnB,IAC1Dia,IACA,eAAY,CAACA,GAAW,CAAC,eAAgB,kBACzC,eAAOA,IAENxhB,KAAKmb,UACNnb,KAAK4vB,iBAIjBhC,EAAe/oB,UAAU8pB,gBAAkB,WACvC,OAAO3uB,KAAKuuB,SAAS1nB,SAEzB+mB,EAAe/oB,UAAUmqB,aAAe,WACpC,OAAOhvB,KAAK2uB,kBAAkBlsB,SAAS,IAE3CmrB,EAAe/oB,UAAUmS,WAAa,WAClC,IAAI6Y,EAAe7vB,KAAK2uB,kBACxB3uB,KAAK8vB,yBAA2B9vB,KAAK+vB,iBAAiB9nB,KAAKjI,MAC3D,OAAa6H,IAAIsN,SAAU,uBAAwBnV,KAAK8vB,yBAA0B9vB,MAClF,OAAa6H,IAAI7H,KAAK6G,QAAS,QAAS7G,KAAKiX,aAAcjX,MAC3D,OAAa6H,IAAIgoB,EAAc,QAAS7vB,KAAKiX,aAAcjX,MAC3D,OAAa6H,IAAI7H,KAAK6G,QAAS,UAAW7G,KAAKgwB,gBAAiBhwB,MAChE,OAAa6H,IAAIgoB,EAAc,UAAW7vB,KAAKgwB,gBAAiBhwB,MAChEA,KAAKiwB,SAAW,eAAaJ,EAAc,CAAEK,SAAU,IAAM,GAAW3C,QAG5EK,EAAe/oB,UAAUmrB,gBAAkB,SAAUrtB,GACjD,GAAIA,EAAElB,SAAWzB,KAAK6G,SAA0B,IAAdlE,EAAEiV,UAAmBjV,EAAEwtB,QAAwB,KAAdxtB,EAAEiV,UAAiC,KAAdjV,EAAEiV,QAG1F,OAAQjV,EAAEiV,SACN,KAAK,GACL,KAAK,IACGjV,EAAEwtB,QAAyB,KAAdxtB,EAAEiV,SAAgC,KAAdjV,EAAEiV,QAInC5X,KAAKosB,iBAAiBzpB,GAHtB3C,KAAKowB,gBAAgBztB,GAKzB,MACJ,KAAK,EACL,KAAK,GACL,KAAK,GACL,KAAK,GACD3C,KAAKowB,gBAAgBztB,GACrB,QAGZirB,EAAe/oB,UAAUunB,iBAAmB,SAAUzpB,KAC9C3C,KAAKyB,QAAyB,KAAdkB,EAAEiV,SAAgC,KAAdjV,EAAEiV,WAG1CjV,EAAEqJ,iBACFogB,GAAiBpsB,KAAKgvB,eAAgBrsB,EAAEiV,WAE5CgW,EAAe/oB,UAAUurB,gBAAkB,SAAUztB,KAC7C3C,KAAKyB,QAAyB,KAAdkB,EAAEiV,SAAgC,IAAdjV,EAAEiV,WAGxB,IAAdjV,EAAEiV,SACFjV,EAAEqJ,iBAEY,KAAdrJ,EAAEiV,SAAgC,KAAdjV,EAAEiV,SAAgC,IAAdjV,EAAEiV,QACrC5X,KAAK8tB,WACN9tB,KAAKguB,WAAWrrB,EAAG3C,KAAK6G,SAI5B7G,KAAKiX,aAAatU,KAG1BirB,EAAe/oB,UAAUwrB,MAAQ,SAAUrmB,GACvC,MAAwB,OAAjBA,EAAKyN,QAAmBzN,EAAO,eAAQA,EAAM,OAExD4jB,EAAe/oB,UAAUkrB,iBAAmB,SAAUptB,GAClD,IAAIyJ,EAAOzJ,EAAElB,OACRzB,KAAK8tB,WAAe,eAAQ1hB,EAAM,IAAMpM,KAAK2uB,kBAAkBpnB,KAAO,eAAQ6E,EAAM,IAAMpM,KAAK6G,QAAQU,KACxGvH,KAAKguB,WAAWrrB,IAGxBirB,EAAe/oB,UAAUoS,aAAe,SAAUtU,GAC9C,IAAIyJ,EAAOzJ,EAAElB,OACTqsB,EAAU9tB,KAAK8tB,UACnB,GAAI,eAAQ1hB,EAAM,IAAMpM,KAAK6G,QAAQU,IAC7BumB,EACA9tB,KAAK+tB,UAAUprB,GAGf3C,KAAKguB,WAAWrrB,EAAG3C,KAAKwvB,WAAW,SAIvC,GAAI,eAAQpjB,EAAM,IAAMpM,KAAK2uB,kBAAkBpnB,IAAK,CAChD,IAAIgP,OAAY,EACZiW,OAAQ,EACR1Q,OAAO,EACPwQ,EAAKtsB,KAAKqwB,MAAMjkB,GAChBkgB,IACAE,EAAQppB,MAAMyB,UAAUmW,QAAQlU,KAAK9G,KAAKgvB,eAAevsB,SAAU6pB,GACnExQ,EAAO9b,KAAK4W,MAAM4V,GACd1Q,IACAvF,EAAY,CAAE1P,QAASylB,EAAIxQ,KAAMA,GACjC9b,KAAKyW,QAAQ,SAAUF,IAE3BvW,KAAKguB,WAAWrrB,EAAG3C,KAAKwvB,WAAW,OAKnD5B,EAAe/oB,UAAUkpB,UAAY,SAAUprB,GAC3C,IAAIsI,EAAQjL,UACF,IAAN2C,IAAgBA,EAAI,MACnB3C,KAAKyB,QACNzB,KAAKouB,aAAY,GAErB,IAAI/B,EAAKrsB,KAAKgvB,eACVsB,EAAiB,CAAEzpB,QAASwlB,EAAIzV,MAAO5W,KAAK4W,MAAO7F,MAAOpO,EAAGoZ,QAAQ,GACzE/b,KAAKyW,QAAQ,aAAc6Z,GAAgB,SAAUC,GACjD,IAAKA,EAAaxU,OAAQ,CACtB,IAAIyU,EAAOvlB,EAAM+jB,eACjB/jB,EAAMsjB,SAAStU,KAAK,KAAMhP,EAAMpE,SAChC,eAAS,CAACoE,EAAMpE,SAAU,YAC1BoE,EAAMpE,QAAQiC,aAAa,gBAAiB,QAC5C0nB,EAAKvX,QACL,IAAIwX,EAAW,CAAE5pB,QAAS2pB,EAAM5Z,MAAO3L,EAAM2L,OAC7C3L,EAAMwL,QAAQ,OAAQga,QAIlC7C,EAAe/oB,UAAUmpB,WAAa,SAAUrrB,EAAG+tB,GAC/C,IAAIzlB,EAAQjL,UACF,IAAN2C,IAAgBA,EAAI,MACxB,IAAI0pB,EAAKrsB,KAAKgvB,eACV2B,EAAkB,CAAE9pB,QAASwlB,EAAIzV,MAAO5W,KAAK4W,MAAO7F,MAAOpO,EAAGoZ,QAAQ,GAC1E/b,KAAKyW,QAAQ,cAAeka,GAAiB,SAAUJ,GACnD,IAAKA,EAAaxU,OAAQ,CACtB,IAAI6U,EAAO3lB,EAAM+jB,eACbvC,EAAamE,EAAK/jB,cAAc,eAChC4f,GACAA,EAAW7kB,UAAU+B,OAAO,cAEhCsB,EAAMsjB,SAAS1W,OACf,eAAY5M,EAAMukB,WAAY,YAC9BvkB,EAAMpE,QAAQiC,aAAa,gBAAiB,SACxC4nB,GACAA,EAASzX,QAEb,IAAI4X,EAAY,CAAEhqB,QAAS+pB,EAAMha,MAAO3L,EAAM2L,OAC9C3L,EAAMwL,QAAQ,QAASoa,IAClB5lB,EAAMxJ,QAAUmvB,GACjB,eAAOA,QAKvBhD,EAAe/oB,UAAU+qB,aAAe,WACpC,OAAajmB,OAAOwL,SAAU,uBAAwBnV,KAAK8vB,0BAC3D,OAAanmB,OAAO3J,KAAK6G,QAAS,QAAS7G,KAAKiX,cAChD,OAAatN,OAAO3J,KAAK2uB,kBAAmB,QAAS3uB,KAAKiX,cAC1D,OAAatN,OAAO3J,KAAK6G,QAAS,UAAW7G,KAAKgwB,iBAClD,OAAarmB,OAAO3J,KAAK2uB,kBAAmB,UAAW3uB,KAAKgwB,iBAC5DhwB,KAAKiwB,YASTrC,EAAe/oB,UAAUiK,kBAAoB,SAAUC,EAASC,GAC5D,IAAI8hB,EAAW,CAAC,UAAW,WAAY,UAAW,eAAgB,WAAY,aAC9E9wB,KAAKovB,OAAO2B,cAAc/E,GAASjd,EAAS+hB,IAC5C9wB,KAAKuuB,SAASwC,cAAc/E,GAASjd,EAAS,CAAC,eAE/C,IADA,IAAI8gB,EAAe7vB,KAAK2uB,kBACfprB,EAAK,EAAGwG,EAAKzF,OAAO2K,KAAKF,GAAUxL,EAAKwG,EAAG3E,OAAQ7B,IAAM,CAC9D,IAAI2L,EAAOnF,EAAGxG,GACd,OAAQ2L,GACJ,IAAK,UACIlP,KAAK6G,QAAQgG,cAAc,iBAC5B7M,KAAKsvB,kBAET,MACJ,IAAK,WACGvgB,EAAQoM,UACRnb,KAAK4vB,eACA5vB,KAAK8tB,WACN9tB,KAAKguB,cAIThuB,KAAKgX,aAET,MACJ,IAAK,WACD,GAAIjI,EAAQqH,SAAS4E,QAAQ,GAAW2S,WAAa,EAAG,CACpD,IAAIqD,EAAYhxB,KAAK6G,QAAQgG,cAAc,gBAC3C,eAAUmkB,EAAW,CAAC,iBAAkB,CAAC,iBAEzChiB,EAAQoH,UACR,eAAY,CAACyZ,GAAe7gB,EAAQoH,SAASC,MAAM,MAEnDtH,EAAQqH,UACR,eAAS,CAACyZ,GAAe9gB,EAAQqH,SAASC,MAAM,MAEpD,MACJ,IAAK,SACDrW,KAAKuuB,SAASE,QAAUzuB,KAAK0uB,mBAC7B1uB,KAAKuuB,SAASjS,WACd,MACJ,IAAK,QACItc,KAAK8tB,WACN9tB,KAAKouB,cAET,SAShBR,EAAe/oB,UAAUosB,QAAU,WAC/BjxB,KAAK6G,QAAQoS,SAEjB,GAAW,CACP,eAAS,KACV2U,EAAe/oB,UAAW,eAAW,GACxC,GAAW,CACP,eAAS,KACV+oB,EAAe/oB,UAAW,gBAAY,GACzC,GAAW,CACP,gBAAS,IACV+oB,EAAe/oB,UAAW,gBAAY,GACzC,GAAW,CACP,eAAS,KACV+oB,EAAe/oB,UAAW,eAAW,GACxC,GAAW,CACP,eAAS,SACV+oB,EAAe/oB,UAAW,oBAAgB,GAC7C,GAAW,CACP,gBAAS,IACV+oB,EAAe/oB,UAAW,2BAAuB,GACpD,GAAW,CACP,eAAW,GAAI,KAChB+oB,EAAe/oB,UAAW,aAAS,GACtC,GAAW,CACP,eAAS,KACV+oB,EAAe/oB,UAAW,cAAU,GACvC,GAAW,CACP,kBACD+oB,EAAe/oB,UAAW,wBAAoB,GACjD,GAAW,CACP,kBACD+oB,EAAe/oB,UAAW,kBAAc,GAC3C,GAAW,CACP,kBACD+oB,EAAe/oB,UAAW,mBAAe,GAC5C,GAAW,CACP,kBACD+oB,EAAe/oB,UAAW,aAAS,GACtC,GAAW,CACP,kBACD+oB,EAAe/oB,UAAW,YAAQ,GACrC,GAAW,CACP,kBACD+oB,EAAe/oB,UAAW,cAAU,GACvC,GAAW,CACP,kBACD+oB,EAAe/oB,UAAW,eAAW,GACxC+oB,EAAiB,GAAW,CACxB,QACDA,GACIA,EAhgBwB,CAigBjC,QCnjBE,GAAwC,WACxC,IAAIzpB,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,gBAClB,CAAEC,UAAW,cAAgBpB,OAAS,SAAUgB,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAII,KAAKJ,EAAOA,EAAEK,eAAeD,KAAIL,EAAEK,GAAKJ,EAAEI,KAClEN,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASM,IAAO3E,KAAK4E,YAAcR,EADnCD,EAAcC,EAAGC,GAEjBD,EAAES,UAAkB,OAANR,EAAaC,OAAOQ,OAAOT,IAAMM,EAAGE,UAAYR,EAAEQ,UAAW,IAAIF,IAV3C,GAaxC,GAA0C,SAAUK,EAAYvD,EAAQX,EAAKmE,GAC7E,IAA2Hb,EAAvHc,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIzD,EAAkB,OAATwD,EAAgBA,EAAOX,OAAOgB,yBAAyB7D,EAAQX,GAAOmE,EACrH,GAAuB,kBAAZM,SAAoD,oBAArBA,QAAQC,SAAyBH,EAAIE,QAAQC,SAASR,EAAYvD,EAAQX,EAAKmE,QACpH,IAAK,IAAIQ,EAAIT,EAAWI,OAAS,EAAGK,GAAK,EAAGA,KAASrB,EAAIY,EAAWS,MAAIJ,GAAKH,EAAI,EAAId,EAAEiB,GAAKH,EAAI,EAAId,EAAE3C,EAAQX,EAAKuE,GAAKjB,EAAE3C,EAAQX,KAASuE,GAChJ,OAAOH,EAAI,GAAKG,GAAKf,OAAOoB,eAAejE,EAAQX,EAAKuE,GAAIA,GAS5DooB,GAAM,QACNyD,GAAU,kBAeV,GAA6B,SAAUxqB,GAOvC,SAASyqB,EAAYvqB,EAASC,GAC1B,OAAOH,EAAOI,KAAK9G,KAAM4G,EAASC,IAAY7G,KAyTlD,OAhUA,GAAUmxB,EAAazqB,GAavByqB,EAAYtsB,UAAUkC,UAAY,WAC9B,IAAIgC,EAAM/I,KAAK6G,QACf,GAAIkC,EAAI0O,UAAYyZ,GAAS,CAIzB,IAHA,IAAIE,EAAa,eAAS,gBAAiBroB,GACvCsd,EAAMrmB,KAAK2I,cAAc,SAAU,CAAErI,MAAO,CAAE,KAAQ,YACtD+wB,EAAUrxB,KAAK2I,cAAcuoB,GAAS,CAAEtoB,UAAW,KAAO5I,KAAKyJ,gBAAkB,aAC5EykB,EAAM,EAAG1K,EAAMza,EAAIuoB,WAAWlsB,OAAQ8oB,EAAM1K,EAAK0K,IACtD7H,EAAIvd,aAAaC,EAAIuoB,WAAWpD,GAAKqD,SAAUxoB,EAAIuoB,WAAWpD,GAAKsD,WAEvEzoB,EAAIyf,WAAW9d,aAAa2mB,EAAStoB,GACrC,eAAOA,GACPA,EAAMsd,EACNgL,EAAQloB,YAAYJ,GACpB,gBAAS,gBAAiBqoB,EAAYroB,GACtC/I,KAAKqxB,QAAUA,EACfrxB,KAAK6G,QAAUkC,EAEd/I,KAAK6G,QAAQU,KACdvH,KAAK6G,QAAQU,GAAK,eAAY,KAAOvH,KAAKyJ,mBAQlD0nB,EAAYtsB,UAAU/E,OAAS,WAC3BE,KAAKyxB,cACLzxB,KAAK0xB,sBACL1xB,KAAK0c,iBAETyU,EAAYtsB,UAAU6X,cAAgB,WAClC1c,KAAK2xB,wBACL3xB,KAAKuvB,cAAc,CAACvvB,KAAK6G,QAAS7G,KAAK4xB,gBAAgB/qB,UACvD7G,KAAK6xB,UACL7xB,KAAKgX,aACLhX,KAAK2c,kBASTwU,EAAYtsB,UAAUmjB,SAAW,SAAUpR,EAAOqE,GAC9CvU,EAAO7B,UAAUmjB,SAASlhB,KAAK9G,KAAM4W,EAAOqE,GAC5Cjb,KAAK4xB,gBAAgBhb,MAAQ5W,KAAK4W,OAOtCua,EAAYtsB,UAAU4jB,YAAc,SAAU7R,GAC1ClQ,EAAO7B,UAAU4jB,YAAY3hB,KAAK9G,KAAM4W,GACxC5W,KAAK4xB,gBAAgBhb,MAAQ5W,KAAK4W,OAEtCua,EAAYtsB,UAAU4sB,YAAc,WAC3BzxB,KAAKqxB,UACNrxB,KAAKqxB,QAAUrxB,KAAK2I,cAAc,MAAO,CAAEC,UAAW,KAAO5I,KAAKyJ,gBAAkB,aACpFzJ,KAAK6G,QAAQ2hB,WAAW9d,aAAa1K,KAAKqxB,QAASrxB,KAAK6G,UAE5D7G,KAAK6G,QAAQe,UAAU+B,OAAO,KAAO3J,KAAKyJ,iBACtCzJ,KAAK2H,WACL3H,KAAKqxB,QAAQzpB,UAAUC,IAAI4lB,IAE3BztB,KAAKoW,UACL,eAAS,CAACpW,KAAKqxB,SAAUrxB,KAAKoW,SAASC,MAAM,OAGrD8a,EAAYtsB,UAAU6sB,oBAAsB,WACxC,IAAIZ,EAAW,CACX1a,SAAUpW,KAAKoW,SACfzO,UAAW3H,KAAK2H,UAChBmiB,QAAS9pB,KAAK8pB,QACdQ,aAActqB,KAAKsqB,aACnBmE,QAASzuB,KAAKyuB,QACdtT,SAAUnb,KAAKmb,UAEnBnb,KAAK8xB,cAAgB,IAAI,OAAOhB,GAChC9wB,KAAK8xB,cAAcnpB,cAAgB3I,KAAK2I,cACxC3I,KAAK8xB,cAAc1P,SAASpiB,KAAK6G,SACjC7G,KAAK6G,QAAQe,UAAUC,IAAI,KAAO7H,KAAKyJ,iBACvCzJ,KAAK6G,QAAQ4U,KAAO,SACpBzb,KAAKqxB,QAAQloB,YAAYnJ,KAAK6G,UAElCsqB,EAAYtsB,UAAU8sB,sBAAwB,WAC1C,IACII,EACAC,EAFA/mB,EAAQjL,KAGZgyB,EAAUhyB,KAAK2I,cAAc,SAAU,CACnCC,UAAW,aACXtI,MAAO,CAAE,SAAY,MACrBiH,GAAIvH,KAAK6G,QAAQU,GAAK,iBAE1BvH,KAAKqxB,QAAQloB,YAAY6oB,GACzBD,EAAmB,CACf3b,SAAUpW,KAAKoW,SACf+E,SAAUnb,KAAKmb,SACfxT,UAAW3H,KAAK2H,UAChBiP,MAAO5W,KAAK4W,MACZnV,OAAQzB,KAAKyB,QAEjBswB,EAAiBE,iBAAmB,SAAUvJ,GAC1Czd,EAAMwL,QAAQ,mBAAoBiS,IAEtCqJ,EAAiB9P,KAAO,SAAUyG,GAC9Bzd,EAAMwL,QAAQ,OAAQiS,IAE1BqJ,EAAiB7P,MAAQ,SAAUwG,GAC/Bzd,EAAMwL,QAAQ,QAASiS,IAE3BqJ,EAAiBG,OAAS,SAAUxJ,GAChCzd,EAAMwL,QAAQ,SAAUiS,IAE5BqJ,EAAiBI,WAAa,SAAUzJ,GACpC,IAAI0J,EAAkB,IAAIC,GAI1B,OAHApnB,EAAMwL,QAAQ,aAAciS,GAAM,SAAU6H,GACxC6B,EAAgBE,QAAQ/B,MAErB6B,GAEXL,EAAiBQ,YAAc,SAAU7J,GACrC,IAAI0J,EAAkB,IAAIC,GAI1B,OAHApnB,EAAMwL,QAAQ,cAAeiS,GAAM,SAAU6H,GACzC6B,EAAgBE,QAAQ/B,MAErB6B,GAEXpyB,KAAK4xB,gBAAkB,IAAI,GAAeG,GAC1C/xB,KAAK4xB,gBAAgBjpB,cAAgB3I,KAAK2I,cAC1C3I,KAAK4xB,gBAAgBxP,SAAS4P,GAC9BhyB,KAAK4xB,gBAAgBrD,SAASxM,SAAW/hB,KAAKqxB,QAC9CrxB,KAAKuuB,SAAWvuB,KAAK4xB,gBAAgBrD,SACrCvuB,KAAK4xB,gBAAgBpC,WAAa,CAACxvB,KAAK6G,QAAS7G,KAAK4xB,gBAAgB/qB,SACtE,OAAa8C,OAAO3J,KAAK2uB,kBAAmB,UAAW3uB,KAAK4xB,gBAAgB5B,iBAC5EhwB,KAAK4xB,gBAAgB/qB,QAAQgG,cAAc,eAAejF,UAAU+B,OAAO,iBAE/EwnB,EAAYtsB,UAAUgtB,QAAU,WAC5B,eAAW7xB,KAAK6G,QAAS,CACrB,gBAAiB,QAAS,gBAAiB,OAC3C,aAAc7G,KAAK6G,QAAQ2jB,YAAc,eAAgB,YAAaxqB,KAAK4xB,gBAAgBrD,SAAS1nB,QAAQU,MAQpH4pB,EAAYtsB,UAAU4E,cAAgB,WAClC,MAAO,aAMX0nB,EAAYtsB,UAAUgpB,OAAS,WAC3B7tB,KAAK4xB,gBAAgB/D,UAEzBsD,EAAYtsB,UAAU6E,QAAU,WAC5B,IAAIuB,EAAQjL,KACR4H,EAAY,CAAC6lB,IACb5mB,EAAUsO,SAASwa,eAAe3vB,KAAK6G,QAAQU,IAC/CvH,KAAKoW,WACLxO,EAAYA,EAAU9D,OAAO9D,KAAKoW,SAASC,MAAM,OAEjDxP,GAAWA,EAAQ4T,gBAAkBza,KAAKqxB,UACtCrxB,KAAKqxB,QAAQ5Z,UAAYyZ,IACzBlxB,KAAKqxB,QAAQnH,UAAY,GACzB,eAAY,CAAClqB,KAAKqxB,SAAU,CAAC,QAAS,KAAOrxB,KAAKyJ,gBAAkB,aACpE,eAAY,CAACzJ,KAAKqxB,SAAUrxB,KAAKoW,SAASC,MAAM,QAGhD,eAAY,CAACrW,KAAK6G,SAAUe,GAC5B,CAAC,aAAc,gBAAiB,gBAC5B,YAAa,QAAQkC,SAAQ,SAAUhJ,GACvCmK,EAAMpE,QAAQoD,gBAAgBnJ,MAElCd,KAAKqxB,QAAQ7I,WAAW9d,aAAa1K,KAAK6G,QAAS7G,KAAKqxB,SACxD,eAAOrxB,KAAKqxB,UAEhBrxB,KAAK4vB,gBAET5vB,KAAK8xB,cAAcpoB,UACnB1J,KAAK4xB,gBAAgBloB,UACrBhD,EAAO7B,UAAU6E,QAAQ5C,KAAK9G,MACzBA,KAAK6G,QAAQuT,aAAa,UAC3Bpa,KAAK6G,QAAQoD,gBAAgB,UAGrCknB,EAAYtsB,UAAUmS,WAAa,WAC/B,OAAanP,IAAI7H,KAAK6G,QAAS,QAAS7G,KAAKwyB,uBAAwBxyB,MACrE,OAAa6H,IAAI7H,KAAK2uB,kBAAmB,UAAW3uB,KAAKgwB,gBAAiBhwB,MAC1E,IAAI,OAAeA,KAAK6G,QAAS,CAC7BwQ,UAAWrX,KAAKyyB,mBAAmBxqB,KAAKjI,MACxCuU,WAAY,CACRme,aAAc,oBAI1BvB,EAAYtsB,UAAU+qB,aAAe,WACjC,OAAajmB,OAAO3J,KAAK6G,QAAS,QAAS7G,KAAKwyB,wBAChD,eAAYxyB,KAAK6G,QAAS,QAAgB6C,WAE9CynB,EAAYtsB,UAAU2tB,uBAAyB,WAC3CxyB,KAAKyW,QAAQ,QAAS,CAAE5P,QAAS7G,KAAK6G,WAE1CsqB,EAAYtsB,UAAU4tB,mBAAqB,SAAU9vB,GACjD,OAAQA,EAAEmL,QACN,IAAK,eACD9N,KAAKiX,aAAatU,GAClB,QASZwuB,EAAYtsB,UAAUiK,kBAAoB,SAAUC,EAASC,GACzD,IAAIkd,EAAQ,CAAC,UAAW,UAAW,eAAgB,WAAY,WAAY,aAC3ElsB,KAAK8xB,cAAcf,cAAc/E,GAASjd,EAASmd,IACnDA,EAAQ,CAAC,aAAc,mBAAoB,SAAU,OACjD,QAAS,WAAY,WAAY,aACjC5nB,OAAO2K,KAAKF,GAASiM,QAAQ,UAAY,IACzChb,KAAK4xB,gBAAgBhb,MAAQ7H,EAAQ6H,MACrC5W,KAAK4xB,gBAAgBtV,YAEzBtc,KAAK4xB,gBAAgBb,cAAc/E,GAASjd,EAASmd,IACrD,IAAK,IAAI3oB,EAAK,EAAGwG,EAAKzF,OAAO2K,KAAKF,GAAUxL,EAAKwG,EAAG3E,OAAQ7B,IAAM,CAC9D,IAAI2L,EAAOnF,EAAGxG,GACd,OAAQ2L,GACJ,IAAK,WACGF,EAAQoH,UACR,eAAY,CAACpW,KAAKqxB,SAAUriB,EAAQoH,SAASC,MAAM,MAEvD,eAAS,CAACrW,KAAKqxB,SAAUtiB,EAAQqH,SAASC,MAAM,MAChD,MACJ,IAAK,YACGtH,EAAQpH,UACR,eAAS,CAAC3H,KAAKqxB,SAAU5D,IAGzB,eAAY,CAACztB,KAAKqxB,SAAU5D,IAEhC,SAShB0D,EAAYtsB,UAAUosB,QAAU,WAC5BjxB,KAAK6G,QAAQoS,SAEjB,GAAW,CACP,eAAS,KACVkY,EAAYtsB,UAAW,eAAW,GACrC,GAAW,CACP,eAAS,KACVssB,EAAYtsB,UAAW,gBAAY,GACtC,GAAW,CACP,gBAAS,IACVssB,EAAYtsB,UAAW,gBAAY,GACtC,GAAW,CACP,eAAS,KACVssB,EAAYtsB,UAAW,eAAW,GACrC,GAAW,CACP,eAAS,SACVssB,EAAYtsB,UAAW,oBAAgB,GAC1C,GAAW,CACP,eAAW,GAAI,KAChBssB,EAAYtsB,UAAW,aAAS,GACnC,GAAW,CACP,eAAS,KACVssB,EAAYtsB,UAAW,cAAU,GACpC,GAAW,CACP,kBACDssB,EAAYtsB,UAAW,wBAAoB,GAC9C,GAAW,CACP,kBACDssB,EAAYtsB,UAAW,kBAAc,GACxC,GAAW,CACP,kBACDssB,EAAYtsB,UAAW,mBAAe,GACzC,GAAW,CACP,kBACDssB,EAAYtsB,UAAW,aAAS,GACnC,GAAW,CACP,kBACDssB,EAAYtsB,UAAW,aAAS,GACnC,GAAW,CACP,kBACDssB,EAAYtsB,UAAW,YAAQ,GAClC,GAAW,CACP,kBACDssB,EAAYtsB,UAAW,cAAU,GACpC,GAAW,CACP,kBACDssB,EAAYtsB,UAAW,eAAW,GACrCssB,EAAc,GAAW,CACrB,QACDA,GACIA,EAjUqB,CAkU9B,IAKEkB,GAA0B,WAC1B,SAASA,IACL,IAAIpnB,EAAQjL,KAIZA,KAAK2yB,QAAU,IAAIC,SAAQ,SAAUN,EAASO,GAC1C5nB,EAAMqnB,QAAUA,EAChBrnB,EAAM4nB,OAASA,KAKnB7yB,KAAK8yB,MAAQ9yB,KAAK2yB,QAAQG,MAAM7qB,KAAKjI,KAAK2yB,SAI1C3yB,KAAK+yB,KAAO/yB,KAAK2yB,QAAQI,KAAK9qB,KAAKjI,KAAK2yB,SAE5C,OAAON,EAnBkB,G,aCjXzB,GAAwC,WACxC,IAAIluB,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,gBAClB,CAAEC,UAAW,cAAgBpB,OAAS,SAAUgB,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAII,KAAKJ,EAAOA,EAAEK,eAAeD,KAAIL,EAAEK,GAAKJ,EAAEI,KAClEN,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASM,IAAO3E,KAAK4E,YAAcR,EADnCD,EAAcC,EAAGC,GAEjBD,EAAES,UAAkB,OAANR,EAAaC,OAAOQ,OAAOT,IAAMM,EAAGE,UAAYR,EAAEQ,UAAW,IAAIF,IAV3C,GAaxC,GAA0C,SAAUK,EAAYvD,EAAQX,EAAKmE,GAC7E,IAA2Hb,EAAvHc,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIzD,EAAkB,OAATwD,EAAgBA,EAAOX,OAAOgB,yBAAyB7D,EAAQX,GAAOmE,EACrH,GAAuB,kBAAZM,SAAoD,oBAArBA,QAAQC,SAAyBH,EAAIE,QAAQC,SAASR,EAAYvD,EAAQX,EAAKmE,QACpH,IAAK,IAAIQ,EAAIT,EAAWI,OAAS,EAAGK,GAAK,EAAGA,KAASrB,EAAIY,EAAWS,MAAIJ,GAAKH,EAAI,EAAId,EAAEiB,GAAKH,EAAI,EAAId,EAAE3C,EAAQX,EAAKuE,GAAKjB,EAAE3C,EAAQX,KAASuE,GAChJ,OAAOH,EAAI,GAAKG,GAAKf,OAAOoB,eAAejE,EAAQX,EAAKuE,GAAIA,GAU5D2tB,GAAsB,KACtBC,GAAoB,IACpBC,GAAuB,EACvBC,GAAuB,EACvBC,GAAkB,EAClBC,GAAiB,EACjBC,GAAO,YACP,GAAM,QACNC,GAAS,WACTjG,GAAO,UACPkG,GAAQ,kBACRC,GAAe,iBACfC,GAAU,gBACVC,GAAY,cACZC,GAAkB,oBAClBC,GAAkB,oBAClBC,GAAa,eACbC,GAAU,YACVC,GAAW,aACXC,GAAY,cACZC,GAAa,UACbC,GAAa,eACbC,GAAc,gBACdC,GAAY,QACZC,GAAa,WACb,GAA2B,SAAU5tB,GAErC,SAAS6tB,IACL,OAAkB,OAAX7tB,GAAmBA,EAAOyN,MAAMnU,KAAMmF,YAAcnF,KAQ/D,OAVA,GAAUu0B,EAAW7tB,GAIrB,GAAW,CACP,eAAS,CAAE8tB,OAAQ,SAAU1c,SAAU,IAAK2c,MAAO,KACpDF,EAAU1vB,UAAW,YAAQ,GAChC,GAAW,CACP,eAAS,CAAE2vB,OAAQ,UAAW1c,SAAU,IAAK2c,MAAO,KACrDF,EAAU1vB,UAAW,aAAS,GAC1B0vB,EAXmB,CAY5B,QAcE,GAAyB,SAAU7tB,GAKnC,SAASguB,EAAQ9tB,EAASC,GACtB,IAAIoE,EAAQvE,EAAOI,KAAK9G,KAAM4G,EAASC,IAAY7G,KAKnD,OAJAiL,EAAM0pB,iBAAkB,EACxB1pB,EAAM2pB,mBAAqB,KAC3B3pB,EAAM4pB,aAAe,KACrB5pB,EAAM6pB,iBAAmB,KAClB7pB,EAmpCX,OA7pCA,GAAUypB,EAAShuB,GAYnBguB,EAAQ7vB,UAAUyC,WAAa,WAC3BtH,KAAK+0B,iBACC/0B,KAAKg1B,kBACP,eAAS,CAACh1B,KAAK6G,SAAUysB,KAGjCoB,EAAQ7vB,UAAUmwB,eAAiB,WAC/B,OAAO,kBAAch1B,KAAKqV,kBAE9Bqf,EAAQ7vB,UAAUkwB,eAAiB,WAC/B,IAAIhrB,EAAIkrB,EAC6B,IAAjCj1B,KAAKkc,SAASlB,QAAQ,QAAoD,IAApChb,KAAKkc,SAASlB,QAAQ,WAC5DjR,EAAK/J,KAAKkc,SAAS7F,MAAM,aAAcrW,KAAKk1B,iBAAmBnrB,EAAG,GAAI/J,KAAKm1B,iBAAmBprB,EAAG,KAGjGkrB,EAAKj1B,KAAKkc,SAAS7F,MAAM,aAAcrW,KAAKm1B,iBAAmBF,EAAG,GAAIj1B,KAAKk1B,iBAAmBD,EAAG,KAGzGP,EAAQ7vB,UAAUuwB,YAAc,WAE5B,GADAp1B,KAAKq1B,YAAYr1B,KAAKkc,UAChBlc,KAAKg1B,iBAMN,CACGM,EAAMt1B,KAAKu1B,WAAW1oB,cAAc,IAAM8mB,IAC9C,eAAS,CAAC2B,EAAIzoB,cAAc,IAAM+mB,KAAmB5zB,KAAKw1B,UAC1D,eAAS,CAACF,EAAIzoB,cAAc,IAAMgnB,KAAmB7zB,KAAKw1B,UAC1Dx1B,KAAKu1B,WAAWpsB,YAAYmsB,OAVF,CAC1B,IAAIA,EAAMt1B,KAAK2I,cAAc,MAAO,CAAEC,UAAW+qB,GAAY,IAAM3zB,KAAKw1B,WACxEF,EAAInsB,YAAYnJ,KAAK2I,cAAc,MAAO,CAAEC,UAAWgrB,GAAkB,IAAM5zB,KAAKw1B,YACpFF,EAAInsB,YAAYnJ,KAAK2I,cAAc,MAAO,CAAEC,UAAWirB,GAAkB,IAAM7zB,KAAKw1B,YACpFx1B,KAAKu1B,WAAWpsB,YAAYmsB,KASpCZ,EAAQ7vB,UAAUwwB,YAAc,SAAUnZ,GACJ,IAA9BA,EAASlB,QAAQ,SACjBhb,KAAKw1B,SAAWxB,GAEoB,IAA/B9X,EAASlB,QAAQ,UACtBhb,KAAKw1B,SAAWzB,GAEkB,IAA7B7X,EAASlB,QAAQ,QACtBhb,KAAKw1B,SAAWvB,GAGhBj0B,KAAKw1B,SAAW1B,IAGxBY,EAAQ7vB,UAAU4wB,YAAc,SAAUh0B,GACtC,IAAIi0B,EAAS11B,KAAK21B,WAAa,CAAE3b,IAAK,EAAG+M,KAAM,GAAM/mB,KAAK41B,mBAAmBn0B,GAC7EzB,KAAKu1B,WAAW3tB,UAAU+B,OAAO0qB,IACjCr0B,KAAK61B,SAAW,IAAI,OAAM71B,KAAKu1B,WAAY,CACvCjkB,OAAQtR,KAAKsR,OACbhD,MAAOtO,KAAKsO,MACZ4N,SAAU,CAAEC,EAAGuZ,EAAO3O,KAAM3K,EAAGsZ,EAAO1b,KACtCrS,UAAW3H,KAAK2H,UAChBsa,KAAMjiB,KAAK81B,iBAAiB7tB,KAAKjI,MACjCkiB,MAAOliB,KAAK+1B,kBAAkB9tB,KAAKjI,SAG3C00B,EAAQ7vB,UAAU+wB,mBAAqB,SAAUn0B,GAC7CzB,KAAKu1B,WAAW9tB,MAAMC,QAAU,QAChC,IAAI4S,EAAM,eAAkB7Y,EAAQzB,KAAKm1B,iBAAkBn1B,KAAKk1B,kBAC5Dc,EAAYh2B,KAAKi2B,uBAAuBj2B,KAAKkc,UAC7CwZ,EAAS11B,KAAKk2B,iBAAiBz0B,EAAQ6Y,EAAIyM,KAAOiP,EAAUjP,KAAMzM,EAAIN,IAAMgc,EAAUhc,KAE1F,OADAha,KAAKu1B,WAAW9tB,MAAMC,QAAU,GACzBguB,GAEXhB,EAAQ7vB,UAAUsxB,WAAa,SAAU10B,GACrC,IAAIi0B,EAAS11B,KAAK41B,mBAAmBn0B,GACrCzB,KAAK61B,SAAS3Z,SAAW,CAAEC,EAAGuZ,EAAO3O,KAAM3K,EAAGsZ,EAAO1b,KACrDha,KAAK61B,SAASvZ,YAElBoY,EAAQ7vB,UAAUixB,iBAAmB,YAC5B91B,KAAK21B,YAAc31B,KAAKo2B,0BACzBp2B,KAAKm2B,WAAWn2B,KAAKq2B,cAEzBr2B,KAAKyW,QAAQ,YAAazW,KAAKs2B,mBAEnC5B,EAAQ7vB,UAAUkxB,kBAAoB,WAClC,eAAoB/1B,KAAK6G,QAAQU,GAAK,UAAW,WACjDvH,KAAKu2B,QACLv2B,KAAKyW,QAAQ,aAAczW,KAAKs2B,mBAEpC5B,EAAQ7vB,UAAUoxB,uBAAyB,SAAU/Z,GACjD,IAAI5B,EAAM,CAAEN,IAAK,EAAG+M,KAAM,GACtByP,EAAkBx2B,KAAKu1B,WAAW7sB,YAClC+tB,EAAmBz2B,KAAKu1B,WAAWvlB,aACnC5B,EAAWpO,KAAKu1B,WAAW1oB,cAAc,IAAM8mB,IAC/C+C,EAAWtoB,EAAWA,EAAS1F,YAAc,EAC7CiuB,EAAYvoB,EAAWA,EAAS4B,aAAe,EAC/C4mB,EAAa52B,KAAK62B,eAAiB3D,GAAuBC,GAC1D2D,EAAmBH,EAAY,EAAKtD,IAAkBrzB,KAAKu1B,WAAWvlB,aAAehQ,KAAKu1B,WAAW5T,cACrGoV,EAAkBL,EAAW,EAAKrD,IAAkBrzB,KAAKu1B,WAAW7sB,YAAc1I,KAAKu1B,WAAWyB,aAItG,OAHIh3B,KAAK21B,aACLiB,GAAaxD,IAETlX,GACJ,IAAK,WACD5B,EAAIyM,MAAQ2P,EAAWE,EACvBtc,EAAIN,KAAOyc,EAAmBK,EAC9B,MACJ,IAAK,cACDxc,EAAIyM,MAAQ2P,EAAWE,EACvBtc,EAAIN,KAAQyc,EAAmB,EAC/B,MACJ,IAAK,cACDnc,EAAIyM,MAAQ2P,EAAWE,EACvBtc,EAAIN,KAAO,EACX,MACJ,IAAK,cACDM,EAAIN,KAAQ2c,EAAYC,EACxBtc,EAAIyM,MAAQ,EACZ,MACJ,IAAK,eACDzM,EAAIN,KAAQ2c,EAAYC,EACxBtc,EAAIyM,MAASyP,EAAkB,EAC/B,MACJ,IAAK,aACDlc,EAAIN,KAAQ2c,EAAYC,EACxBtc,EAAIyM,MAASyP,EAAkBO,EAC/B,MACJ,IAAK,aACDzc,EAAIyM,MAAS2P,EAAWF,EAAkBI,EAC1Ctc,EAAIN,KAAO,EACX,MACJ,IAAK,aACDM,EAAIyM,MAAS2P,EAAWF,EAAkBI,EAC1Ctc,EAAIN,KAAQyc,EAAmB,EAC/B,MACJ,IAAK,UACDnc,EAAIyM,MAAS2P,EAAWF,EAAkBI,EAC1Ctc,EAAIN,KAAQyc,EAAmBK,EAC/B,MACJ,IAAK,UACDxc,EAAIN,KAAQyc,EAAmBE,EAAYC,EAC3Ctc,EAAIyM,MAASyP,EAAkBO,EAC/B,MACJ,IAAK,WACDzc,EAAIN,KAAQyc,EAAmBE,EAAYC,EAC3Ctc,EAAIyM,MAAQ,EACZ,MACJ,QACIzM,EAAIN,KAAQyc,EAAmBE,EAAYC,EAC3Ctc,EAAIyM,MAASyP,EAAkB,EAC/B,MAIR,OAFAlc,EAAIyM,MAAQ/mB,KAAKqc,QACjB/B,EAAIN,KAAOha,KAAKgiB,QACT1H,GAEXoa,EAAQ7vB,UAAUoyB,kBAAoB,SAAU/a,GAC5C,IAAIgb,EAASl3B,KAAKu1B,WAAW/f,iBAAiB,IAAMme,GAAY,KAAOC,GAAkB,KAAOC,IAC5FsD,EAAa,CAACrD,GAAYC,GAASC,GAAUC,IACjD,eAAYiD,EAAQC,GACpBn3B,KAAKq1B,YAAYnZ,GACjB,eAASgb,EAAQl3B,KAAKw1B,WAE1Bd,EAAQ7vB,UAAUuyB,YAAc,SAAU31B,EAAQya,EAAUiZ,EAAkBD,GAC1E,IAA4B,IAAxBl1B,KAAK62B,eAAT,CAIA,IAAIQ,EACAC,EAFJt3B,KAAKi3B,kBAAkB/a,GAGvBlc,KAAKu1B,WAAW9tB,MAAMC,QAAU,QAChC,IAAI6vB,EAAev3B,KAAKu1B,WAAWyB,YAC/BQ,EAAgBx3B,KAAKu1B,WAAW5T,aAChCvT,EAAWpO,KAAKu1B,WAAW1oB,cAAc,IAAM8mB,IAC/C8D,EAAgBz3B,KAAKu1B,WAAW1oB,cAAc,IAAMgnB,IACpD6C,EAAWtoB,EAAS1F,YACpBiuB,EAAYvoB,EAAS4B,aAEzB,GADAhQ,KAAKu1B,WAAW9tB,MAAMC,QAAU,GAC5B1H,KAAKw1B,WAAa1B,IAAc9zB,KAAKw1B,WAAazB,IAWlD,GAVI/zB,KAAKw1B,WAAa1B,IAClBwD,EAAW,QAEXG,EAAchwB,MAAMuS,IAAM,KAAO2c,EAAY,GAAK,OAGlDW,IAAaX,EAAY,GAAK,KAE9Bc,EAAchwB,MAAMuS,IAAM,KAAO2c,EAAY,GAAK,MAElDl1B,EAAQ,CACR,IAAIi2B,EAAqC,WAArBvC,GAAkCoC,EAAe91B,EAAOiH,aAAgB1I,KAAK21B,WAE7F0B,EADCK,GAAsC,SAArBvC,IAAkCuC,GAA6C,QAA5B13B,KAAK23B,mBAC7DJ,EAAeb,EAAWrD,GAAkB,KAEnDqE,GAAsC,UAArBvC,IAAmCuC,GAA6C,UAA5B13B,KAAK23B,mBACpEtE,GAAiB,KAGfkE,EAAe,EAAMb,EAAW,EAAM,UAI3D,CACG12B,KAAKw1B,WAAavB,IAClBoD,EAAY,QAEZI,EAAchwB,MAAMsf,KAAO,KAAO2P,EAAW,GAAK,OAGlDW,IAAcX,EAAW,GAAK,KAE9Be,EAAchwB,MAAMsf,KAAuB2P,EAAW,EAAzB,EAA+B,MAE5DgB,EAAqC,WAArBxC,GAAkCsC,EAAgB/1B,EAAOuO,cAAiBhQ,KAAK21B,WAE/F2B,EADCI,GAAsC,QAArBxC,IAAiCwC,GAA6C,QAA5B13B,KAAK23B,mBAC7DH,EAAgBb,EAAYtD,GAAkB,KAEpDqE,GAAsC,WAArBxC,IAAoCwC,GAA6C,UAA5B13B,KAAK23B,mBACtEtE,GAAiB,KAGfmE,EAAgB,EAAMb,EAAY,EAAM,KAG7DvoB,EAAS3G,MAAMuS,IAAMsd,EACrBlpB,EAAS3G,MAAMsf,KAAOsQ,IAE1B3C,EAAQ7vB,UAAU+yB,cAAgB,SAAUn2B,GACxC,IAAIo2B,EAAiB73B,KAAKu1B,WAAW1oB,cAAc,IAAM6mB,IAQzD,GAPI1zB,KAAKoW,UACL,eAAS,CAACpW,KAAKu1B,YAAav1B,KAAKoW,SAASC,MAAM,MAEhD5U,IAAW,eAAkBA,EAAO2Y,aAAa,YACjD3Y,EAAOqH,aAAa,eAAgBrH,EAAO2Y,aAAa,UACxD3Y,EAAOwI,gBAAgB,UAEtB,eAAkBjK,KAAKyuB,SAuBpBhtB,IAAW,eAAkBA,EAAO2Y,aAAa,mBACjDyd,EAAe3N,UAAYzoB,EAAO2Y,aAAa,sBAvBnD,GAAIpa,KAAK20B,kBAAqB30B,KAAKg1B,iBAE/B,GADA6C,EAAe3N,UAAY,GACvBlqB,KAAKyuB,mBAAmBqJ,YACxBD,EAAe1uB,YAAYnJ,KAAKyuB,cAE/B,GAA4B,kBAAjBzuB,KAAKyuB,SAAwBzuB,KAAKyuB,QAAQzT,QAAQ,eAAiB,EAC3Ehb,KAAKmqB,qBACLnqB,KAAK+wB,cAAc,CAAEtC,QAAS,OAAmBrE,SAASpqB,KAAKyuB,WAAY,GAE/EoJ,EAAe3N,UAAYlqB,KAAKyuB,YAE/B,CACD,IAAIsJ,EAAmB,eAAQ/3B,KAAKyuB,SACpC,eAAOsJ,EAAiB,GAAI,KAAM,KAAM/3B,KAAK6G,QAAQU,GAAK,WAAYswB,GAC1C,kBAAjB73B,KAAKyuB,SAAwBzuB,KAAKyuB,QAAQzT,QAAQ,gBAAkB,IAC3Ehb,KAAKg4B,kBAAmB,EACxB,gBAAqBh4B,KAAK6G,QAAQU,GAAK,UAAW,UAAWvH,SAWjF00B,EAAQ7vB,UAAUozB,gBAAkB,WAChC,GAAKj4B,KAAKk4B,SAAV,CAGA,IAAIC,EAAWn4B,KAAK2I,cAAc,MAAO,CAAEC,UAAW0kB,GAAO,IAAMkG,KACnExzB,KAAKu1B,WAAWpsB,YAAYgvB,GAC5B,OAAatwB,IAAIswB,EAAU,OAAQC,gBAAiBp4B,KAAKq4B,cAAer4B,QAE5E00B,EAAQ7vB,UAAUyzB,eAAiB,SAAU72B,EAAQ8F,GACjD,IAAIgxB,GAAe92B,EAAO2Y,aAAa,qBAAuB,IAAI/D,MAAM,OACpEkiB,EAAYvd,QAAQzT,GAAM,GAC1BgxB,EAAY1a,KAAKtW,GAErB,eAAW9F,EAAQ,CAAE,mBAAoB82B,EAAYC,KAAK,KAAKlP,OAAQ,kBAAmB/hB,KAE9FmtB,EAAQ7vB,UAAU4zB,kBAAoB,SAAUh3B,GAC5C,IAAI8F,EAAK9F,EAAO2Y,aAAa,mBACzBme,GAAe92B,EAAO2Y,aAAa,qBAAuB,IAAI/D,MAAM,OACpE9T,EAAQg2B,EAAYvd,QAAQzT,IACjB,IAAXhF,GACAg2B,EAAYhQ,OAAOhmB,EAAO,GAE9Bd,EAAOwI,gBAAgB,mBACvB,IAAIyuB,EAAiBH,EAAYC,KAAK,KAAKlP,OACvCoP,EACAj3B,EAAOqH,aAAa,mBAAoB4vB,GAGxCj3B,EAAOwI,gBAAgB,qBAG/ByqB,EAAQ7vB,UAAU8zB,eAAiB,SAAUC,GACzCltB,aAAa1L,KAAK64B,gBAClB74B,KAAK84B,YAAYF,EAAIvsB,gBAEzBqoB,EAAQ7vB,UAAUk0B,gBAAkB,SAAUp2B,GAC1C,IAAIsI,EAAQjL,KACZ,IAAIA,KAAKk4B,SAAT,CAGA,IAAIhW,EAAQ,WACRjX,EAAMiX,SAEVliB,KAAK64B,eAAiBttB,WAAW2W,EAAO8Q,MAE5C0B,EAAQ7vB,UAAUm0B,YAAc,SAAUr2B,GACtC,IAAIlB,EAEAA,EADAzB,KAAKyB,OACI,eAAQkB,EAAElB,OAAQzB,KAAKyB,QAGvBzB,KAAK6G,QAEd,eAAkBpF,KAGyB,OAA3CA,EAAO2Y,aAAa,mBACpBpa,KAAK84B,YAAYn2B,GAEX3C,KAAKk4B,UACXl4B,KAAKi5B,YAAYj5B,KAAKk5B,UAAUhX,MAAOvf,EAAGlB,KAGlDizB,EAAQ7vB,UAAUi0B,YAAc,SAAUn2B,GACtC,IAAIlB,EAOJ,GALIA,EADAzB,KAAKyB,OACI,eAAQkB,EAAElB,OAAQzB,KAAKyB,QAGvBzB,KAAK6G,SAEd,eAAkBpF,IAAsD,OAA3CA,EAAO2Y,aAAa,mBAArD,CAIA,IADA,IAAI+e,EAAa,GAAGp1B,MAAM+C,KAAKqO,SAASK,iBAAiB,qBAAuBxV,KAAKo5B,OAAS,cACrF71B,EAAK,EAAG81B,EAAeF,EAAY51B,EAAK81B,EAAaj0B,OAAQ7B,IAAM,CACxE,IAAI+1B,EAAWD,EAAa91B,GAC5BvD,KAAKu5B,eAAeD,GAExBt5B,KAAKw5B,YAAY/3B,EAAQzB,KAAKk5B,UAAUjX,KAAMtf,KAElD+xB,EAAQ7vB,UAAU20B,YAAc,SAAU/3B,EAAQg4B,EAAe92B,GAC7D,IAAIsI,EAAQjL,KACZ0L,aAAa1L,KAAK05B,WAClBhuB,aAAa1L,KAAK25B,WAClB35B,KAAKs2B,iBAAmB,CACpB7a,KAAM9Y,EAAIA,EAAE8Y,KAAO,KAAMM,QAAQ,EAAOta,OAAQA,EAAQsP,MAAOpO,GAAQ,KACvEkE,QAAS7G,KAAKu1B,WAAYqE,cAAe,eAAkBj3B,IAE/D,IAAIk3B,EAAkB,SAAUC,GAC5B7uB,EAAM8uB,qBAAqBD,EAAkBr4B,EAAQkB,EAAG82B,IAE5Dz5B,KAAKyW,QAAQ,eAAgBzW,KAAKs2B,iBAAkBuD,EAAgB5xB,KAAKjI,QAE7E00B,EAAQ7vB,UAAUk1B,qBAAuB,SAAUD,EAAkBr4B,EAAQkB,EAAG82B,GAC5E,IAAIO,GAA0B,EAC9B,GAAIF,EAAiB/d,OACjB/b,KAAKi6B,UAAW,EAChBj6B,KAAKu2B,aAIL,GADAv2B,KAAKi6B,UAAW,EACZ,eAAkBj6B,KAAKu1B,YAAa,CACpC,GAAIv1B,KAAKg1B,iBAAkB,CACvBh1B,KAAK40B,mBAAqBnzB,EAC1BzB,KAAK60B,aAAelyB,EACpB3C,KAAK80B,iBAAmB2E,EACxB,IAAI/Q,EAAO,CAAE,cAAiB,QAE9B1oB,KAAKk6B,eAAeC,kBAAkB,sBAAuBzR,GAE7DsR,GAA0B,OAG1Bh6B,KAAKo5B,OAASp5B,KAAK6G,QAAQuT,aAAa,MACpC,eAAYpa,KAAK6G,QAAQuT,aAAa,OAAS,eAAY,WAC/Dpa,KAAKu1B,WAAav1B,KAAK2I,cAAc,MAAO,CACxCC,UAAW6qB,GAAe,IAAMS,GAAa,IAAMG,GAAW/zB,MAAO,CACjE85B,KAAM,UAAW,cAAe,QAAS,GAAMp6B,KAAKo5B,OAAS,YAC9DiB,OAAQ,SACP,eAAWr6B,KAAKsO,OAAS,WAAa,eAAWtO,KAAKsR,QAAU,wBAExEtR,KAAKs6B,mBAAmB74B,EAAQzB,MAE/Bg6B,GACDh6B,KAAKu6B,kBAAkB94B,EAAQkB,EAAG82B,EAAez5B,WAIjDA,KAAKg1B,mBACL,eAAS,CAACh1B,KAAKu1B,YAAapB,IAC5Bhf,SAASC,KAAKjM,YAAYnJ,KAAKu1B,YAC/Bv1B,KAAKi4B,kBACLj4B,KAAKy1B,YAAYh0B,IAEjBA,IACAzB,KAAKo3B,YAAY31B,EAAQzB,KAAKkc,SAAUlc,KAAKm1B,iBAAkBn1B,KAAKk1B,kBACpEl1B,KAAKs4B,eAAe72B,EAAQzB,KAAKo5B,OAAS,YAC1Cp5B,KAAK43B,cAAcn2B,GACnB,OAAe+4B,KAAKx6B,KAAKu1B,YACzBv1B,KAAKm2B,WAAW10B,GAChBzB,KAAKu6B,kBAAkB94B,EAAQkB,EAAG82B,EAAez5B,QAMjE00B,EAAQ7vB,UAAU41B,eAAiB,SAAU/R,GACrC,eAAkB1oB,KAAKu1B,aACnBv1B,KAAKg1B,mBACLh1B,KAAKo5B,OAASp5B,KAAK6G,QAAQU,GAC3BvH,KAAKu1B,WAAapgB,SAAStI,cAAc,IAAM7M,KAAKo5B,OAAS,YACzDp5B,KAAKu1B,aACLv1B,KAAKu1B,WAAWzsB,aAAa,QAAS,SAAW,eAAW9I,KAAKsO,OAC7D,WAAa,eAAWtO,KAAKsR,QAAU,uBAC3CtR,KAAKs6B,mBAAmBt6B,KAAK40B,mBAAoB50B,MACjDA,KAAKu6B,kBAAkBv6B,KAAK40B,mBAAoB50B,KAAK60B,aAAc70B,KAAK80B,iBAAkB90B,MAC1FA,KAAK40B,mBAAqB50B,KAAK60B,aAAe70B,KAAK80B,iBAAmB,QAMtFJ,EAAQ7vB,UAAUy1B,mBAAqB,SAAU74B,EAAQi5B,GACjDj5B,IACI,OAAQ0F,UACR,eAAS,CAACuzB,EAAQnF,YAAahC,IAEb,SAAlBmH,EAAQpsB,QACRosB,EAAQnF,WAAW9tB,MAAMkzB,SAAW,eAAWD,EAAQpsB,QAErDtO,KAAKg1B,kBACP0F,EAAQnF,WAAWpsB,YAAYuxB,EAAQ/xB,cAAc,MAAO,CAAEC,UAAW8qB,MAE7Eve,SAASC,KAAKjM,YAAYuxB,EAAQnF,YAClC,eAAY,CAACmF,EAAQnF,YAAajB,IAClCoG,EAAQpC,eAAe72B,EAAQi5B,EAAQtB,OAAS,YAChDsB,EAAQ9C,cAAcn2B,GACtB,eAAS,CAACi5B,EAAQnF,YAAapB,IAC3BuG,EAAQ7D,gBACR6D,EAAQtF,cAEZsF,EAAQzC,kBACRyC,EAAQjF,YAAYh0B,GACpBi5B,EAAQtD,YAAY31B,EAAQi5B,EAAQxe,SAAUwe,EAAQvF,iBAAkBuF,EAAQxF,kBAChF,OAAesF,KAAKE,EAAQnF,YAC5BmF,EAAQvE,WAAW10B,KAG3BizB,EAAQ7vB,UAAU01B,kBAAoB,SAAU94B,EAAQkB,EAAG82B,EAAeiB,GACtE,GAAIj5B,EAAQ,CACR,eAAY,CAACi5B,EAAQnF,YAAapB,IAClC,eAAS,CAACuG,EAAQnF,YAAanB,IAC/BsG,EAAQpE,iBAAmB,CACvB7a,KAAM9Y,EAAIA,EAAE8Y,KAAO,KAAMM,QAAQ,EAAOta,OAAQA,EAAQsP,MAAOpO,GAAQ,KACvEkE,QAAS6zB,EAAQnF,WAAYqE,cAAe,eAAkBj3B,IAE9D+3B,EAAQtE,2BAA6BsE,EAAQ/E,aAC7C+E,EAAQnF,WAAW9tB,MAAMC,QAAU,QAEvC,IAAImyB,EAAkB,SAAUtJ,GAC5BmK,EAAQE,mBAAmBrK,EAAc9uB,EAAQg4B,EAAe92B,IAEpE+3B,EAAQjkB,QAAQ,aAAcikB,EAAQpE,iBAAkBuD,EAAgB5xB,KAAKyyB,MAGrFhG,EAAQ7vB,UAAU+1B,mBAAqB,SAAUrK,EAAc9uB,EAAQg4B,EAAe92B,GAClF,IAAIsI,EAAQjL,KACZ,GAAIuwB,EAAaxU,OACb/b,KAAKi6B,UAAW,EAChBj6B,KAAKu2B,QACLv2B,KAAKu5B,eAAe93B,OAEnB,CACD,IAAIo5B,EAAkB,CAClB15B,KAAMs4B,EAAcjF,OACpB1c,SAAU2hB,EAAc3hB,SACxB2c,MAAOgF,EAAchF,MACrBqG,eAAgB,WAKpB,GAH6B,SAAzBrB,EAAcjF,SACdqG,OAAkBE,GAElB/6B,KAAKg7B,UAAY,EAAG,CACpB,IAAI/gB,EAAO,WACHhP,EAAM4qB,UACN5qB,EAAM4qB,SAAS5b,KAAK4gB,EAAiBp5B,IAG7CzB,KAAK05B,UAAYnuB,WAAW0O,EAAMja,KAAKg7B,gBAGnCh7B,KAAK61B,UACL71B,KAAK61B,SAAS5b,KAAK4gB,EAAiBp5B,GAI5CkB,GACA3C,KAAKi7B,gBAAgBt4B,EAAGlB,IAGhCizB,EAAQ7vB,UAAUuxB,uBAAyB,WAEvC,IAAI8E,EAAUl7B,KACd,OAAQ,eAAkBk7B,EAAQC,mBACS,kBAA7BD,EAAQC,kBACdn7B,KAAKg1B,kBAAqBh1B,KAAKg4B,kBAE3CtD,EAAQ7vB,UAAUu2B,eAAiB,SAAU35B,EAAQ45B,EAAGC,GACpD,IAAI5F,EAAS,CACT3O,KAAMsU,EAAGrhB,IAAKshB,EAAGpf,SAAUlc,KAAKkc,SAChCqf,WAAYv7B,KAAKm1B,iBAAkB/U,SAAUpgB,KAAKk1B,kBAElDsG,EAAc,gBAAUx7B,KAAKu1B,WAAav1B,KAAKyB,OAASzB,KAAK6G,QAAU,KAAOw0B,EAAGC,GAOrF,OANIE,EAAYp2B,OAAS,IACrBswB,EAAO6F,WAAaC,EAAYxgB,QAAQ,SAAW,EAAI,QAAUwgB,EAAYxgB,QAAQ,UAAY,EAAI,OACjGhb,KAAKm1B,iBACTO,EAAOtV,SAAWob,EAAYxgB,QAAQ,QAAU,EAAI,SAAWwgB,EAAYxgB,QAAQ,WAAa,EAAI,MAChGhb,KAAKk1B,kBAENQ,GAEXhB,EAAQ7vB,UAAUqxB,iBAAmB,SAAUz0B,EAAQ45B,EAAGC,GACtD,IAAI5F,EAAS11B,KAAKo7B,eAAe35B,EAAQ45B,EAAGC,GACxCG,EAAS/F,EAAOxZ,SAqBpB,GApBIlc,KAAKk1B,mBAAqBQ,EAAOtV,WACjCqb,EAA+C,IAApCz7B,KAAKkc,SAASlB,QAAQ,WAAoD,IAAjChb,KAAKkc,SAASlB,QAAQ,OACtE0a,EAAOtV,SAAWpgB,KAAKm1B,iBAAmBn1B,KAAKm1B,iBAAmBO,EAAOtV,UAE7EpgB,KAAKm1B,mBAAqBO,EAAO6F,aACF,IAA3BE,EAAOzgB,QAAQ,UACf0a,EAAOtV,SAAuB,YAAXqb,GAAmC,eAAXA,EAA2B,MAAQ,SAC9EA,EAAU/F,EAAOtV,SAAW,QAEA,IAA5Bqb,EAAOzgB,QAAQ,WACf0a,EAAOtV,SAAuB,aAAXqb,GAAoC,gBAAXA,EAA4B,MAAQ,SAChFA,EAAU/F,EAAOtV,SAAW,SAEhCsV,EAAO6F,WAAav7B,KAAKm1B,kBAE7Bn1B,KAAKs2B,iBAAmB,CACpB7a,KAAM,KAAMM,QAAQ,EAAOta,OAAQA,EAAQsP,MAAO,KAClDlK,QAAS7G,KAAKu1B,WAAYmG,iBAAkBD,GAEhDz7B,KAAKyW,QAAQ,kBAAmBzW,KAAKs2B,kBACjCZ,EAAOxZ,WAAauf,EAAQ,CAC5B,IAAInhB,EAAM,eAAkB7Y,EAAQi0B,EAAO6F,WAAY7F,EAAOtV,UAC9DpgB,KAAKo3B,YAAY31B,EAAQg6B,EAAQ/F,EAAO6F,WAAY7F,EAAOtV,UAC3D,IAAI4V,EAAYh2B,KAAKi2B,uBAAuBwF,GAC5CzF,EAAUhc,MAAuE,IAA9D,YAAYgB,QAAQhb,KAAKkc,SAAS7F,MAAM,aAAa,MACZ,IAAvD,YAAY2E,QAAQygB,EAAOplB,MAAM,aAAa,IAAgB,EAAIrW,KAAKgiB,QAAW,EACvFgU,EAAUjP,OAAwE,IAA9D,YAAY/L,QAAQhb,KAAKkc,SAAS7F,MAAM,aAAa,MACb,IAAvD,YAAY2E,QAAQygB,EAAOplB,MAAM,aAAa,IAAgB,EAAIrW,KAAKqc,QAAW,EACvFqZ,EAAOxZ,SAAWuf,EAClB/F,EAAO3O,KAAOzM,EAAIyM,KAAOiP,EAAUjP,KACnC2O,EAAO1b,IAAMM,EAAIN,IAAMgc,EAAUhc,SAGjCha,KAAKo3B,YAAY31B,EAAQg6B,EAAQ/F,EAAO6F,WAAY7F,EAAOtV,UAE/D,IAAIiD,EAAY,CAAE0D,KAAM2O,EAAO3O,KAAM/M,IAAK0b,EAAO1b,KAC7C+M,EAAO,gBAAI/mB,KAAKu1B,WAAav1B,KAAKyB,OAASzB,KAAK6G,QAAU,KAAO,CAAEsV,GAAG,EAAMC,GAAG,GAASiH,GAAW0D,KAEvG,GADA/mB,KAAKu1B,WAAW9tB,MAAMC,QAAU,QAC5B1H,KAAK62B,iBAAgD,IAA7B4E,EAAOzgB,QAAQ,WAA6C,IAA1BygB,EAAOzgB,QAAQ,QAAe,CACxF,IAAI5M,EAAWpO,KAAKu1B,WAAW1oB,cAAc,IAAM8mB,IAC/CgI,EAAYhT,SAASva,EAAS3G,MAAMsf,KAAM,KAAOA,EAAO2O,EAAO3O,MAC/D4U,EAAY,EACZA,EAAY,EAENA,EAAYvtB,EAAS1F,YAAe1I,KAAKu1B,WAAWyB,cAC1D2E,EAAY37B,KAAKu1B,WAAWyB,YAAc5oB,EAAS1F,aAEvD0F,EAAS3G,MAAMsf,KAAO4U,EAAU/S,WAAa,KAIjD,OAFA5oB,KAAKu1B,WAAW9tB,MAAMC,QAAU,GAChC2b,EAAU0D,KAAOA,EACV1D,GAEXqR,EAAQ7vB,UAAUo0B,YAAc,SAAU2C,EAAej5B,EAAGk5B,GACxD,IACIp6B,EADAwJ,EAAQjL,KAGRyB,EADAkB,EACS3C,KAAKyB,OAAUo6B,GAAiBl5B,EAAElB,OAAUzB,KAAK6G,QAGjDsO,SAAStI,cAAc,qBAAuB7M,KAAKo5B,OAAS,aAEzEp5B,KAAKs2B,iBAAmB,CACpB7a,KAAM9Y,EAAIA,EAAE8Y,KAAO,KAAMM,QAAQ,EAAOta,OAAQA,EAAQsP,MAAOpO,GAAQ,KACvEkE,QAAS7G,KAAKu1B,WAAYqE,cAAe,eAAkBj3B,IAI/D3C,KAAKyW,QAAQ,cAAezW,KAAKs2B,kBAAkB,SAAU/F,GACpDA,EAAaxU,OASd9Q,EAAMgvB,UAAW,EARbhvB,EAAM+pB,iBACN/pB,EAAM6wB,WAAWF,EAAen6B,GAGhCwJ,EAAM8wB,UAAUH,EAAen6B,OAS/CizB,EAAQ7vB,UAAUi3B,WAAa,SAAUF,EAAen6B,GACpD,IAAIu6B,EAAQh8B,KACR6X,EAAO,WACPmkB,EAAMD,UAAUH,EAAen6B,IAE/BzB,KAAK61B,SACL71B,KAAK+7B,UAAUH,EAAen6B,GAG9B8J,WAAWsM,EAAM,MAGzB6c,EAAQ7vB,UAAUk3B,UAAY,SAAUH,EAAen6B,GACnD,IAAIwJ,EAAQjL,KACZA,KAAKi8B,gBACDx6B,GACAzB,KAAKu5B,eAAe93B,GAExBzB,KAAKi6B,UAAW,EAChB,IAAIiC,EAAiB,CACjB/6B,KAAMy6B,EAAcpH,OACpB1c,SAAU8jB,EAAc9jB,SACxB2c,MAAOmH,EAAcnH,MACrBqG,eAAgB,UAKpB,GAH6B,SAAzBc,EAAcpH,SACd0H,OAAiBnB,GAEjB/6B,KAAKm8B,WAAa,EAAG,CACrB,IAAItkB,EAAO,WACH5M,EAAM4qB,UACN5qB,EAAM4qB,SAAShe,KAAKqkB,IAG5Bl8B,KAAK25B,UAAYpuB,WAAWsM,EAAM7X,KAAKm8B,iBAGnCn8B,KAAK61B,UACL71B,KAAK61B,SAAShe,KAAKqkB,IAI/BxH,EAAQ7vB,UAAU00B,eAAiB,SAAU93B,GACzCzB,KAAKo8B,kBAAkB36B,GAClB,eAAkBA,EAAO2Y,aAAa,mBACvC3Y,EAAOqH,aAAa,QAASrH,EAAO2Y,aAAa,iBACjD3Y,EAAOwI,gBAAgB,iBAE3BjK,KAAKy4B,kBAAkBh3B,IAE3BizB,EAAQ7vB,UAAU0xB,MAAQ,WAKtB,GAJIv2B,KAAKu1B,aACL,eAAY,CAACv1B,KAAKu1B,YAAanB,IAC/B,eAAS,CAACp0B,KAAKu1B,YAAapB,KAE5Bn0B,KAAKi6B,SAAU,CAIf,GAHIj6B,KAAK61B,UACL71B,KAAK61B,SAASnsB,UAEd1J,KAAKg1B,kBAAoBh1B,KAAKu1B,WAAY,CAC1Cv1B,KAAKu1B,WAAW9tB,MAAMC,QAAU,OAChC,IAAIghB,EAAO,CAAE,cAAiB,SAE9B1oB,KAAKk6B,eAAeC,kBAAkB,sBAAuBzR,GAE7D,eAAO1oB,KAAKu1B,iBAEPv1B,KAAKu1B,YACV,eAAOv1B,KAAKu1B,YAEhBv1B,KAAKu1B,WAAa,KAClBv1B,KAAK61B,SAAW,OAGxBnB,EAAQ7vB,UAAUw3B,WAAa,SAAU15B,GACrC,IAAI25B,EAAiB35B,EAAE45B,cAEvB,GAAID,IAAmBt8B,KAAK21B,WAAY,CACpC,IAAI6G,EAAyB,eAAQF,EAAgB,IAAM7I,GAAe,IAAMY,GAAY,IAAMH,IAC9FsI,GACA,OAAa30B,IAAI20B,EAAwB,aAAcx8B,KAAKy8B,uBAAwBz8B,MACpFA,KAAKo8B,kBAAkBz5B,EAAElB,UAGzBzB,KAAKi5B,YAAYj5B,KAAKk5B,UAAUhX,MAAOvf,EAAG3C,KAAKq2B,cACvB,IAApBr2B,KAAKm8B,YACLn8B,KAAKu2B,cAKbv2B,KAAKi5B,YAAYj5B,KAAKk5B,UAAUhX,MAAOvf,EAAG3C,KAAKq2B,cAC/Cr2B,KAAKu2B,SAGb7B,EAAQ7vB,UAAU43B,uBAAyB,SAAU95B,GACjD3C,KAAKi5B,YAAYj5B,KAAKk5B,UAAUhX,MAAOvf,EAAG3C,KAAKq2B,cAC/C,OAAa1sB,OAAO3J,KAAK6G,QAAS,aAAc7G,KAAKy8B,wBACrDz8B,KAAKu2B,SAET7B,EAAQ7vB,UAAUwzB,cAAgB,SAAU11B,GACxC3C,KAAKkiB,SAETwS,EAAQ7vB,UAAU63B,YAAc,SAAU3rB,GACtC,IAAI4rB,EAAa,EACbC,EAAa,EACb7rB,EAAM0K,KAAKT,QAAQ,UAAY,GAC/BjK,EAAM/E,iBACN2wB,EAAa5rB,EAAM8rB,QAAQ,GAAGC,MAC9BF,EAAa7rB,EAAM8rB,QAAQ,GAAGE,QAG9BJ,EAAa5rB,EAAM+rB,MACnBF,EAAa7rB,EAAMgsB,OAEvB,OAAevC,KAAKx6B,KAAKu1B,YACzB,eAAY,CAACv1B,KAAKu1B,YAAanB,IAC/B,eAAS,CAACp0B,KAAKu1B,YAAapB,IAC5Bn0B,KAAKo3B,YAAYrmB,EAAMtP,OAAQzB,KAAKkc,SAAUlc,KAAKm1B,iBAAkBn1B,KAAKk1B,kBAC1E,IAAI5a,EAAMta,KAAKi2B,uBAAuBj2B,KAAKkc,UACvCmf,EAAIsB,EAAariB,EAAIyM,KAAO/mB,KAAKqc,QACjCif,EAAIsB,EAAatiB,EAAIN,IAAMha,KAAKgiB,QAChC0T,EAAS11B,KAAKo7B,eAAerqB,EAAMtP,OAAQ45B,EAAGC,GAClD,GAAIt7B,KAAKm1B,mBAAqBO,EAAO6F,YAAcv7B,KAAKk1B,mBAAqBQ,EAAOtV,SAAU,CAC1F,IAAIqb,EAA8C,IAApCz7B,KAAKkc,SAASlB,QAAQ,WAAoD,IAAjChb,KAAKkc,SAASlB,QAAQ,OACzE0a,EAAOtV,SAAWsV,EAAO6F,WAAa7F,EAAO6F,WAAa7F,EAAOtV,SACrEsV,EAAOxZ,SAAWuf,EAClBz7B,KAAKo3B,YAAYrmB,EAAMtP,OAAQi0B,EAAOxZ,SAAUwZ,EAAO6F,WAAY7F,EAAOtV,UAC1E,IAAI4c,EAASh9B,KAAKi2B,uBAAuBP,EAAOxZ,UAChDwZ,EAAO3O,KAAO4V,EAAaK,EAAOjW,KAAO/mB,KAAKqc,QAC9CqZ,EAAO1b,IAAM4iB,EAAaI,EAAOhjB,IAAMha,KAAKgiB,QAEhDhiB,KAAKu1B,WAAW9tB,MAAMsf,KAAO2O,EAAO3O,KAAO,KAC3C/mB,KAAKu1B,WAAW9tB,MAAMuS,IAAM0b,EAAO1b,IAAM,MAE7C0a,EAAQ7vB,UAAUo4B,QAAU,SAAUlsB,GAC9B/Q,KAAKu1B,YAAgC,KAAlBxkB,EAAM6G,SACzB5X,KAAKkiB,SAGbwS,EAAQ7vB,UAAUq4B,SAAW,SAAUv6B,GAC/B3C,KAAKu1B,YAAgD,OAAlC,eAAQ5yB,EAAElB,OAAQ,IAAM6xB,KAC3CtzB,KAAKkiB,SAGbwS,EAAQ7vB,UAAUwD,cAAgB,SAAU1F,GACpC3C,KAAKu1B,aACC,cAAD,CAAS5yB,EAAElB,OAAQ,IAAMgyB,GAAe,IAAMY,GAAY,IAAMH,KACjEl0B,KAAKkiB,UAQjBwS,EAAQ7vB,UAAU/E,OAAS,WACvBE,KAAKsH,aACLtH,KAAKgX,WAAWhX,KAAKm9B,SACrBn9B,KAAK2c,kBAMT+X,EAAQ7vB,UAAUkC,UAAY,WAC1B/G,KAAKw1B,SAAW1B,GAChB9zB,KAAKm1B,iBAAmB,SACxBn1B,KAAKk1B,iBAAmB,MACxBl1B,KAAKi6B,UAAW,GAMpBvF,EAAQ7vB,UAAUmS,WAAa,SAAUP,GAErC,IADA,IAAI2mB,EAAcp9B,KAAKq9B,eAAe5mB,GAC7BlT,EAAK,EAAG+5B,EAAgBF,EAAa75B,EAAK+5B,EAAcl4B,OAAQ7B,IAAM,CAC3E,IAAI45B,EAAUG,EAAc/5B,GAC5B,GAAgB,WAAZ45B,EACA,OAEY,UAAZA,GACAn9B,KAAKu9B,kBAEO,UAAZJ,GACA,OAAat1B,IAAI7H,KAAK6G,QAAS,OAAQuxB,gBAAiBp4B,KAAKg5B,YAAah5B,MAE9D,UAAZm9B,IACI,OAAQh2B,UACRnH,KAAK8H,YAAc,IAAI,OAAM9H,KAAK6G,QAAS,CACvCgF,iBAAkBonB,GAClBtnB,QAAS3L,KAAK24B,eAAe1wB,KAAKjI,QAEtC,OAAa6H,IAAI7H,KAAK6G,QAAS,OAAQ22B,cAAex9B,KAAK+4B,gBAAiB/4B,QAG5E,OAAa6H,IAAI7H,KAAK6G,QAAS,YAAa7G,KAAK84B,YAAa94B,MAC1DA,KAAKg1B,mBAAqBh1B,KAAKk4B,UAC/B,OAAarwB,IAAI7H,KAAK6G,QAAS,aAAc7G,KAAKq8B,WAAYr8B,QAK9E,OAAa6H,IAAIsN,SAAU,WAAYnV,KAAKk9B,SAAUl9B,MACtD,OAAa6H,IAAIsN,SAAU,eAAgBnV,KAAKqI,cAAerI,MAC/D,OAAa6H,IAAIsN,SAAU,UAAWnV,KAAKi9B,QAASj9B,OAExD00B,EAAQ7vB,UAAUw4B,eAAiB,SAAU5mB,GAIzC,MAHgB,SAAZA,IACAA,EAAW,OAAgB,SAAI,QAAU,eAEtCA,EAAQJ,MAAM,MAEzBqe,EAAQ7vB,UAAU04B,gBAAkB,WAChC,GAAK,eAAkBv9B,KAAKyB,QAQxB,OAAaoG,IAAI7H,KAAK6G,QAAS,QAAS7G,KAAK84B,YAAa94B,WAN1D,IADA,IAAIm5B,EAAa,GAAGp1B,MAAM+C,KAAK9G,KAAK6G,QAAQ2O,iBAAiBxV,KAAKyB,SACzD8B,EAAK,EAAGk6B,EAAetE,EAAY51B,EAAKk6B,EAAar4B,OAAQ7B,IAAM,CACxE,IAAI9B,EAASg8B,EAAal6B,GAC1B,OAAasE,IAAIpG,EAAQ,QAASzB,KAAK84B,YAAa94B,QAOhE00B,EAAQ7vB,UAAUo2B,gBAAkB,SAAUt4B,EAAGlB,GACzCzB,KAAKu1B,aACAv1B,KAAKk4B,WACS,UAAXv1B,EAAE8Y,MACF,OAAa5T,IAAIpG,EAAQ,OAAQzB,KAAKq8B,WAAYr8B,MAEvC,cAAX2C,EAAE8Y,OACGzb,KAAKg1B,kBACN,OAAantB,IAAIpG,EAAQ,aAAczB,KAAKq8B,WAAYr8B,QAIhEA,KAAK21B,YACL,OAAa9tB,IAAIpG,EAAQ,kCAAmCzB,KAAK08B,YAAa18B,QAQ1F00B,EAAQ7vB,UAAUoQ,aAAe,SAAUwB,GAEvC,IADA,IAAI2mB,EAAcp9B,KAAKq9B,eAAe5mB,GAC7BlT,EAAK,EAAGm6B,EAAgBN,EAAa75B,EAAKm6B,EAAct4B,OAAQ7B,IAAM,CAC3E,IAAI45B,EAAUO,EAAcn6B,GAC5B,GAAgB,WAAZ45B,EACA,OAEY,UAAZA,GACAn9B,KAAK29B,oBAEO,UAAZR,GACA,OAAaxzB,OAAO3J,KAAK6G,QAAS,OAAQuxB,gBAAiBp4B,KAAKg5B,aAEpD,UAAZmE,IACI,OAAQh2B,UACJnH,KAAK8H,aACL9H,KAAK8H,YAAY4B,UAErB,OAAaC,OAAO3J,KAAK6G,QAAS,OAAQ22B,cAAex9B,KAAK+4B,mBAG9D,OAAapvB,OAAO3J,KAAK6G,QAAS,YAAa7G,KAAK84B,aAChD94B,KAAKg1B,mBAAqBh1B,KAAKk4B,UAC/B,OAAavuB,OAAO3J,KAAK6G,QAAS,aAAc7G,KAAKq8B,cAKrE,OAAa1yB,OAAOwL,SAAU,WAAYnV,KAAKk9B,UAC/C,OAAavzB,OAAOwL,SAAU,eAAgBnV,KAAKqI,eACnD,OAAasB,OAAOwL,SAAU,UAAWnV,KAAKi9B,UAElDvI,EAAQ7vB,UAAU84B,kBAAoB,WAClC,GAAK,eAAkB39B,KAAKyB,QAQxB,OAAakI,OAAO3J,KAAK6G,QAAS,QAAS7G,KAAK84B,kBANhD,IADA,IAAIK,EAAa,GAAGp1B,MAAM+C,KAAK9G,KAAK6G,QAAQ2O,iBAAiBxV,KAAKyB,SACzD8B,EAAK,EAAGq6B,EAAezE,EAAY51B,EAAKq6B,EAAax4B,OAAQ7B,IAAM,CACxE,IAAI9B,EAASm8B,EAAar6B,GAC1B,OAAaoG,OAAOlI,EAAQ,QAASzB,KAAK84B,eAOtDpE,EAAQ7vB,UAAUu3B,kBAAoB,SAAU36B,GAC5C,IAAKzB,KAAKk4B,SAEN,IADA,IAAIkF,EAAcp9B,KAAKq9B,eAAer9B,KAAKm9B,SAClC55B,EAAK,EAAGs6B,EAAgBT,EAAa75B,EAAKs6B,EAAcz4B,OAAQ7B,IAAM,CAC3E,IAAI45B,EAAUU,EAAct6B,GACZ,UAAZ45B,GACA,OAAaxzB,OAAOlI,EAAQ,OAAQzB,KAAKq8B,YAE7B,UAAZc,GAAwB,OAAQh2B,UAC3BnH,KAAKg1B,kBACN,OAAarrB,OAAOlI,EAAQ,aAAczB,KAAKq8B,YAK3Dr8B,KAAK21B,YACL,OAAahsB,OAAOlI,EAAQ,kCAAmCzB,KAAK08B,cAG5EhI,EAAQ7vB,UAAUwxB,WAAa,WAC3B,IAAI50B,EAAS0T,SAAStI,cAAc,qBAAuB7M,KAAKo5B,OAAS,aACzE,OAAO33B,GAMXizB,EAAQ7vB,UAAU4E,cAAgB,WAC9B,MAAO,WAMXirB,EAAQ7vB,UAAUyE,eAAiB,WAC/B,OAAOtJ,KAAKwJ,aAAa,KAM7BkrB,EAAQ7vB,UAAUiK,kBAAoB,SAAUC,EAASC,GAErD,IADA,IAAI6sB,EAAgB77B,KAAKq2B,aAChB9yB,EAAK,EAAGwG,EAAKzF,OAAO2K,KAAKF,GAAUxL,EAAKwG,EAAG3E,OAAQ7B,IAAM,CAC9D,IAAI2L,EAAOnF,EAAGxG,GACd,OAAQ2L,GACJ,IAAK,QACGlP,KAAKu1B,YAAcsG,IACnB77B,KAAKu1B,WAAW9tB,MAAM6G,MAAQtO,KAAKu1B,WAAW9tB,MAAMkzB,SAAW,eAAW5rB,EAAQT,OAClFtO,KAAKm2B,WAAW0F,IAEpB,MACJ,IAAK,SACG77B,KAAKu1B,YAAcsG,IACnB77B,KAAKu1B,WAAW9tB,MAAM6J,OAAS,eAAWvC,EAAQuC,QAClDtR,KAAKm2B,WAAW0F,IAEpB,MACJ,IAAK,UACD,GAAI77B,KAAKu1B,WACDv1B,KAAKg1B,mBACLh1B,KAAK20B,iBAAkB,GAE3B30B,KAAK43B,qBAEJ,GAAI53B,KAAKg1B,iBAAkB,CAC5B,IAAItM,EAAO,CAAE,QAAW3Z,EAAQ0f,SAEhCzuB,KAAKk6B,eAAeC,kBAAkB,sBAAuBzR,GAGjE,MACJ,IAAK,UACD1oB,KAAKiV,aAAajG,EAAQmuB,SAC1Bn9B,KAAKgX,WAAWjI,EAAQouB,SACxB,MACJ,IAAK,WAED,GADAn9B,KAAK+0B,iBACD/0B,KAAKu1B,YAAcsG,EAAe,CAClC,IAAIpE,EAAgBz3B,KAAKu1B,WAAW1oB,cAAc,IAAMgnB,IACxD4D,EAAchwB,MAAMuS,IAAMyd,EAAchwB,MAAMsf,KAAO,KACrD/mB,KAAKm2B,WAAW0F,GAEpB,MACJ,IAAK,qBACG77B,KAAKu1B,YAAcsG,GACnB77B,KAAKm2B,WAAW0F,GAEpB,MACJ,IAAK,UACD,GAAI77B,KAAKu1B,WAAY,CACjB,IAAI8F,EAAItsB,EAAQsN,QAAUrN,EAAQqN,QAClCrc,KAAKu1B,WAAW9tB,MAAMsf,MAAQ4B,SAAS3oB,KAAKu1B,WAAW9tB,MAAMsf,KAAM,IAAM,GAAK6B,WAAa,KAE/F,MACJ,IAAK,UACD,GAAI5oB,KAAKu1B,WAAY,CACjB,IAAI+F,EAAIvsB,EAAQiT,QAAUhT,EAAQgT,QAClChiB,KAAKu1B,WAAW9tB,MAAMuS,KAAO2O,SAAS3oB,KAAKu1B,WAAW9tB,MAAMuS,IAAK,IAAM,GAAK4O,WAAa,KAE7F,MACJ,IAAK,WACG5oB,KAAKu1B,aACDvmB,EAAQoH,UACR,eAAY,CAACpW,KAAKu1B,YAAavmB,EAAQoH,SAASC,MAAM,MAEtDtH,EAAQqH,UACR,eAAS,CAACpW,KAAKu1B,YAAaxmB,EAAQqH,SAASC,MAAM,OAG3D,MACJ,IAAK,YACGrW,KAAKu1B,aACDv1B,KAAK2H,UACL,eAAS,CAAC3H,KAAKu1B,YAAa,IAG5B,eAAY,CAACv1B,KAAKu1B,YAAa,KAGvC,SAUhBb,EAAQ7vB,UAAUod,KAAO,SAAUpb,EAASqyB,GACpC,eAAkBA,KAClBA,EAAYl5B,KAAKk5B,UAAUjX,MAE3B,eAAkBpb,KAClBA,EAAU7G,KAAK6G,SAEW,SAA1BA,EAAQY,MAAMC,SAGlB1H,KAAKw5B,YAAY3yB,EAASqyB,IAO9BxE,EAAQ7vB,UAAUqd,MAAQ,SAAUgX,GAC3BA,IACDA,EAAYl5B,KAAKk5B,UAAUhX,OAE/BliB,KAAKi5B,YAAYC,IAOrBxE,EAAQ7vB,UAAUqmB,QAAU,SAAUzpB,GAC9BzB,KAAKu1B,YACLv1B,KAAK43B,cAAcn2B,GAEnBzB,KAAK61B,UAAYp0B,GACjBzB,KAAKm2B,WAAW10B,IASxBizB,EAAQ7vB,UAAU6E,QAAU,WAOxB,GANK1J,KAAKg1B,mBACNtuB,EAAO7B,UAAU6E,QAAQ5C,KAAK9G,MAC1BA,KAAKu1B,YACL,eAAOv1B,KAAKu1B,aAGhBv1B,KAAKg1B,kBAAoBh1B,KAAKu1B,WAAY,CAC1C,IAAIuI,EAAc3oB,SAAStI,cAAc,IAAM7M,KAAKo5B,OAAS,wBACzD0E,GACAA,EAAY30B,YAAYnJ,KAAKu1B,YAGjCv1B,KAAK61B,UACL71B,KAAK61B,SAASnsB,UAElB,eAAY,CAAC1J,KAAK6G,SAAUysB,IAC5BtzB,KAAKiV,aAAajV,KAAKm9B,SACvBn9B,KAAKo8B,kBAAkBp8B,KAAK6G,SAC5B7G,KAAKu1B,WAAa,KAClBv1B,KAAK61B,SAAW,MAEpB,GAAW,CACP,eAAS,SACVnB,EAAQ7vB,UAAW,aAAS,GAC/B,GAAW,CACP,eAAS,SACV6vB,EAAQ7vB,UAAW,cAAU,GAChC,GAAW,CACP,kBACD6vB,EAAQ7vB,UAAW,eAAW,GACjC,GAAW,CACP,kBACD6vB,EAAQ7vB,UAAW,cAAU,GAChC,GAAW,CACP,eAAS,cACV6vB,EAAQ7vB,UAAW,gBAAY,GAClC,GAAW,CACP,eAAS,IACV6vB,EAAQ7vB,UAAW,eAAW,GACjC,GAAW,CACP,eAAS,IACV6vB,EAAQ7vB,UAAW,eAAW,GACjC,GAAW,CACP,gBAAS,IACV6vB,EAAQ7vB,UAAW,sBAAkB,GACxC,GAAW,CACP,eAAS,SACV6vB,EAAQ7vB,UAAW,0BAAsB,GAC5C,GAAW,CACP,eAAS,SACV6vB,EAAQ7vB,UAAW,eAAW,GACjC,GAAW,CACP,gBAAS,IACV6vB,EAAQ7vB,UAAW,kBAAc,GACpC,GAAW,CACP,gBAAS,IACV6vB,EAAQ7vB,UAAW,gBAAY,GAClC,GAAW,CACP,eAAQ,GAAI,KACb6vB,EAAQ7vB,UAAW,iBAAa,GACnC,GAAW,CACP,eAAS,IACV6vB,EAAQ7vB,UAAW,iBAAa,GACnC,GAAW,CACP,eAAS,IACV6vB,EAAQ7vB,UAAW,kBAAc,GACpC,GAAW,CACP,kBACD6vB,EAAQ7vB,UAAW,gBAAY,GAClC,GAAW,CACP,gBAAS,IACV6vB,EAAQ7vB,UAAW,2BAAuB,GAC7C,GAAW,CACP,kBACD6vB,EAAQ7vB,UAAW,oBAAgB,GACtC,GAAW,CACP,kBACD6vB,EAAQ7vB,UAAW,kBAAc,GACpC,GAAW,CACP,kBACD6vB,EAAQ7vB,UAAW,iBAAa,GACnC,GAAW,CACP,kBACD6vB,EAAQ7vB,UAAW,mBAAe,GACrC,GAAW,CACP,kBACD6vB,EAAQ7vB,UAAW,kBAAc,GACpC,GAAW,CACP,kBACD6vB,EAAQ7vB,UAAW,uBAAmB,GACzC,GAAW,CACP,kBACD6vB,EAAQ7vB,UAAW,eAAW,GACjC,GAAW,CACP,kBACD6vB,EAAQ7vB,UAAW,iBAAa,GACnC6vB,EAAU,GAAW,CACjB,QACDA,GACIA,EA9pCiB,CA+pC1B,QH3uCEqJ,GAAa,CACbtQ,IAAK,QACLuQ,QAAS,aACTC,MAAO,UACPC,SAAU,qBACVC,WAAY,gBACZC,WAAY,gBACZC,UAAW,eACXC,UAAW,eACXC,UAAW,eACXC,cAAe,oBACfC,SAAU,cACVC,YAAa,iBACbC,aAAc,mBACdC,eAAgB,qBAChBC,eAAgB,uBAMpB,SAAWC,GACP,IAKIC,EAQJ,SAASC,EAAYtW,EAAMuW,GACvB,IAAIC,EAAe,eAAkBD,GAAiD,OAAxBA,EAC1DE,EAAc,CAAEC,UAAW,KAAMC,QAAS,GAAIC,YAAa,MAoB/D,GAnBAP,EAAYrW,EAAK6W,eACb,eAAkB7W,EAAK6W,iBAA2C,UAAxB7W,EAAK6W,gBAC/CJ,EAAYC,UAAYI,EAAqB9W,EAAMqV,GAAWI,WAAYJ,GAAWa,eAAgB,OAAQM,GAC7GxW,EAAK7hB,QAAQ2hB,WAAW9d,aAAay0B,EAAYC,UAAW1W,EAAK7hB,SACjE,eAAS,CAAC6hB,EAAK7hB,SAAUk3B,GAAWE,OACpCkB,EAAYC,UAAUj2B,YAAYuf,EAAK7hB,UAGvC44B,EAAoB/W,EAAMyW,EAAaD,GAE3CQ,EAAiBhX,GACZ,eAAkBA,EAAKiX,aAAgB,eAAkBjX,EAAKiX,WAAWC,mBAC1ElX,EAAKiX,WAAWC,iBAA4C,aAAzBlX,EAAK7hB,QAAQ4Q,UAChDooB,EAAenX,EAAKiX,WAAWC,gBAAiBlX,EAAK7hB,QAASs4B,GAAa,EAAMD,GACjFC,EAAYG,YAAYx2B,aAAa,OAAQ,UACzCq2B,EAAYC,UAAUx3B,UAAU0E,SAASyxB,GAAWK,aACpD,eAAS,CAACe,EAAYC,WAAYrB,GAAWI,cAGhD,eAAkBzV,EAAK2W,UAAqC,aAAzB3W,EAAK7hB,QAAQ4Q,QACjD,IAAK,IAAIhS,EAAI,EAAGA,EAAIijB,EAAK2W,QAAQj6B,OAAQK,IACrC05B,EAAYE,QAAQxhB,KAAKiiB,EAAWpX,EAAK2W,QAAQ55B,GAAI05B,EAAYC,UAAWF,IAQpF,OALK,eAAkBxW,EAAK7hB,UAAqC,aAAzB6hB,EAAK7hB,QAAQ4Q,SACjD,eAAS,CAAC0nB,EAAYC,WAAYrB,GAAWG,UAEjDiB,EAAcY,EAAiBrX,EAAMyW,GACnBA,EACXA,EAGX,SAASO,EAAiBhX,GACtBsX,EAAgBtX,EAAK6W,eAAgB7W,EAAK7hB,SAC1C6hB,EAAK7hB,QAAQiF,iBAAiB,SAAS,WACnC,IAAIm0B,EAASC,EAAclgC,OACvBigC,EAAOr4B,UAAU0E,SAAS,kBAAoB2zB,EAAOr4B,UAAU0E,SAAS,cACrE2zB,EAAOr4B,UAAU0E,SAAS,cAC7B2zB,EAAOr4B,UAAUC,IAAI,oBAG7B6gB,EAAK7hB,QAAQiF,iBAAiB,QAAQ,WAClC,IAAIm0B,EAASC,EAAclgC,OACvBigC,EAAOr4B,UAAU0E,SAAS,kBAAoB2zB,EAAOr4B,UAAU0E,SAAS,cACrE2zB,EAAOr4B,UAAU0E,SAAS,cAC7B2zB,EAAOr4B,UAAU+B,OAAO,oBAGhC+e,EAAK7hB,QAAQiF,iBAAiB,SAAS,WACnCk0B,EAAgBjB,EAAWrW,EAAK7hB,YAIxC,SAASm5B,EAAgBT,EAAgBY,GACrC,IAAIC,EAAaD,EAAa9+B,MACX,KAAf++B,GAAsB,eAAkBA,GAGhB,WAAnBb,GAA+BY,EAAa1lB,eACjD0lB,EAAa1lB,cAAc7S,UAAU+B,OAAO,iBAH5Cw2B,EAAa1lB,cAAc7S,UAAUC,IAAI,iBAMjD,SAASw4B,IACL,IAAIC,EAAQJ,EAAclgC,MAAM0f,uBAAuB,gBAAgB,GAClE,eAAkB4gB,KACnB,eAAS,CAACA,GAAQvC,GAAWU,UACzB6B,EAAM14B,UAAU0E,SAASyxB,GAAWW,cACpC,eAAY,CAAC4B,GAAQvC,GAAWW,cAI5C,SAAS6B,IACL,IAAIN,EAASC,EAAclgC,MAC3B,GAAKigC,EAAOO,qBAAqB,YAAY,GAA2D,KAArDP,EAAOO,qBAAqB,YAAY,GAAGn/B,MACxC,KAAlD4+B,EAAOO,qBAAqB,SAAS,GAAGn/B,MAAc,CACtD,IAAIi/B,EAAQL,EAAOvgB,uBAAuB,gBAAgB,GACrD,eAAkB4gB,KACfA,EAAM14B,UAAU0E,SAASyxB,GAAWU,WACpC,eAAY,CAAC6B,GAAQvC,GAAWU,UAEpC,eAAS,CAAC6B,GAAQvC,GAAWW,eAIzC,SAAS+B,EAAmB55B,GACxBA,EAAQiF,iBAAiB,QAASu0B,GAClCx5B,EAAQiF,iBAAiB,OAAQy0B,GAGrC,SAASG,EAAqB75B,GAC1BA,EAAQoR,oBAAoB,QAASooB,GACrCx5B,EAAQoR,oBAAoB,OAAQsoB,GAExC,SAASd,EAAoB/W,EAAMyW,EAAaF,GAC5C,IAEI0B,EACAC,EAHA1B,EAAe,eAAkBD,GAAiD,OAAxBA,EAkC9D,GA9B4B,SAAxBvW,EAAK6W,gBACLkB,EAAmB/X,EAAK7hB,SAExB,eAAkBs4B,EAAYC,YAC9BD,EAAYC,UAAYI,EAAqB9W,EAAMqV,GAAWK,WAAYL,GAAWc,eAAgB,MAAOK,GAC5GxW,EAAK7hB,QAAQ2hB,WAAW9d,aAAay0B,EAAYC,UAAW1W,EAAK7hB,WAG5D,eAAkB6hB,EAAKmY,YACxB1B,EAAYC,UAAUx3B,UAAUC,IAAIk2B,GAAWc,gBAEnDM,EAAYC,UAAUx3B,UAAUC,IAAIk2B,GAAWK,aAEnDuC,EAAkBzB,EAAY,OAAQ,CAAEt2B,UAAWm1B,GAAWM,YAC9DuC,EAAoB1B,EAAY,QAAS,CAAEt2B,UAAWm1B,GAAWO,YAC5D,eAAkB5V,EAAK7hB,QAAQU,KAA2B,KAApBmhB,EAAK7hB,QAAQU,KACpDq5B,EAAkBr5B,GAAK,SAAWmhB,EAAK7hB,QAAQU,GAAGu5B,QAAQ,KAAM,KAChE,eAAWpY,EAAK7hB,QAAS,CAAE,kBAAmB+5B,EAAkBr5B,MAE/D,eAAkBmhB,EAAK7hB,QAAQi3B,cAA6C,KAA7BpV,EAAK7hB,QAAQi3B,cAC7D8C,EAAkBG,UAAYC,EAAkBtY,EAAK7hB,QAAQi3B,aAC7DpV,EAAK7hB,QAAQoD,gBAAgB,gBAE5B,eAAkBye,EAAKiX,aAAgB,eAAkBjX,EAAKiX,WAAW7B,cAC1C,KAAhCpV,EAAKiX,WAAW7B,cAChB8C,EAAkBG,UAAYC,EAAkBtY,EAAKiX,WAAW7B,cAE/D8C,EAAkBG,WACnB5B,EAAYC,UAAUx3B,UAAUC,IAAIk2B,GAAWY,cAE/CQ,EAAYC,UAAUx3B,UAAU0E,SAAS,qBAAsB,CAC/D,IAAI20B,EAAY9B,EAAYC,UAAUvyB,cAAc,oBACpDo0B,EAAU93B,YAAYuf,EAAK7hB,SAC3Bo6B,EAAU93B,YAAYw3B,GACtBM,EAAU93B,YAAYy3B,QAGtBzB,EAAYC,UAAUj2B,YAAYuf,EAAK7hB,SACvCs4B,EAAYC,UAAUj2B,YAAYw3B,GAClCxB,EAAYC,UAAUj2B,YAAYy3B,GAEtCM,EAAiBxY,EAAK7hB,QAAQxF,MAAOu/B,GACT,WAAxBlY,EAAK6W,iBACDqB,EAAkBh5B,UAAU0E,SAASyxB,GAAWW,cAChD,eAAY,CAACkC,GAAoB7C,GAAWW,aAEhD,eAAS,CAACkC,GAAoB7C,GAAWU,WAEjB,SAAxB/V,EAAK6W,iBACL7W,EAAK7hB,QAAQiF,iBAAiB,SAAS,SAAUiF,GAC7CmwB,EAAiBxY,EAAK7hB,QAAQxF,MAAOu/B,MAEzClY,EAAK7hB,QAAQiF,iBAAiB,QAAQ,SAAUiF,GAC5CmwB,EAAiBxY,EAAK7hB,QAAQxF,MAAOu/B,OAGxC,eAAkBlY,EAAK7hB,QAAQuT,aAAa,QAC7CwmB,EAAkB93B,aAAa,MAAO4f,EAAK7hB,QAAQuT,aAAa,OAGxE,SAAS+mB,EAAoB1lB,EAAM2jB,GAClB,WAAT3jB,GAAqB2jB,EAAUx3B,UAAU0E,SAAS,cAClD8yB,EAAUx3B,UAAUC,IAAI,iBAGhC,SAASk4B,EAAiBrX,EAAMyW,GAC5B,IAAK,eAAkBzW,EAAKiX,YACxB,IAAK,IAAIp8B,EAAK,EAAGwG,EAAKzF,OAAO2K,KAAKyZ,EAAKiX,YAAap8B,EAAKwG,EAAG3E,OAAQ7B,IAAM,CACtE,IAAI2L,EAAOnF,EAAGxG,GACd,OAAQ2L,GACJ,IAAK,WACDkyB,EAAY1Y,EAAKiX,WAAWvpB,SAAU,CAAC+oB,EAAYC,YACnD+B,EAAoBzY,EAAK6W,eAAgBJ,EAAYC,WACrD,MACJ,IAAK,UACDiC,EAAW3Y,EAAKiX,WAAW2B,QAAS5Y,EAAK7hB,QAAS6hB,EAAK6W,eAAgBJ,EAAYC,WACnF,MACJ,IAAK,YACDmC,EAAa7Y,EAAKiX,WAAWh4B,UAAW,CAACw3B,EAAYC,YACrD,MACJ,IAAK,cACDoC,EAAe9Y,EAAKiX,WAAW7B,YAAapV,EAAK7hB,SACjD,MACJ,IAAK,WACD46B,EAAY/Y,EAAKiX,WAAW+B,SAAUhZ,EAAK7hB,SAC3C,OAIhB,OAAOs4B,EAEX,SAASwC,EAAgBtgC,EAAO+tB,GACxB/tB,EACA,eAAY,CAAC+tB,GAAS2O,GAAWS,eAGjC,eAAS,CAACpP,GAAS2O,GAAWS,eAGtC,SAAS0C,EAAiB7/B,EAAOi/B,GACzBj/B,GACA,eAAS,CAACi/B,GAAQvC,GAAWU,UACzB6B,EAAM14B,UAAU0E,SAASyxB,GAAWW,cACpC,eAAY,CAAC4B,GAAQvC,GAAWW,eAIhC4B,EAAM14B,UAAU0E,SAASyxB,GAAWU,WACpC,eAAY,CAAC6B,GAAQvC,GAAWU,UAEpC,eAAS,CAAC6B,GAAQvC,GAAWW,cAGrC,SAASwB,EAAcr5B,GACnB,IAAI2hB,EAAa,eAAkB3hB,EAAQ2hB,YAAc3hB,EACnDA,EAAQ2hB,WAId,OAHIA,GAAcA,EAAW5gB,UAAU0E,SAAS,qBAC5Ckc,EAAaA,EAAWA,YAErBA,EAKX,SAASoZ,EAAkB/6B,EAASs4B,EAAa0C,EAAS5C,GACtD,IAAIC,EAAe,eAAkBD,GAAiD,OAAxBA,EAC1D7P,EAAS8P,EAAY,OAAQ,CAAEt2B,UAAWm1B,GAAWQ,YACrDa,EAAYD,EAAYC,UAC5B,GAAK,eAAkByC,GAGlB,CACD,IAAIC,EAAc3C,EAAYC,UAAUx3B,UAAU0E,SAASyxB,GAAWK,YAClEe,EAAYC,UAAUvyB,cAAc,IAAMkxB,GAAWO,WAAaz3B,EACtEi7B,EAAYC,sBAAsB,WAAY3S,QAL9CgQ,EAAUj2B,YAAYimB,GAc1B,OAPK,eAAkBgQ,IACnBA,EAAUx3B,UAAU0E,SAASyxB,GAAWK,aACxC,eAAS,CAACgB,GAAYrB,GAAWI,YAErC,eAAS,CAAC/O,GAAS2O,GAAWS,eAC9BwD,EAAmBn7B,EAASuoB,EAAQgQ,GACpChQ,EAAOtmB,aAAa,aAAc,SAC3BsmB,EAEX,SAAS4S,EAAmBn7B,EAASuoB,EAAQgQ,GACzChQ,EAAOtjB,iBAAiB,SAAS,SAAUiF,GACjClK,EAAQe,UAAU0E,SAASyxB,GAAWC,UAAYn3B,EAAQo7B,WAC5DlxB,EAAM/E,iBACFnF,IAAYsO,SAAS+sB,eACrBr7B,EAAQoS,QAEZpS,EAAQxF,MAAQ,GAChB,eAAS,CAAC+tB,GAAS2O,GAAWS,mBAGtC33B,EAAQiF,iBAAiB,SAAS,SAAUiF,GACxC4wB,EAAgB96B,EAAQxF,MAAO+tB,MAEnCvoB,EAAQiF,iBAAiB,SAAS,SAAUiF,GACxC4wB,EAAgB96B,EAAQxF,MAAO+tB,MAEnCvoB,EAAQiF,iBAAiB,QAAQ,SAAUiF,GACvCxF,YAAW,WAAc,eAAS,CAAC6jB,GAAS2O,GAAWS,iBAAmB,QAIlF,SAAS2D,EAAct7B,EAAS04B,GAC5B,IAAIU,EAASC,EAAcr5B,GAC3B,GAAIo5B,EAAOr4B,UAAU0E,SAASyxB,GAAWK,aAAkC,SAAnBmB,EAA2B,CAC/E,IAAIe,EAAQJ,EAAcr5B,GAAS6Y,uBAAuB,gBAAgB,GAC1EwhB,EAAiBr6B,EAAQxF,MAAOi/B,IAMxC,SAASd,EAAqB9W,EAAM9f,EAAWw5B,EAAUC,EAAKpD,GAC1D,IACIG,EADAF,EAAe,eAAkBD,GAAiD,OAAxBA,EAU9D,OARK,eAAkBvW,EAAKmY,WAKxBzB,EAAYF,EAAYmD,EAAK,CAAEz5B,UAAWA,KAJ1Cw2B,EAAYF,EAAYxW,EAAKmY,UAAW,CAAEj4B,UAAWA,IACrDw2B,EAAUx3B,UAAUC,IAAIu6B,IAK5BhD,EAAUx3B,UAAUC,IAAI,qBACjBu3B,EAEX,SAAS4B,EAAkBlD,GACvB,IAAIwE,EAAS,GACb,IAAK,eAAkBxE,IAAgC,KAAhBA,EAAoB,CACvD,IAAIyE,EAAUptB,SAASxM,cAAc,QACrC45B,EAAQrY,UAAY,wBAA0B4T,EAAc,MAC5D,IAAI0E,EAAeD,EAAQ9/B,SAAS,GACpC6/B,EAASE,EAAY1E,YAEzB,OAAOwE,EAYX,SAASG,EAASphC,EAAOwF,EAAS04B,EAAgBD,GAK9C,GAJAz4B,EAAQxF,MAAQA,EACV,eAAkBk+B,IAAuC,SAAnBA,GACxC4C,EAAct7B,EAAS04B,IAEtB,eAAkBD,IAAgBA,EAAa,CAChD,IAAI7kB,EAAgBylB,EAAcr5B,GAClC,IAAK,eAAkB4T,GAAgB,CACnC,IAAI2U,EAAS3U,EAAciF,uBAAuBqe,GAAWQ,WAAW,GACpE13B,EAAQxF,OAASoZ,EAAc7S,UAAU0E,SAAS,iBAClD,eAAY,CAAC8iB,GAAS2O,GAAWS,eAGjC,eAAS,CAACpP,GAAS2O,GAAWS,gBAI1CwB,EAAgBT,EAAgB14B,GAYpC,SAASu6B,EAAYhrB,EAAUuR,EAAU+a,GAChC,eAAkBA,IAA0B,KAAbA,GAChC,eAAY/a,EAAU+a,EAASrsB,MAAM,MAEpC,eAAkBD,IAA0B,KAAbA,GAChC,eAASuR,EAAUvR,EAASC,MAAM,MAY1C,SAASssB,EAASr0B,EAAO8wB,GACA,kBAAV9wB,EACP8wB,EAAU33B,MAAM6G,MAAQ,eAAWA,GAEb,kBAAVA,IACZ8wB,EAAU33B,MAAM6G,MAASA,EAAMs0B,MAAM,WAAc,EAAW,cAAD,CAAYt0B,IAYjF,SAASkzB,EAAe1D,EAAaj3B,GACjC,IAAI4T,EACJqjB,EAAckD,EAAkBlD,GAChCrjB,EAAgBylB,EAAcr5B,GAC1B4T,EAAc7S,UAAU0E,SAASyxB,GAAWK,YACvC,eAAkBN,IAAgC,KAAhBA,GAMnCrjB,EAAc7S,UAAUC,IAAIk2B,GAAWY,cACvClkB,EAAciF,uBAAuBqe,GAAWO,WAAW,GAAG9T,YAAc,KAN5E/P,EAAciF,uBAAuBqe,GAAWO,WAAW,GAAG9T,YAAcsT,EAC5ErjB,EAAc7S,UAAU+B,OAAOo0B,GAAWY,cAC1C93B,EAAQoD,gBAAgB,gBAQvB,eAAkB6zB,IAAgC,KAAhBA,GAInCj3B,EAAQoD,gBAAgB,eACxBpD,EAAQoD,gBAAgB,qBAJxB,eAAWpD,EAAS,CAAE,YAAei3B,EAAa,mBAAoBA,IAmBlF,SAAS2D,EAAYoB,EAAYh8B,EAAS04B,GAClCsD,EACA,eAAWh8B,EAAS,CAAE66B,SAAU,KAGhC76B,EAAQoD,gBAAgB,YAEvB,eAAkBs1B,IACnB4C,EAAct7B,EAAS04B,GAc/B,SAASgC,EAAauB,EAAOnb,GACrBmb,EACA,eAASnb,EAAUoW,GAAWtQ,KAG9B,eAAY9F,EAAUoW,GAAWtQ,KAczC,SAAS4T,EAAW3Z,EAAU7gB,EAAS04B,EAAgBwD,GACnD,IAAIC,EAAgB,CAAE,SAAY,WAAY,gBAAiB,QAC3DC,GAAkB,eAAkBF,GACpCrb,GACA7gB,EAAQe,UAAU+B,OAAOo0B,GAAWC,SACpCkF,EAAiBF,EAAen8B,GAC5Bo8B,GACA,eAAY,CAACF,GAAiBhF,GAAWC,WAI7Cn3B,EAAQe,UAAUC,IAAIk2B,GAAWC,SACjCmF,EAAcH,EAAen8B,GACzBo8B,GACA,eAAS,CAACF,GAAiBhF,GAAWC,UAGzC,eAAkBuB,IACnB4C,EAAct7B,EAAS04B,GAI/B,SAASM,EAAeuD,EAASv8B,EAASs4B,EAAa0C,EAAS5C,GAC5D,IAAIC,EAAe,eAAkBD,GAAiD,OAAxBA,EAC1DmE,EACAjE,EAAYG,YAAcsC,EAAkB/6B,EAASs4B,EAAa0C,EAAS3C,IAG3EC,EAAYG,YAAY31B,SACxBw1B,EAAYG,YAAc,MAclC,SAAS4D,EAAiB5iC,EAAOuG,GAC7B,IAAK,IAAItD,EAAK,EAAGwG,EAAKzF,OAAO2K,KAAK3O,GAAQiD,EAAKwG,EAAG3E,OAAQ7B,IAAM,CAC5D,IAAIzC,EAAMiJ,EAAGxG,GACTkX,OAAgB,EACpBA,EAAgBylB,EAAcr5B,GAClB,aAAR/F,GACA+F,EAAQe,UAAU+B,OAAOo0B,GAAWC,SAE5B,aAARl9B,GAAsB2Z,EAAc7S,UAAU0E,SAASyxB,GAAWI,aAClE1jB,EAAc7S,UAAU+B,OAAOo0B,GAAWC,SAElC,gBAARl9B,GAAyB2Z,EAAc7S,UAAU0E,SAASyxB,GAAWK,YACrE3jB,EAAciF,uBAAuBqe,GAAWO,WAAW,GAAG9T,YAAc,GAG5E3jB,EAAQoD,gBAAgBnJ,IAepC,SAASqiC,EAAc7iC,EAAOuG,GAC1B,IAAK,IAAItD,EAAK,EAAGwG,EAAKzF,OAAO2K,KAAK3O,GAAQiD,EAAKwG,EAAG3E,OAAQ7B,IAAM,CAC5D,IAAIzC,EAAMiJ,EAAGxG,GACTkX,OAAgB,EACpBA,EAAgBylB,EAAcr5B,GAClB,aAAR/F,GACA+F,EAAQe,UAAUC,IAAIk2B,GAAWC,SAEzB,aAARl9B,GAAsB2Z,EAAc7S,UAAU0E,SAASyxB,GAAWI,aAClE1jB,EAAc7S,UAAUC,IAAIk2B,GAAWC,SAE/B,gBAARl9B,GAAyB2Z,EAAc7S,UAAU0E,SAASyxB,GAAWK,YACrE3jB,EAAciF,uBAAuBqe,GAAWO,WAAW,GAAG9T,YAAclqB,EAAMQ,GAGlF+F,EAAQiC,aAAahI,EAAKR,EAAMQ,KAK5C,SAASuiC,EAAeC,GACpB,IAAIlE,EAAYkE,EAAMlE,UACtB,IAAK,eAAkBA,IAAcA,EAAUx3B,UAAU0E,SAASyxB,GAAWK,YAAa,CACtF,IAAImF,EAAWnE,EAAUvyB,cAAc,YAAcuyB,EAAUvyB,cAAc,YACzEuyB,EAAUvyB,cAAc,SACxBixB,EAAcsB,EAAUvyB,cAAc,IAAMkxB,GAAWO,WAAW9T,YAClE8U,EAA2D,OAA7CF,EAAUvyB,cAAc,iBAC1C,eAAOuyB,EAAUvyB,cAAc,IAAMkxB,GAAWM,YAChD,eAAOe,EAAUvyB,cAAc,IAAMkxB,GAAWO,YAChD,eAAUc,EAAW,CAACrB,GAAWI,YAAa,CAACJ,GAAWK,aAC1DsC,EAAqB6C,GACrB,eAAWA,EAAU,CAAE,YAAezF,IACtCyF,EAAS37B,UAAUC,IAAIk2B,GAAWE,OAC7BqB,GAAoC,UAArBiE,EAAS9rB,SACzB8rB,EAASt5B,gBAAgB,aAKrC,SAASu5B,EAAYF,EAAO7nB,EAAMqiB,EAAamB,GAC3C,IAAIC,EAAe,eAAkBD,GAAiD,OAAxBA,EAC1DG,EAAY,eAAQkE,EAAO,IAAMvF,GAAWI,YAEhD,GADAY,EAAYtjB,EACC,UAATA,EAAkB,CAClB,IAAIolB,EAAYzB,EAAU3nB,QAC1BopB,EAA0B,QAAdA,GAAqC,SAAdA,EAAuBA,EAAY,KACtE,IAAInY,EAAO,CAAE7hB,QAASy8B,EAAO/D,eAAgB9jB,EAAMolB,UAAWA,EAAWlB,WAAY,CAAE7B,YAAaA,IAChG2F,EAAUrE,EAAUvyB,cAAc,iBAClC62B,EAAW,CAAEtE,UAAWA,GAC5BkE,EAAM17B,UAAU+B,OAAOo0B,GAAWE,OAClCwB,EAAoB/W,EAAMgb,EAAUxE,GACpC,IAAIyE,EAAgBvE,EAAUx3B,UAAU0E,SAAS,qBACjD,GAAI,eAAkBm3B,GAClB,GAAIE,EAAe,CACf,IAAI1C,EAAY7B,EAAUvyB,cAAc,oBACxC42B,EAAUxC,EAAUp0B,cAAc,4BAGlC42B,EAAUrE,EAAUvyB,cAAc,uBAG1C,GAAI,eAAkB42B,GACdE,IACAF,EAAUrE,EAAUvyB,cAAc,wBAElC,eAAkB42B,IAClBrE,EAAUx3B,UAAU+B,OAAOo0B,GAAWI,gBAGzC,CACD,IAAIyF,EAAYxE,EAAUvyB,cAAc,IAAMkxB,GAAWM,WACrDwF,EAAYzE,EAAUvyB,cAAc,IAAMkxB,GAAWO,WACrDjN,EAAUsS,EAAgBvE,EAAUvyB,cAAc,oBAAsBuyB,EAC5E/N,EAAQ3mB,aAAa44B,EAAOG,GAC5BpS,EAAQ3mB,aAAak5B,EAAWH,GAChCpS,EAAQ3mB,aAAam5B,EAAWJ,IAGxCtC,EAAoB1lB,EAAM6nB,EAAM7oB,eAapC,SAASqpB,EAAUC,EAAUL,GACzB,IAAK,IAAIj+B,EAAI,EAAGA,EAAIi+B,EAASt+B,OAAQK,IACjCu+B,EAAgBD,EAAUL,EAASj+B,GAAG25B,WAI9C,SAAS4E,EAAgBD,EAAU3E,EAAWhQ,GAC1C,IAAI6U,EAAa,GACjBA,EAAWpmB,KAAKuR,GAChB,IAAIiQ,EAAU,eAAkBjQ,GAC5BgQ,EAAU5pB,iBAAiB,uBAAyByuB,EACxD,GAAIF,GAAY1E,EAAQj6B,OAAS,EAC7B,IAAK,IAAI7C,EAAQ,EAAGA,EAAQ88B,EAAQj6B,OAAQ7C,IACxC88B,EAAQ98B,GAAOuJ,iBAAiB,YAAao4B,GAAoB,GACjE7E,EAAQ98B,GAAOuJ,iBAAiB,UAAWq4B,GAAkB,QAGhE,GAAI9E,EAAQj6B,OAAS,EACtB,IAAS7C,EAAQ,EAAGA,EAAQ88B,EAAQj6B,OAAQ7C,IACxC88B,EAAQ98B,GAAO0V,oBAAoB,YAAaisB,EAAoBlkC,MACpEq/B,EAAQ98B,GAAO0V,oBAAoB,UAAWksB,EAAkBnkC,MAI5E,SAASokC,EAAehF,EAAWhQ,GAC1BgQ,EAAUx3B,UAAU0E,SAAS,eAAkB8yB,EAAUvyB,cAAc,SAASo1B,UACjF7S,EAAOxnB,UAAUC,IAAI,sBAG7B,SAASq8B,IACL,IAAIn7B,EAAM/I,KACNqkC,EAAYrkC,KAAKya,cACrB,OAAQ4pB,EAAUz8B,UAAU0E,SAAS,iBACjC+3B,EAAYA,EAAU5pB,cAE1B2pB,EAAeC,EAAWt7B,GAE9B,SAASo7B,IACL,IAAIp7B,EAAM/I,KACVuL,YAAW,WAAcxC,EAAInB,UAAU+B,OAAO,wBAA0B,KAE5E,SAAS26B,EAAcC,EAAWrF,GAC9B,IAAI9P,EAAS8P,EAAY,OAAQ,CAAEt2B,UAAW27B,IAE9C,OADAnV,EAAOxnB,UAAUC,IAAI,sBACdunB,EAcX,SAASoV,EAAQtoB,EAAUuoB,EAAOrF,EAAWkE,EAAOoB,GAEhD,IAAIpC,EAA4B,kBAAZ,EAAuBmC,EAAMpuB,MAAM,KACjDouB,EACN,GAA+B,WAA3BvoB,EAAS6B,cACT,IAAK,IAAIxa,EAAK,EAAGohC,EAAWrC,EAAQ/+B,EAAKohC,EAASv/B,OAAQ7B,IAAM,CAC5D,IAAIwpB,EAAO4X,EAASphC,GACpBu8B,EAAW/S,EAAMqS,EAAWsF,QAIhC,IAAK,IAAI36B,EAAK,EAAG66B,EAAWtC,EAAQv4B,EAAK66B,EAASx/B,OAAQ2E,IAAM,CACxDgjB,EAAO6X,EAAS76B,GACpB86B,EAAY9X,EAAMqS,EAAWkE,EAAOoB,IAgBhD,SAASG,EAAYN,EAAWnF,EAAWe,EAAclB,GAErD,IAAIC,EAAe,eAAkBD,GAAiD,OAAxBA,EAC1D7P,EAASkV,EAAcC,EAAWrF,GACtCE,EAAUx3B,UAAUC,IAAI,qBACxB,IAAIi9B,EAAe1F,EAAUvyB,cAAc,oBAC3C,GAAI,eAAkBi4B,GAAe,CACjCA,EAAe5F,EAAY,OAAQ,CAAEt2B,UAAW,oBAChDu3B,EAAa3X,WAAW9d,aAAao6B,EAAc3E,GACnD,IAAImC,EAASlD,EAAU5pB,iBAAiB2qB,EAAa1oB,QAAU,QAC/DqtB,EAAa37B,YAAYg3B,GACzB,IAAK,IAAI16B,EAAI,EAAGA,EAAI68B,EAAOl9B,OAAQK,IAC/Bq/B,EAAa37B,YAAYm5B,EAAO78B,IAQxC,OALAq/B,EAAatc,WAAW9d,aAAa0kB,EAAQ0V,GACxC1F,EAAUx3B,UAAU0E,SAASyxB,GAAWI,aACzCiB,EAAUx3B,UAAUC,IAAIk2B,GAAWI,YAEvC6F,GAAgB,EAAM5E,EAAWhQ,GAC1BA,EAYX,SAAS0Q,EAAWyE,EAAWnF,EAAWH,GACtC,IAAIC,EAAe,eAAkBD,GAAiD,OAAxBA,EAC1D7P,EAASkV,EAAcC,EAAWrF,GACjCE,EAAUx3B,UAAU0E,SAASyxB,GAAWI,aACzCiB,EAAUx3B,UAAUC,IAAIk2B,GAAWI,YAEvC,IAAI4G,EAAQ3F,EAAUx3B,UAAU0E,SAAS,qBAAwB8yB,EAAUvyB,cAAc,oBACrFuyB,EAGJ,OAFA2F,EAAK57B,YAAYimB,GACjB4U,GAAgB,EAAM5E,EAAWhQ,GAC1BA,EAtsBX0P,EAAME,YAAcA,EAqBpBF,EAAMY,iBAAmBA,EAoCzBZ,EAAM2B,mBAAqBA,EAgL3B3B,EAAMkD,mBAAqBA,EA+D3BlD,EAAM2D,SAAWA,EAkBjB3D,EAAMsC,YAAcA,EAiBpBtC,EAAM6D,SAAWA,EAkCjB7D,EAAM0C,eAAiBA,EAsBvB1C,EAAM2C,YAAcA,EAmBpB3C,EAAMyC,aAAeA,EAgCrBzC,EAAMuC,WAAaA,EAWnBvC,EAAMe,eAAiBA,EA8BvBf,EAAMoE,iBAAmBA,EA8BzBpE,EAAMqE,cAAgBA,EAmBtBrE,EAAMuE,eAAiBA,EA0CvBvE,EAAM0E,YAAcA,EAgBpB1E,EAAMgF,UAAYA,EAsElBhF,EAAM0F,QAAUA,EAkChB1F,EAAM+F,YAAcA,EAsBpB/F,EAAMgB,WAAaA,GAxvBvB,CAyvBG,KAAU,GAAQ,KIhxBrB,IAAI,GAAwC,WACxC,IAAI37B,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,gBAClB,CAAEC,UAAW,cAAgBpB,OAAS,SAAUgB,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAII,KAAKJ,EAAOA,EAAEK,eAAeD,KAAIL,EAAEK,GAAKJ,EAAEI,KAClEN,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASM,IAAO3E,KAAK4E,YAAcR,EADnCD,EAAcC,EAAGC,GAEjBD,EAAES,UAAkB,OAANR,EAAaC,OAAOQ,OAAOT,IAAMM,EAAGE,UAAYR,EAAEQ,UAAW,IAAIF,IAV3C,GAaxC,GAA0C,SAAUK,EAAYvD,EAAQX,EAAKmE,GAC7E,IAA2Hb,EAAvHc,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIzD,EAAkB,OAATwD,EAAgBA,EAAOX,OAAOgB,yBAAyB7D,EAAQX,GAAOmE,EACrH,GAAuB,kBAAZM,SAAoD,oBAArBA,QAAQC,SAAyBH,EAAIE,QAAQC,SAASR,EAAYvD,EAAQX,EAAKmE,QACpH,IAAK,IAAIQ,EAAIT,EAAWI,OAAS,EAAGK,GAAK,EAAGA,KAASrB,EAAIY,EAAWS,MAAIJ,GAAKH,EAAI,EAAId,EAAEiB,GAAKH,EAAI,EAAId,EAAE3C,EAAQX,EAAKuE,GAAKjB,EAAE3C,EAAQX,KAASuE,GAChJ,OAAOH,EAAI,GAAKG,GAAKf,OAAOoB,eAAejE,EAAQX,EAAKuE,GAAIA,GAQ5D,GAAO,8BACP2/B,GAAW,qBACXC,GAAS,YACTC,GAAW,cACXC,GAAQ,UACRC,GAAY,YACZC,GAAY,YACZC,GAAY,IAAIC,OAAO,gBACvBC,GAAmB,IACnBC,GAAY,mBACZC,GAAU,YACVC,GAAgB,gBAChBC,GAAgB,mBAChBC,GAAoB,CAAC,QAAS,QAAS,SAavC,GAAgC,SAAUn/B,GAE1C,SAASo/B,EAAel/B,EAASC,GAC7B,IAAIoE,EAAQvE,EAAOI,KAAK9G,KAAM4G,EAASC,IAAY7G,KAInD,OAHAiL,EAAM86B,OAAQ,EACd96B,EAAM+6B,eAAgB,EACtB/6B,EAAMg7B,eAAiBr/B,EAChBqE,EAgwCX,OAtwCA,GAAU66B,EAAgBp/B,GAQ1Bo/B,EAAejhC,UAAUkC,UAAY,WACjC/G,KAAKkmC,eAAgB,EACrBlmC,KAAKmmC,iBAAmB,IACxBnmC,KAAKomC,UAAY,IAAIb,OAAO,gBAC5BvlC,KAAKqmC,UAAW,EAChB,IAAIjV,EAAa,eAAS,gBAAiBpxB,KAAK6G,SAKhD,GAJA7G,KAAKsmC,aAAetmC,KAAK6G,QAAQygB,WAAU,GAC3C,eAAY,CAACtnB,KAAKsmC,cAAe,CAACZ,GAASD,GAAW,UACtDzlC,KAAKumC,eAAiB,KACtBvmC,KAAKwmC,QAAU,eAAQxmC,KAAK6G,QAAS,QACR,uBAAzB7G,KAAK6G,QAAQ4Q,QAAkC,CAC/CzX,KAAKumC,eAAiBvmC,KAAK6G,QAAQ4Q,QACnC,IAAI6rB,EAAQtjC,KAAK2I,cAAc,SAC3BpG,EAAQ,EACZ,IAAKA,EAAOA,EAAQvC,KAAK6G,QAAQyqB,WAAWlsB,OAAQ7C,IAAS,CACzD,IAAIkkC,EAAgBzmC,KAAK6G,QAAQyqB,WAAW/uB,GAAOgvB,SAC7B,OAAlBkV,IACAnD,EAAMx6B,aAAa9I,KAAK6G,QAAQyqB,WAAW/uB,GAAOgvB,SAAUvxB,KAAK6G,QAAQyqB,WAAW/uB,GAAOivB,WAC3F8R,EAAMpZ,UAAYlqB,KAAK6G,QAAQqjB,WAGnClqB,KAAK6G,QAAQ6/B,aAAa,SAC1B1mC,KAAK6G,QAAQoD,gBAAgB,QAEjCjK,KAAK6G,QAAQe,UAAU+B,OAAO,YAAa,oBAC3C3J,KAAK6G,QAAQsC,YAAYm6B,GACzBtjC,KAAK6G,QAAUy8B,EACf,gBAAS,gBAAiBlS,EAAYpxB,KAAK6G,SAE/C,IAAM,mBAAc7G,KAAKqV,iBAAmB,CACxC,eAAWrV,KAAK6G,QAAS,CAAE,KAAQ,aAAc,SAAY,IAAK,aAAgB,MAAO,YAAa,cACtG,IAAI8/B,EAAa,CACbC,eAAgB,kBAAmBC,eAAgB,kBAAmB/I,YAAa99B,KAAK89B,aAE5F99B,KAAK8mC,KAAO,IAAI,OAAK,iBAAkBH,EAAY3mC,KAAK+mC,QACX,KAAzC/mC,KAAK8mC,KAAKE,YAAY,gBACtBhnC,KAAK+wB,cAAc,CAAE+M,YAAa99B,KAAK89B,aAAe99B,KAAK8mC,KAAKE,YAAY,iBAAkB,GAGtGhnC,KAAKinC,cAAe,EACpBjnC,KAAKknC,WAAa,KAClBlnC,KAAKmnC,UAAY,KACjBnnC,KAAKonC,YAAc,GACnBpnC,KAAKqnC,kBACLrnC,KAAKsnC,kBACLtnC,KAAKunC,UAAYvnC,KAAKqB,MAChB,kBAAcrB,KAAKqV,mBACrBrV,KAAKwnC,0BACLxnC,KAAKynC,iBAAgB,GACjBznC,KAAKwmC,UACLxmC,KAAK0nC,cAAgB1nC,KAAKqB,QAGlCrB,KAAK2nC,iBACL3nC,KAAK4nC,eACoB,OAArB5nC,KAAK89B,aAA0B,kBAAc99B,KAAKqV,kBAClDrV,KAAK6nC,qBAOb/B,EAAejhC,UAAU/E,OAAS,WACa,UAAvCE,KAAK6G,QAAQ4Q,QAAQsG,gBACf,kBAAc/d,KAAKqV,kBAarBrV,KAAKo/B,UAAYp/B,KAAK6G,QAAQ4T,cAC9Bza,KAAK8nC,aAAe,CAAE1I,UAAWp/B,KAAKo/B,WACtCp/B,KAAKwiC,YAAcxiC,KAAKo/B,UAAUvyB,cAAc,wBAC5C7M,KAAK4/B,kBACL5/B,KAAK8nC,aAAaxI,YAAct/B,KAAKo/B,UAAUvyB,cAAc,iBAC7D,GAAMm1B,mBAAmBhiC,KAAK6G,QAAS7G,KAAK8nC,aAAaxI,YAAat/B,KAAK8nC,aAAa1I,YAExFp/B,KAAK+nC,iBACL/nC,KAAKgoC,SAAWhoC,KAAKo/B,UAAUvyB,cAAc,IAAMq4B,IACnDllC,KAAKioC,OAASjoC,KAAKo/B,UAAUvyB,cAAc,IAAMo4B,IACjDjlC,KAAKkoC,qBAET,GAAMxI,iBAAiB,CACnB74B,QAAS7G,KAAK6G,QAASw4B,QAAS,KAAMwB,UAAW,KAAMtB,eAAgBv/B,KAAKu/B,eAAgBI,WAAY3/B,KAAK2/B,eAzBjH3/B,KAAKmoC,gBACDnoC,KAAK+nC,gBACL/nC,KAAKooC,kBAETpoC,KAAKqoC,gBAAgBroC,KAAKsO,OACrBtO,KAAKo/B,UAAUx3B,UAAU0E,SAAS,kBACnCtM,KAAKo/B,UAAUx3B,UAAUC,IAAI,iBAEjC7H,KAAKsoC,YAA2B,OAAftoC,KAAKqB,OAAkBknC,MAAMvoC,KAAKqB,OAC/C,KAAOrB,KAAKwoC,WAAaxoC,KAAKyoC,UAAUzoC,KAAKqB,OAASrB,KAAKqB,QAmBnErB,KAAKgX,aACC,kBAAchX,KAAKqV,mBACF,OAAfrV,KAAKqB,OAAmBknC,MAAMvoC,KAAKqB,QAC/BrB,KAAK0oC,UACL1oC,KAAK+wB,cAAc,CAAE1vB,MAAOrB,KAAK2oC,YAAY3oC,KAAKqB,MAAOrB,KAAK0oC,YAAa,IAG/E1oC,KAAK6G,QAAQuT,aAAa,UAAYpa,KAAKqB,SAC3CrB,KAAK6G,QAAQiC,aAAa,QAAS9I,KAAK6G,QAAQxF,OAChDrB,KAAKwiC,YAAY15B,aAAa,QAAS9I,KAAKwiC,YAAYnhC,SAGhErB,KAAK4oC,iBAAmB5oC,KAAK6G,QAAQxF,MACrCrB,KAAK2c,mBAGbmpB,EAAejhC,UAAU4iC,gBAAkB,SAAUoB,GAGjD,IAFA,IAAIvX,EAAauX,EAAY,eAAkB7oC,KAAK2b,gBAAkB,GAAKrX,OAAO2K,KAAKjP,KAAK2b,gBACxF,CAAC,QAAS,MAAO,MAAO,OAAQ,WAAY,WAAY,QAAS,OAAQ,eACpEpY,EAAK,EAAGulC,EAAexX,EAAY/tB,EAAKulC,EAAa1jC,OAAQ7B,IAAM,CACxE,IAAI2L,EAAO45B,EAAavlC,GACxB,IAAK,eAAkBvD,KAAK6G,QAAQuT,aAAalL,IAC7C,OAAQA,GACJ,IAAK,WAED,GAAK,eAAkBlP,KAAKimC,sBAAuDlL,IAAnC/6B,KAAKimC,eAAe,YAA8B4C,EAAW,CACzG,IAAIvH,EAA8C,aAApCthC,KAAK6G,QAAQuT,aAAalL,IAA4D,KAApClP,KAAK6G,QAAQuT,aAAalL,IAC/C,SAApClP,KAAK6G,QAAQuT,aAAalL,GACjClP,KAAK+wB,cAAc,CAAEuQ,QAASA,IAAYuH,GAE9C,MACJ,IAAK,WAED,GAAK,eAAkB7oC,KAAKimC,sBAAwDlL,IAApC/6B,KAAKimC,eAAe,aAA+B4C,EAAW,CAC1G,IAAInH,EAA+C,aAApC1hC,KAAK6G,QAAQuT,aAAalL,IAA4D,KAApClP,KAAK6G,QAAQuT,aAAalL,IAChD,SAApClP,KAAK6G,QAAQuT,aAAalL,GACjClP,KAAK+wB,cAAc,CAAE2Q,SAAUA,IAAamH,GAEhD,MACJ,IAAK,eAEI,eAAkB7oC,KAAKimC,sBAA2DlL,IAAvC/6B,KAAKimC,eAAe,gBAAkC4C,IAClG7oC,KAAK+wB,cAAc,CAAE+M,YAAa99B,KAAK6G,QAAQi3B,cAAgB+K,GAEnE,MACJ,IAAK,QAED,GAAK,eAAkB7oC,KAAKimC,sBAAqDlL,IAAjC/6B,KAAKimC,eAAe,UAA4B4C,EAAW,CACvG,IAAIE,EAAY/oC,KAAK4V,SAASozB,gBAAgB,CAAEC,OAAQ,KAAxCjpC,CAA+CA,KAAK6G,QAAQuT,aAAalL,IACzFlP,KAAK+wB,cAAc,gBAAS7hB,EAAM65B,EAAW,KAAMF,GAEvD,MACJ,IAAK,MAED,GAAK,eAAkB7oC,KAAKimC,sBAAmDlL,IAA/B/6B,KAAKimC,eAAe,QAA0B4C,EAAW,CACrG,IAAIK,EAAWlpC,KAAK4V,SAASozB,gBAAgB,CAAEC,OAAQ,KAAxCjpC,CAA+CA,KAAK6G,QAAQuT,aAAalL,IACvE,OAAbg6B,GAAsBX,MAAMW,IAC5BlpC,KAAK+wB,cAAc,gBAAS7hB,EAAMg6B,EAAU,KAAML,GAG1D,MACJ,IAAK,MAED,GAAK,eAAkB7oC,KAAKimC,sBAAmDlL,IAA/B/6B,KAAKimC,eAAe,QAA0B4C,EAAW,CACrG,IAAIM,EAAWnpC,KAAK4V,SAASozB,gBAAgB,CAAEC,OAAQ,KAAxCjpC,CAA+CA,KAAK6G,QAAQuT,aAAalL,IACvE,OAAbi6B,GAAsBZ,MAAMY,IAC5BnpC,KAAK+wB,cAAc,gBAAS7hB,EAAMi6B,EAAU,KAAMN,GAG1D,MACJ,IAAK,OAED,GAAK,eAAkB7oC,KAAKimC,sBAAoDlL,IAAhC/6B,KAAKimC,eAAe,SAA2B4C,EAAW,CACtG,IAAIO,EAAYppC,KAAK4V,SAASozB,gBAAgB,CAAEC,OAAQ,KAAxCjpC,CAA+CA,KAAK6G,QAAQuT,aAAalL,IACvE,OAAdk6B,GAAuBb,MAAMa,IAC7BppC,KAAK+wB,cAAc,gBAAS7hB,EAAMk6B,EAAW,KAAMP,GAG3D,MACJ,IAAK,QACD7oC,KAAKknC,WAAalnC,KAAK6G,QAAQuT,aAAalL,GAC5C,MACJ,IAAK,OACDlP,KAAKmnC,UAAYnnC,KAAK6G,QAAQuT,aAAalL,GAC3C,MACJ,QACI,IAAI7N,EAAQrB,KAAK4V,SAASozB,gBAAgB,CAAEC,OAAQ,KAAxCjpC,CAA+CA,KAAK6G,QAAQuT,aAAalL,KACtE,OAAV7N,IAAmBknC,MAAMlnC,IAAqB,UAAT6N,IACtClP,KAAK+wB,cAAc,gBAAS7hB,EAAM7N,EAAO,KAAK,GAElD,SAKpBykC,EAAejhC,UAAUgjC,kBAAoB,WACzC7nC,KAAK+wB,cAAc,CAAE+M,YAAa99B,KAAK8mC,KAAKE,YAAY,iBAAkB,IAE9ElB,EAAejhC,UAAUyiC,gBAAkB,WACvCtnC,KAAK4V,SAAW,IAAI,OAAqB5V,KAAK+mC,SAElDjB,EAAejhC,UAAUwiC,gBAAkB,WACvCrnC,KAAKonC,YAAY6B,OAASjpC,KAAKipC,OACI,OAA/B,eAAS,WAAYjpC,QACrB,gBAAS,WAAYA,KAAKqpC,SAAUrpC,KAAKonC,aACzCpnC,KAAK+wB,cAAc,CAAEuY,aAActpC,KAAKqpC,WAAY,KAI5DvD,EAAejhC,UAAUsjC,cAAgB,WACrC,IAAIoB,EAAuBvpC,KAAKoW,SAC3B,eAAkBpW,KAAKoW,WAA+B,KAAlBpW,KAAKoW,WAC1CmzB,EAAuBvpC,KAAKwpC,yBAAyBxpC,KAAKoW,WAE9D,IAAIstB,EAAW,GAAM1E,YAAY,CAC7Bn4B,QAAS7G,KAAK6G,QACd04B,eAAgBv/B,KAAKu/B,eACrBI,WAAY,CACR+B,SAAU1hC,KAAK0hC,SACf5D,YAAa99B,KAAK89B,YAClB1nB,SAAUmzB,EACV5hC,UAAW3H,KAAK2H,UAChBi4B,gBAAiB5/B,KAAK4/B,gBACtB0B,QAASthC,KAAKshC,UAEnBthC,KAAK2I,eACR3I,KAAK8nC,aAAepE,EACpB1jC,KAAKo/B,UAAYsE,EAAStE,UAC1Bp/B,KAAKo/B,UAAUt2B,aAAa,QAAS,GAAO,IAAM9I,KAAKo/B,UAAUhlB,aAAa,UAC9Epa,KAAKypC,0BACDzpC,KAAK0hC,UACL,eAAW1hC,KAAK6G,QAAS,CAAE,gBAAiB,SAEhD7G,KAAKwiC,YAAexiC,KAAK2I,cAAc,QAAS,CAAErI,MAAO,CAAEmb,KAAM,OACzD,eAAkB,OAAQ,MAASmqB,MAC3C5lC,KAAKmnC,UAA+B,OAAnBnnC,KAAKmnC,UAAqBnnC,KAAKmnC,UAAYnnC,KAAK6G,QAAQU,GACzEvH,KAAK6G,QAAQoD,gBAAgB,QAC7B,eAAWjK,KAAKwiC,YAAa,CAAE,KAAQxiC,KAAKmnC,YAC5CnnC,KAAKo/B,UAAU10B,aAAa1K,KAAKwiC,YAAaxiC,KAAKo/B,UAAUhe,WAAW,IACxEphB,KAAK0pC,qBAAoB,GACD,OAApB1pC,KAAKknC,YACL,eAAWlnC,KAAKo/B,UAAW,CAAE,MAASp/B,KAAKknC,cAGnDpB,EAAejhC,UAAU6kC,oBAAsB,SAAUb,GACrD,IAAIthB,EAAO,GACX,GAAKshB,EAMDthB,EAAOvnB,KAAK2b,oBALZ,IAAK,IAAIkM,EAAI,EAAGA,EAAI7nB,KAAK6G,QAAQyqB,WAAWlsB,OAAQyiB,IAChDN,EAAKvnB,KAAK6G,QAAQyqB,WAAWzJ,GAAG1mB,MAAQnB,KAAK6G,QAAQuT,aAAapa,KAAK6G,QAAQyqB,WAAWzJ,GAAG1mB,MAMrG,IAAK,IAAIoC,EAAK,EAAGwG,EAAKzF,OAAO2K,KAAKsY,GAAOhkB,EAAKwG,EAAG3E,OAAQ7B,IAAM,CAC3D,IAAIzC,EAAMiJ,EAAGxG,GACe,IAAxBzC,EAAIka,QAAQ,SACZhb,KAAKwiC,YAAY15B,aAAahI,EAAKymB,EAAKzmB,MAIpDglC,EAAejhC,UAAU2iC,wBAA0B,WAC/C,IAAK,eAAkBxnC,KAAK2b,gBACxB,IAAK,IAAIpY,EAAK,EAAGwG,EAAKzF,OAAO2K,KAAKjP,KAAK2b,gBAAiBpY,EAAKwG,EAAG3E,OAAQ7B,IAAM,CAC1E,IAAIomC,EAAM5/B,EAAGxG,GACTsiC,GAAkB7qB,QAAQ2uB,GAAO,GACjC3pC,KAAK6G,QAAQiC,aAAa6gC,EAAK3pC,KAAK2b,eAAeguB,MAKnE7D,EAAejhC,UAAU+kC,eAAiB,SAAUC,EAAUnH,GAC1D,GAAMtB,YAAYphC,KAAKwpC,yBAAyBK,GAAW,CAAC7pC,KAAKo/B,WAAYp/B,KAAKwpC,yBAAyB9G,KAE/GoD,EAAejhC,UAAU2kC,yBAA2B,SAAUM,GAC1D,IAAIxH,EAASwH,EAIb,OAHK,eAAkBA,IAA0C,KAArBA,IACxCxH,EAAUwH,EAAiBhJ,QAAQ,OAAQ,KAAMxX,QAE9CgZ,GAEXwD,EAAejhC,UAAU4kC,wBAA0B,WAC/C,IAAK,eAAkBzpC,KAAK2b,gBACxB,IAAK,IAAIpY,EAAK,EAAGwG,EAAKzF,OAAO2K,KAAKjP,KAAK2b,gBAAiBpY,EAAKwG,EAAG3E,OAAQ7B,IAAM,CAC1E,IAAIomC,EAAM5/B,EAAGxG,GACb,GAAIsiC,GAAkB7qB,QAAQ2uB,IAAQ,EAClC,GAAY,UAARA,EAAiB,CACjB,IAAII,EAAoB/pC,KAAKwpC,yBAAyBxpC,KAAK2b,eAAeguB,IAChD,KAAtBI,GACA,eAAS,CAAC/pC,KAAKo/B,WAAY2K,EAAkB1zB,MAAM,WAGtD,GAAY,UAARszB,EAAiB,CACtB,IAAIK,EAAehqC,KAAKo/B,UAAUhlB,aAAauvB,GAC/CK,EAAgB,eAAkBA,GAC9BhqC,KAAK2b,eAAeguB,GAD2BK,EAAehqC,KAAK2b,eAAeguB,GAEtF3pC,KAAKo/B,UAAUt2B,aAAa6gC,EAAKK,QAGjChqC,KAAKo/B,UAAUt2B,aAAa6gC,EAAK3pC,KAAK2b,eAAeguB,MAMzE7D,EAAejhC,UAAUwjC,gBAAkB,SAAU/5B,GAC5C,eAAkBA,KACE,kBAAVA,EACPtO,KAAKo/B,UAAU33B,MAAM6G,MAAQ,eAAWA,GAElB,kBAAVA,IACZtO,KAAKo/B,UAAU33B,MAAM6G,MAASA,EAAMs0B,MAAM,WAAc,EAAW,cAAD,CAAYt0B,MAK1Fw3B,EAAejhC,UAAUujC,gBAAkB,WACvCpoC,KAAKgoC,SAAW,GAAMlI,WAAWkF,GAAW,IAAME,GAAUllC,KAAKo/B,UAAWp/B,KAAK2I,eACjF,eAAW3I,KAAKgoC,SAAU,CACtB,MAAShoC,KAAK8mC,KAAKE,YAAY,kBAC/B,aAAchnC,KAAK8mC,KAAKE,YAAY,oBAExChnC,KAAKioC,OAAS,GAAMnI,WAAWkF,GAAW,IAAMC,GAAQjlC,KAAKo/B,UAAWp/B,KAAK2I,eAC7E,eAAW3I,KAAKioC,OAAQ,CACpB,MAASjoC,KAAK8mC,KAAKE,YAAY,kBAC/B,aAAchnC,KAAK8mC,KAAKE,YAAY,oBAExChnC,KAAKkoC,qBAETpC,EAAejhC,UAAU8iC,eAAiB,YACV,kBAAd3nC,KAAQ,KAAmBuoC,MAAMvoC,KAAKiqC,OAChDjqC,KAAK+wB,cAAc,CAAEkZ,KAAOC,OAAgB,YAAK,IAEzB,kBAAdlqC,KAAQ,KAAmBuoC,MAAMvoC,KAAKmqC,OAChDnqC,KAAK+wB,cAAc,CAAEoZ,IAAKD,OAAOE,YAAa,GAE5B,OAAlBpqC,KAAK0oC,WACD1oC,KAAKiqC,OAAUC,OAAgB,WAC/BlqC,KAAK+wB,cAAc,CAAEkZ,IAAKjqC,KAAK4V,SAASozB,gBAAgB,CAAEC,OAAQ,KAAxCjpC,CAA+CA,KAAKqqC,eAAerqC,KAAK0oC,SAAU1oC,KAAKiqC,QAAS,GAE1HjqC,KAAKmqC,MAASD,OAAgB,WAC9BlqC,KAAK+wB,cAAc,CAAEoZ,IAAKnqC,KAAK4V,SAASozB,gBAAgB,CAAEC,OAAQ,KAAxCjpC,CAA+CA,KAAKqqC,eAAerqC,KAAK0oC,SAAU1oC,KAAKmqC,QAAS,IAGlInqC,KAAK+wB,cAAc,CAAEkZ,IAAKjqC,KAAKiqC,IAAMjqC,KAAKmqC,IAAMnqC,KAAKmqC,IAAMnqC,KAAKiqC,MAAO,GACvE,eAAWjqC,KAAK6G,QAAS,CAAE,gBAAiB7G,KAAKiqC,IAAIrhB,WAAY,gBAAiB5oB,KAAKmqC,IAAIvhB,cAE/Fkd,EAAejhC,UAAUwlC,eAAiB,SAAU3B,EAAUrnC,GAC1D,OAAOrB,KAAK4V,SAAS00B,gBAAgB,CACjCC,sBAAuB7B,EACvB8B,sBAAuB9B,EAAU+B,aAAa,GAF3CzqC,CAGJqB,IAEPykC,EAAejhC,UAAU+iC,aAAe,WACd,OAAlB5nC,KAAK0oC,UACL1oC,KAAK+wB,cAAc,CAAEzjB,KAAMtN,KAAK4V,SAASozB,gBAAgB,CAAEC,OAAQ,KAAxCjpC,CAA+CA,KAAKqqC,eAAerqC,KAAK0oC,SAAU1oC,KAAKsN,SAAU,IAGpIw4B,EAAejhC,UAAUiJ,OAAS,SAAU48B,EAAW35B,GACnD/Q,KAAK2qC,YAAa,EAClB,IAAItpC,EAAQrB,KAAK4qC,UAAY5qC,KAAK4V,SAASozB,gBAAgB,CAAEC,OAAQ,KAAxCjpC,CAA+CA,KAAK6G,QAAQxF,OAASrB,KAAKqB,MACvGrB,KAAKsoC,YAAYtoC,KAAK6qC,cAAcxpC,EAAOrB,KAAKsN,KAAMo9B,IACtD1qC,KAAK8qC,iBAAiB/5B,IAE1B+0B,EAAejhC,UAAUkmC,gBAAkB,WACnC/qC,KAAKinC,aACL,eAAY,CAACjnC,KAAKo/B,WAAY+F,IAG9B,eAAS,CAACnlC,KAAKo/B,WAAY+F,IAE/B,eAAWnlC,KAAK6G,QAAS,CAAE,eAAgB7G,KAAKinC,aAAe,QAAU,UAE7EnB,EAAejhC,UAAUmmC,eAAiB,WAClChrC,KAAK4/B,iBACL,OAAa/3B,IAAI7H,KAAK8nC,aAAaxI,YAAa,uBAAwBt/B,KAAKirC,aAAcjrC,OAGnG8lC,EAAejhC,UAAUomC,aAAe,SAAUtoC,GAC9CA,EAAEqJ,iBACIhM,KAAK8nC,aAAaxI,YAAY13B,UAAU0E,SAAS,sBACnDtM,KAAKu2B,MAAM5zB,GAEf3C,KAAK2qC,YAAa,EAClB3qC,KAAK8qC,iBAAiBnoC,IAE1BmjC,EAAejhC,UAAU0xB,MAAQ,SAAUxlB,GACvC/Q,KAAK+wB,cAAc,CAAE1vB,MAAO,OAAQ,GACpCrB,KAAKkrC,gBAAgB,IACrBlrC,KAAKwiC,YAAYnhC,MAAQ,GACzB,IAAI8pC,EAAc,eAAQnrC,KAAK6G,QAAS,QACxC,GAAIskC,EAAa,CACb,IAAItkC,EAAU7G,KAAK6G,QAAQukC,mBACvBC,EAAal2B,SAASm2B,YAAY,iBACtCD,EAAWE,UAAU,SAAS,GAAO,GACrC1kC,EAAQ2kC,cAAcH,KAG9BvF,EAAejhC,UAAU4mC,iBAAmB,WACX,uBAAzBzrC,KAAK6G,QAAQ4Q,QACbzX,KAAK0rC,YAAY,MAGjB1rC,KAAK0rC,YAAY1rC,KAAK0nC,gBAG9B5B,EAAejhC,UAAU8mC,cAAgB,WAChC,eAAkB3rC,KAAKgoC,WACxB,eAAWhoC,KAAKgoC,SAAU,CACtB,MAAShoC,KAAK8mC,KAAKE,YAAY,kBAC/B,aAAchnC,KAAK8mC,KAAKE,YAAY,oBAGvC,eAAkBhnC,KAAKioC,SACxB,eAAWjoC,KAAKioC,OAAQ,CACpB,MAASjoC,KAAK8mC,KAAKE,YAAY,kBAC/B,aAAchnC,KAAK8mC,KAAKE,YAAY,qBAIhDlB,EAAejhC,UAAUmS,WAAa,WAClC,OAAanP,IAAI7H,KAAK6G,QAAS,QAAS7G,KAAK4rC,aAAc5rC,MAC3D,OAAa6H,IAAI7H,KAAK6G,QAAS,OAAQ7G,KAAK6rC,gBAAiB7rC,MAC7D,OAAa6H,IAAI7H,KAAK6G,QAAS,UAAW7G,KAAK8rC,eAAgB9rC,MAC/D,OAAa6H,IAAI7H,KAAK6G,QAAS,QAAS7G,KAAK+rC,aAAc/rC,MAC3D,OAAa6H,IAAI7H,KAAK6G,QAAS,QAAS7G,KAAKgsC,aAAchsC,MAC3D,OAAa6H,IAAI7H,KAAK6G,QAAS,WAAY7G,KAAKisC,gBAAiBjsC,MACjE,OAAa6H,IAAI7H,KAAK6G,QAAS,SAAU7G,KAAKksC,cAAelsC,MAC7D,OAAa6H,IAAI7H,KAAK6G,QAAS,QAAS7G,KAAKmsC,aAAcnsC,MACvDA,KAAKshC,UACLthC,KAAKgrC,iBACDhrC,KAAKwmC,SACL,OAAa3+B,IAAI7H,KAAKwmC,QAAS,QAASxmC,KAAKyrC,iBAAkBzrC,QAI3E8lC,EAAejhC,UAAUqjC,kBAAoB,WAEzC,OAAargC,IAAI7H,KAAKioC,OAAQ,OAAQ7P,gBAAiBp4B,KAAKosC,mBAAoBpsC,MAChF,OAAa6H,IAAI7H,KAAKgoC,SAAU,OAAQ5P,gBAAiBp4B,KAAKosC,mBAAoBpsC,MAClF,OAAa6H,IAAI7H,KAAKioC,OAAQ,OAAQzK,cAAex9B,KAAKqsC,iBAAkBrsC,MAC5E,OAAa6H,IAAI7H,KAAKgoC,SAAU,OAAQxK,cAAex9B,KAAKqsC,iBAAkBrsC,MAC9E,OAAa6H,IAAI7H,KAAKioC,OAAQ,OAAQqE,eAAgBtsC,KAAKusC,mBAAoBvsC,MAC/E,OAAa6H,IAAI7H,KAAKgoC,SAAU,OAAQsE,eAAgBtsC,KAAKusC,mBAAoBvsC,OAErF8lC,EAAejhC,UAAUoQ,aAAe,WACpC,OAAatL,OAAO3J,KAAK6G,QAAS,QAAS7G,KAAK4rC,cAChD,OAAajiC,OAAO3J,KAAK6G,QAAS,OAAQ7G,KAAK6rC,iBAC/C,OAAaliC,OAAO3J,KAAK6G,QAAS,QAAS7G,KAAK+rC,cAChD,OAAapiC,OAAO3J,KAAK6G,QAAS,QAAS7G,KAAKgsC,cAChD,OAAariC,OAAO3J,KAAK6G,QAAS,UAAW7G,KAAK8rC,gBAClD,OAAaniC,OAAO3J,KAAK6G,QAAS,WAAY7G,KAAKisC,iBACnD,OAAatiC,OAAO3J,KAAK6G,QAAS,SAAU7G,KAAKksC,eACjD,OAAaviC,OAAO3J,KAAK6G,QAAS,QAAS7G,KAAKmsC,cAC5CnsC,KAAKwmC,SACL,OAAa78B,OAAO3J,KAAKwmC,QAAS,QAASxmC,KAAKyrC,mBAGxD3F,EAAejhC,UAAU2nC,oBAAsB,WAE3C,OAAa7iC,OAAO3J,KAAKioC,OAAQ,OAAQ7P,gBAAiBp4B,KAAKosC,oBAC/D,OAAaziC,OAAO3J,KAAKgoC,SAAU,OAAQ5P,gBAAiBp4B,KAAKosC,oBACjE,OAAaziC,OAAO3J,KAAKioC,OAAQ,OAAQzK,cAAex9B,KAAKqsC,kBAC7D,OAAa1iC,OAAO3J,KAAKgoC,SAAU,OAAQxK,cAAex9B,KAAKqsC,kBAC/D,OAAa1iC,OAAO3J,KAAKioC,OAAQ,OAAQqE,eAAgBtsC,KAAKusC,oBAC9D,OAAa5iC,OAAO3J,KAAKgoC,SAAU,OAAQsE,eAAgBtsC,KAAKusC,qBAEpEzG,EAAejhC,UAAUqnC,cAAgB,SAAUn7B,GAC/CA,EAAM07B,kBACDzsC,KAAK6G,QAAQxF,MAAM+D,QACpBpF,KAAK+wB,cAAc,CAAE1vB,MAAO,OAAQ,GAExC,IAAIqrC,EAAc1sC,KAAK4V,SAASozB,gBAAgB,CAAEC,OAAQ,KAAxCjpC,CAA+CA,KAAK6G,QAAQxF,OAC9ErB,KAAK0rC,YAAYgB,EAAa37B,IAElC+0B,EAAejhC,UAAUimC,iBAAmB,SAAU/5B,GAClD,GAAI/Q,KAAKunC,YAAcvnC,KAAKqB,MAAO,CAC/B,IAAIkV,EAAY,GAChBvW,KAAK2sC,gBAAkB,CAAEtrC,MAAOrB,KAAKqB,MAAOurC,cAAe5sC,KAAKunC,UAAW3N,aAAc55B,KAAK2qC,WAC1FkC,cAAe7sC,KAAK2qC,WAAY55B,MAAOA,GACvCA,IACA/Q,KAAK2sC,gBAAgB57B,MAAQA,QAEEgqB,IAA/B/6B,KAAK2sC,gBAAgB57B,QACrB/Q,KAAK2sC,gBAAgB/S,cAAe,EACpC55B,KAAK2sC,gBAAgBE,eAAgB,GAEzC,eAAMt2B,EAAWvW,KAAK2sC,iBACtB3sC,KAAKunC,UAAYvnC,KAAKqB,MACtBrB,KAAK2qC,YAAa,EAClB3qC,KAAK4oC,iBAAmB5oC,KAAK6G,QAAQxF,MACrCrB,KAAKgmC,eAAgB,EACrBhmC,KAAKyW,QAAQ,SAAUF,KAG/BuvB,EAAejhC,UAAUsnC,aAAe,WACpC,IAAIlhC,EAAQjL,KACZ,GAAKA,KAAKshC,UAAWthC,KAAK0hC,SAA1B,CAGA,IAAIoL,EAAe9sC,KAAK6G,QAAQxF,MAChCkK,YAAW,WACFN,EAAM8hC,eAAeC,KAAK/hC,EAAMpE,QAAQxF,QACzC4J,EAAMigC,gBAAgB4B,QAIlChH,EAAejhC,UAAUooC,eAAiB,WACtC,IAAIhiC,EAAQjL,KACRktC,IAAQC,UAAUC,UAAY,mBAAmBJ,KAAKG,UAAUC,UACpE7hC,YAAW,WACP,GAAIN,EAAMpE,QAAQwmC,eAAiB,EAAG,CAClC,IAAIC,EAAariC,EAAMpE,QAAQwmC,eAC3BE,EAAUtiC,EAAMpE,QAAQwmC,eAAiB,EACzCjgC,EAAQ,EACRogC,OAAgB,EAChBC,EAAWxiC,EAAMpE,QAAQxF,MAAMgV,MAAM,IACrCq3B,EAAgB,eAAiBziC,EAAM87B,QACvCZ,EAAmB,eAAS,UAAWuH,GAC3CF,EAAgBrH,EAAiBwH,WAAW,GACP,MAAjC1iC,EAAMpE,QAAQxF,MAAMksC,IAAoBtiC,EAAMpE,QAAQwmC,eAAiB,IAAMH,GACzE,eAAkBjiC,EAAM2iC,SACxB3iC,EAAMpE,QAAQxF,MAAQ4J,EAAMpE,QAAQxF,MAAMioB,OAEzB,IAAZikB,EACLtiC,EAAMpE,QAAQxF,MAAQ4J,EAAM2iC,QAEX,IAAZL,IACLtiC,EAAMpE,QAAQxF,MAAQ4J,EAAMpE,QAAQxF,MAAMioB,QAE9Cre,EAAMpE,QAAQgnC,kBAAkBN,EAASA,IAEpChF,MAAM5pB,WAAW1T,EAAMpE,QAAQxF,MAAM4J,EAAMpE,QAAQwmC,eAAiB,MACD,KAAxEpiC,EAAMpE,QAAQxF,MAAM4J,EAAMpE,QAAQwmC,eAAiB,GAAGM,WAAW,IAC5DF,EAASzyB,QAAQ/P,EAAMpE,QAAQxF,MAAM4J,EAAMpE,QAAQwmC,eAAiB,MACrEI,EAASK,YAAY7iC,EAAMpE,QAAQxF,MAAM4J,EAAMpE,QAAQwmC,eAAiB,KACxEpiC,EAAMpE,QAAQxF,MAAM4J,EAAMpE,QAAQwmC,eAAiB,GAAGM,WAAW,KAAOH,GACxEviC,EAAMpE,QAAQxF,MAAM4J,EAAMpE,QAAQwmC,eAAiB,GAAGM,WAAW,KAAOH,KACxEviC,EAAMpE,QAAQxF,MAAQ4J,EAAMpE,QAAQxF,MAAM0sC,UAAU,EAAGR,GACnDtiC,EAAMpE,QAAQxF,MAAM0sC,UAAUT,EAAYriC,EAAMpE,QAAQxF,MAAM+D,QAClE6F,EAAMpE,QAAQgnC,kBAAkBN,EAASA,GACrChF,MAAM5pB,WAAW1T,EAAMpE,QAAQxF,MAAM4J,EAAMpE,QAAQwmC,eAAiB,MAAQpiC,EAAMpE,QAAQwmC,eAAiB,GACxGpiC,EAAMpE,QAAQxF,MAAM+D,QACvB6F,EAAMgiC,kBAIT1E,MAAM5pB,WAAW1T,EAAMpE,QAAQxF,MAAM4J,EAAMpE,QAAQwmC,eAAiB,MAAQpiC,EAAMpE,QAAQwmC,eAAiB,GACxC,KAAxEpiC,EAAMpE,QAAQxF,MAAM4J,EAAMpE,QAAQwmC,eAAiB,GAAGM,WAAW,KAC5DF,EAASzyB,QAAQ/P,EAAMpE,QAAQxF,MAAM4J,EAAMpE,QAAQwmC,eAAiB,MACrEI,EAASK,YAAY7iC,EAAMpE,QAAQxF,MAAM4J,EAAMpE,QAAQwmC,eAAiB,KACxEpiC,EAAMpE,QAAQxF,MAAM4J,EAAMpE,QAAQwmC,eAAiB,GAAGM,WAAW,KAAOH,GACxEviC,EAAMpE,QAAQxF,MAAM4J,EAAMpE,QAAQwmC,eAAiB,GAAGM,WAAW,KAAOH,KACxEviC,EAAMpE,QAAQgnC,kBAAkBN,EAASA,GACzCtiC,EAAM2gB,QAAU3gB,EAAMpE,QAAQxF,MAAM4J,EAAMpE,QAAQwmC,gBAClDpiC,EAAM+iC,kBAAmB,EACzB/iC,EAAMgiC,mBAGiB,IAA3BhiC,EAAM+iC,kBAA6B/iC,EAAMpE,QAAQxF,MAAM4J,EAAMpE,QAAQwmC,kBAAoBpiC,EAAM2gB,SAC/F2c,MAAM5pB,WAAW1T,EAAMpE,QAAQxF,MAAM4J,EAAMpE,QAAQwmC,eAAiB,OACpEpiC,EAAMpE,QAAQgnC,kBAAkB5iC,EAAMpE,QAAQwmC,eAAiB,EAAGpiC,EAAMpE,QAAQwmC,eAAiB,GACjGpiC,EAAM+iC,kBAAmB,EACzB/iC,EAAM2gB,QAAU,MAEe,KAA/B3gB,EAAMpE,QAAQxF,MAAMioB,QACpBre,EAAMpE,QAAQgnC,kBAAkBzgC,EAAOA,GAEvCnC,EAAMpE,QAAQwmC,eAAiB,GAC8C,KAAxEpiC,EAAMpE,QAAQxF,MAAM4J,EAAMpE,QAAQwmC,eAAiB,GAAGM,WAAW,IAAc1iC,EAAMpE,QAAQwmC,eAAiB,IAC3G,eAAkBpiC,EAAM2iC,SACxB3iC,EAAMpE,QAAQxF,MAAQ4J,EAAMpE,QAAQxF,MAGpC4J,EAAMpE,QAAQxF,MAAQ4J,EAAM2iC,QAEhC3iC,EAAMpE,QAAQgnC,kBAAkB5iC,EAAMpE,QAAQwmC,eAAgBpiC,EAAMpE,QAAQwmC,iBAGpFpiC,EAAM2iC,QAAU3iC,EAAMpE,QAAQxF,WAI1CykC,EAAejhC,UAAUknC,aAAe,SAAUh7B,GAC9C,GAAK/Q,KAAKshC,UAAWthC,KAAK0hC,SAA1B,CAGA,IAAIwL,IAAQC,UAAUC,UAAY,mBAAmBJ,KAAKG,UAAUC,WAC/DF,GAAO,OAAQ/lC,UAChBnH,KAAKitC,iBAET,IAAIgB,EAAajuC,KAAK4V,SAASozB,gBAAgB,CAAEC,OAAQ,KAAxCjpC,CAA+CA,KAAK6G,QAAQxF,OAC7E4sC,EAA4B,OAAfA,GAAuB1F,MAAM0F,GAAc,KAAOA,EAC/DjuC,KAAKwiC,YAAYnhC,MAAQ4sC,GAA6B,IAAfA,EAAmBA,EAAWrlB,WAAa,KAClF,IAAIuiB,EAAc,eAAQnrC,KAAK6G,QAAS,QACxC,GAAIskC,EAAa,CACb,IAAItkC,EAAU7G,KAAK6G,QAAQukC,mBACvBC,EAAal2B,SAASm2B,YAAY,iBACtCD,EAAWE,UAAU,SAAS,GAAO,GACrC1kC,EAAQ2kC,cAAcH,MAI9BvF,EAAejhC,UAAUmnC,aAAe,SAAUj7B,GAC9C,GAAK/Q,KAAKshC,UAAWthC,KAAK0hC,SAA1B,CAGA,IAAIwL,IAAQC,UAAUC,UAAY,mBAAmBJ,KAAKG,UAAUC,UAChEc,EAAUf,UAAUgB,UAAUpwB,cAAc/C,QAAQ,YAAc,EAItE,IAHKkzB,GAAWhB,IAAQ,OAAQ/lC,UAC5BnH,KAAKitC,iBAELjtC,KAAK+lC,MAAO,CACZ,IAAIqI,EAAUpuC,KAAK4V,SAASozB,gBAAgB,CAAEC,OAAQ,KAAxCjpC,CAA+CA,KAAK6G,QAAQxF,OACtEgtC,EAAWruC,KAAK4V,SAASozB,gBAAgB,CAAEC,OAAQ,KAAxCjpC,CAA+CA,KAAK4oC,kBAC/DryB,EAAY,CACZxF,MAAOA,EACP1P,MAAoB,OAAZ+sC,GAAoB7F,MAAM6F,GAAW,KAAOA,EACpDxB,cAA6B,OAAbyB,GAAqB9F,MAAM8F,GAAY,KAAOA,GAElEruC,KAAKgmC,eAAgB,EACrBhmC,KAAK4oC,iBAAmB5oC,KAAK6G,QAAQxF,MACrCrB,KAAKyW,QAAQ,QAASF,MAI9BuvB,EAAejhC,UAAUinC,eAAiB,SAAU/6B,GAChD,IAAK/Q,KAAK0hC,SACN,OAAQ3wB,EAAM6G,SACV,KAAK,GACD7G,EAAM/E,iBACNhM,KAAK8N,OAAOs3B,GAAWr0B,GACvB,MACJ,KAAK,GACDA,EAAM/E,iBACNhM,KAAK8N,OAAOu3B,GAAWt0B,GACvB,MACJ,QAAS,QAKrB+0B,EAAejhC,UAAUgmC,cAAgB,SAAUxpC,EAAOiM,EAAMo9B,IAC9C,OAAVrpC,GAAkBknC,MAAMlnC,MACxBA,EAAQ,GAEZ,IAAIitC,EAAe5D,IAActF,GAAY/jC,EAAQiM,EAAOjM,EAAQiM,EAEpE,OADAghC,EAAetuC,KAAKuuC,gBAAgBltC,EAAOiM,EAAMghC,GAC1CtuC,KAAKwoC,WAAaxoC,KAAKyoC,UAAU6F,GAAgBA,GAG5DxI,EAAejhC,UAAU0pC,gBAAkB,SAAUltC,EAAOiM,EAAMg1B,GAC9D,IAAIkM,EAAW,IAAIjJ,OAAO,YAGtBkJ,GAFYptC,EAAMunB,WACPtb,EAAKsb,WACH4lB,EAASxB,KAAK3rC,EAAMunB,aACjC8lB,EAAYF,EAASxB,KAAK1/B,EAAKsb,YACnC,GAAI6lB,GAAcC,EAAW,CACzB,IAAIC,EAAaF,EAAaD,EAASI,KAAKvtC,EAAMunB,YAAY,GAAGxjB,OAAS,EACtEypC,EAAYH,EAAYF,EAASI,KAAKthC,EAAKsb,YAAY,GAAGxjB,OAAS,EACnE+kC,EAAM58B,KAAK48B,IAAIwE,EAAYE,GAC/B,OAAe7uC,KAAK8uC,WAAWxM,EAAQ6H,GAE3C,OAAO7H,GAGXwD,EAAejhC,UAAUiqC,WAAa,SAAUxM,EAAQyM,GACpDA,EAAYA,GAAa,EACzB,IAAIC,EAASzhC,KAAK0hC,IAAI,GAAIF,GAC1B,OAAOzM,GAAU0M,EAAiBzhC,KAAK2hC,MAAM5M,GAAU0M,GAG3DlJ,EAAejhC,UAAU6mC,YAAc,SAAUrqC,EAAO0P,GAChDA,IACA/Q,KAAK2qC,YAAa,GAER,OAAVtpC,GAAmBknC,MAAMlnC,IACrBrB,KAAK0oC,WACLrnC,EAAQrB,KAAK2oC,YAAYtnC,EAAOrB,KAAK0oC,WAG7C1oC,KAAKsoC,YAAsB,OAAVjnC,GAAkBknC,MAAMlnC,GAAS,KAAOrB,KAAKwoC,WAAaxoC,KAAKyoC,UAAUpnC,GAASA,KAC7FrB,KAAK+lC,OAAW/lC,KAAK+lC,QAAU/lC,KAAKgmC,gBACtChmC,KAAK8qC,iBAAiB/5B,IAG9B+0B,EAAejhC,UAAUsqC,eAAiB,SAAUjgC,EAAMkgC,GACtD,gBAASlgC,EAAMkgC,EAASpvC,KAAKonC,aAC7BpnC,KAAK0rC,YAAY1rC,KAAKqB,QAE1BykC,EAAejhC,UAAUyjC,YAAc,SAAUjnC,GAC7C,GAAMA,GAAmB,IAAVA,EAIV,CACD,IAAIguC,OAAmB,EACvBA,EAAmBrvC,KAAKsvC,oBAAoBjuC,GAC5CrB,KAAK+wB,cAAc,CAAE1vB,MAAOrB,KAAK2oC,YAAYtnC,EAAOguC,KAAqB,QANzEhuC,EAAQ,KACRrB,KAAK+wB,cAAc,CAAE1vB,MAAOA,IAAS,GAOzCrB,KAAKuvC,aACAvvC,KAAKwoC,YACNxoC,KAAKwvC,iBAIb1J,EAAejhC,UAAU0qC,WAAa,WAClC,GAAIvvC,KAAKqB,OAAwB,IAAfrB,KAAKqB,MAAa,CAChC,IAAIA,EAAQrB,KAAKyvC,eACbC,EAAe1vC,KAAK4qC,UAAYvpC,EAAQrB,KAAK4V,SAAS00B,gBAAgBtqC,KAAKonC,YAAnCpnC,CAAgDA,KAAKqB,OACjGrB,KAAKkrC,gBAAgBwE,GACrB,eAAW1vC,KAAK6G,QAAS,CAAE,gBAAiBxF,IAC5CrB,KAAKwiC,YAAYnhC,MAAQrB,KAAKqB,MAAMunB,WACjB,OAAf5oB,KAAKqB,OAAkBrB,KAAK2vC,yBAC5B3vC,KAAKwiC,YAAYnhC,MAAQrB,KAAKwiC,YAAYnhC,MAAMy/B,QAAQ,IAAK9gC,KAAK2vC,8BAItE3vC,KAAKkrC,gBAAgB,IACrBlrC,KAAK6G,QAAQoD,gBAAgB,iBAC7BjK,KAAKwiC,YAAYnhC,MAAQ,MAIjCykC,EAAejhC,UAAUqmC,gBAAkB,SAAUpyB,EAAKjS,GACtD,GAAM47B,SAAS3pB,EAAMjS,GAAoB7G,KAAK6G,QAAU7G,KAAKu/B,eAAgBv/B,KAAK4/B,kBAEtFkG,EAAejhC,UAAU2qC,cAAgB,WACrCxvC,KAAKinC,cAAe,GAChBjnC,KAAKqB,OAAwB,IAAfrB,KAAKqB,SACnBrB,KAAKinC,eAAiBjnC,KAAKqB,MAAQrB,KAAKmqC,KAAOnqC,KAAKqB,MAAQrB,KAAKiqC,MAErEjqC,KAAK+qC,mBAETjF,EAAejhC,UAAUyqC,oBAAsB,SAAUjuC,GACrD,IAAIguC,EACAO,EAAY,IAAIrK,OAAO,qBACvBsK,EAAcxuC,EAAMunB,WACxB,GAAIgnB,EAAU5C,KAAK6C,GAAc,CAC7B,IAAIvN,EAASsN,EAAUhB,KAAKiB,GACvB,eAAkBvN,KACnBuN,EAAcxuC,EAAMyuC,QAAQviC,KAAK08B,IAAIthB,SAAS2Z,EAAO,GAAI,IAAK,MAGtE,IAAIyN,EAAcF,EAAYx5B,MAAM,KAAK,GAKzC,OAJAg5B,EAAoBU,GAAgBA,EAAY3qC,OAAa2qC,EAAY3qC,OAAhB,EACnC,OAAlBpF,KAAK0oC,WACL2G,EAAmBA,EAAmBrvC,KAAK0oC,SAAW2G,EAAmBrvC,KAAK0oC,UAE3E2G,GAEXvJ,EAAejhC,UAAU4qC,aAAe,WACpC,IAAIJ,EAEJ,OADAA,EAAmBrvC,KAAKsvC,oBAAoBtvC,KAAKqB,OAC1CrB,KAAK4V,SAAS00B,gBAAgB,CACjCC,sBAAuB8E,EACvB7E,sBAAuB6E,EAAkB5E,aAAa,GAFnDzqC,CAGJA,KAAKqB,QAGZykC,EAAejhC,UAAU4jC,UAAY,SAAUpnC,GAC3C,OAAIA,EAAQrB,KAAKmqC,IACNnqC,KAAKmqC,IAEZ9oC,EAAQrB,KAAKiqC,IACNjqC,KAAKiqC,IAET5oC,GAGXykC,EAAejhC,UAAU8jC,YAAc,SAAUtnC,EAAO0tC,GACpD,IAAIzM,EAASjhC,EACTqnC,EAAWqG,GAAa,EACxBiB,EAAU1N,EAAO1Z,WAAWvS,MAAM,KACtCisB,EAAS/0B,KAAK2hC,MAAMhF,OAAO8F,EAAQ,GAAK,KAAOA,EAAQ,GAAM9F,OAAO8F,EAAQ,IAAMtH,EAAYA,KAC9F,IAAIuH,EAAU3N,EAAO1Z,WAAWvS,MAAM,KAEtC,OADAisB,EAAS4H,OAAO+F,EAAQ,GAAK,KAAOA,EAAQ,GAAM/F,OAAO+F,EAAQ,IAAMvH,GAAaA,IAC7EwB,OAAO5H,EAAOwN,QAAQpH,KAGjC5C,EAAejhC,UAAUqrC,YAAc,SAAUn/B,GAE7C,OADAA,EAAM/E,kBACC,GAEX85B,EAAejhC,UAAUonC,gBAAkB,SAAUl7B,GACjD,IAAK/Q,KAAKshC,SAAWthC,KAAK0hC,SACtB,OAAO,EAEX,IAAK,OAAQv6B,UAAqC,SAAzB,OAAQF,KAAKkpC,SAAwC,KAAlBp/B,EAAM6G,QAAgB,CAC9E,IAAI80B,EAAc1sC,KAAK4V,SAASozB,gBAAgB,CAAEC,OAAQ,KAAxCjpC,CAA+CA,KAAK6G,QAAQxF,OAE9E,OADArB,KAAK0rC,YAAYgB,EAAa37B,IACvB,EAEX,GAAoB,IAAhBA,EAAMq/B,OAAer/B,EAAMs/B,SAAWt/B,EAAMu/B,SAA6B,IAAlBv/B,EAAM6G,SAAmC,KAAlB7G,EAAM6G,QACpF,OAAO,EAEX,IAAI24B,EAAcC,OAAOC,aAAa1/B,EAAMq/B,OACxCn1B,EAAOjb,KAAK6G,QAAQxF,MAExB,OADA4Z,EAAOA,EAAK8yB,UAAU,EAAG/tC,KAAK6G,QAAQwmC,gBAAkBkD,EAAct1B,EAAK8yB,UAAU/tC,KAAK6G,QAAQ6pC,gBAC7F1wC,KAAK+sC,eAAeC,KAAK/xB,KAC1BlK,EAAM/E,iBACN+E,EAAM07B,mBACC,IAOf3G,EAAejhC,UAAUkoC,aAAe,WACpC,IAAIW,EAAgB,eAAiB1tC,KAAK+mC,QACtCZ,EAAmB,eAAS,UAAWuH,GACvCiD,EAAe,IAInB,OAHIxK,IAAqBX,KACrBW,EAAmB,KAAOA,GAER,IAAlBnmC,KAAK0oC,UAAkB1oC,KAAK4wC,sBACrBtL,IAEPtlC,KAAK0oC,UAAY1oC,KAAK4wC,wBACtBD,EAAe,MAAQ3wC,KAAK0oC,SAAW,KAEpC,IAAInD,OAAO,gBAAkBY,EAAmB,MAAQwK,EAC3D,QAAUxK,EAAmB,MAAQwK,EAAe,WAG5D7K,EAAejhC,UAAUgsC,WAAa,SAAU9/B,GAE5C,IAAI+/B,EADJ//B,EAAM/E,iBAEN,IAAI+kC,EAAWhgC,EACXggC,EAASC,WACTF,EAAQC,EAASC,WAAa,IAEzBD,EAASE,SACdH,GAASC,EAASE,OAAS,GAE3BH,EAAQ,EACR9wC,KAAK8N,OAAOs3B,GAAWr0B,GAElB+/B,EAAQ,GACb9wC,KAAK8N,OAAOu3B,GAAWt0B,GAE3B/Q,KAAKkwC,YAAYn/B,IAErB+0B,EAAejhC,UAAU+mC,aAAe,SAAU76B,GAC9C,IAAI9F,EAAQjL,KAGZ,GAFAA,KAAKkxC,eAAiB,CAAEngC,MAAOA,EAAO1P,MAAOrB,KAAKqB,MAAO+9B,UAAWp/B,KAAKo/B,WACzEp/B,KAAKyW,QAAQ,QAASzW,KAAKkxC,gBACtBlxC,KAAKshC,UAAWthC,KAAK0hC,SAA1B,CAMA,GAHA1hC,KAAK4qC,WAAY,EACjB,eAAY,CAAC5qC,KAAKo/B,WAAY+F,IAC9BnlC,KAAKunC,UAAYvnC,KAAKqB,MACjBrB,KAAKqB,OAAwB,IAAfrB,KAAKqB,MAAc,CAClC,IAAI8vC,EAAgBnxC,KAAKyvC,eAEzB,GADAzvC,KAAKkrC,gBAAgBiG,IAChBnxC,KAAKkmC,cACN,GAAK,OAAQ/+B,UAAqC,SAAzB,OAAQF,KAAKkpC,QAGjC,CACD,IAAI1b,EAAS,OAAQttB,UAAY,OAAQiqC,MAAS,IAAM,EACxD7lC,YAAW,WACPN,EAAMpE,QAAQgnC,kBAAkB,EAAGsD,EAAc/rC,UAClDqvB,QANHz0B,KAAK6G,QAAQgnC,kBAAkB,EAAGsD,EAAc/rC,QAUvD,OAAQ+B,UACT,OAAaU,IAAI7H,KAAK6G,QAAS,4BAA6B7G,KAAK6wC,WAAY7wC,QAIrF8lC,EAAejhC,UAAUgnC,gBAAkB,SAAU96B,GACjD,IAAI9F,EAAQjL,KAGZ,GAFAA,KAAKqxC,cAAgB,CAAEtgC,MAAOA,EAAO1P,MAAOrB,KAAKqB,MAAO+9B,UAAWp/B,KAAKo/B,WACxEp/B,KAAKyW,QAAQ,OAAQzW,KAAKqxC,eACrBrxC,KAAKshC,UAAWthC,KAAK0hC,SAA1B,CAGA,GAAI1hC,KAAKkmC,eAEL,GADAn1B,EAAM/E,iBACF,OAAQ7E,SAAU,CAClB,IAAImqC,EAAUtxC,KAAK6G,QAAQxF,MAC3BrB,KAAK6G,QAAQoS,QACbjZ,KAAKkmC,eAAgB,EACrB,IAAIh9B,EAAQlJ,KAAK6G,QACjB0E,YAAW,WACPN,EAAMigC,gBAAgBoG,EAASpoC,KAChC,UAGN,CACDlJ,KAAK4qC,WAAY,EACZ5qC,KAAK6G,QAAQxF,MAAM+D,QACpBpF,KAAK+wB,cAAc,CAAE1vB,MAAO,OAAQ,GAExC,IAAIqrC,EAAc1sC,KAAK4V,SAASozB,gBAAgB,CAAEC,OAAQ,KAAxCjpC,CAA+CA,KAAK6G,QAAQxF,OAC9ErB,KAAK0rC,YAAYgB,GACZ,OAAQvlC,UACT,OAAawC,OAAO3J,KAAK6G,QAAS,4BAA6B7G,KAAK6wC,YAG5E,IAAI1F,EAAc,eAAQnrC,KAAK6G,QAAS,QACxC,GAAIskC,EAAa,CACb,IAAItkC,EAAU7G,KAAK6G,QAAQukC,mBACvBmG,EAAap8B,SAASm2B,YAAY,cACtCiG,EAAWhG,UAAU,YAAY,GAAO,GACxC1kC,EAAQ2kC,cAAc+F,MAI9BzL,EAAejhC,UAAUunC,mBAAqB,SAAUr7B,GACpD,IAAI9F,EAAQjL,KAKZ,GAJIA,KAAK4qC,YACL5qC,KAAKkmC,eAAgB,EACrBn1B,EAAM/E,kBAELhM,KAAKwxC,eAAezgC,GAAzB,CAGa/Q,KAAKwxC,eAAezgC,GAAjC,IACItP,EAASsP,EAAM2Z,cACf5c,EAAUrM,EAAOmG,UAAU0E,SAAS24B,IAAWG,GAAYC,GAC/D,OAAax9B,IAAIpG,EAAQ,aAAczB,KAAKyxC,aAAczxC,MAC1DA,KAAK0xC,QAAUhlC,aAAY,WAAczB,EAAMo7B,UAAW,EAAMp7B,EAAM6C,OAAOA,EAAQiD,KAAW,KAChG,OAAalJ,IAAIsN,SAAU,UAAWnV,KAAKyxC,aAAczxC,QAE7D8lC,EAAejhC,UAAU0nC,mBAAqB,SAAUx7B,GACpD,IAAItP,EAAS0T,SAASw8B,iBAAiB5gC,EAAM6gC,QAAS7gC,EAAM8gC,SACtDpwC,EAAOmG,UAAU0E,SAAS04B,KAC5B94B,cAAclM,KAAK0xC,UAG3B5L,EAAejhC,UAAUwnC,iBAAmB,SAAUt7B,GAUlD,GATI/Q,KAAKkmC,gBACLlmC,KAAK6G,QAAQoS,QACR,OAAQ9R,WACTnH,KAAKkmC,eAAgB,IAGxB,OAAQ/+B,UACT4J,EAAM/E,iBAELhM,KAAKwxC,eAAezgC,GAAzB,CAGA,IAAItP,EAASsP,EAAM2Z,cACf5c,EAAUrM,EAAOmG,UAAU0E,SAAS24B,IAAWG,GAAYC,GAC/D,OAAa17B,OAAOlI,EAAQ,aAAczB,KAAKyxC,cAC1CzxC,KAAKqmC,UACNrmC,KAAK8N,OAAOA,EAAQiD,GAExB/Q,KAAKqmC,UAAW,EAChB,OAAa18B,OAAOwL,SAAU,UAAWnV,KAAKyxC,cAC9C,IAAItG,EAAc,eAAQnrC,KAAK6G,QAAS,QACxC,GAAIskC,EAAa,CACb,IAAItkC,EAAU7G,KAAK6G,QAAQukC,mBACvBC,EAAal2B,SAASm2B,YAAY,iBACtCD,EAAWE,UAAU,SAAS,GAAO,GACrC1kC,EAAQ2kC,cAAcH,MAG9BvF,EAAejhC,UAAU2sC,eAAiB,SAAUzgC,GAChD,QAAKA,EAAMq/B,OAAyB,IAAhBr/B,EAAMq/B,OAAiBr/B,EAAMqe,QAA2B,IAAjBre,EAAMqe,SACzDpvB,KAAKshC,SAAWthC,KAAK0hC,YAG7Bx1B,cAAclM,KAAK0xC,UACZ,IAEX5L,EAAejhC,UAAUitC,qBAAuB,WAC5C,GAAMzO,eAAerjC,KAAK8nC,cAC1B,IAAItF,EAAcxiC,KAAKwiC,YACvBxiC,KAAKwiC,YAAY74B,SACjB,GAAM65B,YAAYxjC,KAAK6G,QAAS7G,KAAKu/B,eAAgBv/B,KAAK89B,YAAa99B,KAAK2I,eAC5E3I,KAAKo/B,UAAU10B,aAAa83B,EAAaxiC,KAAKo/B,UAAUhe,WAAW,KAEvE0kB,EAAejhC,UAAU4sC,aAAe,SAAU1gC,GAC9CA,EAAM07B,kBACNvgC,cAAclM,KAAK0xC,SACnB1xC,KAAKqmC,UAAW,EAChB,OAAa18B,OAAO3J,KAAKioC,OAAQ,aAAcjoC,KAAKyxC,cACpD,OAAa9nC,OAAO3J,KAAKgoC,SAAU,aAAchoC,KAAKyxC,eAO1D3L,EAAejhC,UAAUktC,UAAY,SAAUzkC,QAC9B,IAATA,IAAmBA,EAAOtN,KAAKsN,MACnCtN,KAAK2qC,YAAa,EAClB3qC,KAAKsoC,YAAYtoC,KAAK6qC,cAAc7qC,KAAKqB,MAAOiM,EAAM83B,KACtDplC,KAAK8qC,oBAOThF,EAAejhC,UAAUmtC,UAAY,SAAU1kC,QAC9B,IAATA,IAAmBA,EAAOtN,KAAKsN,MACnCtN,KAAK2qC,YAAa,EAClB3qC,KAAKsoC,YAAYtoC,KAAK6qC,cAAc7qC,KAAKqB,MAAOiM,EAAM+3B,KACtDrlC,KAAK8qC,oBAQThF,EAAejhC,UAAU6E,QAAU,WAE/B,GADA1J,KAAKiV,gBACC,mBAAcjV,KAAKqV,iBAAmB,CACxC,eAAOrV,KAAKwiC,aACRxiC,KAAK+nC,iBACL/nC,KAAKwsC,sBACL,eAAOxsC,KAAKioC,QACZ,eAAOjoC,KAAKgoC,WAMhB,IAJA,IAAIiK,EAAY,CAAC,kBAAmB,OAAQ,eAAgB,gBACxD,cAAe,gBAAiB,mBAAoB,iBACpD,aAAc,oBAAqB,WAAY,gBAC/C,gBAAiB,YAAa,gBAAiB,gBAC1CxsC,EAAI,EAAGA,EAAIwsC,EAAU7sC,OAAQK,IAClCzF,KAAK6G,QAAQoD,gBAAgBgoC,EAAUxsC,IAE3CzF,KAAK6G,QAAQe,UAAU+B,OAAO,WAC9B3J,KAAKo/B,UAAU2C,sBAAsB,WAAY/hC,KAAK6G,SACtD,eAAO7G,KAAKo/B,WACZ14B,EAAO7B,UAAU6E,QAAQ5C,KAAK9G,QAMtC8lC,EAAejhC,UAAUqtC,QAAU,WAC/B,OAAOlyC,KAAK6G,QAAQxF,OAMxBykC,EAAejhC,UAAUosB,QAAU,WAC3B9b,SAAS+sB,gBAAkBliC,KAAK6G,SAAW7G,KAAKshC,UAChDthC,KAAK6G,QAAQoS,QACb,eAAS,CAACjZ,KAAKo/B,WAAY,CAACuG,OAOpCG,EAAejhC,UAAUstC,SAAW,WAC5Bh9B,SAAS+sB,gBAAkBliC,KAAK6G,SAAW7G,KAAKshC,UAChDthC,KAAK6G,QAAQurC,OACb,eAAY,CAACpyC,KAAKo/B,WAAY,CAACuG,OAOvCG,EAAejhC,UAAUyE,eAAiB,WACtC,IAAIC,EAAY,CAAC,SACjB,OAAOvJ,KAAKwJ,aAAaD,IAM7Bu8B,EAAejhC,UAAUiK,kBAAoB,SAAUC,EAASC,GAE5D,IADA,IACSzL,EAAK,EAAGwG,EAAKzF,OAAO2K,KAAKF,GAAUxL,EAAKwG,EAAG3E,OAAQ7B,IAAM,CAC9D,IAAI2L,EAAOnF,EAAGxG,GACd,OAAQ2L,GACJ,IAAK,QACDlP,KAAKqoC,gBAAgBt5B,EAAQT,OAC7B,MACJ,IAAK,WACDtO,KAAK4pC,eAAe76B,EAAQqH,SAAUpH,EAAQoH,UAC9C,MACJ,IAAK,UACD,GAAMirB,WAAWtyB,EAAQuyB,QAASthC,KAAK6G,SACvC,MACJ,IAAK,YACD,GAAM06B,aAAaxyB,EAAQpH,UAAW,CAAC3H,KAAKo/B,YAC5C,MACJ,IAAK,WACD,GAAMqC,YAAY1yB,EAAQ2yB,SAAU1hC,KAAK6G,SACrC7G,KAAK0hC,SACL,eAAW1hC,KAAK6G,QAAS,CAAE,gBAAiB,SAG5C7G,KAAK6G,QAAQoD,gBAAgB,iBAEjC,MACJ,IAAK,iBACDjK,KAAKwnC,0BACLxnC,KAAKypC,0BACLzpC,KAAK0pC,qBAAoB,GACzB1pC,KAAKynC,iBAAgB,GACrB,MACJ,IAAK,cACD,GAAMjG,eAAezyB,EAAQ+uB,YAAa99B,KAAK6G,SAC/C,MACJ,IAAK,OACD7G,KAAKsN,KAAOyB,EAAQzB,KACpBtN,KAAK4nC,eACL,MACJ,IAAK,iBACD5nC,KAAKqyC,iBAAiBtjC,GACtB,MACJ,IAAK,kBACD/O,KAAKsyC,kBAAkBvjC,GACvB,MACJ,IAAK,iBACD/O,KAAKu/B,eAAiBxwB,EAAQwwB,eAC9Bv/B,KAAK8xC,uBACL,MACJ,IAAK,QACD9xC,KAAK0rC,YAAY38B,EAAQ1N,OACrBrB,KAAK+lC,OAAS/lC,KAAKgmC,gBACnBhmC,KAAKgmC,eAAgB,GAEzB,MACJ,IAAK,MACL,IAAK,MACD,gBAAS92B,EAAM,eAASA,EAAMH,GAAU/O,MACxCA,KAAK2nC,iBACL3nC,KAAK0rC,YAAY1rC,KAAKqB,OACtB,MACJ,IAAK,aACDrB,KAAKwoC,WAAaz5B,EAAQy5B,WAC1BxoC,KAAK0rC,YAAY1rC,KAAKqB,OACtBrB,KAAKwvC,gBACL,MACJ,IAAK,SACDxvC,KAAKsnC,kBACLtnC,KAAK8mC,KAAKyL,UAAUvyC,KAAK+mC,QACzB/mC,KAAK2rC,gBACL3rC,KAAK6nC,oBACL,GAAMrG,eAAexhC,KAAK89B,YAAa99B,KAAK6G,SAC5C7G,KAAK0rC,YAAY1rC,KAAKqB,OACtB,MACJ,IAAK,WACD,IAAI+tC,EAAU,eAASlgC,EAAMH,GAC7B/O,KAAK+wB,cAAc,CAAEuY,aAAc8F,IAAW,GAC9CpvC,KAAKmvC,eAAejgC,EAAMkgC,GAC1B,MACJ,IAAK,eACD,IAAIoD,EAAY,eAAStjC,EAAMH,GAC/B/O,KAAK+wB,cAAc,CAAEsY,SAAUmJ,IAAa,GAC5CxyC,KAAKmvC,eAAe,WAAYqD,GAChC,MACJ,IAAK,SACD,gBAAStjC,EAAM,eAASA,EAAMH,GAAU/O,MACxCA,KAAKqnC,kBACLrnC,KAAK0rC,YAAY1rC,KAAKqB,OACtB,MACJ,IAAK,WACDrB,KAAK0oC,SAAW35B,EAAQ25B,SACxB1oC,KAAK0rC,YAAY1rC,KAAKqB,UAItCykC,EAAejhC,UAAUytC,kBAAoB,SAAUvjC,GAC/C,iBACI/O,KAAK4/B,kBACL5/B,KAAK8nC,aAAaxI,YAAct/B,KAAKo/B,UAAUvyB,cAAc,iBAC7D,GAAMm1B,mBAAmBhiC,KAAK6G,QAAS7G,KAAK8nC,aAAaxI,YAAat/B,KAAK8nC,aAAa1I,aAI5F,GAAMS,eAAe9wB,EAAQ6wB,gBAAiB5/B,KAAK6G,QAAS7G,KAAK8nC,kBAAc/M,EAAW/6B,KAAK2I,eAC/F3I,KAAKgrC,mBAGblF,EAAejhC,UAAUwtC,iBAAmB,SAAUtjC,GAC9C,iBACI/O,KAAK+nC,iBACL/nC,KAAKgoC,SAAWhoC,KAAKo/B,UAAUvyB,cAAc,IAAMq4B,IACnDllC,KAAKioC,OAASjoC,KAAKo/B,UAAUvyB,cAAc,IAAMo4B,IACjDjlC,KAAKkoC,qBAILn5B,EAAQg5B,eACR/nC,KAAKooC,mBAGL,eAAOpoC,KAAKioC,QACZ,eAAOjoC,KAAKgoC,YAQxBlC,EAAejhC,UAAU4E,cAAgB,WACrC,MAAO,kBAEX,GAAW,CACP,eAAS,KACVq8B,EAAejhC,UAAW,gBAAY,GACzC,GAAW,CACP,eAAS,OACVihC,EAAejhC,UAAW,aAAS,GACtC,GAAW,CACP,gBAAWqlC,OAAgB,YAC5BpE,EAAejhC,UAAW,WAAO,GACpC,GAAW,CACP,eAASqlC,OAAOE,YACjBtE,EAAejhC,UAAW,WAAO,GACpC,GAAW,CACP,eAAS,IACVihC,EAAejhC,UAAW,YAAQ,GACrC,GAAW,CACP,eAAS,OACVihC,EAAejhC,UAAW,aAAS,GACtC,GAAW,CACP,eAAS,OACVihC,EAAejhC,UAAW,mBAAe,GAC5C,GAAW,CACP,eAAS,KACVihC,EAAejhC,UAAW,sBAAkB,GAC/C,GAAW,CACP,gBAAS,IACVihC,EAAejhC,UAAW,sBAAkB,GAC/C,GAAW,CACP,gBAAS,IACVihC,EAAejhC,UAAW,gBAAY,GACzC,GAAW,CACP,gBAAS,IACVihC,EAAejhC,UAAW,eAAW,GACxC,GAAW,CACP,gBAAS,IACVihC,EAAejhC,UAAW,uBAAmB,GAChD,GAAW,CACP,gBAAS,IACVihC,EAAejhC,UAAW,yBAAqB,GAClD,GAAW,CACP,eAAS,OACVihC,EAAejhC,UAAW,cAAU,GACvC,GAAW,CACP,eAAS,OACVihC,EAAejhC,UAAW,gBAAY,GACzC,GAAW,CACP,eAAS,OACVihC,EAAejhC,UAAW,gBAAY,GACzC,GAAW,CACP,eAAS,OACVihC,EAAejhC,UAAW,oBAAgB,GAC7C,GAAW,CACP,gBAAS,IACVihC,EAAejhC,UAAW,kBAAc,GAC3C,GAAW,CACP,gBAAS,IACVihC,EAAejhC,UAAW,6BAAyB,GACtD,GAAW,CACP,eAAS,UACVihC,EAAejhC,UAAW,sBAAkB,GAC/C,GAAW,CACP,kBACDihC,EAAejhC,UAAW,eAAW,GACxC,GAAW,CACP,kBACDihC,EAAejhC,UAAW,iBAAa,GAC1C,GAAW,CACP,kBACDihC,EAAejhC,UAAW,cAAU,GACvC,GAAW,CACP,kBACDihC,EAAejhC,UAAW,aAAS,GACtC,GAAW,CACP,kBACDihC,EAAejhC,UAAW,YAAQ,GACrCihC,EAAiB,GAAW,CACxB,QACDA,GACIA,EAvwCwB,CAwwCjC,QC3zCE,GAAwC,WACxC,IAAI3hC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,gBAClB,CAAEC,UAAW,cAAgBpB,OAAS,SAAUgB,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAII,KAAKJ,EAAOA,EAAEK,eAAeD,KAAIL,EAAEK,GAAKJ,EAAEI,KAClEN,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASM,IAAO3E,KAAK4E,YAAcR,EADnCD,EAAcC,EAAGC,GAEjBD,EAAES,UAAkB,OAANR,EAAaC,OAAOQ,OAAOT,IAAMM,EAAGE,UAAYR,EAAEQ,UAAW,IAAIF,IAV3C,GAaxC,GAA0C,SAAUK,EAAYvD,EAAQX,EAAKmE,GAC7E,IAA2Hb,EAAvHc,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIzD,EAAkB,OAATwD,EAAgBA,EAAOX,OAAOgB,yBAAyB7D,EAAQX,GAAOmE,EACrH,GAAuB,kBAAZM,SAAoD,oBAArBA,QAAQC,SAAyBH,EAAIE,QAAQC,SAASR,EAAYvD,EAAQX,EAAKmE,QACpH,IAAK,IAAIQ,EAAIT,EAAWI,OAAS,EAAGK,GAAK,EAAGA,KAASrB,EAAIY,EAAWS,MAAIJ,GAAKH,EAAI,EAAId,EAAEiB,GAAKH,EAAI,EAAId,EAAE3C,EAAQX,EAAKuE,GAAKjB,EAAE3C,EAAQX,KAASuE,GAChJ,OAAOH,EAAI,GAAKG,GAAKf,OAAOoB,eAAejE,EAAQX,EAAKuE,GAAIA,GAW5D,GAA2B,SAAUqB,GAErC,SAAS+rC,IACL,OAAkB,OAAX/rC,GAAmBA,EAAOyN,MAAMnU,KAAMmF,YAAcnF,KAiB/D,OAnBA,GAAUyyC,EAAW/rC,GAIrB,GAAW,CACP,eAAS,SACV+rC,EAAU5tC,UAAW,iBAAa,GACrC,GAAW,CACP,eAAS,KACV4tC,EAAU5tC,UAAW,iBAAa,GACrC,GAAW,CACP,eAAS,IACV4tC,EAAU5tC,UAAW,iBAAa,GACrC,GAAW,CACP,gBAAS,IACV4tC,EAAU5tC,UAAW,sBAAkB,GAC1C,GAAW,CACP,eAAS,OACV4tC,EAAU5tC,UAAW,cAAU,GAC3B4tC,EApBmB,CAqB5B,QAME,GAAgC,SAAU/rC,GAE1C,SAASgsC,IACL,OAAkB,OAAXhsC,GAAmBA,EAAOyN,MAAMnU,KAAMmF,YAAcnF,KAW/D,OAbA,GAAU0yC,EAAgBhsC,GAI1B,GAAW,CACP,eAAS,OACVgsC,EAAe7tC,UAAW,aAAS,GACtC,GAAW,CACP,eAAS,OACV6tC,EAAe7tC,UAAW,aAAS,GACtC,GAAW,CACP,eAAS,OACV6tC,EAAe7tC,UAAW,WAAO,GAC7B6tC,EAdwB,CAejC,QAME,GAA2B,SAAUhsC,GAErC,SAASisC,IACL,OAAkB,OAAXjsC,GAAmBA,EAAOyN,MAAMnU,KAAMmF,YAAcnF,KAuB/D,OAzBA,GAAU2yC,EAAWjsC,GAIrB,GAAW,CACP,gBAAS,IACVisC,EAAU9tC,UAAW,eAAW,GACnC,GAAW,CACP,eAAS,OACV8tC,EAAU9tC,UAAW,gBAAY,GACpC,GAAW,CACP,eAAS,OACV8tC,EAAU9tC,UAAW,cAAU,GAClC,GAAW,CACP,eAAS,OACV8tC,EAAU9tC,UAAW,gBAAY,GACpC,GAAW,CACP,eAAS,OACV8tC,EAAU9tC,UAAW,cAAU,GAClC,GAAW,CACP,gBAAS,IACV8tC,EAAU9tC,UAAW,wBAAoB,GAC5C,GAAW,CACP,gBAAS,IACV8tC,EAAU9tC,UAAW,sBAAkB,GACnC8tC,EA1BmB,CA2B5B,QAKE,GAA6B,SAAUjsC,GAEvC,SAASksC,IACL,OAAkB,OAAXlsC,GAAmBA,EAAOyN,MAAMnU,KAAMmF,YAAcnF,KAiB/D,OAnBA,GAAU4yC,EAAalsC,GAIvB,GAAW,CACP,eAAS,KACVksC,EAAY/tC,UAAW,gBAAY,GACtC,GAAW,CACP,eAAS,WACV+tC,EAAY/tC,UAAW,iBAAa,GACvC,GAAW,CACP,eAAS,UACV+tC,EAAY/tC,UAAW,cAAU,GACpC,GAAW,CACP,gBAAS,IACV+tC,EAAY/tC,UAAW,iBAAa,GACvC,GAAW,CACP,eAAS,OACV+tC,EAAY/tC,UAAW,cAAU,GAC7B+tC,EApBqB,CAqB9B,QAEEC,GAAyB,EACzBC,GAA0B,EAC1B,GAAa,CACb9sB,KAAM,WACN+sB,IAAK,QACLC,kBAAmB,iBACnBC,eAAgB,oBAChBC,aAAc,WACdC,SAAU,UACVC,aAAc,kBACdC,YAAa,iBACbC,aAAc,kBACdC,MAAO,UACPC,KAAM,SACNC,MAAO,UACPC,UAAW,eACXC,cAAe,mBACfC,YAAa,iBACbC,kBAAmB,iBACnBC,mBAAoB,kBACpBC,eAAgB,aAChBC,gBAAiB,qBACjBC,wBAAyB,6BACzBC,uBAAwB,4BACxBC,sBAAuB,2BACvBC,qBAAsB,0BACtBC,gBAAiB,qBACjBC,oBAAqB,0BACrBC,sBAAuB,mBACvBC,eAAgB,oBAChBC,YAAa,iBACbC,sBAAuB,4BACvBC,oBAAqB,0BACrBC,oBAAqB,mBACrBC,eAAgB,aAChBC,iBAAkB,eAClBC,kBAAmB,iBACnBC,mBAAoB,2BACpBC,gBAAiB,eACjBC,iBAAkB,gBAClBC,gBAAiB,eACjBC,mBAAoB,aACpBC,gBAAiB,eACjBC,eAAgB,cAChBC,kBAAmB,eACnBC,qBAAsB,iBACtBC,eAAgB,cAChBC,eAAgB,cAChBC,mBAAoB,kBACpBC,qBAAsB,oBACtBC,oBAAqB,mBACrBC,sBAAuB,qBACvBC,oBAAqB,0BACrBC,oBAAqB,0BACrBtU,SAAU,cACVuU,OAAQ,WACRC,gBAAiB,cACjBC,cAAe,gBACfC,eAAgB,iBAChBC,eAAgB,oBAChBC,aAAc,mBAed,GAAwB,SAAU5vC,GAElC,SAAS6vC,EAAO3vC,EAASC,GACrB,IAAIoE,EAAQvE,EAAOI,KAAK9G,KAAM4G,EAASC,IAAY7G,KAenD,OAdAiL,EAAMurC,OAAS,OACfvrC,EAAMwrC,OAAS,SACfxrC,EAAMyrC,WAAa,CACfC,OAAQ,oKAERxD,SAAU,yCAEdloC,EAAM2rC,4BAA8B,CAChCD,OAAQ,+EACRxD,SAAU,uGAEdloC,EAAM4rC,eAAiB,8CACvB5rC,EAAM6rC,eAAiB,KACvB7rC,EAAM8rC,MAAO,EACN9rC,EAqzFX,OAt0FA,GAAUsrC,EAAQ7vC,GAmBlB6vC,EAAO1xC,UAAUkC,UAAY,WACzB,IAAI4/B,EAAa,CAAEC,eAAgB,WAAYC,eAAgB,YAC/D7mC,KAAK8mC,KAAO,IAAI,OAAK,SAAUH,EAAY3mC,KAAK+mC,QAChD/mC,KAAKg3C,kBAAmB,EACxBh3C,KAAKi3C,sBAAwB,GAC7Bj3C,KAAKk3C,kBAAoB,GACzBl3C,KAAKm3C,gBAAkB,GACvBn3C,KAAKqnC,kBACLrnC,KAAKsnC,kBACLtnC,KAAKo3C,eAETb,EAAO1xC,UAAUuyC,YAAc,WAC3B,IAAIjM,EAAc,eAAQnrC,KAAK6G,QAAS,QACpCskC,GACAnrC,KAAKq3C,QAAS,EAGT,eAAkBr3C,KAAKs3C,iBACxBt3C,KAAK+wB,cAAc,CAAE,MAAS/wB,KAAKs3C,iBAAkB,GAEzDt3C,KAAKs3C,eAAiBt3C,KAAKqB,MACT,UAAdrB,KAAKyb,OACJ,eAAkBzb,KAAKs3C,iBAAoD,kBAAzBt3C,KAAmB,eAGjE,eAAkBA,KAAKs3C,kBAC5Bt3C,KAAKs3C,eAAiB34B,WAAW,eAAW3e,KAAKiqC,OAHjDjqC,KAAKs3C,eAAiB,CAAC34B,WAAW,eAAW3e,KAAKiqC,MAAOtrB,WAAW,eAAW3e,KAAKmqC,OAKxFnqC,KAAKmrC,YAAcA,GAGnBnrC,KAAKq3C,QAAS,GAGtBd,EAAO1xC,UAAUyiC,gBAAkB,WAC/BtnC,KAAKu3C,qBAAuB,IAAI,OAAqBv3C,KAAK+mC,SAE9DwP,EAAO1xC,UAAUwiC,gBAAkB,WAC/BrnC,KAAKk3C,kBAAkBjO,OAAW,eAAkBjpC,KAAKk7B,QAAQ+N,QAAiC,KAAtBjpC,KAAKk7B,QAAQ+N,OACzFjpC,KAAKm3C,gBAAgBlO,OAAW,eAAkBjpC,KAAKw3C,MAAMvO,QAA+B,KAApBjpC,KAAKw3C,MAAMvO,QAEvFsN,EAAO1xC,UAAU4yC,aAAe,SAAUp2C,EAAOq2C,GAC7C,IAAIC,EAAc,KACdF,EAAe,KACnB,GAAKp2C,GAAmB,IAAVA,EAAc,CACxBs2C,EAAc33C,KAAKyvC,aAAapuC,GAChC,IAAIguC,EAAmBrvC,KAAKqvC,iBAAiBhuC,GAC7Co2C,EAAez3C,KAAKu3C,qBAAqBjN,gBAAgBoN,EAA1C13C,CAAsDA,KAAK43C,gBAAgBv2C,EAAOguC,IAErG,MAAO,CAAEwI,WAAYF,EAAaF,aAAcA,IAGpDlB,EAAO1xC,UAAU4qC,aAAe,SAAUpuC,GACtC,IAAIguC,EAAmBrvC,KAAKqvC,iBAAiBhuC,GAC7C,OAAOrB,KAAKu3C,qBAAqBjN,gBAAgB,CAC7CC,sBAAuB8E,EACvB7E,sBAAuB6E,EAAkB5E,aAAa,GAFnDzqC,CAGJqB,IAGPk1C,EAAO1xC,UAAUwqC,iBAAmB,SAAUhuC,GAC1C,IAAI0uC,EAAc1uC,EAAMunB,WAAWvS,MAAM,KAAK,GAC1Cg5B,EAAoBU,GAAgBA,EAAY3qC,OAAa2qC,EAAY3qC,OAAhB,EAC7D,OAAOiqC,GAEXkH,EAAO1xC,UAAU+yC,gBAAkB,SAAUv2C,EAAO0tC,GAChD,IAAIrG,EAAWqG,GAAa,EAC5B,OAAO7E,OAAO7oC,EAAMyuC,QAAQpH,KAGhC6N,EAAO1xC,UAAUizC,oBAAsB,SAAUz2C,GAC7CA,EAA0C,IAAjCrB,KAAKqvC,iBAAiBhuC,GAAgB6oC,OAAO7oC,GAAOyuC,QAAQ9vC,KAAK+3C,cAAgB12C,EAE1F,IADA,IAAI22C,EAAO,EACFvyC,EAAI,EAAGA,EAAIzF,KAAK+3C,aAActyC,IACnCuyC,GAAQ,GAGZ,OADA32C,EAAQ6oC,QAAQ7oC,EAAQ22C,GAAMlI,QAAQ,IAC/BzuC,GAMXk1C,EAAO1xC,UAAU/E,OAAS,WACjB,kBAAeE,KAAKqV,kBACrBrV,KAAKsH,aAETtH,KAAKi4C,aACLj4C,KAAKgX,aACLhX,KAAKk4C,YACLl4C,KAAK2c,kBAET45B,EAAO1xC,UAAUyC,WAAa,WAC1B,eAAS,CAACtH,KAAK6G,SAAU,GAAWmf,MACpChmB,KAAKm4C,eAET5B,EAAO1xC,UAAUwjC,gBAAkB,SAAU/5B,GACpC,eAAkBA,KACE,kBAAVA,EACPtO,KAAKg0C,gBAAgBvsC,MAAM6G,MAAQ,eAAWA,GAExB,kBAAVA,IACZtO,KAAKg0C,gBAAgBvsC,MAAM6G,MAASA,EAAMs0B,MAAM,WAAc,EAAW,cAAD,CAAYt0B,MAIhGioC,EAAO1xC,UAAUszC,YAAc,SAAUC,GACjCA,GACA,eAAY,CAACp4C,KAAK6G,SAAUuxC,EAAY/hC,MAAM,MAE9CrW,KAAKoW,UACL,eAAS,CAACpW,KAAK6G,SAAU7G,KAAKoW,SAASC,MAAM,OAGrDkgC,EAAO1xC,UAAUw8B,WAAa,WACrBrhC,KAAKshC,SAQN,eAAY,CAACthC,KAAKg0C,iBAAkB,CAAC,GAAWD,iBAC5C/zC,KAAKk7B,QAAQmd,WAAar4C,KAAKs4C,gBAA0C,WAAxBt4C,KAAKk7B,QAAQqd,QAC9Dv4C,KAAKs4C,eAAe1wC,UAAU+B,OAAO,GAAWoqC,gBAEpD/zC,KAAKgX,eAXL,eAAS,CAAChX,KAAKg0C,iBAAkB,CAAC,GAAWD,iBACzC/zC,KAAKk7B,QAAQmd,WAAar4C,KAAKs4C,gBAA0C,WAAxBt4C,KAAKk7B,QAAQqd,QAC9Dv4C,KAAKs4C,eAAe1wC,UAAUC,IAAI,GAAWksC,gBAEjD/zC,KAAKiV,iBAUbshC,EAAO1xC,UAAU2zC,SAAW,SAAUpZ,GAClC,IAAIqZ,EAAQntC,OAAOoT,iBAAiB0gB,EAAW,UAAU1d,iBAAiB,WAC1E,OAAO+2B,EAAM3X,QAAQ,SAAU,KAMnCyV,EAAO1xC,UAAUozC,WAAa,WACtB,kBAAcj4C,KAAKqV,kBACnBrV,KAAKg0C,gBAAkBh0C,KAAK6G,QAAQ4T,cACpCza,KAAKy0C,YAAcz0C,KAAK6G,QAAQgG,cAAc,mBAC9C7M,KAAKwiC,YAAcxiC,KAAK6G,QAAQ4T,cAAc5N,cAAc,qBAG5D7M,KAAKg0C,gBAAkBh0C,KAAK2I,cAAc,MAAO,CAAEC,UAAW,GAAWorC,gBAAkB,IAAM,GAAWf,iBAC5GjzC,KAAK6G,QAAQ2hB,WAAW9d,aAAa1K,KAAKg0C,gBAAiBh0C,KAAK6G,SAChE7G,KAAKg0C,gBAAgB7qC,YAAYnJ,KAAK6G,SACtC7G,KAAKy0C,YAAcz0C,KAAK2I,cAAc,MAAO,CAAEC,UAAW,GAAW6rC,cACrEz0C,KAAK6G,QAAQsC,YAAYnJ,KAAKy0C,cAElCz0C,KAAKqoC,gBAAgBroC,KAAKsO,OAC1BtO,KAAK6G,QAAQ6xC,UAAY,EACzB14C,KAAK24C,yBACL34C,KAAK44C,aACL54C,KAAK64C,iBACD74C,KAAKi2C,OAAO3U,SACZthC,KAAK84C,iBAEJ,kBAAe94C,KAAKqV,mBACrBrV,KAAK+4C,iBACL/4C,KAAKwiC,YAAexiC,KAAK2I,cAAc,QAAS,CAC5CrI,MAAO,CACHmb,KAAM,SAAUpa,MAAQ,eAAkBrB,KAAKqB,OAASrB,KAAKiqC,IAAIrhB,WAAa5oB,KAAKqB,MAAMunB,WACzFznB,KAAMnB,KAAK6G,QAAQuT,aAAa,SAAWpa,KAAK6G,QAAQuT,aAAa,OACjE,KAAuB,IAAhB7M,KAAKyrC,UAAiBlJ,QAAQ,GAAK,SAAU9tC,MAAO,GAAWgxC,qBAGlFhzC,KAAKwiC,YAAYkW,UAAY,EAC7B14C,KAAKg0C,gBAAgB7qC,YAAYnJ,KAAKwiC,cAEtCxiC,KAAKi5C,aACLj5C,KAAKk5C,aAETl5C,KAAKm5C,eACa,UAAdn5C,KAAKyb,KACLzb,KAAKo5C,mBAGLp5C,KAAKqB,MAAQ,eAAkBrB,KAAKqB,OAASsd,WAAW,eAAW3e,KAAKiqC,IAAIrhB,aAAe5oB,KAAKqB,MAEpGrB,KAAKq5C,YAA4B,UAAdr5C,KAAKyb,KAAmBzb,KAAKs5C,iBAAiB36B,WAAW,eAAW3e,KAAKqB,MAAMunB,cAC9F,CAAC5oB,KAAKs5C,iBAAiB36B,WAAW,eAAW3e,KAAKqB,MAAM,GAAGunB,cACvD5oB,KAAKs5C,iBAAiB36B,WAAW,eAAW3e,KAAKqB,MAAM,GAAGunB,eAClE5oB,KAAKu5C,gBAAkBv5C,KAAKq5C,YACvB,eAAkBr5C,KAAK6G,QAAQ6/B,aAAa,UAC7C1mC,KAAK6G,QAAQoD,gBAAgB,QAEjCjK,KAAKyiC,WACDziC,KAAKi2C,OAAO3U,SACZthC,KAAKw5C,cAEoB,SAAzBx5C,KAAKw3C,MAAMiC,WACXz5C,KAAK05C,cAEL15C,KAAKk7B,QAAQmd,WACbr4C,KAAK25C,gBAEJ,kBAAe35C,KAAKqV,mBAChBrV,KAAKshC,QAIN,eAAY,CAACthC,KAAKg0C,iBAAkB,CAAC,GAAWD,iBAHhD,eAAS,CAAC/zC,KAAKg0C,iBAAkB,CAAC,GAAWD,iBAK7C/zC,KAAK0hC,SACL,eAAS,CAAC1hC,KAAKg0C,iBAAkB,CAAC,GAAWtS,WAG7C,eAAY,CAAC1hC,KAAKg0C,iBAAkB,CAAC,GAAWtS,aAI5D6U,EAAO1xC,UAAU8zC,uBAAyB,WACtC34C,KAAK45C,WAAqD,aAAxC55C,KAAKw4C,SAASx4C,KAAKg0C,kBACU,kBAAxCh0C,KAAKw4C,SAASx4C,KAAKg0C,iBAC1Bh0C,KAAK65C,YAAsD,cAAxC75C,KAAKw4C,SAASx4C,KAAKg0C,kBACS,mBAAxCh0C,KAAKw4C,SAASx4C,KAAKg0C,iBAC1Bh0C,KAAK85C,aAAuD,eAAxC95C,KAAKw4C,SAASx4C,KAAKg0C,iBACvCh0C,KAAK+5C,kBAAoB/5C,KAAK45C,YAA4B,UAAd55C,KAAKyb,MAAoBzb,KAAKk7B,QAAQmd,WAEtF9B,EAAO1xC,UAAUg0C,eAAiB,WACZ,YAAd74C,KAAKyb,OACLzb,KAAKmzC,SAAYnzC,KAAK2I,cAAc,MAAO,CAAErI,MAAO,CAAE0B,MAAO,GAAWmxC,YACxEnzC,KAAK6G,QAAQsC,YAAYnJ,KAAKmzC,UAC1BnzC,KAAK+2C,MAAsB,UAAd/2C,KAAKyb,OACO,eAArBzb,KAAKg6C,YACLh6C,KAAKmzC,SAASvrC,UAAUC,IAAI,GAAWwuC,gBAGvCr2C,KAAKmzC,SAASvrC,UAAUC,IAAI,GAAWyuC,iBAKvDC,EAAO1xC,UAAUi0C,eAAiB,WAC9B,GAAI,kBAAc94C,KAAKqV,iBACnBrV,KAAKm2C,cAAgBn2C,KAAK6G,QAAQ2O,iBAAiB,aAAa,GAC9C,UAAdxV,KAAKyb,OACLzb,KAAKo2C,eAAiBp2C,KAAK6G,QAAQ2O,iBAAiB,mBAAmB,QAG1E,CACD,IAAIykC,EAAsC,UAAdj6C,KAAKyb,KAAmB,GAAWy6B,gBAC3D,GAAWC,cACf8D,GAAyB,IAAM,GAAWhE,OAC1Cj2C,KAAKm2C,cAAiBn2C,KAAK2I,cAAc,MAAO,CAC5CrI,MAAO,CAAE0B,MAAOi4C,KAEpBj6C,KAAK6G,QAAQsC,YAAYnJ,KAAKm2C,eACZ,UAAdn2C,KAAKyb,OACLzb,KAAKo2C,eAAkBp2C,KAAK2I,cAAc,MAAO,CAC7CrI,MAAO,CACH0B,MAAO,GAAWo0C,eAAiB,IAAM,GAAWH,UAG5Dj2C,KAAK6G,QAAQsC,YAAYnJ,KAAKo2C,mBAI1CG,EAAO1xC,UAAUk0C,eAAiB,WACL,aAArB/4C,KAAKg6C,aACLh6C,KAAKg0C,gBAAgBpsC,UAAU+B,OAAO,GAAWkrC,gBACjD70C,KAAKg0C,gBAAgBpsC,UAAUC,IAAI,GAAWitC,kBAC9C90C,KAAKk6C,YAAYpxC,aAAa,mBAAoB,cAChC,UAAd9I,KAAKyb,MACLzb,KAAKm6C,aAAarxC,aAAa,mBAAoB,gBAIvD9I,KAAKg0C,gBAAgBpsC,UAAU+B,OAAO,GAAWmrC,kBACjD90C,KAAKg0C,gBAAgBpsC,UAAUC,IAAI,GAAWgtC,gBAC9C70C,KAAKk6C,YAAYpxC,aAAa,mBAAoB,YAChC,UAAd9I,KAAKyb,MACLzb,KAAKm6C,aAAarxC,aAAa,mBAAoB,cAI/DytC,EAAO1xC,UAAUu1C,kBAAoB,SAAUvzC,GAC3C,IAAIoE,EAAQjL,KACRiqC,EAAMjqC,KAAKiqC,IACXE,EAAMnqC,KAAKmqC,IAKf,IAJK,eAAkBnqC,KAAKq6C,eAAiBr6C,KAAKq6C,aAAaj1C,OAAS,IACpE6kC,EAAMjqC,KAAKq6C,aAAa,GACxBlQ,EAAMnqC,KAAKq6C,aAAar6C,KAAKq6C,aAAaj1C,OAAS,IAErC,UAAdpF,KAAKyb,KACL,eAAW5U,EAAS,CAChB,gBAAiBojC,EAAIrhB,WAAY,gBAAiBuhB,EAAIvhB,iBAGzD,CACD,IAAI0xB,GAAS,eAAkBt6C,KAAKq6C,eAAiBr6C,KAAKq6C,aAAaj1C,OAAS,EAC5E,CAAC,CAAC6kC,EAAIrhB,WAAa5oB,KAAKq6C,aAAar6C,KAAKqB,MAAM,IAAKunB,YACjD,CAAE5oB,KAAKq6C,aAAar6C,KAAKqB,MAAM,IAAKunB,WAAYuhB,EAAIvhB,aACxD,CAAC,CAACqhB,EAAIrhB,WAAY5oB,KAAKqB,MAAM,GAAGunB,YAAa,CAAC5oB,KAAKqB,MAAM,GAAGunB,WAAYuhB,EAAIvhB,aAChF0xB,EAAMxwC,SAAQ,SAAUwwC,EAAO/3C,GAC3B,IAAIsE,EAAoB,IAAVtE,EAAc0I,EAAMivC,YAAcjvC,EAAMkvC,aAClDtzC,GACA,eAAWA,EAAS,CAChB,gBAAiByzC,EAAM,GAAI,gBAAiBA,EAAM,UAMtE/D,EAAO1xC,UAAU01C,mBAAqB,WAC9B,kBAAcv6C,KAAKqV,iBACnBrV,KAAKm6C,aAAen6C,KAAK6G,QAAQgG,cAAc,qBAG/C7M,KAAKm6C,aAAen6C,KAAK2I,cAAc,MAAO,CAC1CrI,MAAO,CACH0B,MAAO,GAAWkxC,aAAc,KAAQ,SAAUwF,SAAU,OAGpE14C,KAAKm6C,aAAavyC,UAAUC,IAAI,GAAWisC,oBAC3C9zC,KAAK6G,QAAQsC,YAAYnJ,KAAKm6C,gBAGtC5D,EAAO1xC,UAAU21C,kBAAoB,WAC7B,kBAAcx6C,KAAKqV,iBACnBrV,KAAKk6C,YAAcl6C,KAAK6G,QAAQgG,cAAc,oBAG9C7M,KAAKk6C,YAAcl6C,KAAK2I,cAAc,MAAO,CACzCrI,MAAO,CACH0B,MAAO,GAAWkxC,aAAc,KAAQ,SAAUwF,SAAU,OAGpE14C,KAAKk6C,YAAYtyC,UAAUC,IAAI,GAAWgsC,mBAC1C7zC,KAAK6G,QAAQsC,YAAYnJ,KAAKk6C,cAE9Bl6C,KAAK+5C,oBACL/5C,KAAKy6C,eAAiBz6C,KAAK2I,cAAc,MAAO,CAC5CrI,MAAO,CACH0B,MAAO,GAAWkxC,aAAe,IAC7B,GAAW0C,wBAGvB51C,KAAK6G,QAAQsC,YAAYnJ,KAAKy6C,kBAGtClE,EAAO1xC,UAAU61C,mBAAqB,SAAUhxC,GACvCA,GAOD,OAAaC,OAAO3J,KAAKk6C,YAAa,uBAAwBl6C,KAAK26C,aACnE,OAAahxC,OAAO3J,KAAKk6C,YAAa,gBAAiBl6C,KAAK46C,eAC5D,OAAajxC,OAAO3J,KAAKk6C,YAAa,wBAAyBl6C,KAAK66C,YACpE,OAAalxC,OAAO3J,KAAKk6C,YAAa,sBAAuBl6C,KAAK86C,eATlE,OAAajzC,IAAI7H,KAAKk6C,YAAa,uBAAwBl6C,KAAK26C,YAAa36C,MAC7E,OAAa6H,IAAI7H,KAAKk6C,YAAa,gBAAiBl6C,KAAK46C,cAAe56C,MACxE,OAAa6H,IAAI7H,KAAKk6C,YAAa,wBAAyBl6C,KAAK66C,WAAY76C,MAC7E,OAAa6H,IAAI7H,KAAKk6C,YAAa,sBAAuBl6C,KAAK86C,YAAa96C,QASpFu2C,EAAO1xC,UAAUk2C,oBAAsB,SAAUrxC,GACxCA,GAOD,OAAaC,OAAO3J,KAAKm6C,aAAc,uBAAwBn6C,KAAK26C,aACpE,OAAahxC,OAAO3J,KAAKm6C,aAAc,gBAAiBn6C,KAAK46C,eAC7D,OAAajxC,OAAO3J,KAAKm6C,aAAc,wBAAyBn6C,KAAK66C,YACrE,OAAalxC,OAAO3J,KAAKm6C,aAAc,sBAAuBn6C,KAAK86C,eATnE,OAAajzC,IAAI7H,KAAKm6C,aAAc,uBAAwBn6C,KAAK26C,YAAa36C,MAC9E,OAAa6H,IAAI7H,KAAKm6C,aAAc,gBAAiBn6C,KAAK46C,cAAe56C,MACzE,OAAa6H,IAAI7H,KAAKm6C,aAAc,wBAAyBn6C,KAAK66C,WAAY76C,MAC9E,OAAa6H,IAAI7H,KAAKm6C,aAAc,sBAAuBn6C,KAAK86C,YAAa96C,QASrFu2C,EAAO1xC,UAAUm2C,YAAc,WACT,UAAdh7C,KAAKyb,OACLzb,KAAKk6C,YAAYtyC,UAA8B,IAApB5H,KAAKi7C,WAAmB,MAAQ,UAAU,GAAWlG,mBAC5E/0C,KAAK+5C,oBACL/5C,KAAKy6C,eAAe7yC,UAA8B,IAApB5H,KAAKi7C,WAAmB,MAAQ,UAAU,GAAWlG,mBAC/E/0C,KAAKs4C,gBACLt4C,KAAKs4C,eAAe1wC,UAA8B,IAApB5H,KAAKi7C,WAAmB,MAAQ,UAAU,GAAWjG,uBAKnGuB,EAAO1xC,UAAU+1C,cAAgB,SAAUj4C,GAChB,cAAnBA,EAAEu4C,eACFl7C,KAAKg7C,cACLh7C,KAAKm7C,YAAY1zC,MAAMivC,WAAa,OAClB,YAAd12C,KAAKyb,OACLzb,KAAKmzC,SAAS1rC,MAAMivC,WAAa,QAEjC12C,KAAK45C,YAAc55C,KAAKk7B,QAAQmd,WAA2B,YAAdr4C,KAAKyb,OAClDzb,KAAKs4C,eAAe7wC,MAAMivC,WAAa12C,KAAK02C,WAAWC,QAE3D32C,KAAKo7C,cAAcp7C,KAAKm7C,aACxBn7C,KAAKq7C,iBAGb9E,EAAO1xC,UAAUy2C,eAAiB,WAC1Bt7C,KAAKk6C,YAAYtyC,UAAU0E,SAAS,GAAWsoC,sBAC/C50C,KAAKk6C,YAAYtyC,UAAU+B,OAAO,GAAWirC,qBAE/B,UAAd50C,KAAKyb,MACDzb,KAAKm6C,aAAavyC,UAAU0E,SAAS,GAAWsoC,sBAChD50C,KAAKm6C,aAAavyC,UAAU+B,OAAO,GAAWirC,sBAI1D2B,EAAO1xC,UAAU81C,YAAc,SAAUh4C,GACrC3C,KAAKu7C,qBACLv7C,KAAKw7C,eAAe74C,GAChBA,EAAE+nB,gBAAkB1qB,KAAKk6C,YACzBl6C,KAAKk6C,YAAYtyC,UAAUC,IAAI,GAAW+sC,qBAG1C50C,KAAKm6C,aAAavyC,UAAUC,IAAI,GAAW+sC,qBAE/C,OAAa/sC,IAAIsN,SAAU,sBAAuBnV,KAAKy7C,cAAez7C,MACtE,OAAa6H,IAAIsN,SAAU,mBAAoBnV,KAAK07C,YAAa17C,OAErEu2C,EAAO1xC,UAAUg2C,WAAa,SAAUl4C,GAChC3C,KAAKk7B,QAAQmd,WAAqC,UAAxBr4C,KAAKk7B,QAAQqd,QACvCv4C,KAAKo7C,cAAcz4C,EAAE+nB,gBAG7B6rB,EAAO1xC,UAAUi2C,YAAc,SAAUn4C,IACjC3C,KAAKk7B,QAAQmd,WAAqC,UAAxBr4C,KAAKk7B,QAAQqd,QACtC51C,EAAE+nB,cAAc9iB,UAAU0E,SAAS,GAAWsoC,sBAC9CjyC,EAAE+nB,cAAc9iB,UAAU0E,SAAS,GAAW2oC,kBAC/Cj1C,KAAKq7C,gBAGb9E,EAAO1xC,UAAU+zC,WAAa,WACtB54C,KAAKiqC,IAAMjqC,KAAKmqC,MAChBnqC,KAAKiqC,IAAMjqC,KAAKmqC,KAEpBnqC,KAAKw6C,oBACa,UAAdx6C,KAAKyb,MACLzb,KAAKu6C,sBAGbhE,EAAO1xC,UAAUs0C,aAAe,WAC5B,IAAK,mBAAen5C,KAAKqV,iBAAkB,CACvCrV,KAAK2H,WAAkC,aAArB3H,KAAKg6C,YAA6B,eAAS,CAACh6C,KAAKg0C,iBAAkB,GAAWjB,KAC5F,eAAY,CAAC/yC,KAAKg0C,iBAAkB,GAAWjB,KACnD,IAAI4I,EAA+B,aAArB37C,KAAKg6C,YAA8Bh6C,KAAKw2C,OAASx2C,KAAKy2C,OAChEz2C,KAAK2H,WACL3H,KAAKw2C,OAAS,QACdx2C,KAAKy2C,OAAS,WAGdz2C,KAAKw2C,OAAS,OACdx2C,KAAKy2C,OAAS,UAElB,IAAImF,EAAgC,aAArB57C,KAAKg6C,YAA8Bh6C,KAAKw2C,OAASx2C,KAAKy2C,OACjEkF,IAAWC,GACc,eAArB57C,KAAKg6C,cACL,eAAkBh6C,KAAKk6C,YAAa,CAAE,MAAS,GAAI,KAAQ,SACzC,UAAdl6C,KAAKyb,MACL,eAAkBzb,KAAKm6C,aAAc,CAAE,IAAO,GAAI,KAAQ,UAK1En6C,KAAK67C,eAETtF,EAAO1xC,UAAUi3C,aAAe,WAC5B,IACI7gC,EADAhQ,EAAQjL,KAER0oB,EAAO,CACPrnB,MAAOrB,KAAKqB,MACZ4Z,KAAM,IAEN,kBAAcjb,KAAKqV,iBACnBqT,EAAKzN,KAAOjb,KAAK+7C,cAAc/7C,KAAKk3C,mBAAmB,IAGvDl3C,KAAKg8C,oBACLtzB,EAAKzN,KAAOA,EAAOjb,KAAKi8C,WAAWxtB,SAEvCzuB,KAAKyW,QAAQ,gBAAiBiS,GAAM,SAAU6H,GAC1CtlB,EAAMixC,gBAAgB3rB,EAAatV,MAC/BA,IAASsV,EAAatV,OACtBhQ,EAAM6rC,eAAiBvmB,EAAatV,KACpChQ,EAAMgxC,WAAWxtB,QAAU8B,EAAatV,KACxChQ,EAAMkxC,iBAAiBlxC,EAAMivC,aACV,UAAfjvC,EAAMwQ,MACNxQ,EAAMkxC,iBAAiBlxC,EAAMkvC,mBAK7C5D,EAAO1xC,UAAUm3C,kBAAoB,WACjC,IAAIvtB,EACJA,EAAUzuB,KAAK+7C,cAAc/7C,KAAKk3C,mBAAmB,GACrDl3C,KAAKi8C,WAAWxtB,QAAUA,GAE9B8nB,EAAO1xC,UAAUk3C,cAAgB,SAAUrE,EAAY0E,GACnD,IAAI3tB,EAAU,GACV4tB,EAAUr8C,KAAKs8C,WACfC,EAAUv8C,KAAKw8C,WAKnB,OAJK,eAAkBx8C,KAAKq6C,eAAiBr6C,KAAKq6C,aAAaj1C,OAAS,IACpEi3C,EAAUr8C,KAAKq6C,aAAar6C,KAAKs8C,YACjCC,EAAUv8C,KAAKq6C,aAAar6C,KAAKw8C,aAEhCJ,GAsBiB,UAAdp8C,KAAKyb,KAEDgT,EADAzuB,KAAK2H,WAAkC,aAArB3H,KAAKg6C,YACX,eAAkBh6C,KAAKk7B,UAAa,eAAkBl7B,KAAKk7B,QAAQ+N,QAG1EsT,EAAQ3zB,WAAa,MAAQyzB,EAAQzzB,WAFrC5oB,KAAKy3C,aAAa8E,EAAS7E,GAAYG,WAAa,MACjD73C,KAAKy3C,aAAa4E,EAAS3E,GAAYG,WAInC,eAAkB73C,KAAKk7B,UAAa,eAAkBl7B,KAAKk7B,QAAQ+N,QAG1EoT,EAAQzzB,WAAa,MAAQ2zB,EAAQ3zB,WAFrC5oB,KAAKy3C,aAAa4E,EAAS3E,GAAYG,WAAa,MACjD73C,KAAKy3C,aAAa8E,EAAS7E,GAAYG,WAK9C,eAAkBwE,KACnB5tB,EAAY,eAAkBzuB,KAAKk7B,UAAa,eAAkBl7B,KAAKk7B,QAAQ+N,QACvBoT,EAAQzzB,WAA5D5oB,KAAKy3C,aAAa4E,EAAS3E,GAAYG,YAG5CppB,IAzCW,UAAdzuB,KAAKyb,KAEDgT,EADAzuB,KAAK2H,WAAkC,aAArB3H,KAAKg6C,YACX,eAAkBtC,EAAWzO,QAEpCsT,EAAQ3zB,WAAa,MAAQyzB,EAAQzzB,WAFW5oB,KAAKy3C,aAAa8E,EAAS7E,GAC3ED,aAAe,MAAQz3C,KAAKy3C,aAAa4E,EAAS3E,GAAYD,aAIvD,eAAkBC,EAAWzO,QAEpCoT,EAAQzzB,WAAa,MAAQ2zB,EAAQ3zB,WAFW5oB,KAAKy3C,aAAa4E,EAAS3E,GAC3ED,aAAe,MAAQz3C,KAAKy3C,aAAa8E,EAAS7E,GAAYD,aAKlE,eAAkB4E,KACnB5tB,EAAY,eAAkBipB,EAAWzO,QACiBoT,EAAQzzB,WAA9D5oB,KAAKy3C,aAAa4E,EAAS3E,GAAYD,cAG5ChpB,IA0Bf8nB,EAAO1xC,UAAUq3C,gBAAkB,SAAUztB,GACzC,GAAIzuB,KAAK+5C,kBAAmB,CACxB,IAAIh0B,EAAQ0I,EAAQ7F,WAAWxjB,OAC/B,GAAKpF,KAAKs4C,eAIL,CACGliC,EAAW2P,EAAQ,EACnB,CAAE02B,OAAQ,GAAW3G,sBAAuB4G,OAAQ,GAAW7G,qBAC/D,CAAE4G,OAAQ,GAAW5G,oBAAqB6G,OAAQ,GAAW5G,uBACjE91C,KAAKs4C,eAAe1wC,UAAU+B,OAAOyM,EAASqmC,QACzCz8C,KAAKs4C,eAAe1wC,UAAU0E,SAAS8J,EAASsmC,UACjD18C,KAAKs4C,eAAe1wC,UAAUC,IAAIuO,EAASsmC,QAC3C18C,KAAKs4C,eAAe7wC,MAAMk1C,UAAY52B,EAAQ,EAAI,WAC9C/lB,KAAK48C,8BAA8B58C,KAAK68C,sBAAsBC,YAZhD,CACtB,IAAI1mC,EAAW2P,EAAQ,EAAI,GAAW8vB,oBAAsB,GAAWC,sBACvE91C,KAAKi8C,WAAW7lC,SAAW,GAAWu9B,cAAgB,IAAMv9B,KAexEmgC,EAAO1xC,UAAUk4C,iBAAmB,WAChC,MAA4B,eAArB/8C,KAAKg6C,YAA2D,WAA3Bh6C,KAAKk7B,QAAQue,UAAyB,YAAc,eAChE,WAA3Bz5C,KAAKk7B,QAAQue,UAAyB,aAAe,eAE9DlD,EAAO1xC,UAAUm4C,kBAAoB,SAAUt0B,GAC3C1oB,KAAKs4C,eAAiB5vB,EAAK7hB,QACvB7G,KAAKk7B,QAAQ9kB,UACb,eAAS,CAACpW,KAAKs4C,gBAAiBt4C,KAAKk7B,QAAQ9kB,SAASC,MAAM,KAAK4mC,QAAO,SAAUC,GAAO,OAAOA,MAEpGx0B,EAAKjnB,OAAOwI,gBAAgB,oBACxBjK,KAAK+5C,oBACL/5C,KAAKs4C,eAAe/rC,kBAAkB3E,UAAUC,IAAI,GAAWmuC,qBAC/Dh2C,KAAKg7C,cACLh7C,KAAKm9C,wBAGb5G,EAAO1xC,UAAUu4C,iBAAmB,SAAUlhC,GAC1C,GAAIlc,KAAK65C,aAAe75C,KAAK85C,cAAiB95C,KAAK45C,aAAe55C,KAAK+5C,kBAAoB,CACvF,IAAIsD,EAAqBr9C,KAAK85C,aAAehH,GAA0BD,GACvE,OAAQ32B,GACJ,IAAK,YACDlc,KAAKi8C,WAAWlrB,cAAc,CAAE,SAAY,IAAwB,GACpE,MACJ,IAAK,eACD/wB,KAAKi8C,WAAWlrB,cAAc,CAAE,QAAWssB,IAAsB,GACjE,MACJ,IAAK,aACDr9C,KAAKi8C,WAAWlrB,cAAc,CAAE,SAAY,IAAwB,GACpE,MACJ,IAAK,cACD/wB,KAAKi8C,WAAWlrB,cAAc,CAAE,QAAWssB,IAAsB,GACjE,SAIhB9G,EAAO1xC,UAAUy4C,6BAA+B,SAAUvsC,GACtD/Q,KAAKw7C,eAAezqC,GACpB,OAAalJ,IAAIsN,SAAU,sBAAuBnV,KAAKy7C,cAAez7C,MACtE,OAAa6H,IAAIsN,SAAU,mBAAoBnV,KAAK07C,YAAa17C,OAErEu2C,EAAO1xC,UAAU04C,yBAA2B,SAAU7zC,GAC9C1J,KAAK+5C,oBACArwC,EAID,OAAaC,OAAO3J,KAAKs4C,eAAgB,uBAAwBt4C,KAAKs9C,8BAHtE,OAAaz1C,IAAI7H,KAAKs4C,eAAgB,uBAAwBt4C,KAAKs9C,6BAA8Bt9C,QAO7Gu2C,EAAO1xC,UAAU24C,2BAA6B,SAAUthC,GACpD,IAAI9F,EACJ,OAAQ8F,GACJ,IAAK,YACD9F,EAAW,GAAW69B,wBACtB,MACJ,IAAK,eACD79B,EAAW,GAAW89B,uBACtB,MACJ,IAAK,aACD99B,EAAW,GAAW+9B,sBACtB,MACJ,IAAK,cACD/9B,EAAW,GAAWg+B,qBACtB,MAER,OAAOh+B,GAEXmgC,EAAO1xC,UAAU+3C,8BAAgC,SAAUh0C,GACvD,IAAI60C,EACJ,GAAIz9C,KAAKs4C,eAAgB,CACrB,IAAIp8B,EAAgC,eAArBlc,KAAKg6C,YACdh6C,KAAKs4C,eAAe32B,aAAe,GAAO3hB,KAAKs4C,eAAe32B,aAAe,EAC7E3hB,KAAKs4C,eAAethB,YAAc,GAAOh3B,KAAKs4C,eAAethB,YAAc,EACjFymB,EAA2C,eAArBz9C,KAAKg6C,YACtBpxC,IAAc,GAAWqrC,wBAA0B,CAAE6I,OAAQ,gBAAiBY,UAAW,cAAgBxhC,EAAW,OACjH,CAAE4gC,OAAQ,iBAAkBY,UAAW,eAAiB,EAAa,OACxE90C,IAAc,GAAWurC,sBAAwB,CAAE2I,OAAQ,iBAAkBY,UAAW,cAAgBxhC,EAAW,OAChH,CAAE4gC,OAAQ,kBAAmBY,UAAW,eAAkBxhC,EAAY,OAElF,OAAOuhC,GAEXlH,EAAO1xC,UAAU84C,oBAAsB,WACnC,IAAI1yC,EAAQjL,KACZ,GAAIA,KAAK+5C,kBAAmB,CACxB/5C,KAAK49C,eAAe59C,KAAKk6C,aACzB,IAAI2D,EAAwB79C,KAAKs4C,eAAe/rC,kBAChDsxC,EAAsBj2C,UAAU+B,OAAO,GAAWqsC,qBAClD6H,EAAsBj2C,UAAUC,IAAI,GAAWkuC,qBAC/C/1C,KAAKk6C,YAAYzyC,MAAMq2C,OAAS,UAChC99C,KAAKs4C,eAAe7wC,MAAMivC,WAAa12C,KAAK62C,eAC5C72C,KAAKs4C,eAAe1wC,UAAUC,IAAI,GAAWysC,qBAC7Ct0C,KAAKy6C,eAAehzC,MAAMk1C,UAAY,WAClCkB,EAAsB9c,UAAU37B,OAAS,EACzCpF,KAAKs4C,eAAe7wC,MAAMk1C,UAAY,WAGtC38C,KAAKs4C,eAAe7wC,MAAMk1C,UAAY38C,KAAK48C,8BAA8B58C,KAAK68C,sBAAsBC,OAEtF,YAAd98C,KAAKyb,KACLlQ,YAAW,WAAcN,EAAMqtC,eAAe7wC,MAAMivC,WAAazrC,EAAMyrC,WAAWC,SAAW,MAG7FprC,YAAW,WAAcN,EAAMqtC,eAAe7wC,MAAMivC,WAAa,SAAW,QAIxFH,EAAO1xC,UAAUk5C,qBAAuB,WACpC,IAAI9yC,EAAQjL,KACZ,GAAIA,KAAK+5C,kBAAmB,CACxB,IAAI8D,EAAwB79C,KAAKs4C,eAAe/rC,kBAChDvM,KAAKs4C,eAAe7wC,MAAMivC,WAAa12C,KAAK62C,eAC5CgH,EAAsBj2C,UAAU+B,OAAO,GAAWosC,qBAClD8H,EAAsBj2C,UAAUC,IAAI,GAAWmuC,qBAC/Ch2C,KAAKk6C,YAAYzyC,MAAMq2C,OAAS,eAChC99C,KAAKk6C,YAAYzyC,MAAMq2C,OAAS,OAC5B99C,KAAKy6C,iBACLz6C,KAAKy6C,eAAehzC,MAAMk1C,UAAY,YAE1C38C,KAAKs4C,eAAe1wC,UAAU+B,OAAO,GAAW2qC,qBAChDt0C,KAAKm9C,sBACLn9C,KAAKg+C,mBAAgBjjB,EACrBxvB,YAAW,WAAcN,EAAMqtC,eAAe7wC,MAAMivC,WAAa,SAAW,QAGpFH,EAAO1xC,UAAUo5C,qBAAuB,SAAUv1B,GAC9C,QAAqCqS,IAAjC/6B,KAAKk+C,yBACLl+C,KAAKk+C,0BAA4Bx1B,EAAKgT,iBAAkB,CACxD,GAAI17B,KAAK+5C,kBAAmB,CACxB,IAAIoE,EAAen+C,KAAKw9C,2BAA2B90B,EAAKgT,uBACnCX,IAAjBojB,IACAz1B,EAAK7hB,QAAQe,UAAU+B,OAAO3J,KAAK68C,sBACnCn0B,EAAK7hB,QAAQe,UAAUC,IAAIs2C,GAC3Bn+C,KAAK68C,qBAAuBsB,GAE5Bz1B,EAAK7hB,QAAQY,MAAMk1C,WAAaj0B,EAAK7hB,QAAQe,UAAU0E,SAAS,GAAWgoC,sBAC3E5rB,EAAK7hB,QAAQ0F,kBAAkBw0B,UAAU37B,QAAU,IACnDsjB,EAAK7hB,QAAQY,MAAMk1C,UAAY38C,KAAK48C,8BAA8B58C,KAAK68C,sBAAsBC,QAGrG98C,KAAKk+C,wBAA0Bx1B,EAAKgT,iBAEpC17B,KAAK+5C,mBAAqB/5C,KAAKs4C,iBAAgF,IAA9Dt4C,KAAKs4C,eAAe7wC,MAAMk1C,UAAU3hC,QAAQ,cAC7Fhb,KAAKm9C,uBAGb5G,EAAO1xC,UAAUs4C,oBAAsB,WACnC,IAAIM,EAAsBz9C,KAAK48C,8BAA8B58C,KAAK68C,sBAC9D78C,KAAKs4C,eAAe/rC,kBAAkBw0B,UAAU37B,OAAS,EACzDpF,KAAKs4C,eAAe7wC,MAAMk1C,UAAYc,EAAoBC,UAAY,eAGtE19C,KAAKs4C,eAAe7wC,MAAMk1C,UAAYc,EAAoBC,UAAY,IAAMD,EAAoBX,OAAS,gBAGjHvG,EAAO1xC,UAAU80C,cAAgB,WAC7B35C,KAAKi8C,WAAa,IAAI,GAAQ,CAC1BplB,eAAgB72B,KAAK65C,aAAe75C,KAAK45C,YAAc55C,KAAK85C,aAC5D1jC,SAAU,GAAWu9B,cACrBriC,OAAQtR,KAAK45C,WAAa,GAAK,OAC/B1gB,UAAW,CAAEjX,KAAM,CAAEuS,OAAQ,QAAUtS,MAAO,CAAEsS,OAAQ,UAAW1c,SAAU,MAC7EqlB,QAAS,SACThL,WAAYnyB,KAAKg9C,kBAAkB/0C,KAAKjI,MACxCo+C,gBAAiBp+C,KAAKi+C,qBAAqBh2C,KAAKjI,MAChDuyB,YAAavyB,KAAKq+C,mBAAmBp2C,KAAKjI,MAC1CmqB,oBAAqBnqB,KAAKmqB,sBAE9BnqB,KAAKi8C,WAAW75B,SAASpiB,KAAKk6C,aAC9Bl6C,KAAKs+C,0BAET/H,EAAO1xC,UAAUy5C,uBAAyB,WACtC,IAAIC,EAAgBv+C,KAAK+5C,kBAAoB,SAAoC,SAAxB/5C,KAAKk7B,QAAQqd,OAAoB,QAAUv4C,KAAKk7B,QAAQqd,OACjHv4C,KAAK+wB,cAAc,CAAEmK,QAAS,CAAEqd,OAAQgG,KAAmB,GAC3Dv+C,KAAKi8C,WAAW//B,SAAWlc,KAAK+8C,mBAChC/8C,KAAKo9C,iBAAiBp9C,KAAKi8C,WAAW//B,UACtC,CAAClc,KAAKk6C,YAAal6C,KAAKmzC,SAAUnzC,KAAKm6C,cAAcrwC,SAAQ,SAAU6sC,GAC9D,eAAkBA,KACnBA,EAAOlvC,MAAMivC,WAAa,WAG9B12C,KAAK+5C,oBACL/5C,KAAKg0C,gBAAgBpsC,UAAUC,IAAI,GAAW2sC,gBACzC,kBACDx0C,KAAK87C,eAET97C,KAAKi8C,WAAW/iB,UAAUhX,MAAMsS,OAAS,OACzCx0B,KAAKi8C,WAAWh6B,KAAKjiB,KAAKk6C,eAGlC3D,EAAO1xC,UAAUw5C,mBAAqB,WAClCr+C,KAAKs4C,oBAAiBvd,EACtB/6B,KAAKk+C,6BAA0BnjB,GAEnCwb,EAAO1xC,UAAUq0C,WAAa,WACtB,kBAAcl5C,KAAKqV,kBACnBrV,KAAKw+C,SAAWx+C,KAAK6G,QAAQ4T,cAAc5N,cAAc,mCACzD7M,KAAKy+C,UAAYz+C,KAAK6G,QAAQ4T,cAAc5N,cAAc,sCAG1D7M,KAAKw+C,SAAWx+C,KAAK2I,cAAc,MAAO,CAAEC,UAAW,GAAWwqC,aAAe,IAAM,GAAWC,cAClGrzC,KAAKw+C,SAASr1C,YAAYnJ,KAAK2I,cAAc,OAAQ,CAAEC,UAAW,GAAWssC,oBAC7El1C,KAAKw+C,SAAS9F,UAAY,EAC1B14C,KAAKy+C,UAAYz+C,KAAK2I,cAAc,MAAO,CAAEC,UAAW,GAAWwqC,aAAe,IAAM,GAAWE,eACnGtzC,KAAKy+C,UAAUt1C,YAAYnJ,KAAK2I,cAAc,OAAQ,CAAEC,UAAW,GAAWssC,oBAC9El1C,KAAKy+C,UAAU/F,UAAY,EAC3B14C,KAAKg0C,gBAAgBpsC,UAAUC,IAAI,GAAW0tC,mBAC9Cv1C,KAAKg0C,gBAAgB7qC,YAAYnJ,KAAKw+C,UACtCx+C,KAAKg0C,gBAAgB7qC,YAAYnJ,KAAKy+C,WACtCz+C,KAAKg0C,gBAAgB7qC,YAAYnJ,KAAK6G,SACtC7G,KAAK0+C,gBAGbnI,EAAO1xC,UAAU65C,YAAc,WAC3B,IAAIC,EAAa3+C,KAAK2H,WAAkC,aAArB3H,KAAKg6C,YACxCh6C,KAAK8mC,KAAKyL,UAAUvyC,KAAK+mC,QACzB,IAAIF,EAAiB7mC,KAAK8mC,KAAKE,YAAY,kBACvCJ,EAAiB5mC,KAAK8mC,KAAKE,YAAY,kBAC3C,eAAW2X,EAAa3+C,KAAKy+C,UAAYz+C,KAAKw+C,SAAU,CAAE,aAAc3X,EAAgBllC,MAAOklC,IAC/F,eAAW8X,EAAa3+C,KAAKw+C,SAAWx+C,KAAKy+C,UAAW,CAAE,aAAc7X,EAAgBjlC,MAAOilC,KAEnG2P,EAAO1xC,UAAU+5C,eAAiB,WAC1B5+C,KAAK45C,YACL55C,KAAKm7C,YAAYvzC,UAAU+B,OAAO,uBAG1C4sC,EAAO1xC,UAAUg6C,aAAe,SAAUn2B,GACtC,IAEIrnB,EAFAy9C,EAAO9+C,KAAK++C,oBACZJ,EAAa3+C,KAAK2H,WAAkC,aAArB3H,KAAKg6C,YAEpCtxB,EAAKjnB,OAAOgZ,cAAc7S,UAAU0E,SAAS,GAAW+mC,cACrD3qB,EAAKjnB,OAAOmG,UAAU0E,SAAS,GAAW+mC,aAC/BhyC,EAAds9C,EAAsB3+C,KAAK6H,IAAIi3C,EAAMngC,WAAW3e,KAAKsN,KAAKsb,aAAa,GAC1D5oB,KAAK6H,IAAIi3C,EAAMngC,WAAW3e,KAAKsN,KAAKsb,aAAa,IAEzDF,EAAKjnB,OAAOgZ,cAAc7S,UAAU0E,SAAS,GAAWgnC,eACzD5qB,EAAKjnB,OAAOmG,UAAU0E,SAAS,GAAWgnC,iBAChCjyC,EAAds9C,EAAsB3+C,KAAK6H,IAAIi3C,EAAMngC,WAAW3e,KAAKsN,KAAKsb,aAAa,GAC1D5oB,KAAK6H,IAAIi3C,EAAMngC,WAAW3e,KAAKsN,KAAKsb,aAAa,IAE9D5oB,KAAKi2C,OAAO3U,UACZjgC,EAAQrB,KAAKg/C,wBAAwB39C,IAErCA,GAASrB,KAAKiqC,KAAO5oC,GAASrB,KAAKmqC,MACnCnqC,KAAKi/C,kBAAkB59C,GACvBrB,KAAKo7C,cAAcp7C,KAAKm7C,eAGhC5E,EAAO1xC,UAAUq6C,mBAAqB,SAAUx2B,GAC5CA,EAAK1c,iBACa,cAAd0c,EAAKjN,MAAwC,eAAdiN,EAAKjN,OACpCzb,KAAKm/C,YAAYz2B,GACjB1oB,KAAKo/C,eAAiB1yC,YAAY1M,KAAK6+C,aAAa52C,KAAKjI,MAAO,IAAK0oB,KAG7E6tB,EAAO1xC,UAAUw6C,eAAiB,WACzBr/C,KAAKm7C,YAAYvzC,UAAU0E,SAAS,uBACrCtM,KAAKm7C,YAAYvzC,UAAUC,IAAI,uBAGvC0uC,EAAO1xC,UAAUy6C,gBAAkB,SAAU38C,GACzC3C,KAAKu/C,YAAY,UAAW58C,GAC5B3C,KAAKq7C,eACLnvC,cAAclM,KAAKo/C,gBACnBp/C,KAAKm7C,YAAYliC,SAErBs9B,EAAO1xC,UAAU26C,kBAAoB,SAAUC,GAC3C,IAAIC,EAAY,EAehB,OAdK,eAAkB1/C,KAAKq6C,eAAiBr6C,KAAKq6C,aAAaj1C,OAAS,IAChEq6C,EAAS,IACTC,EAAY,GAEZD,EAAS,IACTC,EAAY,GAEZD,EAAS,KACTC,EAAY,GAEZD,EAAS,KACTC,EAAY,IAGbA,GAGXnJ,EAAO1xC,UAAU60C,YAAc,WAC3B,IAAIiG,EAAoB,EACpBC,EAA6B,aAArB5/C,KAAKg6C,YAA6B,IAAM,IAEpDh6C,KAAK+3C,aAAe/3C,KAAKqvC,iBAAiBrvC,KAAKsN,MAC3C,kBAActN,KAAKqV,iBACnBrV,KAAKqsB,GAAKrsB,KAAK6G,QAAQgG,cAAc,MAGrC7M,KAAKqsB,GAAKrsB,KAAK2I,cAAc,KAAM,CAC/BC,UAAW,GAAW2qC,MAAX,MAAgCqM,EAAQ,UAAY,GAAWpM,KAAO,IAAMxzC,KAAKw3C,MAAMiC,UAAU17B,cAC5Gzd,MAAO,CAAE85B,KAAM,eAAgBse,SAAU,KAAM,cAAe,UAGtE14C,KAAKqsB,GAAG5kB,MAAMo4C,OAAS,KACnB,OAAQC,WAAuB,MAAVF,GACrB5/C,KAAKqsB,GAAGzkB,UAAUC,IAAI,GAAWutC,oBAErC,IAAI2K,EAAY//C,KAAKw3C,MAAMuI,UACtB//C,KAAKw3C,MAAMwI,eAIPD,GAAa,IAClBA,EAAYphC,WAAW,eAAW3e,KAAKsN,QAJXyyC,EAA5B//C,KAAKw3C,MAAMyI,UAAY,EAAiBjgD,KAAKw3C,MAAMyI,UACjCthC,WAAW,eAAW3e,KAAKmqC,MAAUxrB,WAAW,eAAW3e,KAAKiqC,MAKtF,IAUI3d,EAVA2d,EAAMjqC,KAAK83C,oBAAoB93C,KAAKiqC,KACpCE,EAAMnqC,KAAK83C,oBAAoB93C,KAAKmqC,KACpC+V,EAAQlgD,KAAK83C,oBAAoBiI,GACjCN,GAAU,eAAkBz/C,KAAKq6C,eAAiBr6C,KAAKq6C,aAAaj1C,OAAS,GAAKpF,KAAKq6C,aAAaj1C,OAAS,EAC7GgC,EAAapH,KAAKw/C,kBAAkBC,GACpC15B,GAAS,eAAkB/lB,KAAKq6C,eAAiBr6C,KAAKq6C,aAAaj1C,OAAS,EAC3Eq6C,EAASr4C,EAAcq4C,EAASlyC,KAAK4yC,KAAKhW,EAAMF,GAAOiW,GACvD,kBAAelgD,KAAKqV,kBACrBrV,KAAK6G,QAAQsC,YAAYnJ,KAAKqsB,IAGlC,IAAIjf,EAAQuR,WAAW3e,KAAKiqC,IAAIrhB,YAClB,MAAVg3B,IACAxyC,EAAQuR,WAAW3e,KAAKmqC,IAAIvhB,aAEhC,IACIw3B,EADAr5B,EAAO,EAEPs5B,EAAY,IAAMt6B,EAClBs6B,IAAcC,MACdD,EAAY,GAEhB,IAAK,IAAI56C,EAAI,EAAG61B,GAAK,eAAkBt7B,KAAKq6C,eAAiBr6C,KAAKq6C,aAAaj1C,OAAS,EACpFpF,KAAKq6C,aAAaj1C,OAAS,EAAI,EAAGm7C,EAAI,EAAG96C,GAAKsgB,EAAOtgB,IAAK,CAO1D,GANA6mB,EAAMtsB,KAAK2I,cAAc,KAAM,CAC3BrI,MAAO,CACH0B,MAAO,GAAWwxC,KAAMpZ,KAAM,eAAgBse,SAAU,KACxD,cAAe,WAGlB,eAAkB14C,KAAKq6C,eAAiBr6C,KAAKq6C,aAAaj1C,OAAS,EACpEg7C,EAAc36C,GAAK2B,EAAa,KAAO,EACnCg5C,IACc,MAAVR,GACAxyC,EAAQpN,KAAKq6C,aAAakG,GAC1BA,MAGAnzC,EAAQpN,KAAKq6C,aAAa/e,GAC1BA,KAEJhP,EAAGxjB,aAAa,QAASsE,EAAMwb,kBAKnC,GADA0D,EAAGxjB,aAAa,QAASsE,EAAMwb,YACS,IAApC5oB,KAAKqvC,iBAAiBrvC,KAAKmqC,MAAkD,IAApCnqC,KAAKqvC,iBAAiBrvC,KAAKiqC,MAC/B,IAArCjqC,KAAKqvC,iBAAiBrvC,KAAKsN,MAEvB8yC,EADU,MAAVR,GACgBxyC,EAAQuR,WAAW3e,KAAKiqC,IAAIrhB,aAAe5oB,KAAKw3C,MAAMyI,YAAc,EAGrE1yC,KAAK4yC,IAAI/yC,EAAQuR,WAAW3e,KAAKmqC,IAAIvhB,aAAe5oB,KAAKw3C,MAAMyI,YAAc,MAG/F,CACD,IAAIO,EAAYxgD,KAAK83C,oBAAoB93C,KAAKw3C,MAAMyI,WAChDQ,EAAazgD,KAAK83C,oBAAoB1qC,GAEtCgzC,EADU,MAAVR,GACgBa,EAAaxW,GAAOuW,IAAc,EAGnCjzC,KAAK4yC,IAAIM,EAAa9hC,WAAWwrB,EAAIvhB,aAAe43B,IAAc,EAIzFJ,GACA9zB,EAAG1kB,UAAUC,IAAI,GAAW4rC,OAErB,MAAVmM,EAAkBtzB,EAAG7kB,MAAM6G,MAAQ+xC,EAAY,IAAQ/zB,EAAG7kB,MAAM6J,OAAS+uC,EAAY,IACtF,IAAIK,EAASN,EAAwC,SAAzBpgD,KAAKw3C,MAAMiC,UAAuB,EAAI,EAAK,EACvE,GAAI2G,EAAa,CACb,IAAK,IAAIjyB,EAAI,EAAGA,EAAIuyB,EAAQvyB,IACxBnuB,KAAK2gD,WAAWr0B,EAAIlf,EAAOizC,GAE3B,kBAAcrgD,KAAKqV,kBAAoB,eAAkBrV,KAAKq6C,gBAC9Dr6C,KAAK4gD,kBAAkBxzC,EAAOpN,KAAKqsB,GAAG5pB,SAASk9C,IAC/CA,UAGC,eAAkB3/C,KAAKq6C,gBAC5Br6C,KAAK6gD,iBAAiBv0B,EAAIlf,GACtB,kBAAcpN,KAAKqV,kBAAoB,eAAkBrV,KAAKq6C,gBAC9Dr6C,KAAK4gD,kBAAkBxzC,EAAOpN,KAAKqsB,GAAG5pB,SAASk9C,IAC/CA,MAGH,kBAAe3/C,KAAKqV,kBACrBrV,KAAKqsB,GAAGljB,YAAYmjB,GAExBtsB,KAAKi3C,sBAAsBp5B,KAAKyO,GAChC,IAAIw0B,OAAgB,EAChB,eAAkB9gD,KAAKq6C,gBAEnByG,EADA9gD,KAAKqvC,iBAAiB0Q,GAAa//C,KAAKqvC,iBAAiBjiC,GACzCpN,KAAKqvC,iBAAiB0Q,GAGtB//C,KAAKqvC,iBAAiBjiC,GAGtCA,EADU,MAAVwyC,EACQ5/C,KAAK43C,gBAAgBxqC,EAAQ2yC,EAAWe,GAGxC9gD,KAAK43C,gBAAgBxqC,EAAQ2yC,EAAWe,GAEpD/5B,EAAO/mB,KAAK43C,gBAAgB7wB,EAAOg5B,EAAWe,IAGtD9gD,KAAK+gD,eAAenB,EAAOS,IAE/B9J,EAAO1xC,UAAU+7C,kBAAoB,SAAUxzC,EAAO4zC,GAClD,GAAIA,EAAU/jC,kBAAoB,EAC9B,IAAK,IAAIxX,EAAI,EAAGA,EAAIu7C,EAAU/jC,kBAAmBxX,IAC7CzF,KAAKihD,kBAAkBD,EAAW5zC,EAAO4zC,EAAUv+C,SAASgD,SAIhEzF,KAAKihD,kBAAkBD,EAAW5zC,EAAO,OAGjDmpC,EAAO1xC,UAAUo8C,kBAAoB,SAAU30B,EAAIlf,EAAOyhB,GACtD,IAAI5jB,EAAQjL,KACRkhD,EAAWlhD,KAAKyvC,aAAariC,GAC7B6N,EAAQ,eAAkBjb,KAAKw3C,QAAW,eAAkBx3C,KAAKw3C,MAAMvO,QACTiY,EAA9DlhD,KAAKy3C,aAAarqC,EAAOpN,KAAKm3C,iBAAiBM,aAC/ClhC,EAAY,CAAElV,MAAO+L,EAAO6N,KAAMA,EAAMkmC,YAAa70B,GACzDtsB,KAAKyW,QAAQ,iBAAkBF,GAAW,SAAUga,GAChDjE,EAAGxjB,aAAa,QAASynB,EAAatV,KAAK2N,YACvCiG,IACI5jB,EAAMkf,oBACN0E,EAAK3E,UAAY,OAAmBE,SAASmG,EAAatV,KAAK2N,YAG/DiG,EAAK3E,UAAYqG,EAAatV,KAAK2N,gBAKnD2tB,EAAO1xC,UAAUk8C,eAAiB,SAAUnB,EAAOS,EAAWe,QACrC,IAAjBA,IAA2BA,GAAe,GAC9CphD,KAAK2K,WAAa3K,KAAKqsB,GAAG9f,kBAC1BvM,KAAKqhD,UAAYrhD,KAAKqsB,GAAGxW,iBACzB7V,KAAK2K,WAAW/C,UAAUC,IAAI,GAAWwtC,iBACzCr1C,KAAKqhD,UAAUz5C,UAAUC,IAAI,GAAWytC,gBACxCt1C,KAAKg0C,gBAAgBpsC,UAAUC,IAAI,GAAW0rC,MAAQ,IAAMvzC,KAAKw3C,MAAMiC,UAAU17B,eACnE,MAAV6hC,GACA5/C,KAAK2K,WAAWlD,MAAM6G,MAAQ+xC,EAAY,EAAI,IAC9CrgD,KAAKqhD,UAAU55C,MAAM6G,MAAQ+xC,EAAY,EAAI,MAG7CrgD,KAAK2K,WAAWlD,MAAM6J,OAAS+uC,EAAY,EAAI,IAC/CrgD,KAAKqhD,UAAU55C,MAAM6J,OAAS+uC,EAAY,EAAI,KAElD,IAAI9pC,EAAY,CAAE+qC,aAActhD,KAAKqsB,GAAIk1B,aAAcvhD,KAAKi3C,uBACxDmK,GACAphD,KAAKyW,QAAQ,gBAAiBF,GAElCvW,KAAKwhD,kBAETjL,EAAO1xC,UAAU87C,WAAa,SAAUr0B,EAAIlf,EAAOizC,GAC/C,IAAIxxB,EAAO7uB,KAAK2I,cAAc,OAAQ,CAClCC,UAAW,GAAW8qC,UAAY,IAAM,GAAWF,KAAO,IAAMxzC,KAAKw3C,MAAMiC,UAAU17B,cACrFzd,MAAO,CAAE85B,KAAM,eAAgBse,SAAU,KAAM,cAAe,UAElEpsB,EAAGnjB,YAAY0lB,GACX,eAAkB7uB,KAAKq6C,cACvBr6C,KAAK6gD,iBAAiBv0B,EAAIlf,EAAOyhB,EAAMwxB,GAGnCrgD,KAAKmqB,oBACL0E,EAAK3E,UAAY,OAAmBE,SAAShd,EAAMwb,YAGnDiG,EAAK3E,UAAY9c,EAAMwb,YAInC2tB,EAAO1xC,UAAUg8C,iBAAmB,SAAUv0B,EAAIlf,EAAOq0C,EAAapB,GAClE,IAAIp1C,EAAQjL,KACRkhD,EAAWlhD,KAAKyvC,aAAariC,GAC7B6N,EAAQ,eAAkBjb,KAAKw3C,QAAW,eAAkBx3C,KAAKw3C,MAAMvO,QACTiY,EAA9DlhD,KAAKy3C,aAAarqC,EAAOpN,KAAKm3C,iBAAiBM,aAC/ClhC,EAAY,CAAElV,MAAO+L,EAAO6N,KAAMA,EAAMkmC,YAAa70B,GACzDtsB,KAAKyW,QAAQ,iBAAkBF,GAAW,SAAUga,GAUhD,GATAjE,EAAGxjB,aAAa,QAASynB,EAAatV,KAAK2N,YACvC64B,IACIx2C,EAAMkf,oBACNs3B,EAAYv3B,UAAY,OAAmBE,SAASmG,EAAatV,KAAK2N,YAGtE64B,EAAYv3B,UAAYqG,EAAatV,KAAK2N,aAG7C,eAAkB3d,EAAMy2C,iBAAmB,iBAAY,CACxD,IAAI9B,EAA8B,eAAtB30C,EAAM+uC,YAA+B,IAAM,IACvD/uC,EAAM81C,eAAenB,EAAOS,GAAW,QAInD9J,EAAO1xC,UAAU28C,eAAiB,WAC9BxhD,KAAK2hD,oBAIO3hD,KAAKg6C,YACQ,aAArBh6C,KAAKg6C,YACJh6C,KAAK6G,QAAQoc,wBAAwB3U,OAAS,GAC3CtO,KAAKg0C,gBAAgBpsC,UAAUC,IAAI,GAAWstC,iBAC9Cn1C,KAAKg0C,gBAAgBpsC,UAAU+B,OAAO,GAAWwrC,iBAGpDn1C,KAAK6G,QAAQoc,wBAAwB3R,QAAU,GAC5CtR,KAAKg0C,gBAAgBpsC,UAAUC,IAAI,GAAWstC,iBAC9Cn1C,KAAKg0C,gBAAgBpsC,UAAU+B,OAAO,GAAWwrC,kBAG7DoB,EAAO1xC,UAAU88C,kBAAoB,WACjC3hD,KAAK2K,WAAa3K,KAAK6G,QAAQgG,cAAc,MAAMpK,SAAS,GAC5D,IACIkI,EACAi3C,EAFAC,EAAQ7hD,KAAK2K,WAAWsY,wBAGxB88B,EAAY//C,KAAKw3C,MAAMuI,UACvBh6B,EAAQxY,KAAK4yC,IAAKxhC,WAAW,eAAW3e,KAAKmqC,MAAUxrB,WAAW,eAAW3e,KAAKiqC,OAAU8V,EAC5F//C,KAAK2K,WAAWlI,SAAS2C,OAAS,IAClCuF,EAAa3K,KAAK2K,WAAWlI,SAAS,GAAGwgB,yBAE7C,IAEI6+B,EAFAP,EAAe,CAACvhD,KAAKg0C,gBAAgBx+B,iBAAiB,IAAM,GAAWg+B,KAAO,IAC1E,GAAWC,MAAQ,KAAO,GAAWC,YAGzCoO,EADyB,SAAzB9hD,KAAKw3C,MAAMiC,UACH,GAAG11C,MAAM+C,KAAKy6C,EAAa,GAAI,GAG/B,GAAGx9C,MAAM+C,KAAKy6C,EAAa,GAAI,GAI3C,IAFA,IAAIlB,EAAiC,aAArBrgD,KAAKg6C,YACD,EAAf6H,EAAMvwC,OAA6B,EAAduwC,EAAMvzC,MACvB7I,EAAI,EAAGA,EAAIzF,KAAK2K,WAAWlI,SAAS2C,OAAQK,IACxB,aAArBzF,KAAKg6C,YACA,kBAAeh6C,KAAKqV,mBACrBrV,KAAK2K,WAAWlI,SAASgD,GAAGgC,MAAMuS,KAAQrP,EAAW2G,OAAS,EAAK,MAIlEtR,KAAK2H,UAIN3H,KAAK2K,WAAWlI,SAASgD,GAAGgC,MAAMsf,MAAQs5B,EACtCrgD,KAAK2K,WAAWlI,SAASgD,GAAGwd,wBAAwB3U,OAAS,EAAI,KAJrEtO,KAAK2K,WAAWlI,SAASgD,GAAGgC,MAAMsf,MAASpc,EAAW2D,MAAQ,EAAK,KAQ/E,IAAS7I,EAAI,EAAGA,EAAIq8C,EAAM18C,OAAQK,IAC9Bm8C,EAAaE,EAAMr8C,GAAGwd,wBACG,aAArBjjB,KAAKg6C,YACA,kBAAeh6C,KAAKqV,kBACrB,eAAkBysC,EAAMr8C,GAAI,CAAEuU,KAAMqmC,EAAYuB,EAAWtwC,QAAU,EAAI,OAI7E,eAAkBwwC,EAAMr8C,GAAI,CAAEshB,MAAOs5B,EAAYuB,EAAWtzC,OAAS,EAAI,OAsCjF,GAnCItO,KAAK2H,WAAa3H,KAAKqhD,UAAU5+C,SAAS2C,QAAoB,IAAV2gB,IACpD/lB,KAAKqhD,UAAU5+C,SAAS,GAAGgF,MAAMsf,MAAS/mB,KAAKqhD,UAAUp+B,wBAAwB3U,MAAQ,EAAK,KACjE,SAAzBtO,KAAKw3C,MAAMiC,YACN,mBACDz5C,KAAKqhD,UAAU5+C,SAAS,GAAGgF,MAAMsf,MAAS/mB,KAAKqhD,UAAUp+B,wBAAwB3U,MAAQ,EAAK,QAI5F,IAAVyX,IACyB,eAArB/lB,KAAKg6C,cACAh6C,KAAK2H,WAON3H,KAAK2K,WAAW/C,UAAU+B,OAAO,GAAW2rC,gBAC5Ct1C,KAAK2K,WAAWlD,MAAMuf,MAAQhnB,KAAKk6C,YAAYzyC,MAAMuf,MAChD,mBACDhnB,KAAK2K,WAAWlI,SAAS,GAAGgF,MAAMsf,KAC7B/mB,KAAK2K,WAAWsY,wBAAwB3U,MAAQ,EAAK,EAAI,KACjC,SAAzBtO,KAAKw3C,MAAMiC,YACXz5C,KAAK2K,WAAWlI,SAAS,GAAGgF,MAAMsf,KAC7B/mB,KAAK2K,WAAWsY,wBAAwB3U,MAAQ,EAAK,EAAI,SAbtEtO,KAAK2K,WAAW/C,UAAU+B,OAAO,GAAW2rC,gBACvC,mBACDt1C,KAAK2K,WAAWlD,MAAMsf,KAAO/mB,KAAKk6C,YAAYzyC,MAAMsf,QAgB3D,kBAAe/mB,KAAKqV,kBACI,aAArBrV,KAAKg6C,aACLh6C,KAAK2K,WAAW/C,UAAU+B,OAAO,GAAW2rC,iBAIpD,kBAAct1C,KAAKqV,iBAAkB,CACrC,IAAIqT,OAAO,EACY,MAAnB1oB,KAAK2K,aAED+d,EADqB,eAArB1oB,KAAKg6C,YACE,CAAE+H,iBAAkB/hD,KAAK2K,WAAWlI,SAAS,GAAGgF,MAAMsf,MAGtD,CAAEg7B,kBAAoBp3C,EAAW2G,OAAS,EAAK,OAG9C,MAAZwwC,EAAM,KAEFp5B,EADqB,eAArB1oB,KAAKg6C,YACE,CAAEgI,mBAAoBF,EAAM,GAAGr6C,MAAMsf,MAGrC,CAAEi7B,oBAAqB3B,EAAYuB,EAAWtwC,QAAU,EAAI,OAGpD,MAAnBtR,KAAK2K,YAAkC,MAAZm3C,EAAM,KAE7Bp5B,EADqB,eAArB1oB,KAAKg6C,YACE,CACH+H,iBAAkB/hD,KAAK2K,WAAWlI,SAAS,GAAGgF,MAAMsf,KACpDi7B,mBAAoBF,EAAM,GAAGr6C,MAAMsf,MAIhC,CACHg7B,kBAAoBp3C,EAAW2G,OAAS,EAAK,KAC7C0wC,oBAAqB3B,EAAYuB,EAAWtwC,QAAU,EAAI,OAKtEtR,KAAKk6B,eAAeC,kBAAkB,kBAAmBzR,KAIjE6tB,EAAO1xC,UAAUs3C,iBAAmB,SAAUt1C,GAC1C,IAAIo7C,EACAC,GAAqB,eAAkBliD,KAAKw3C,SAAW,eAAkBx3C,KAAKw3C,MAAMvO,QACpFhuB,EAAQinC,EAC0CliD,KAAK+7C,cAAc/7C,KAAKk3C,mBAAmB,GAA7Fl3C,KAAK+7C,cAAc/7C,KAAKm3C,iBAAiB,GACzCgL,EAAWD,EAAkBliD,KAAK+7C,cAAc/7C,KAAKm3C,iBAAiB,GACtEn3C,KAAK+7C,cAAc/7C,KAAKk3C,mBAAmB,GAC/Cj8B,EAASjb,KAAK82C,eAA4B92C,KAAmB,eAA7B,EAE5BiiD,EAD6B,IAA7BhnC,EAAK5E,MAAM,OAAOjR,OACF6V,EAAK5E,MAAM,OAGX,CAAC4E,EAAMA,GAE3Bjb,KAAKo6C,kBAAkBvzC,GACL,UAAd7G,KAAKyb,KACL,eAAW5U,EAAS,CAAE,gBAAiBs7C,EAAU,iBAAkBlnC,IAGjEjb,KAAK2H,UAGDd,IAAY7G,KAAKk6C,YACf,eAAWrzC,EAAS,CAAE,gBAAiBs7C,EAAS9rC,MAAM,OAAO,GAAI,iBAAkB4rC,EAAc,KACjG,eAAWp7C,EAAS,CAAE,gBAAiBs7C,EAAS9rC,MAAM,OAAO,GAAI,iBAAkB4rC,EAAc,KALnFp7C,IAAY7G,KAAKk6C,YACnC,eAAWrzC,EAAS,CAAE,gBAAiBs7C,EAAS9rC,MAAM,OAAO,GAAI,iBAAkB4rC,EAAc,KACjG,eAAWp7C,EAAS,CAAE,gBAAiBs7C,EAAS9rC,MAAM,OAAO,GAAI,iBAAkB4rC,EAAc,MAM7G1L,EAAO1xC,UAAUk6C,kBAAoB,WACjC,IAAID,EAYJ,OATQA,EAFU,UAAd9+C,KAAKyb,KACqB,IAAtBzb,KAAKoiD,aACEpiD,KAAKs8C,WAGLt8C,KAAKw8C,WAITx8C,KAAKs8C,WAETwC,GAEXvI,EAAO1xC,UAAUm6C,wBAA0B,SAAU39C,GAYjD,OAVIA,EADc,aAAdrB,KAAKyb,MAAqC,YAAdzb,KAAKyb,MAIP,IAAtBzb,KAAKoiD,aAHApiD,KAAKqiD,yBAAyBhhD,EAAOrB,KAAKi2C,OAAOqM,SAAUtiD,KAAKi2C,OAAOsM,QAAS,GAO5EviD,KAAKqiD,yBAAyBhhD,EAAOrB,KAAKi2C,OAAOuM,SAAUxiD,KAAKi2C,OAAOwM,QAAS,GAG1FphD,GAEXk1C,EAAO1xC,UAAU02C,mBAAqB,WAC7Bv7C,KAAKg3C,mBACNh3C,KAAK6G,QAAQoS,QACbjZ,KAAKg3C,kBAAmB,IAGhCT,EAAO1xC,UAAUs6C,YAAc,SAAUz2B,GAErC,IAAIrnB,EADJrB,KAAKu7C,qBAEL,IAAIoD,EAAa3+C,KAAK2H,WAAkC,aAArB3H,KAAKg6C,YACpC8E,EAAO9+C,KAAK++C,oBACM,KAAjBr2B,EAAK9Q,SAAqC,KAAjB8Q,EAAK9Q,SAC5B8Q,EAAKgC,cAAc9iB,UAAU0E,SAAS,GAAW+mC,aACtChyC,EAAds9C,EAAsB3+C,KAAK6H,IAAIi3C,EAAMngC,WAAW3e,KAAKsN,KAAKsb,aAAa,GAC1D5oB,KAAK6H,IAAIi3C,EAAMngC,WAAW3e,KAAKsN,KAAKsb,aAAa,GAEvC,KAAjBF,EAAK9Q,SAAqC,KAAjB8Q,EAAK9Q,SACpC8Q,EAAKgC,cAAc9iB,UAAU0E,SAAS,GAAWgnC,cACnCjyC,EAAds9C,EAAsB3+C,KAAK6H,IAAIi3C,EAAMngC,WAAW3e,KAAKsN,KAAKsb,aAAa,GAC1D5oB,KAAK6H,IAAIi3C,EAAMngC,WAAW3e,KAAKsN,KAAKsb,aAAa,GAEvC,KAAjBF,EAAK9Q,SACR8Q,EAAKgC,cAAc9iB,UAAU0E,SAAS,GAAW+mC,aACtChyC,EAAds9C,EAAsB3+C,KAAK6H,IAAIi3C,EAAMngC,WAAW3e,KAAKw3C,MAAMyI,UAAUr3B,aAAa,GACrE5oB,KAAK6H,IAAIi3C,EAAMngC,WAAW3e,KAAKw3C,MAAMyI,UAAUr3B,aAAa,GAElD,KAAjBF,EAAK9Q,SACX8Q,EAAKgC,cAAc9iB,UAAU0E,SAAS,GAAWgnC,cACnCjyC,EAAds9C,EAAsB3+C,KAAK6H,IAAIi3C,EAAMngC,WAAW3e,KAAKw3C,MAAMyI,UAAUr3B,aAAa,GACrE5oB,KAAK6H,IAAIi3C,EAAMngC,WAAW3e,KAAKw3C,MAAMyI,UAAUr3B,aAAa,GAElD,KAAjBF,EAAK9Q,QACXvW,EAAQsd,WAAW3e,KAAKiqC,IAAIrhB,YAEL,KAAjBF,EAAK9Q,UACXvW,EAAQsd,WAAW3e,KAAKmqC,IAAIvhB,aAE5B5oB,KAAKi2C,OAAO3U,UACZjgC,EAAQrB,KAAKg/C,wBAAwB39C,IAEzCrB,KAAKi/C,kBAAkB59C,IACnBrB,KAAK45C,YAAe55C,KAAKk7B,QAAQmd,WAChCr4C,KAAKm7C,YAAYvzC,UAAU0E,SAAS,GAAW2oC,kBAChDj1C,KAAKq/C,iBAETr/C,KAAKo7C,cAAcp7C,KAAKm7C,aACxBn7C,KAAKm7C,YAAYliC,QACbyP,EAAKgC,cAAc9iB,UAAU0E,SAAS,GAAW+mC,cACjD,OAAaxrC,IAAI7H,KAAKw+C,SAAU,mBAAoBx+C,KAAK0iD,SAAU1iD,MAEnE0oB,EAAKgC,cAAc9iB,UAAU0E,SAAS,GAAWgnC,eACjD,OAAazrC,IAAI7H,KAAKy+C,UAAW,mBAAoBz+C,KAAK0iD,SAAU1iD,OAG5Eu2C,EAAO1xC,UAAUu2C,cAAgB,SAAU35C,GACnCzB,KAAK+5C,kBACJ/5C,KAAKs4C,eAAe1wC,UAAU0E,SAAS,GAAWgoC,qBAClBt0C,KAAK49C,eAAe59C,KAAKk6C,aAAtDl6C,KAAK29C,sBAGR39C,KAAKs4C,eAA4Ct4C,KAAK49C,eAAen8C,GAA/CzB,KAAK2iD,YAAYlhD,IAGhD80C,EAAO1xC,UAAU69C,SAAW,SAAUh6B,GAC9BA,EAAKgC,cAAc9iB,UAAU0E,SAAS,GAAW+mC,cACjD,OAAa1pC,OAAO3J,KAAKw+C,SAAU,mBAAoBx+C,KAAK0iD,UAE5Dh6B,EAAKgC,cAAc9iB,UAAU0E,SAAS,GAAWgnC,eACjD,OAAa3pC,OAAO3J,KAAKy+C,UAAW,mBAAoBz+C,KAAK0iD,WAGrEnM,EAAO1xC,UAAU+9C,YAAc,WACF,eAArB5iD,KAAKg6C,YACa,aAAdh6C,KAAKyb,MACLzb,KAAK2H,UAAa3H,KAAKmzC,SAAS1rC,MAAMuf,MAAQ,MAAUhnB,KAAKmzC,SAAS1rC,MAAMsf,KAAO,MACnF,eAAkB/mB,KAAKmzC,SAAU,CAAE,MAAS,eAAkBnzC,KAAKi7C,YAAc,EAAIj7C,KAAKi7C,WAAa,SAGvGj7C,KAAK2H,UAAa3H,KAAKmzC,SAAS1rC,MAAMuf,MAClChnB,KAAKi7C,WAAa,KAASj7C,KAAKmzC,SAAS1rC,MAAMsf,KAAO/mB,KAAKi7C,WAAa,KAC5E,eAAkBj7C,KAAKmzC,SAAU,CAAE,MAASnzC,KAAK6iD,WAAa7iD,KAAKi7C,WAAa,QAIlE,aAAdj7C,KAAKyb,MACLzb,KAAKmzC,SAAS1rC,MAAMyb,OAAS,MAC7B,eAAkBljB,KAAKmzC,SAAU,CAAE,OAAU,eAAkBnzC,KAAKi7C,YAAc,EAAIj7C,KAAKi7C,WAAa,SAGxGj7C,KAAKmzC,SAAS1rC,MAAMyb,OAASljB,KAAKi7C,WAAa,KAC/C,eAAkBj7C,KAAKmzC,SAAU,CAAE,OAAUnzC,KAAK6iD,WAAa7iD,KAAKi7C,WAAa,SAI7F1E,EAAO1xC,UAAUi+C,sBAAwB,SAAUzhD,GAG/C,OAFAA,EAAQrB,KAAKs5C,iBAAiBj4C,GAC9BA,EAAQrB,KAAK+iD,oBAAoB1hD,GAC1BA,GAEXk1C,EAAO1xC,UAAUm+C,qBAAuB,SAAUC,EAAgBC,EAAgBC,EAAcC,GACnE,eAArBpjD,KAAKg6C,YACAh6C,KAAK2H,WAKN3H,KAAKm2C,cAAc1uC,MAAMuf,MAAQi8B,EAAiB,KAClDjjD,KAAKm2C,cAAc1uC,MAAM6G,MAAS40C,EAAiBD,EAAkB,OALrEjjD,KAAKm2C,cAAc1uC,MAAMsf,KAAOk8B,EAAiB,KACjDjjD,KAAKm2C,cAAc1uC,MAAM6G,MAAS40C,EAAiBD,EAAkB,OAQzEjjD,KAAKm2C,cAAc1uC,MAAMyb,OAAS+/B,EAAiB,KACnDjjD,KAAKm2C,cAAc1uC,MAAM6J,OAAU4xC,EAAiBD,EAAkB,MAExD,UAAdjjD,KAAKyb,OACoB,eAArBzb,KAAKg6C,YACAh6C,KAAK2H,WAKN3H,KAAKo2C,eAAe3uC,MAAMuf,MAAQm8B,EAAe,KACjDnjD,KAAKo2C,eAAe3uC,MAAM6G,MAAS80C,EAAeD,EAAgB,OALlEnjD,KAAKo2C,eAAe3uC,MAAMsf,KAAOo8B,EAAe,KAChDnjD,KAAKo2C,eAAe3uC,MAAM6G,MAAS80C,EAAeD,EAAgB,OAQtEnjD,KAAKo2C,eAAe3uC,MAAMyb,OAASigC,EAAe,KAClDnjD,KAAKo2C,eAAe3uC,MAAM6J,OAAU8xC,EAAeD,EAAgB,QAI/E5M,EAAO1xC,UAAU20C,YAAc,WAC3B,GAAkB,YAAdx5C,KAAKyb,MAAoC,aAAdzb,KAAKyb,KAAqB,CACrD,IAAI4nC,EAAgBrjD,KAAKqiD,yBAAyBriD,KAAKi2C,OAAOqM,SAAUtiD,KAAKi2C,OAAOqM,SAAUtiD,KAAKi2C,OAAOsM,QAAQ,GAAO,GACzHc,EAAerjD,KAAK8iD,sBAAsBO,GAC1C,IAAIC,EAActjD,KAAKqiD,yBAAyBriD,KAAKi2C,OAAOsM,OAAQviD,KAAKi2C,OAAOqM,SAAUtiD,KAAKi2C,OAAOsM,QAAQ,GAAO,GACrHe,EAAatjD,KAAK8iD,sBAAsBQ,GACxCtjD,KAAKgjD,qBAAqBK,EAAcC,QAEvC,GAAkB,UAAdtjD,KAAKyb,KAAkB,CAC5B,IAAIwnC,EAAkBjjD,KAAKqiD,yBAAyBriD,KAAKi2C,OAAOqM,SAAUtiD,KAAKi2C,OAAOqM,SAAUtiD,KAAKi2C,OAAOsM,QAAQ,GAAO,GAC3HU,EAAiBjjD,KAAK8iD,sBAAsBG,GAC5C,IAAIC,EAAkBljD,KAAKqiD,yBAAyBriD,KAAKi2C,OAAOsM,OAAQviD,KAAKi2C,OAAOqM,SAAUtiD,KAAKi2C,OAAOsM,QAAQ,GAAO,GACzHW,EAAiBljD,KAAK8iD,sBAAsBI,GAC5C,IAAIC,EAAgBnjD,KAAKqiD,yBAAyBriD,KAAKi2C,OAAOuM,SAAUxiD,KAAKi2C,OAAOuM,SAAUxiD,KAAKi2C,OAAOwM,QAAQ,GAAO,GACzHU,EAAenjD,KAAK8iD,sBAAsBK,GAC1C,IAAIC,EAAgBpjD,KAAKqiD,yBAAyBriD,KAAKi2C,OAAOwM,OAAQziD,KAAKi2C,OAAOuM,SAAUxiD,KAAKi2C,OAAOwM,QAAQ,GAAO,GACvHW,EAAepjD,KAAK8iD,sBAAsBM,GAC1CpjD,KAAKgjD,qBAAqBC,EAAgBC,EAAgBC,EAAcC,KAGhF7M,EAAO1xC,UAAUw9C,yBAA2B,SAAUkB,EAAcra,EAAUC,EAAUqa,GAmBpF,OAlBI,eAAkBta,KAClBA,EAAWlpC,KAAKiqC,IACZ,eAAkBsZ,IAAiBC,IACnCD,EAAera,IAGnB,eAAkBC,KAClBA,EAAWnpC,KAAKmqC,IACZ,eAAkBoZ,IAAiBC,IACnCD,EAAepa,IAGnBoa,EAAera,IACfqa,EAAera,GAEfqa,EAAepa,IACfoa,EAAepa,GAEZ,CAACoa,EAAcvjD,KAAK+iD,oBAAoBQ,KAEnDhN,EAAO1xC,UAAU49B,SAAW,WAaxB,IAZK,eAAkBziC,KAAKq6C,eAAiBr6C,KAAKq6C,aAAaj1C,OAAS,IACpEpF,KAAKiqC,IAAM,EACXjqC,KAAKmqC,IAAMnqC,KAAKq6C,aAAaj1C,OAAS,EACtCpF,KAAK67C,eAET77C,KAAKo6C,kBAAkBp6C,KAAKk6C,aAC5Bl6C,KAAKs8C,WAAa,eAAkBt8C,KAAKqB,OAASrB,KAAKs5C,iBAAiB36B,WAAW3e,KAAKiqC,IAAIrhB,aACxF5oB,KAAKs5C,iBAAiB36B,WAAW3e,KAAKqB,MAAMunB,aAChD5oB,KAAKi7C,WAAaj7C,KAAK+iD,oBAAoB/iD,KAAKs8C,YAChDt8C,KAAKyjD,cAAgBzjD,KAAKi7C,WAC1B,eAAkBj7C,KAAKoiD,cAA+B,UAAdpiD,KAAKyb,KAAmBzb,KAAKoiD,aAAe,EAAIpiD,KAAKoiD,aAAe,EACxGpiD,KAAKoiD,aAAepiD,KAAKoiD,aACX,YAAdpiD,KAAKyb,MAAoC,aAAdzb,KAAKyb,KAAqB,CACrD,GAAIzb,KAAKi2C,OAAO3U,QAAS,CACrB,IAAIoiB,EAAS1jD,KAAKqiD,yBAAyBriD,KAAKs8C,WAAYt8C,KAAKi2C,OAAOqM,SAAUtiD,KAAKi2C,OAAOsM,QAC9FviD,KAAKs8C,WAAaoH,EAAO,GACzB1jD,KAAKi7C,WAAayI,EAAO,GACzB1jD,KAAKyjD,cAAgBzjD,KAAKi7C,WAE9Bj7C,KAAK2jD,kBAAkB,MACvB3jD,KAAKg7C,cACLh7C,KAAKqB,MAAQrB,KAAKs8C,WAClBt8C,KAAKm8C,iBAAiBn8C,KAAKk6C,aAC3Bl6C,KAAKu/C,YAAY,UAAW,WAG5Bv/C,KAAK4jD,qBAES,YAAd5jD,KAAKyb,MACLzb,KAAK4iD,cAEL5iD,KAAKi2C,OAAO3U,SACZthC,KAAKw5C,eAGbjD,EAAO1xC,UAAUu0C,iBAAmB,WACb,OAAfp5C,KAAKqB,OAA0C,kBAAhBrB,KAAU,QACzCA,KAAKqB,MAAQ,CAACsd,WAAW,eAAW3e,KAAKiqC,MAAOtrB,WAAW,eAAW3e,KAAKmqC,SAGnFoM,EAAO1xC,UAAU++C,mBAAqB,WAClC5jD,KAAKo5C,mBACLp5C,KAAK6jD,iBAETtN,EAAO1xC,UAAUi/C,aAAe,WACV,UAAd9jD,KAAKyb,KACqB,IAAtBzb,KAAKoiD,cACLpiD,KAAKk6C,YAAYzyC,MAAMo4C,OAAU7/C,KAAK6/C,OAAS,EAAK,GACpD7/C,KAAKm6C,aAAa1yC,MAAMo4C,OAAU7/C,KAAK6/C,OAAS,EAAK,KAGrD7/C,KAAKk6C,YAAYzyC,MAAMo4C,OAAU7/C,KAAK6/C,OAAS,EAAK,GACpD7/C,KAAKm6C,aAAa1yC,MAAMo4C,OAAU7/C,KAAK6/C,OAAS,EAAK,IAGpD7/C,KAAK+5C,mBAAqB/5C,KAAKs4C,iBACpCt4C,KAAKs4C,eAAe7wC,MAAMo4C,OAAS,eAAiB7/C,KAAK6G,SAAW,KAG5E0vC,EAAO1xC,UAAU8+C,kBAAoB,SAAU5yC,GAC3C,IACI4lC,EADA1rC,EAAQjL,KAERsa,EAA6B,IAAtBta,KAAKoiD,aAAsBpiD,KAAKi7C,WAAaj7C,KAAK6iD,WAEzDlM,EADA32C,KAAK+5C,kBACI,CAAC/5C,KAAKk6C,YAAal6C,KAAKy6C,gBAGxB,CAACz6C,KAAKm7C,aAEnBn7C,KAAKg7C,cACLrE,EAAO7sC,SAAQ,SAAU6sC,GACK,eAAtB1rC,EAAM+uC,YACN/uC,EAAMtD,UAAagvC,EAAOlvC,MAAMuf,MAC5B1M,EAAM,KAASq8B,EAAOlvC,MAAMsf,KAAOzM,EAAM,KAG7Cq8B,EAAOlvC,MAAMyb,OAAS5I,EAAM,KAE5B,kBAAcrP,EAAMoK,kBACpBshC,EAAOlvC,MAAMgZ,eAAe,iBAGpCzgB,KAAKu/C,YAAY,SAAUxuC,IAE/BwlC,EAAO1xC,UAAUs2C,UAAY,WACzB,OAA8B,IAAtBn7C,KAAKoiD,aAAsBpiD,KAAKk6C,YAAcl6C,KAAKm6C,cAE/D5D,EAAO1xC,UAAUg/C,cAAgB,WAC7B7jD,KAAK+jD,mBACL/jD,KAAKoiD,aAAe,EACpBpiD,KAAK2jD,kBAAkB,MACvB3jD,KAAKoiD,aAAe,EACpBpiD,KAAK2jD,kBAAkB,MACvB3jD,KAAKoiD,aAAe,GAExB7L,EAAO1xC,UAAU06C,YAAc,SAAUyE,EAAWrhD,GAChD,IAAI0rC,EAAyB,WAAd2V,EAAyBhkD,KAAKq5C,YAAcr5C,KAAKu5C,gBAChE,GAAkB,UAAdv5C,KAAKyb,KACLzb,KAAK+wB,cAAc,CAAE,MAAS/wB,KAAKs8C,aAAc,GAC7CjO,IAAaruC,KAAKqB,QAClBrB,KAAKyW,QAAQutC,EAAWhkD,KAAK2sC,gBAAgBqX,EAAWrhD,IACxD3C,KAAKikD,eAAeD,EAAWhkD,KAAKqB,QAExCrB,KAAKm8C,iBAAiBn8C,KAAKk6C,iBAE1B,CACD,IAAI74C,EAAQrB,KAAKqB,MAAQ,CAACrB,KAAKs8C,WAAYt8C,KAAKw8C,YAChDx8C,KAAK+wB,cAAc,CAAE,MAAS1vB,IAAS,IACnCgtC,EAASjpC,SAAWpF,KAAKqB,MAAM+D,QAC5BpF,KAAKqB,MAAM,KAAOgtC,EAAS,IAAMruC,KAAKqB,MAAM,KAAOgtC,EAAS,MAC/DruC,KAAKyW,QAAQutC,EAAWhkD,KAAK2sC,gBAAgBqX,EAAWrhD,IACxD3C,KAAKikD,eAAeD,EAAWhkD,KAAKqB,QAExCrB,KAAKm8C,iBAAiBn8C,KAAKm7C,aAE/Bn7C,KAAKwiC,YAAYnhC,MAAQrB,KAAKqB,MAAMunB,YAExC2tB,EAAO1xC,UAAU8nC,gBAAkB,SAAUqX,EAAWrhD,GACpD,IAAI4T,EAsBJ,OArBIvW,KAAKk7B,QAAQmd,WAAar4C,KAAKi8C,YAC1B,kBAAej8C,KAAKqV,kBACrBrV,KAAK87C,eAETvlC,EAAY,CACRlV,MAAOrB,KAAKqB,MACZurC,cAA6B,WAAdoX,EAAyBhkD,KAAKq5C,YAAcr5C,KAAKu5C,gBAChEzrC,OAAQk2C,EAAW/oC,KAAMjb,KAAKi8C,WAAWxtB,QAASmL,cAAc,eAAkBj3B,KAItF4T,EAAY,CACRlV,MAAOrB,KAAKqB,MACZurC,cAA6B,WAAdoX,EAAyBhkD,KAAKq5C,YAAcr5C,KAAKu5C,gBAChEzrC,OAAQk2C,EAAW/oC,KAAM,eAAkBjb,KAAKm3C,gBAAgBlO,QAAUjpC,KAAKqB,MAAMunB,WAClE,UAAd5oB,KAAKyb,KAAmBzb,KAAKy3C,aAAaz3C,KAAKqB,MAAOrB,KAAKm3C,iBAAiBM,aACxEz3C,KAAKy3C,aAAaz3C,KAAKqB,MAAM,GAAIrB,KAAKm3C,iBAAiBM,aAAe,MACnEz3C,KAAKy3C,aAAaz3C,KAAKqB,MAAM,GAAIrB,KAAKm3C,iBAAiBM,aACnE7d,cAAc,eAAkBj3B,IAGjC4T,GAEXggC,EAAO1xC,UAAUo/C,eAAiB,SAAUD,EAAW3iD,GACjC,WAAd2iD,EACAhkD,KAAKq5C,YAAch4C,EAGnBrB,KAAKu5C,gBAAkBl4C,GAG/Bk1C,EAAO1xC,UAAUk/C,iBAAmB,WAChC,IAAIL,EAAS1jD,KAAKqB,MAAMunB,WAAWvS,MAAM,KAAK3T,IAAIwnC,QAuBlD,GAtBKlqC,KAAK2H,WAAkC,aAArB3H,KAAKg6C,aAA+Bh6C,KAAK+yC,IAC5D/yC,KAAKqB,MAAQ,CAACqiD,EAAO,GAAIA,EAAO,IAGhC1jD,KAAKqB,MAAQ,CAACqiD,EAAO,GAAIA,EAAO,IAEhC1jD,KAAK2H,WAAkC,aAArB3H,KAAKg6C,aACvBh6C,KAAKs8C,WAAat8C,KAAKs5C,iBAAiBt5C,KAAKqB,MAAM,IACnDrB,KAAKw8C,WAAax8C,KAAKs5C,iBAAiBt5C,KAAKqB,MAAM,MAGnDrB,KAAKs8C,WAAat8C,KAAKs5C,iBAAiBt5C,KAAKqB,MAAM,IACnDrB,KAAKw8C,WAAax8C,KAAKs5C,iBAAiBt5C,KAAKqB,MAAM,KAEvDrB,KAAKi7C,WAAaj7C,KAAK+iD,oBAAoB/iD,KAAKs8C,YAChDt8C,KAAK6iD,WAAa7iD,KAAK+iD,oBAAoB/iD,KAAKw8C,YAC5Cx8C,KAAKi7C,WAAaj7C,KAAK6iD,aACvB7iD,KAAKi7C,WAAaj7C,KAAK6iD,WACvB7iD,KAAKs8C,WAAat8C,KAAKw8C,YAE3Bx8C,KAAKyjD,cAAgBzjD,KAAKi7C,WAC1Bj7C,KAAKkkD,cAAgBlkD,KAAK6iD,WACtB7iD,KAAKi2C,OAAO3U,QAAS,CACrBthC,KAAKoiD,aAAe,EACpB,IAAI+B,EAAWnkD,KAAKqiD,yBAAyBriD,KAAKs8C,WAAYt8C,KAAKi2C,OAAOqM,SAAUtiD,KAAKi2C,OAAOsM,QAChGviD,KAAKs8C,WAAa6H,EAAS,GAC3BnkD,KAAKi7C,WAAakJ,EAAS,GAC3BnkD,KAAKyjD,cAAgBzjD,KAAKi7C,WAC1Bj7C,KAAKoiD,aAAe,EACpB+B,EAAWnkD,KAAKqiD,yBAAyBriD,KAAKw8C,WAAYx8C,KAAKi2C,OAAOuM,SAAUxiD,KAAKi2C,OAAOwM,QAC5FziD,KAAKw8C,WAAa2H,EAAS,GAC3BnkD,KAAK6iD,WAAasB,EAAS,GAC3BnkD,KAAKkkD,cAAgBlkD,KAAK6iD,aAGlCtM,EAAO1xC,UAAUk+C,oBAAsB,SAAU1hD,GAC7C,IAAIiZ,EAiBJ,OAhBAjZ,EAAS,KACJA,EAASsd,WAAW,eAAW3e,KAAKiqC,QAAatrB,WAAW,eAAW3e,KAAKmqC,MAAUxrB,WAAW,eAAW3e,KAAKiqC,OAElH3vB,EADqB,eAArBta,KAAKg6C,YACCh6C,KAAK6G,QAAQoc,wBAAwB3U,OAASjN,EAAQ,KAGtDrB,KAAK6G,QAAQoc,wBAAwB3R,QAAUjQ,EAAQ,KAE3Dsd,WAAW,eAAW3e,KAAKmqC,QAAYxrB,WAAW,eAAW3e,KAAKiqC,QAEhE3vB,EADqB,eAArBta,KAAKg6C,YACCh6C,KAAK6G,QAAQoc,wBAAwB3U,MAGrCtO,KAAK6G,QAAQoc,wBAAwB3R,QAG5CgJ,GAEXi8B,EAAO1xC,UAAUy0C,iBAAmB,SAAUj4C,GAI1C,GAHIrB,KAAKiqC,IAAMjqC,KAAKmqC,MAChBnqC,KAAKiqC,IAAMjqC,KAAKmqC,KAEhBnqC,KAAKiqC,MAAQjqC,KAAKmqC,IAClB,OAAQxrB,WAAW,eAAW3e,KAAKmqC,MAEvC,IAAIwM,EAAS32C,KAAKokD,eAOlB,OANI/iD,EAAQs1C,EAAOvpC,MACf/L,EAAQs1C,EAAOvpC,MAEV/L,EAAQs1C,EAAO3hC,MACpB3T,EAAQs1C,EAAO3hC,KAEZ3T,GAMXk1C,EAAO1xC,UAAUsxB,WAAa,WAC1B,IAAIlrB,EAAQjL,KACZA,KAAKk6C,YAAYzyC,MAAMivC,WAAa,OAClB,YAAd12C,KAAKyb,OACLzb,KAAKmzC,SAAS1rC,MAAMivC,WAAa,QAEnB,UAAd12C,KAAKyb,OACLzb,KAAKm6C,aAAa1yC,MAAMivC,WAAa,QAEzC12C,KAAKi7C,WAAaj7C,KAAK+iD,oBAAoB/iD,KAAKs8C,YAC5Ct8C,KAAKw8C,aACLx8C,KAAK6iD,WAAa7iD,KAAK+iD,oBAAoB/iD,KAAKw8C,aAE3B,eAArBx8C,KAAKg6C,aACLh6C,KAAK2H,UAAY3H,KAAKk6C,YAAYzyC,MAAMuf,MACpChnB,KAAKi7C,WAAa,KAAOj7C,KAAKk6C,YAAYzyC,MAAMsf,KAAO/mB,KAAKi7C,WAAa,KACzEj7C,KAAK+5C,oBACL/5C,KAAK2H,UAAY3H,KAAKy6C,eAAehzC,MAAMuf,MACvChnB,KAAKi7C,WAAa,KAAOj7C,KAAKy6C,eAAehzC,MAAMsf,KAAO/mB,KAAKi7C,WAAa,MAElE,aAAdj7C,KAAKyb,MACLzb,KAAK2H,UAAa3H,KAAKmzC,SAAS1rC,MAAMuf,MAAQ,MAAUhnB,KAAKmzC,SAAS1rC,MAAMsf,KAAO,MACnF,eAAkB/mB,KAAKmzC,SAAU,CAAE,MAAS,eAAkBnzC,KAAKi7C,YAAc,EAAIj7C,KAAKi7C,WAAa,QAEpF,UAAdj7C,KAAKyb,OACVzb,KAAK2H,UAAY3H,KAAKm6C,aAAa1yC,MAAMuf,MACrChnB,KAAK6iD,WAAa,KAAO7iD,KAAKm6C,aAAa1yC,MAAMsf,KAAO/mB,KAAK6iD,WAAa,KAC9E7iD,KAAK2H,UAAa3H,KAAKmzC,SAAS1rC,MAAMuf,MAClChnB,KAAKi7C,WAAa,KAASj7C,KAAKmzC,SAAS1rC,MAAMsf,KAAO/mB,KAAKi7C,WAAa,KAC5E,eAAkBj7C,KAAKmzC,SAAU,CAAE,MAASnzC,KAAK6iD,WAAa7iD,KAAKi7C,WAAa,UAIpFj7C,KAAKk6C,YAAYzyC,MAAMyb,OAASljB,KAAKi7C,WAAa,KAC9Cj7C,KAAK+5C,oBACL/5C,KAAKy6C,eAAehzC,MAAMyb,OAASljB,KAAKi7C,WAAa,MAEvC,aAAdj7C,KAAKyb,MACLzb,KAAKmzC,SAAS1rC,MAAMyb,OAAS,MAC7B,eAAkBljB,KAAKmzC,SAAU,CAAE,OAAU,eAAkBnzC,KAAKi7C,YAAc,EAAIj7C,KAAKi7C,WAAa,QAErF,UAAdj7C,KAAKyb,OACVzb,KAAKm6C,aAAa1yC,MAAMyb,OAASljB,KAAK6iD,WAAa,KACnD7iD,KAAKmzC,SAAS1rC,MAAMyb,OAASljB,KAAKi7C,WAAa,KAC/C,eAAkBj7C,KAAKmzC,SAAU,CAAE,OAAUnzC,KAAK6iD,WAAa7iD,KAAKi7C,WAAa,SAGrFj7C,KAAKi2C,OAAO3U,SACZthC,KAAKw5C,cAEoB,SAAzBx5C,KAAKw3C,MAAMiC,WAAwBz5C,KAAKqsB,KACnC,mBACDrsB,KAAKqkD,cAAcrkD,KAAKqsB,IACxBrsB,KAAKqsB,QAAK0O,GAEd/6B,KAAK05C,cACD,kBACA15C,KAAK2hD,qBAGb3hD,KAAKg7C,cACAh7C,KAAKk7B,QAAQmd,WACd9sC,YAAW,WACPN,EAAMivC,YAAYzyC,MAAMivC,WAAazrC,EAAM4rC,eACxB,UAAf5rC,EAAMwQ,OACNxQ,EAAMkvC,aAAa1yC,MAAMivC,WAAazrC,EAAM4rC,mBAInD,kBAAe72C,KAAKqV,kBACrBrV,KAAK49C,eAAe59C,KAAKg+C,eAE7Bh+C,KAAK67C,eAETtF,EAAO1xC,UAAUo6C,kBAAoB,SAAU59C,GAC3C,IAAI6a,EAAW,KACW,IAAtBlc,KAAKoiD,cACCpiD,KAAKi2C,OAAO3U,SAAWthC,KAAKi2C,OAAOqO,mBACrCtkD,KAAKs8C,WAAat8C,KAAKs5C,iBAAiBj4C,GACxCrB,KAAKi7C,WAAaj7C,KAAK+iD,oBAAoB/iD,KAAKs8C,YAC9B,UAAdt8C,KAAKyb,MAAoBzb,KAAKi7C,WAAaj7C,KAAK6iD,aAChD7iD,KAAKi7C,WAAaj7C,KAAK6iD,WACvB7iD,KAAKs8C,WAAat8C,KAAKw8C,YAEvBx8C,KAAKi7C,aAAej7C,KAAKyjD,gBACzBvnC,EAAWlc,KAAKyjD,cAAgBzjD,KAAKi7C,aAG7Cj7C,KAAK8jD,iBAGC9jD,KAAKi2C,OAAO3U,SAAWthC,KAAKi2C,OAAOsO,iBACrCvkD,KAAKw8C,WAAax8C,KAAKs5C,iBAAiBj4C,GACxCrB,KAAK6iD,WAAa7iD,KAAK+iD,oBAAoB/iD,KAAKw8C,YAC9B,UAAdx8C,KAAKyb,MAAoBzb,KAAK6iD,WAAa7iD,KAAKi7C,aAChDj7C,KAAK6iD,WAAa7iD,KAAKi7C,WACvBj7C,KAAKw8C,WAAax8C,KAAKs8C,YAEvBt8C,KAAK6iD,aAAe7iD,KAAKkkD,gBACzBhoC,EAAWlc,KAAKkkD,cAAgBlkD,KAAK6iD,aAG7C7iD,KAAK8jD,gBAEQ,OAAb5nC,IACkB,YAAdlc,KAAKyb,MACLzb,KAAK4iD,cAET5iD,KAAK2jD,kBAAkB,QAG/BpN,EAAO1xC,UAAUu/C,aAAe,WAC5B,OAAIpkD,KAAKiqC,IAAMjqC,KAAKmqC,IACT,CACH/8B,MAAOpN,KAAKmqC,IACZn1B,IAAKhV,KAAKiqC,KAIP,CACH78B,MAAOpN,KAAKiqC,IACZj1B,IAAKhV,KAAKmqC,MAItBoM,EAAO1xC,UAAU2/C,aAAe,SAAUtoC,GACtC,IAAI5B,EACJ,GAAIta,KAAKiqC,MAAQjqC,KAAKmqC,IAClB,OAAO,IAEX,GAAyB,eAArBnqC,KAAKg6C,YAA8B,CACnC,IAAIjzB,EAAO7K,EAASmf,EAAIr7B,KAAK6G,QAAQoc,wBAAwB8D,KACzD09B,EAAMzkD,KAAK6G,QAAQ6B,YAAc,IACrC1I,KAAK8Y,IAAOiO,EAAO09B,MAElB,CACD,IAAIC,EAAQxoC,EAASof,EAAIt7B,KAAK6G,QAAQoc,wBAAwBjJ,IAC1DyqC,EAAMzkD,KAAK6G,QAAQmJ,aAAe,IACtChQ,KAAK8Y,IAAM,IAAO4rC,EAAQD,EAE9B,IAAI3rC,EAAM9Y,KAAK2kD,qBAAqB3kD,KAAK8Y,KAgBzC,OAfIA,EAAM,EACNA,EAAM,EAEDA,EAAM,MACXA,EAAM,KAEN9Y,KAAK2H,WAAkC,aAArB3H,KAAKg6C,cACvBlhC,EAAM,IAAMA,GAGZwB,EADqB,eAArBta,KAAKg6C,YACCh6C,KAAK6G,QAAQoc,wBAAwB3U,OAASwK,EAAM,KAGpD9Y,KAAK6G,QAAQoc,wBAAwB3R,QAAUwH,EAAM,KAExDwB,GAEXi8B,EAAO1xC,UAAU8/C,qBAAuB,SAAUtjD,GAC5B,IAAdrB,KAAKsN,OACLtN,KAAKsN,KAAO,GAEhB,IAAIs3C,EAAejmC,WAAW,eAAW3e,KAAKsN,SAAYqR,WAAW,eAAW3e,KAAKmqC,MAAQxrB,WAAW,eAAW3e,KAAKiqC,OAAS,KAC7H4a,EAASxjD,EAAQkM,KAAK4yC,IAAIyE,GAS9B,OARe,IAAXC,IACKD,EAAc,EAAKC,EACpBxjD,GAASwjD,EAGTxjD,GAASkM,KAAK4yC,IAAIyE,GAAeC,GAGlCxjD,GAEXk1C,EAAO1xC,UAAUgD,IAAM,SAAUggB,EAAGxjB,EAAGygD,GACnC,IAAI/V,EAEAj2B,EADAuiB,EAAI9tB,KAAK0hC,IAAI,GAAIF,GAAa,GAQlC,OALIj2B,EADAgsC,GACOv3C,KAAK2hC,MAAMrnB,EAAIwT,GAAK9tB,KAAK2hC,MAAM7qC,EAAIg3B,IAAMA,GAGzC9tB,KAAK2hC,MAAMrnB,EAAIwT,GAAK9tB,KAAK2hC,MAAM7qC,EAAIg3B,IAAMA,EAE7CviB,GAEXy9B,EAAO1xC,UAAUkgD,gBAAkB,SAAUzqC,GACzC,IAAIxB,EACAksC,EAAOrmC,WAAW,eAAW3e,KAAKmqC,MAAQxrB,WAAW,eAAW3e,KAAKiqC,MAErEnxB,EADqB,eAArB9Y,KAAKg6C,YACE1/B,EAAMta,KAAK6G,QAAQoc,wBAAwB3U,MAAS02C,EAGpD1qC,EAAMta,KAAK6G,QAAQoc,wBAAwB3R,OAAU0zC,EAEhE,IAAIC,EAAQjlD,KAAK6H,IAAIiR,EAAK6F,WAAW3e,KAAKiqC,IAAIrhB,aAAa,GAC3D,OAAO,GAEX2tB,EAAO1xC,UAAU22C,eAAiB,SAAU5iB,GAExC,IAAIte,EADJse,EAAI5sB,iBAEa,cAAb4sB,EAAInd,MAAqC,YAAbmd,EAAInd,MAAmC,UAAbmd,EAAInd,KAC1DnB,EAAM,CAAE+gB,EAAGzC,EAAIgZ,QAAStW,EAAG1C,EAAIiZ,SAEb,aAAbjZ,EAAInd,MAAoC,eAAbmd,EAAInd,OACpCnB,EAAM,CAAE+gB,EAAGzC,EAAIssB,eAAe,GAAGtT,QAAStW,EAAG1C,EAAIssB,eAAe,GAAGrT,UAEvE,IAAIsT,EAAYnlD,KAAKwkD,aAAalqC,GAC9B8qC,EAAYplD,KAAK+kD,gBAAgBI,GACrC,GAAkB,UAAdnlD,KAAKyb,MAAqBzb,KAAK6iD,WAAasC,EAAcA,EAAYnlD,KAAKi7C,WAAa,CAExF,GADAj7C,KAAKoiD,aAAe,GACdpiD,KAAKi2C,OAAO3U,UAAWthC,KAAKi2C,OAAOsO,eAAiB,CACtD,GAAIvkD,KAAKi2C,OAAO3U,QAAS,CACrB,IAAIjgC,EAAQrB,KAAKqiD,yBAAyB+C,EAAWplD,KAAKi2C,OAAOuM,SAAUxiD,KAAKi2C,OAAOwM,QACvF2C,EAAY/jD,EAAM,GAClB8jD,EAAY9jD,EAAM,GAEtBrB,KAAKm6C,aAAavyC,UAAUC,IAAI,GAAW8tC,oBAC3C31C,KAAK6iD,WAAa7iD,KAAKkkD,cAAgBiB,EACvCnlD,KAAKw8C,WAAa4I,EAEtBplD,KAAK8jD,eACL9jD,KAAKm6C,aAAalhC,YAEjB,CAED,GADAjZ,KAAKoiD,aAAe,GACdpiD,KAAKi2C,OAAO3U,UAAWthC,KAAKi2C,OAAOqO,iBAAmB,CACxD,GAAItkD,KAAKi2C,OAAO3U,QAAS,CACjBjgC,EAAQrB,KAAKqiD,yBAAyB+C,EAAWplD,KAAKi2C,OAAOqM,SAAUtiD,KAAKi2C,OAAOsM,QACvF6C,EAAY/jD,EAAM,GAClB8jD,EAAY9jD,EAAM,GAEtBrB,KAAKk6C,YAAYtyC,UAAUC,IAAI,GAAW8tC,oBAC1C31C,KAAKi7C,WAAaj7C,KAAKyjD,cAAgB0B,EACvCnlD,KAAKs8C,WAAa8I,EAEtBplD,KAAK8jD,eACL9jD,KAAKk6C,YAAYjhC,QAEjBjZ,KAAK+5C,mBACL/5C,KAAKs4C,eAAe1wC,UAAUC,IAAI,GAAW0sC,uBAEjD,IAAI8Q,EAAiBrlD,KAAK6G,QAAQgG,cAAc,IAAM,GAAWooC,iBAC7DoQ,GAAkBrlD,KAAKm7C,cAAgBkK,GACvCA,EAAez9C,UAAU+B,OAAO,GAAWsrC,iBAE/C,IAAI0B,EAA+B,IAAtB32C,KAAKoiD,aAAqBpiD,KAAKk6C,YAAcl6C,KAAKm6C,aAC/D,GAAIvhB,EAAIn3B,SAAWk1C,EAMf,OALI32C,KAAK45C,YAAe55C,KAAKk7B,QAAQmd,WAChCr4C,KAAKm7C,YAAYvzC,UAAU0E,SAAS,GAAW2oC,kBAChDj1C,KAAKq/C,sBAETr/C,KAAKo7C,cAAcp7C,KAAKm7C,aAG5B,GAAKn7C,KAAKslD,mBAAmBF,GAA7B,CAGA,IAAI1O,EAAa12C,KAAK45C,YAAc55C,KAAKk7B,QAAQmd,UAC7Cr4C,KAAK42C,4BAA8B52C,KAAK02C,WAC5C12C,KAAKm7C,YAAY1zC,MAAMivC,WAAaA,EAAWC,OAC7B,YAAd32C,KAAKyb,OACLzb,KAAKmzC,SAAS1rC,MAAMivC,WAAaA,EAAWvD,UAEhDnzC,KAAK2jD,kBAAkB/qB,GACL,YAAd54B,KAAKyb,MACLzb,KAAK4iD,gBAGbrM,EAAO1xC,UAAU0gD,kBAAoB,SAAUC,EAAaC,EAAaC,GAChD,IAAjBA,GACA1lD,KAAKs8C,WAAamJ,EAClBzlD,KAAKw8C,WAAax8C,KAAKs8C,WAAat8C,KAAK2lD,SAEnB,IAAjBD,IACL1lD,KAAKw8C,WAAaiJ,EAClBzlD,KAAKs8C,WAAat8C,KAAKw8C,WAAax8C,KAAK2lD,SAE7C3lD,KAAKi7C,WAAaj7C,KAAK+iD,oBAAoB/iD,KAAKs8C,YAChDt8C,KAAK6iD,WAAa7iD,KAAK+iD,oBAAoB/iD,KAAKw8C,aAEpDjG,EAAO1xC,UAAU+gD,iBAAmB,SAAU70C,GAC1C,IAAIhH,EAAIkrB,EAKJ3a,EAIAurC,EACAC,EAOJ,GAhBmB,cAAf/0C,EAAM0K,MACN1K,EAAM/E,iBAEVhM,KAAK+lD,iBAAkB,EAEvB/lD,KAAKmzC,SAAS1rC,MAAMivC,WAAa,OACjC12C,KAAKk6C,YAAYzyC,MAAMivC,WAAa,OACpC12C,KAAKm6C,aAAa1yC,MAAMivC,WAAa,OAGlB,cAAf3lC,EAAM0K,MACN1R,EAAK,CAACgH,EAAM6gC,QAAS7gC,EAAM8gC,SAAUgU,EAAW97C,EAAG,GAAI+7C,EAAW/7C,EAAG,KAGrEkrB,EAAK,CAAClkB,EAAMm0C,eAAe,GAAGtT,QAAS7gC,EAAMm0C,eAAe,GAAGrT,SAAUgU,EAAW5wB,EAAG,GAAI6wB,EAAW7wB,EAAG,MAEvGj1B,KAAKi2C,OAAO3U,UAAWthC,KAAKi2C,OAAOqO,qBAAuBtkD,KAAKi2C,OAAO3U,UAAWthC,KAAKi2C,OAAOsO,gBAAiB,CAiBhH,GAZIjqC,EAJCta,KAAK2H,UAIA,CAAE0zB,EAAGwqB,EAAW7lD,KAAKgmD,iBAAkB1qB,EAAGwqB,EAAW9lD,KAAKgmD,kBAH1D,CAAE3qB,EAAGwqB,EAAW7lD,KAAKimD,gBAAiB3qB,EAAGwqB,EAAW9lD,KAAKgmD,kBAKnEhmD,KAAKi7C,WAAaj7C,KAAKwkD,aAAalqC,GACpCta,KAAKs8C,WAAat8C,KAAK+kD,gBAAgB/kD,KAAKi7C,YAKxC3gC,EAJCta,KAAK2H,UAIA,CAAE0zB,EAAGwqB,EAAW7lD,KAAKimD,gBAAiB3qB,EAAGwqB,EAAW9lD,KAAKimD,iBAHzD,CAAE5qB,EAAGwqB,EAAW7lD,KAAKgmD,iBAAkB1qB,EAAGwqB,EAAW9lD,KAAKimD,iBAKpEjmD,KAAK6iD,WAAa7iD,KAAKwkD,aAAalqC,GACpCta,KAAKw8C,WAAax8C,KAAK+kD,gBAAgB/kD,KAAK6iD,YACxC7iD,KAAKi2C,OAAO3U,QAAS,CACrB,IAAIjgC,EAAQrB,KAAKqiD,yBAAyBriD,KAAKs8C,WAAYt8C,KAAKi2C,OAAOqM,SAAUtiD,KAAKi2C,OAAOsM,QAC7FviD,KAAKs8C,WAAaj7C,EAAM,GACxBrB,KAAKi7C,WAAa55C,EAAM,GACpBrB,KAAKs8C,aAAet8C,KAAKi2C,OAAOsM,QAChCviD,KAAKulD,kBAAkBvlD,KAAKs8C,WAAYt8C,KAAKi2C,OAAOsM,OAAQ,GAE5DviD,KAAKs8C,aAAet8C,KAAKi2C,OAAOqM,UAChCtiD,KAAKulD,kBAAkBvlD,KAAKs8C,WAAYt8C,KAAKi2C,OAAOqM,SAAU,GAElEjhD,EAAQrB,KAAKqiD,yBAAyBriD,KAAKw8C,WAAYx8C,KAAKi2C,OAAOuM,SAAUxiD,KAAKi2C,OAAOwM,QACzFziD,KAAKw8C,WAAan7C,EAAM,GACxBrB,KAAK6iD,WAAaxhD,EAAM,GACpBrB,KAAKw8C,aAAex8C,KAAKi2C,OAAOuM,UAChCxiD,KAAKulD,kBAAkBvlD,KAAKw8C,WAAYx8C,KAAKi2C,OAAOuM,SAAU,GAE9DxiD,KAAKw8C,aAAex8C,KAAKi2C,OAAOwM,QAChCziD,KAAKulD,kBAAkBvlD,KAAKw8C,WAAYx8C,KAAKi2C,OAAOwM,OAAQ,GAGhEziD,KAAKw8C,aAAex8C,KAAKmqC,KACzBnqC,KAAKulD,kBAAkBvlD,KAAKw8C,WAAYx8C,KAAKmqC,IAAK,GAElDnqC,KAAKs8C,aAAet8C,KAAKiqC,KACzBjqC,KAAKulD,kBAAkBvlD,KAAKs8C,WAAYt8C,KAAKiqC,IAAK,GAG1DjqC,KAAKoiD,aAAe,EACpBpiD,KAAK2jD,kBAAkB5yC,GACvB/Q,KAAKoiD,aAAe,EACpBpiD,KAAK2jD,kBAAkB5yC,GACvB/Q,KAAKo7C,cAAcp7C,KAAKmzC,UACxBnzC,KAAK4iD,eAETrM,EAAO1xC,UAAU62C,YAAc,SAAU3qC,GACrC/Q,KAAKu/C,YAAY,UAAWxuC,GAC5B/Q,KAAKs7C,iBACLt7C,KAAKk6C,YAAYtyC,UAAU+B,OAAO,GAAWgsC,oBAC3B,UAAd31C,KAAKyb,MACLzb,KAAKm6C,aAAavyC,UAAU+B,OAAO,GAAWgsC,oBAElD31C,KAAKq7C,eACDr7C,KAAK45C,aACL55C,KAAKm7C,YAAYvzC,UAAU+B,OAAO,sBAC9B3J,KAAK+5C,mBACL/5C,KAAKs4C,eAAe1wC,UAAU+B,OAAO,GAAW4qC,wBAGxD,OAAa5qC,OAAOwL,SAAU,sBAAuBnV,KAAKy7C,eAC1D,OAAa9xC,OAAOwL,SAAU,mBAAoBnV,KAAK07C,cAE3DnF,EAAO1xC,UAAU42C,cAAgB,SAAU7iB,GAIvC,IAAIte,EAHa,cAAbse,EAAInd,MACJmd,EAAI5sB,iBAIJsO,EADa,cAAbse,EAAInd,KACE,CAAE4f,EAAGzC,EAAIgZ,QAAStW,EAAG1C,EAAIiZ,SAGzB,CAAExW,EAAGzC,EAAIssB,eAAe,GAAGtT,QAAStW,EAAG1C,EAAIssB,eAAe,GAAGrT,SAEvE,IAAIsT,EAAYnlD,KAAKwkD,aAAalqC,GAC9B8qC,EAAYplD,KAAK+kD,gBAAgBI,GAErC,GADAA,EAAY53C,KAAK2hC,MAAMiW,GACL,UAAdnlD,KAAKyb,MAA0C,IAAtBzb,KAAKoiD,aAAoB,CAClD,IAAMpiD,KAAKi2C,OAAO3U,UAAWthC,KAAKi2C,OAAOqO,iBAAmB,CACxD,GAAItkD,KAAKi2C,OAAO3U,QAAS,CACrB,IAAI4kB,EAAkBlmD,KAAKqiD,yBAAyB+C,EAAWplD,KAAKi2C,OAAOqM,SAAUtiD,KAAKi2C,OAAOsM,QACjG4C,EAAYe,EAAgB,GAC5Bd,EAAYc,EAAgB,GAEhClmD,KAAKi7C,WAAakK,EAClBnlD,KAAKs8C,WAAa8I,EAEtBplD,KAAKk6C,YAAYtyC,UAAUC,IAAI,GAAW8tC,oBAE9C,GAAkB,UAAd31C,KAAKyb,KACL,GAA0B,IAAtBzb,KAAKoiD,cAEL,GADApiD,KAAKk6C,YAAYtyC,UAAUC,IAAI,GAAW8tC,sBACpC31C,KAAKi2C,OAAO3U,UAAWthC,KAAKi2C,OAAOqO,oBACjCa,EAAYnlD,KAAK6iD,aACjBsC,EAAYnlD,KAAK6iD,WACjBuC,EAAYplD,KAAKw8C,YAEjB2I,IAAcnlD,KAAKyjD,eAAe,CAClC,GAAIzjD,KAAKi2C,OAAO3U,QAAS,CACrB,IAAIjgC,EAAQrB,KAAKqiD,yBAAyB+C,EAAWplD,KAAKi2C,OAAOqM,SAAUtiD,KAAKi2C,OAAOsM,QACvF6C,EAAY/jD,EAAM,GAClB8jD,EAAY9jD,EAAM,GAEtBrB,KAAKi7C,WAAaj7C,KAAKyjD,cAAgB0B,EACvCnlD,KAAKs8C,WAAa8I,EAClBplD,KAAKoiD,aAAe,QAI3B,GAA0B,IAAtBpiD,KAAKoiD,eACVpiD,KAAKm6C,aAAavyC,UAAUC,IAAI,GAAW8tC,sBACrC31C,KAAKi2C,OAAO3U,UAAWthC,KAAKi2C,OAAOsO,kBACjCY,EAAYnlD,KAAKi7C,aACjBkK,EAAYnlD,KAAKi7C,WACjBmK,EAAYplD,KAAKs8C,YAEjB6I,IAAcnlD,KAAKkkD,gBAAe,CAClC,GAAIlkD,KAAKi2C,OAAO3U,QAAS,CACjBjgC,EAAQrB,KAAKqiD,yBAAyB+C,EAAWplD,KAAKi2C,OAAOuM,SAAUxiD,KAAKi2C,OAAOwM,QACvF2C,EAAY/jD,EAAM,GAClB8jD,EAAY9jD,EAAM,GAEtBrB,KAAK6iD,WAAa7iD,KAAKkkD,cAAgBiB,EACvCnlD,KAAKw8C,WAAa4I,EAClBplD,KAAKoiD,aAAe,EAK/BpiD,KAAKslD,mBAAmBF,KAG7BplD,KAAKm7C,YAAY1zC,MAAMivC,WAAa12C,KAAK62C,eACvB,YAAd72C,KAAKyb,OACLzb,KAAKmzC,SAAS1rC,MAAMivC,WAAa,QAErC12C,KAAK2jD,kBAAkB/qB,IACnB54B,KAAK45C,YAAe55C,KAAKk7B,QAAQmd,WAChCr4C,KAAKm7C,YAAYvzC,UAAU0E,SAAS,GAAW2oC,kBAChDj1C,KAAKq/C,iBAETr/C,KAAKo7C,cAAcp7C,KAAKm7C,aACN,YAAdn7C,KAAKyb,MACLzb,KAAK4iD,gBAGbrM,EAAO1xC,UAAUshD,eAAiB,SAAUp1C,GACnC/Q,KAAK+lD,kBACN/lD,KAAKu7C,qBACLv7C,KAAKw7C,eAAezqC,IAExB/Q,KAAKu/C,YAAY,UAAWxuC,GAC5B/Q,KAAKq7C,eACL,OAAa1xC,OAAOwL,SAAU,sBAAuBnV,KAAK4lD,kBAC1D,OAAaj8C,OAAOwL,SAAU,mBAAoBnV,KAAKmmD,gBACvDnmD,KAAK+lD,iBAAkB,GAE3BxP,EAAO1xC,UAAUygD,mBAAqB,SAAU/B,GAC5C,GAAkB,UAAdvjD,KAAKyb,KAAkB,CACvB,IAAI49B,EAAcr5C,KAAK2H,WAAkC,aAArB3H,KAAKg6C,YAAoD,IAAtBh6C,KAAKoiD,aACxEpiD,KAAKq5C,YAAY,GAAKr5C,KAAKq5C,YAAY,GAChB,IAAtBr5C,KAAKoiD,aAAqBpiD,KAAKq5C,YAAY,GAAKr5C,KAAKq5C,YAAY,GACtE,GAAIkK,IAAiBlK,EACjB,OAAO,OAIX,GAAIkK,IAAiBvjD,KAAKq5C,YACtB,OAAO,EAGf,OAAO,GAEX9C,EAAO1xC,UAAU+4C,eAAiB,SAAUn8C,GACpCzB,KAAKk7B,QAAQmd,WAAar4C,KAAKi8C,aAC/Bj8C,KAAK87C,eACDr6C,IACAzB,KAAKi8C,WAAW/wB,QAAQzpB,GACxBzB,KAAKg+C,cAAgBv8C,KAIjC80C,EAAO1xC,UAAU89C,YAAc,SAAUlhD,GACjCzB,KAAKk7B,QAAQmd,WAAar4C,KAAKi8C,aAAej8C,KAAK+5C,oBACnD/5C,KAAK87C,eACL97C,KAAKi8C,WAAWh6B,KAAKxgB,GACrBzB,KAAKg+C,cAAgBv8C,IAG7B80C,EAAO1xC,UAAUw2C,aAAe,WACxBr7C,KAAKk7B,QAAQmd,WAAar4C,KAAKi8C,YAAsC,WAAxBj8C,KAAKk7B,QAAQqd,SAAwBv4C,KAAK+5C,oBACvF/5C,KAAK87C,eACL97C,KAAKi8C,WAAW/5B,QAChBliB,KAAKg+C,mBAAgBjjB,IAG7Bwb,EAAO1xC,UAAUo4B,QAAU,SAAUlsB,GACjC,OAAQA,EAAM6G,SACV,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACD7G,EAAM/E,iBACNhM,KAAKm/C,YAAYpuC,GACjB,QAGZwlC,EAAO1xC,UAAUuhD,cAAgB,SAAU18C,GAClCA,GAWD,OAAaC,OAAO3J,KAAKw+C,SAAU,wBAAyBx+C,KAAK4+C,gBACjE,OAAaj1C,OAAO3J,KAAKy+C,UAAW,wBAAyBz+C,KAAK4+C,gBAClE,OAAaj1C,OAAO3J,KAAKw+C,SAAU,uBAAwBx+C,KAAKk/C,oBAChE,OAAav1C,OAAO3J,KAAKw+C,SAAU,sCAAuCx+C,KAAKs/C,iBAC/E,OAAa31C,OAAO3J,KAAKy+C,UAAW,uBAAwBz+C,KAAKk/C,oBACjE,OAAav1C,OAAO3J,KAAKy+C,UAAW,sCAAuCz+C,KAAKs/C,iBAChF,OAAa31C,OAAO3J,KAAKw+C,SAAU,WAAYx+C,KAAKqmD,gBACpD,OAAa18C,OAAO3J,KAAKy+C,UAAW,WAAYz+C,KAAKqmD,kBAjBrD,OAAax+C,IAAI7H,KAAKw+C,SAAU,wBAAyBx+C,KAAK4+C,eAAgB5+C,MAC9E,OAAa6H,IAAI7H,KAAKy+C,UAAW,wBAAyBz+C,KAAK4+C,eAAgB5+C,MAC/E,OAAa6H,IAAI7H,KAAKw+C,SAAU,uBAAwBx+C,KAAKk/C,mBAAoBl/C,MACjF,OAAa6H,IAAI7H,KAAKw+C,SAAU,sCAAuCx+C,KAAKs/C,gBAAiBt/C,MAC7F,OAAa6H,IAAI7H,KAAKy+C,UAAW,uBAAwBz+C,KAAKk/C,mBAAoBl/C,MAClF,OAAa6H,IAAI7H,KAAKy+C,UAAW,sCAAuCz+C,KAAKs/C,gBAAiBt/C,MAC9F,OAAa6H,IAAI7H,KAAKw+C,SAAU,WAAYx+C,KAAKqmD,eAAgBrmD,MACjE,OAAa6H,IAAI7H,KAAKy+C,UAAW,WAAYz+C,KAAKqmD,eAAgBrmD,QAa1Eu2C,EAAO1xC,UAAUyhD,kBAAoB,SAAUv1C,GAC3C,IAAIhH,EAAIkrB,EAGR,GAFAlkB,EAAM/E,iBACNhM,KAAKu7C,qBACa,UAAdv7C,KAAKyb,MAAoBzb,KAAK+2C,MAAQhmC,EAAMtP,SAAWzB,KAAKmzC,SAAU,CACtE,IAAI0S,OAAW,EACXC,OAAW,EACI,cAAf/0C,EAAM0K,MACN1R,EAAK,CAACgH,EAAM6gC,QAAS7gC,EAAM8gC,SAAUgU,EAAW97C,EAAG,GAAI+7C,EAAW/7C,EAAG,IAEjD,eAAfgH,EAAM0K,OACXwZ,EAAK,CAAClkB,EAAMm0C,eAAe,GAAGtT,QAAS7gC,EAAMm0C,eAAe,GAAGrT,SAAUgU,EAAW5wB,EAAG,GAAI6wB,EAAW7wB,EAAG,IAEpF,eAArBj1B,KAAKg6C,aACLh6C,KAAKimD,gBAAkBJ,EAAW7lD,KAAKmzC,SAASlwB,wBAAwB8D,KACxE/mB,KAAKgmD,iBAAmBhmD,KAAKmzC,SAASlwB,wBAAwB+D,MAAQ6+B,IAGtE7lD,KAAKimD,gBAAkBH,EAAW9lD,KAAKmzC,SAASlwB,wBAAwBjJ,IACxEha,KAAKgmD,iBAAmBhmD,KAAKmzC,SAASlwB,wBAAwBC,OAAS4iC,GAE3E9lD,KAAK2lD,QAAU3lD,KAAKw8C,WAAax8C,KAAKs8C,WACtCt8C,KAAKo7C,cAAcp7C,KAAKmzC,UACxB,IAAIkS,EAAiBrlD,KAAK6G,QAAQgG,cAAc,IAAM,GAAWooC,iBAC7DoQ,GACAA,EAAez9C,UAAU+B,OAAO,GAAWsrC,iBAE/C,OAAaptC,IAAIsN,SAAU,sBAAuBnV,KAAK4lD,iBAAkB5lD,MACzE,OAAa6H,IAAIsN,SAAU,mBAAoBnV,KAAKmmD,eAAgBnmD,QAG5Eu2C,EAAO1xC,UAAU0hD,aAAe,SAAUx1C,GACtCA,EAAM/E,iBACNhM,KAAKu7C,qBACLv7C,KAAKw7C,eAAezqC,IAExBwlC,EAAO1xC,UAAUmS,WAAa,WAC1BhX,KAAKwmD,SAAWxmD,KAAKm2B,WAAWluB,KAAKjI,MACrCsL,OAAOQ,iBAAiB,SAAU9L,KAAKwmD,UACnCxmD,KAAKshC,UAAYthC,KAAK0hC,WACtB,OAAa75B,IAAI7H,KAAK6G,QAAS,QAAS7G,KAAKumD,aAAcvmD,MACzC,UAAdA,KAAKyb,MAAoBzb,KAAK+2C,MAC9B,OAAalvC,IAAI7H,KAAKmzC,SAAU,uBAAwBnzC,KAAKsmD,kBAAmBtmD,MAEpF,OAAa6H,IAAI7H,KAAKg0C,gBAAiB,UAAWh0C,KAAKi9B,QAASj9B,MAChE,OAAa6H,IAAI7H,KAAKg0C,gBAAiB,QAASh0C,KAAKymD,MAAOzmD,MAC5D,OAAa6H,IAAI7H,KAAK6G,QAAS,WAAY7G,KAAKqmD,eAAgBrmD,MAChE,OAAa6H,IAAI7H,KAAKg0C,gBAAiB,yCAA0Ch0C,KAAK0mD,MAAO1mD,MAC7FA,KAAK06C,oBAAmB,GACN,UAAd16C,KAAKyb,MACLzb,KAAK+6C,qBAAoB,GAEzB/6C,KAAKi5C,aACLj5C,KAAKomD,eAAc,GAEvBpmD,KAAKu9C,0BAAyB,GAC1Bv9C,KAAKq3C,QACL,OAAaxvC,IAAI7H,KAAKmrC,YAAa,QAASnrC,KAAK2mD,iBAAkB3mD,QAI/Eu2C,EAAO1xC,UAAUoQ,aAAe,WAC5B,OAAatL,OAAO3J,KAAK6G,QAAS,QAAS7G,KAAKumD,cAC9B,UAAdvmD,KAAKyb,MAAoBzb,KAAK+2C,MAC9B,OAAaptC,OAAO3J,KAAKmzC,SAAU,uBAAwBnzC,KAAKsmD,mBAEpE,OAAa38C,OAAO3J,KAAKg0C,gBAAiB,UAAWh0C,KAAKi9B,SAC1D,OAAatzB,OAAO3J,KAAKg0C,gBAAiB,QAASh0C,KAAKymD,OACxD,OAAa98C,OAAO3J,KAAK6G,QAAS,WAAY7G,KAAKqmD,gBACnD,OAAa18C,OAAO3J,KAAKg0C,gBAAiB,yCAA0Ch0C,KAAK0mD,OACzF1mD,KAAK06C,oBAAmB,GACN,UAAd16C,KAAKyb,MACLzb,KAAK+6C,qBAAoB,GAEzB/6C,KAAKi5C,aACLj5C,KAAKomD,eAAc,GAEvBpmD,KAAKu9C,0BAAyB,GAC9B,OAAa5zC,OAAO3J,KAAK6G,QAAS,QAAS7G,KAAK2mD,mBAEpDpQ,EAAO1xC,UAAU8hD,iBAAmB,WAChC3mD,KAAK+wB,cAAc,CAAE,MAAS/wB,KAAKs3C,iBAAkB,GACrDt3C,KAAKyiC,YAET8T,EAAO1xC,UAAU4hD,MAAQ,SAAU11C,GAC/B,GAAsB,IAAlBA,EAAM6G,SAAiB7G,EAAMtP,OAAOmG,UAAU0E,SAAS,GAAW4mC,gBAClElzC,KAAKu7C,sBACAxqC,EAAMtP,OAAOmG,UAAU0E,SAAS,GAAW2oC,kBAAkB,CAC1Dj1C,KAAK6G,QAAQgG,cAAc,IAAM,GAAWooC,kBAC5Cj1C,KAAK6G,QAAQgG,cAAc,IAAM,GAAWooC,iBAAiBrtC,UAAU+B,OAAO,GAAWsrC,iBAE7FlkC,EAAMtP,OAAOmG,UAAUC,IAAI,GAAWotC,iBACtC,IAAIx6B,EAAgB1J,EAAMtP,OAAOgZ,cAC7BA,IAAkBza,KAAK6G,UACvB4T,EAAc5N,cAAc,IAAM,GAAW4nC,aAAa7sC,UAAUC,IAAI,GAAW4tC,gBACjE,UAAdz1C,KAAKyb,MAAkC,aAAdzb,KAAKyb,MAC9BhB,EAAc5N,cAAc,IAAM,GAAWsmC,UAAUvrC,UAAUC,IAAI,GAAW6tC,iBAGtE,UAAd11C,KAAKyb,OACJ1K,EAAMtP,OAAsB,gBAAEmG,UAAU0E,SAAS,GAAW4mC,cACzDlzC,KAAKoiD,aAAe,EAAIpiD,KAAKoiD,aAAe,GAEpDpiD,KAAKm7C,YAAYliC,QACjBjZ,KAAKo7C,cAAcp7C,KAAKm7C,aAGhCn7C,KAAKq7C,eACLr7C,KAAKu/C,YAAY,UAAWxuC,IAEhCwlC,EAAO1xC,UAAU6hD,MAAQ,SAAU31C,GAC1B,eAAkBA,KACA,cAAfA,EAAM0K,MAAuC,cAAf1K,EAAM0K,MAAuC,cAAf1K,EAAM0K,MACnD,gBAAf1K,EAAM0K,MAAyC,eAAf1K,EAAM0K,KACtCzb,KAAKg0C,gBAAgBpsC,UAAUC,IAAI,GAAW+rC,aAG9C5zC,KAAKg0C,gBAAgBpsC,UAAU+B,OAAO,GAAWiqC,eAI7D2C,EAAO1xC,UAAUwhD,eAAiB,SAAUt1C,GACpCA,EAAMwrB,gBAAkBv8B,KAAKm6C,cAAgBppC,EAAMwrB,gBAAkBv8B,KAAKk6C,aAC1EnpC,EAAMwrB,gBAAkBv8B,KAAK6G,SAAWkK,EAAMwrB,gBAAkBv8B,KAAKw+C,UAAYztC,EAAMwrB,gBAAkBv8B,KAAKy+C,YAC9Gz+C,KAAK+9C,uBACD/9C,KAAK6G,QAAQgG,cAAc,IAAM,GAAWooC,kBAC5Cj1C,KAAK6G,QAAQgG,cAAc,IAAM,GAAWooC,iBAAiBrtC,UAAU+B,OAAO,GAAWsrC,iBAEzFj1C,KAAK6G,QAAQgG,cAAc,IAAM,GAAW4oC,kBAC5Cz1C,KAAK6G,QAAQgG,cAAc,IAAM,GAAW4oC,gBAAgB7tC,UAAU+B,OAAO,GAAW8rC,gBACrE,UAAdz1C,KAAKyb,MAAkC,aAAdzb,KAAKyb,OAC/Bzb,KAAK6G,QAAQgG,cAAc,IAAM,GAAW6oC,iBAC5C11C,KAAK6G,QAAQgG,cAAc,IAAM,GAAW6oC,gBAAgB9tC,UAAU+B,OAAO,GAAW+rC,iBAGhG11C,KAAKwiC,YAAYvpB,QACjBjZ,KAAKwiC,YAAY4P,OACjBpyC,KAAKg3C,kBAAmB,IAGhCT,EAAO1xC,UAAUw/C,cAAgB,SAAUx9C,GACnCA,EAAQ2hB,YACR3hB,EAAQ2hB,WAAW1S,YAAYjP,IAGvC0vC,EAAO1xC,UAAU+hD,iBAAmB,SAAUnrC,EAAMiN,GAC5C1oB,KAAK+5C,mBAAqB/5C,KAAKy6C,iBAC/Bz6C,KAAKg0C,gBAAgBpsC,UAAU+B,OAAO,GAAW6qC,gBACjDx0C,KAAKqkD,cAAcrkD,KAAKy6C,gBACxBz6C,KAAKy6C,oBAAiB1f,GAE1B/6B,KAAKqkD,cAAcrkD,KAAKk6C,aACxBl6C,KAAKk6C,iBAAcnf,EACN,YAATtf,IACa,UAATA,IACAzb,KAAKqkD,cAAcrkD,KAAKm6C,cACxBn6C,KAAKm6C,kBAAepf,GAExB/6B,KAAKqkD,cAAcrkD,KAAKmzC,UACxBnzC,KAAKmzC,cAAWpY,GAEhB/6B,KAAKk7B,QAAQmd,YAAc,eAAkBr4C,KAAKi8C,cAClDj8C,KAAKi8C,WAAWvyC,UAChB1J,KAAKs4C,oBAAiBvd,EACtB/6B,KAAKk+C,6BAA0BnjB,GAE/B/6B,KAAKi2C,OAAO3U,UACC,aAAT7lB,GAAgC,YAATA,EAClB,eAAkBzb,KAAKm2C,iBACxBn2C,KAAKqkD,cAAcrkD,KAAKm2C,eACxBn2C,KAAKm2C,mBAAgBpb,GAIpB,eAAkB/6B,KAAKo2C,kBACxBp2C,KAAKqkD,cAAcrkD,KAAKo2C,gBACxBp2C,KAAKo2C,oBAAiBrb,IAIlC/6B,KAAKoiD,aAAe,EACpBpiD,KAAK24C,yBACa,UAAd34C,KAAKyb,MACLzb,KAAKo5C,mBAETp5C,KAAK64C,iBACD74C,KAAKi2C,OAAO3U,SACZthC,KAAK84C,iBAET94C,KAAK44C,aACL54C,KAAK+4C,iBACL/4C,KAAK06C,oBAAmB,GACN,UAAd16C,KAAKyb,MACLzb,KAAK+6C,qBAAoB,GAE7B/6C,KAAKyiC,WACDziC,KAAKk7B,QAAQmd,YACbr4C,KAAK25C,gBACL35C,KAAKu9C,0BAAyB,IAElCv9C,KAAK67C,eACC,kBAAe77C,KAAKqV,mBAA8B,YAATqT,GAC3C1oB,KAAK6mD,gBAGbtQ,EAAO1xC,UAAUiiD,UAAY,WAQzB,GAPK9mD,KAAK2H,WAA2B,UAAd3H,KAAKyb,OACxBzb,KAAKqB,MAAQ,CAACrB,KAAKw8C,WAAYx8C,KAAKs8C,aAExCt8C,KAAK6mD,eACD7mD,KAAKk7B,QAAQmd,WACbr4C,KAAKi8C,WAAW/wB,QAAQlrB,KAAKk6C,aAE7Bl6C,KAAKi5C,YAAa,CAClB,IAAI0F,EAAa3+C,KAAK2H,WAAkC,aAArB3H,KAAKg6C,YACxC,eAAW2E,EAAa3+C,KAAKy+C,UAAYz+C,KAAKw+C,SAAU,CAAE,aAAc,WAAY78C,MAAO,aAC3F,eAAWg9C,EAAa3+C,KAAKw+C,SAAWx+C,KAAKy+C,UAAW,CAAE,aAAc,WAAY98C,MAAO,eAGnG40C,EAAO1xC,UAAUwZ,kBAAoB,WACjCre,KAAK4mD,iBAAiB5mD,KAAKyb,KAAM,SAErC86B,EAAO1xC,UAAUgiD,aAAe,WAC5B7mD,KAAKm5C,eACLn5C,KAAKyiC,WACDziC,KAAKk7B,QAAQmd,YACR,kBACDr4C,KAAK49C,eAAe59C,KAAKg+C,gBAGJ,SAAzBh+C,KAAKw3C,MAAMiC,WACPz5C,KAAKqsB,KACLrsB,KAAKqkD,cAAcrkD,KAAKqsB,IACxBrsB,KAAKqsB,QAAK0O,EACV/6B,KAAK05C,eAGb15C,KAAK+mD,wBAETxQ,EAAO1xC,UAAUkiD,qBAAuB,WAChC/mD,KAAKi2C,OAAO3U,SACR,eAAkBthC,KAAKm2C,gBAAgC,UAAdn2C,KAAKyb,MAC9Czb,KAAK84C,iBAEL,eAAkB94C,KAAKm2C,gBAAkB,eAAkBn2C,KAAKo2C,iBAAiC,UAAdp2C,KAAKyb,MACxFzb,KAAK84C,iBAET94C,KAAKw5C,cACLx5C,KAAKyiC,aAGA,eAAkBziC,KAAKm2C,gBACxB,eAAOn2C,KAAKm2C,eAEX,eAAkBn2C,KAAKo2C,iBACxB,eAAOp2C,KAAKo2C,kBAQxBG,EAAO1xC,UAAUyE,eAAiB,WAC9B,IAAIC,EAAY,CAAC,SACjB,OAAOvJ,KAAKwJ,aAAaD,IAQ7BgtC,EAAO1xC,UAAU6E,QAAU,WACvBhD,EAAO7B,UAAU6E,QAAQ5C,KAAK9G,MAC9BA,KAAKiV,eACL3J,OAAO2M,oBAAoB,SAAUjY,KAAKwmD,UAC1C,eAAY,CAACxmD,KAAKg0C,iBAAkB,CAAC,GAAWD,iBAChD/zC,KAAKk6C,YAAYjwC,gBAAgB,oBACf,UAAdjK,KAAKyb,MACLzb,KAAKm6C,aAAalwC,gBAAgB,oBAEjC,kBAAejK,KAAKqV,mBACrBrV,KAAKg0C,gBAAgBxrB,WAAW9d,aAAa1K,KAAK6G,QAAS7G,KAAKg0C,iBAChE,eAAOh0C,KAAKg0C,kBAEZh0C,KAAKk7B,QAAQmd,WACbr4C,KAAKi8C,WAAWvyC,UAEf,kBAAe1J,KAAKqV,mBACrBrV,KAAK6G,QAAQqjB,UAAY,KAQjCqsB,EAAO1xC,UAAUiK,kBAAoB,SAAUC,EAASC,GAEpD,IADA,IAAI/D,EAAQjL,KACHuD,EAAK,EAAGwG,EAAKzF,OAAO2K,KAAKF,GAAUxL,EAAKwG,EAAG3E,OAAQ7B,IAAM,CAC9D,IAAI2L,EAAOnF,EAAGxG,GACd,OAAQ2L,GACJ,IAAK,WACDlP,KAAKm4C,YAAYnpC,EAAQoH,UACzB,MACJ,IAAK,QACD,GAAIrH,GAAWC,EAAS,CACpB,IAAI3N,EAAQ,eAAkB0N,EAAQ1N,OACnB,UAAdrB,KAAKyb,KAAmB,CAACzb,KAAKiqC,IAAKjqC,KAAKmqC,KAAOnqC,KAAKiqC,IAAOl7B,EAAQ1N,MACxErB,KAAK+wB,cAAc,CAAE,MAAS1vB,IAAS,GAClC,eAAkB2N,EAAQ3N,QAAU2N,EAAQ3N,MAAMunB,aAAevnB,EAAMunB,aACxE5oB,KAAKyiC,WACA,kBAAeziC,KAAKqV,kBACrBrV,KAAK49C,eAAe59C,KAAKg+C,eAEX,UAAdh+C,KAAKyb,OACD,eAAkB1M,EAAQ1N,QAAU2N,EAAQ3N,MAAM,KAAOA,EAAM,GAC/DrB,KAAKoiD,aAAe,EAGpBpiD,KAAKoiD,aAAe,IAKpC,MACJ,IAAK,MACL,IAAK,OACL,IAAK,MACG,kBAAcpiD,KAAKqV,mBACnBrV,KAAKqV,kBAAmB,GAE5BrV,KAAKgnD,iBACD,mBAAehnD,KAAKqV,mBACpBrV,KAAKqV,kBAAmB,GAE5B,MACJ,IAAK,UACG,kBAAcrV,KAAKqV,mBACnBrV,KAAKqV,kBAAmB,GAEvB,eAAkBtG,EAAQmsB,UAAa,eAAkBlsB,EAAQksB,UAClEl7B,KAAKinD,WAAW/3C,GAEhB,mBAAelP,KAAKqV,mBACpBrV,KAAKqV,kBAAmB,GAE5B,MACJ,IAAK,OACG,kBAAcrV,KAAKqV,mBACnBrV,KAAKqV,kBAAmB,GAEvB,eAAkBrG,KAAY1K,OAAO2K,KAAKD,GAAS5J,QAChD,eAAkB4J,EAAQyM,QAC9Bzb,KAAK4mD,iBAAiB53C,EAAQyM,KAAMvM,GACpClP,KAAKk4C,aAEL,mBAAel4C,KAAKqV,mBACpBrV,KAAKqV,kBAAmB,GAE5B,MACJ,IAAK,YACG,kBAAcrV,KAAKqV,mBACfrV,KAAK+5C,mBACL/5C,KAAKg0C,gBAAgBpsC,UAAUC,IAAI,GAAW2sC,gBAElDx0C,KAAKqV,kBAAmB,GAExBrG,EAAQrH,YAAcoH,EAAQpH,WAAkC,aAArB3H,KAAKg6C,cAChDh6C,KAAK+yC,IAAM/jC,EAAQrH,UACnB3H,KAAK8mD,aAEL,mBAAe9mD,KAAKqV,mBACpBrV,KAAKqV,kBAAmB,GAE5B,MACJ,IAAK,SACDrV,KAAK+mD,uBACL,MACJ,IAAK,cACG,kBAAc/mD,KAAKqV,mBACnBrV,KAAKqV,kBAAmB,GAE5BrV,KAAKqe,oBACD,mBAAere,KAAKqV,mBACpBrV,KAAKqV,kBAAmB,GAE5B,MACJ,IAAK,QACI,eAAkBrV,KAAKg0C,gBAAgBnnC,cAAc,IAAM,GAAW0mC,UAClE,kBAAevzC,KAAKqV,kBACrB,eAAOrV,KAAKqsB,IAEhBjpB,MAAMyB,UAAUiF,QAAQhD,KAAK9G,KAAKg0C,gBAAgBpsC,WAAW,SAAUgB,GAC/DA,EAAUg6B,MAAM,aAChB33B,EAAM+oC,gBAAgBpsC,UAAU+B,OAAOf,OAItB,SAAzB5I,KAAKw3C,MAAMiC,YACXz5C,KAAK05C,cACL15C,KAAKk4C,aAET,MACJ,IAAK,SACGl4C,KAAKi5C,aACLj5C,KAAK0+C,cAET,MACJ,IAAK,cACG3vC,EAAQkqC,aACRj5C,KAAKk5C,aACLl5C,KAAKm2B,aACDn2B,KAAKshC,UAAYthC,KAAK0hC,UACtB1hC,KAAKomD,eAAc,IAIlB,kBAAepmD,KAAKqV,kBACjBrV,KAAKw+C,UAAYx+C,KAAKy+C,YACtBz+C,KAAKg0C,gBAAgBl+B,YAAY9V,KAAKw+C,UACtCx+C,KAAKg0C,gBAAgBl+B,YAAY9V,KAAKy+C,WACtCz+C,KAAKg0C,gBAAgBpsC,UAAU+B,OAAO,GAAW4rC,mBACjDv1C,KAAKw+C,cAAWzjB,EAChB/6B,KAAKy+C,eAAY1jB,EACjB/6B,KAAKm2B,cAIb,kBAAcn2B,KAAKqV,kBACfrV,KAAK+5C,mBACL/5C,KAAKg0C,gBAAgBpsC,UAAUC,IAAI,GAAW2sC,gBAGtD,MACJ,IAAK,UACDx0C,KAAKqhC,aACD,kBAAcrhC,KAAKqV,kBACfrV,KAAK+5C,mBACL/5C,KAAKg0C,gBAAgBpsC,UAAUC,IAAI,GAAW2sC,gBAGtD,MACJ,IAAK,WACDx0C,KAAKknD,cACD,kBAAclnD,KAAKqV,kBACfrV,KAAK+5C,mBACL/5C,KAAKg0C,gBAAgBpsC,UAAUC,IAAI,GAAW2sC,gBAGtD,MACJ,IAAK,eACG,kBAAcx0C,KAAKqV,mBACnBrV,KAAKqV,kBAAmB,GAE5BrV,KAAKyiC,WACLziC,KAAKm2B,aACD,mBAAen2B,KAAKqV,mBACpBrV,KAAKqV,kBAAmB,GAE5B,MACJ,IAAK,aACG,kBAAcrV,KAAKqV,mBACnBrV,KAAKqV,kBAAmB,GAE5BrV,KAAKm2B,aACD,mBAAen2B,KAAKqV,mBACpBrV,KAAKqV,kBAAmB,GAE5B,MACJ,IAAK,QACDrV,KAAKqoC,gBAAgBt5B,EAAQT,OAC7BtO,KAAKgnD,iBACDhnD,KAAKi2C,QACLj2C,KAAK+mD,uBAET,SAIhBxQ,EAAO1xC,UAAUqiD,YAAc,WACvBlnD,KAAK0hC,UACL1hC,KAAKiV,eACLjV,KAAKg0C,gBAAgBpsC,UAAUC,IAAI,GAAW65B,YAG9C1hC,KAAKgX,aACLhX,KAAKg0C,gBAAgBpsC,UAAU+B,OAAO,GAAW+3B,YAGzD6U,EAAO1xC,UAAUmiD,eAAiB,WAC9B,IAAI/7C,EAAQjL,KACZA,KAAKyiC,WACA,kBACDziC,KAAK49C,eAAe59C,KAAKg+C,eAExB,eAAkBh+C,KAAKg0C,gBAAgBnnC,cAAc,IAAM,GAAW0mC,SACnEvzC,KAAKqsB,KACL,eAAOrsB,KAAKqsB,IACZjpB,MAAMyB,UAAUiF,QAAQhD,KAAK9G,KAAKg0C,gBAAgBpsC,WAAW,SAAUgB,GAC/DA,EAAUg6B,MAAM,aAChB33B,EAAM+oC,gBAAgBpsC,UAAU+B,OAAOf,OAK1B,SAAzB5I,KAAKw3C,MAAMiC,YACXz5C,KAAK05C,cACL15C,KAAKk4C,cAGb3B,EAAO1xC,UAAUqzC,UAAY,WACzBl4C,KAAK6/C,OAAS,EACT,eAAkB7/C,KAAKw3C,QAAmC,SAAzBx3C,KAAKw3C,MAAMiC,YAC7Cz5C,KAAKqsB,GAAG5kB,MAAMo4C,OAAU7/C,KAAK6/C,QAAU,EAAK,GAC5C7/C,KAAK6G,QAAQY,MAAMo4C,OAAU7/C,KAAK6/C,OAAS,EAAK,IAE/C7/C,KAAK45C,YAAe,eAAkB55C,KAAKw3C,QAAmC,SAAzBx3C,KAAKw3C,MAAMiC,YACjEz5C,KAAK6G,QAAQY,MAAMo4C,OAAU7/C,KAAK6/C,OAAS,EAAK,IAEpD7/C,KAAKk6C,YAAYzyC,MAAMo4C,OAAU7/C,KAAK6/C,OAAS,EAAK,GAClC,UAAd7/C,KAAKyb,OACLzb,KAAKm6C,aAAa1yC,MAAMo4C,OAAU7/C,KAAK6/C,OAAS,EAAK,KAG7DtJ,EAAO1xC,UAAUoiD,WAAa,SAAUv+B,GACpC1oB,KAAK4mD,iBAAiB5mD,KAAKyb,KAAMiN,IAErC6tB,EAAO1xC,UAAUg3C,YAAc,WAC3B,IAAIsL,EACAC,EACAC,EAAQrnD,KAAKy0C,YAAY5+B,iBAC7B,MAAOwxC,EACHrnD,KAAKy0C,YAAY3+B,YAAYuxC,GAC7BA,EAAQrnD,KAAKy0C,YAAY5+B,iBAE7B,IAAK,IAAIpQ,EAAI,EAAGA,EAAIzF,KAAKsnD,WAAWliD,OAAQK,IACxC,IAAK,eAAkBzF,KAAKsnD,WAAW7hD,GAAG2H,SAAW,eAAkBpN,KAAKsnD,WAAW7hD,GAAGuP,MAClFhV,KAAKsnD,WAAW7hD,GAAGuP,IAAMhV,KAAKsnD,WAAW7hD,GAAG2H,MAAO,CAC/CpN,KAAKsnD,WAAW7hD,GAAG2H,MAAQpN,KAAKiqC,MAChCjqC,KAAKsnD,WAAW7hD,GAAG2H,MAAQpN,KAAKiqC,KAEhCjqC,KAAKsnD,WAAW7hD,GAAGuP,IAAMhV,KAAKmqC,MAC9BnqC,KAAKsnD,WAAW7hD,GAAGuP,IAAMhV,KAAKmqC,KAElC,IAAIod,EAAmBvnD,KAAK+iD,oBAAoB/iD,KAAKsnD,WAAW7hD,GAAG2H,OAC/Do6C,EAAcxnD,KAAK+iD,oBAAoB/iD,KAAKsnD,WAAW7hD,GAAGuP,KAC1DyyC,EAAiBznD,KAAK2I,cAAc,OACxC8+C,EAAehgD,MAAMigD,gBAAkB1nD,KAAKsnD,WAAW7hD,GAAGkiD,MAC1DF,EAAehgD,MAAMmgD,OAAS,aAAe5nD,KAAKsnD,WAAW7hD,GAAGkiD,MACvC,eAArB3nD,KAAKg6C,aACLoN,EAAiB,GAAW1S,sBAGpByS,EAFJnnD,KAAK2H,UACD,eAAkB3H,KAAKq6C,cACPr6C,KAAK+iD,oBAAoB/iD,KAAKmqC,KAAOnqC,KAAK+iD,oBAAoB/iD,KAAKsnD,WAAW7hD,GAAGuP,KAGjFhV,KAAK+iD,oBAAoB/iD,KAAKq6C,aAAaj1C,OAASpF,KAAKsnD,WAAW7hD,GAAGuP,IAAM,GAIjFhV,KAAK+iD,oBAAoB/iD,KAAKsnD,WAAW7hD,GAAG2H,OAEhEq6C,EAAehgD,MAAM6G,MAAQk5C,EAAcD,EAAmB,KAC9DE,EAAehgD,MAAMsf,KAAOogC,EAAgB,OAG5CC,EAAiB,GAAWzS,oBAC5BwS,EAAgBnnD,KAAK+iD,oBAAoB/iD,KAAKsnD,WAAW7hD,GAAG2H,OAC5Dq6C,EAAehgD,MAAM6J,OAASk2C,EAAcD,EAAmB,KAC/DE,EAAehgD,MAAMyb,OAASikC,EAAgB,MAElDM,EAAe7/C,UAAUC,IAAIu/C,GAC7BpnD,KAAKy0C,YAAYtrC,YAAYs+C,KAS7ClR,EAAO1xC,UAAU4E,cAAgB,WAC7B,MAAO,UAEX,GAAW,CACP,eAAS,OACV8sC,EAAO1xC,UAAW,aAAS,GAC9B,GAAW,CACP,eAAS,OACV0xC,EAAO1xC,UAAW,oBAAgB,GACrC,GAAW,CACP,eAAS,IACV0xC,EAAO1xC,UAAW,YAAQ,GAC7B,GAAW,CACP,eAAS,OACV0xC,EAAO1xC,UAAW,aAAS,GAC9B,GAAW,CACP,eAAS,IACV0xC,EAAO1xC,UAAW,WAAO,GAC5B,GAAW,CACP,eAAS,MACV0xC,EAAO1xC,UAAW,WAAO,GAC5B,GAAW,CACP,gBAAS,IACV0xC,EAAO1xC,UAAW,gBAAY,GACjC,GAAW,CACP,eAAS,YACV0xC,EAAO1xC,UAAW,YAAQ,GAC7B,GAAW,CACP,eAAW,CAAC,IAAK,KAClB0xC,EAAO1xC,UAAW,kBAAc,GACnC,GAAW,CACP,eAAQ,GAAI,KACb0xC,EAAO1xC,UAAW,aAAS,GAC9B,GAAW,CACP,eAAQ,GAAI,KACb0xC,EAAO1xC,UAAW,cAAU,GAC/B,GAAW,CACP,gBAAS,IACV0xC,EAAO1xC,UAAW,eAAW,GAChC,GAAW,CACP,eAAQ,GAAI,KACb0xC,EAAO1xC,UAAW,eAAW,GAChC,GAAW,CACP,gBAAS,IACV0xC,EAAO1xC,UAAW,mBAAe,GACpC,GAAW,CACP,gBAAS,IACV0xC,EAAO1xC,UAAW,uBAAmB,GACxC,GAAW,CACP,eAAS,eACV0xC,EAAO1xC,UAAW,mBAAe,GACpC,GAAW,CACP,eAAS,KACV0xC,EAAO1xC,UAAW,gBAAY,GACjC,GAAW,CACP,gBAAS,IACV0xC,EAAO1xC,UAAW,2BAAuB,GAC5C,GAAW,CACP,kBACD0xC,EAAO1xC,UAAW,eAAW,GAChC,GAAW,CACP,kBACD0xC,EAAO1xC,UAAW,cAAU,GAC/B,GAAW,CACP,kBACD0xC,EAAO1xC,UAAW,eAAW,GAChC,GAAW,CACP,kBACD0xC,EAAO1xC,UAAW,sBAAkB,GACvC,GAAW,CACP,kBACD0xC,EAAO1xC,UAAW,qBAAiB,GACtC,GAAW,CACP,kBACD0xC,EAAO1xC,UAAW,qBAAiB,GACtC0xC,EAAS,GAAW,CAChB,QACDA,GACIA,EAv0FgB,CAw0FzB,QCthGE,GAAwC,WACxC,IAAIpyC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,gBAClB,CAAEC,UAAW,cAAgBpB,OAAS,SAAUgB,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAII,KAAKJ,EAAOA,EAAEK,eAAeD,KAAIL,EAAEK,GAAKJ,EAAEI,KAClEN,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASM,IAAO3E,KAAK4E,YAAcR,EADnCD,EAAcC,EAAGC,GAEjBD,EAAES,UAAkB,OAANR,EAAaC,OAAOQ,OAAOT,IAAMM,EAAGE,UAAYR,EAAEQ,UAAW,IAAIF,IAV3C,GAaxC,GAA0C,SAAUK,EAAYvD,EAAQX,EAAKmE,GAC7E,IAA2Hb,EAAvHc,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIzD,EAAkB,OAATwD,EAAgBA,EAAOX,OAAOgB,yBAAyB7D,EAAQX,GAAOmE,EACrH,GAAuB,kBAAZM,SAAoD,oBAArBA,QAAQC,SAAyBH,EAAIE,QAAQC,SAASR,EAAYvD,EAAQX,EAAKmE,QACpH,IAAK,IAAIQ,EAAIT,EAAWI,OAAS,EAAGK,GAAK,EAAGA,KAASrB,EAAIY,EAAWS,MAAIJ,GAAKH,EAAI,EAAId,EAAEiB,GAAKH,EAAI,EAAId,EAAE3C,EAAQX,EAAKuE,GAAKjB,EAAE3C,EAAQX,KAASuE,GAChJ,OAAOH,EAAI,GAAKG,GAAKf,OAAOoB,eAAejE,EAAQX,EAAKuE,GAAIA,GAY5DwiD,GAAQ,UACRC,GAAS,WACTC,GAAU,YACVC,GAAY,cACZC,GAAU,aACVC,GAAa,oBACb96B,GAAW,aACX+6B,GAAe,qBACfC,GAAU,YACVC,GAAM,QACNC,GAAU,mBACVC,GAAc,iBACdC,GAAW,0BACXC,GAAY,eACZC,GAAkB,uBAClBC,GAAU,cACVC,GAAe,kBACfC,GAAe,mBACfC,GAAa,oBACbC,GAAU,iBACVC,GAAU,kBACVC,GAAW,YACXC,GAAiB,kBACjBC,GAAgB,iBAChBC,GAAU,sBACVC,GAAW,aACX,GAAM,QACNC,GAAY,eACZC,GAAS,aACTC,GAAe,kBACfC,GAAO,SACPC,GAAU,CACVC,QAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UACzG,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UACnG,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UACnG,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UACnG,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UACnG,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UACnG,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UACnG,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UACnG,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UACnG,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,YAcvG,GAA6B,SAAUjjD,GAEvC,SAASkjD,EAAYhjD,EAASC,GAC1B,OAAOH,EAAOI,KAAK9G,KAAM4G,EAASC,IAAY7G,KAuuDlD,OAzuDA,GAAU4pD,EAAaljD,GAIvBkjD,EAAY/kD,UAAUkC,UAAY,WAC9B,IAAIgC,EAAM/I,KAAK6G,QACf7G,KAAKmrC,YAAc,eAAQnrC,KAAK6G,QAAS,QACrC7G,KAAKmrC,aACL,OAAatjC,IAAI7H,KAAKmrC,YAAa,QAASnrC,KAAK2mD,iBAAkB3mD,MAEvE,IAAI2mC,EAAa,CAAEkjB,MAAO,QAASC,OAAQ,SAAUC,aAAc,eACnE/pD,KAAK8mC,KAAO,IAAI,OAAK,cAAeH,EAAY3mC,KAAK+mC,QACjDh+B,EAAIqR,aAAa,aAAerR,EAAIqR,aAAa,SACjDrR,EAAID,aAAa,OAAQC,EAAIxB,KAOrCqiD,EAAY/kD,UAAU/E,OAAS,WAC3BE,KAAKyxB,cACDzxB,KAAKgqD,OACLhqD,KAAKiqD,eAGLjqD,KAAKkqD,iBAEJlqD,KAAKmqD,eACN,eAAS,CAACnqD,KAAKo/B,UAAU3kB,eAAgB8tC,IAE7CvoD,KAAK2c,kBAETitC,EAAY/kD,UAAU4sB,YAAc,WAChC,IAAIJ,EAAUrxB,KAAK2I,cAAc,MAAO,CAAEC,UAAW,KAAO5I,KAAKyJ,gBAAkB,aACnFzJ,KAAK6G,QAAQ2hB,WAAW9d,aAAa2mB,EAASrxB,KAAK6G,SACnDwqB,EAAQloB,YAAYnJ,KAAK6G,SACzB,eAAW7G,KAAK6G,QAAS,CAAE,SAAY,KAAM,WAAc,UAC3D7G,KAAKo/B,UAAYp/B,KAAK2I,cAAc,MAAO,CAAEC,UAAWo/C,KACxDhoD,KAAKoqD,aAAajhD,YAAYnJ,KAAKo/B,WACnC,IAAI/9B,EAAQrB,KAAKqB,MAAQrB,KAAK8uC,WAAW9uC,KAAKqB,OAAO0c,cAAgB,YACjE/d,KAAKqqD,SAAyB,YAAdrqD,KAAKsqD,MAAqC,KAAftqD,KAAKqB,QAChDA,EAAQ,IAEZ,IAAIkpD,EAAclpD,EAAM0C,MAAM,EAAG,GAC7B,eAAkB/D,KAAKwqD,qBACvBxqD,KAAKwqD,kBAAoBD,GAE7BvqD,KAAK6G,QAAQxF,MAAQkpD,EACjBvqD,KAAKmqD,cACLnqD,KAAK+wB,cAAc,CAAE,MAAS1vB,IAAS,GAGvCrB,KAAK+wB,cAAc,CAAE,MAASw5B,IAAe,GAE7CvqD,KAAK2H,WACL0pB,EAAQzpB,UAAUC,IAAI,IAEtB7H,KAAKoW,UACL,eAAS,CAACib,GAAUrxB,KAAKoW,SAASC,MAAM,MAE5CrW,KAAKyqD,WAAa,eAAazqD,KAAKo/B,UAAW,CAAElP,SAAU,IAAMu5B,KACjEzpD,KAAK0qD,cAAgB,eAAa1qD,KAAKo/B,UAAW,CAAElP,SAAU,YAElE05B,EAAY/kD,UAAUulD,WAAa,WAC/B,OAAOpqD,KAAK6G,QAAQ4T,eAExBmvC,EAAY/kD,UAAUolD,aAAe,WACf,YAAdjqD,KAAKsqD,MACLtqD,KAAK2qD,gBACA3qD,KAAKgqD,QACNhqD,KAAK4qD,sBAIT5qD,KAAK6qD,eACA7qD,KAAKgqD,QACNhqD,KAAK8qD,iBAAiB7xC,SAG9BjZ,KAAK+qD,OAAQ,EACb/qD,KAAKg/B,cACLh/B,KAAKgrD,gBACAhrD,KAAKmb,UACNnb,KAAKgX,aAELhX,KAAKgqD,QAAUhqD,KAAKmb,UACpBnb,KAAKirD,gBAAe,GAEpB,OAAQ9jD,UACRnH,KAAKkrD,mBAGbtB,EAAY/kD,UAAUqlD,eAAiB,WACnC,IAAIj/C,EAAQjL,KACRmrD,EAAcnrD,KAAK2I,cAAc,SAAU,CAAEC,UAAW,wBAC5D5I,KAAKoqD,aAAajhD,YAAYgiD,GAC9BnrD,KAAKorD,SAAW,IAAI,GAAY,CAC5BthC,QAAS,mBACTroB,OAAQzB,KAAKo/B,UACbjkB,SAAUnb,KAAKmb,SACfxT,UAAW3H,KAAK2H,UAChBsa,KAAMjiB,KAAKqrD,OAAOpjD,KAAKjI,MACvByL,MAAO,SAAUid,GACbzd,EAAMwL,QAAQ,SAAU,CACpB8sC,aAAc,CAAE+H,IAAKrgD,EAAM5J,MAAM0C,MAAM,EAAG,GAAIwnD,KAAMtgD,EAAMugD,mBAAmBvgD,EAAMwgD,SAASxgD,EAAM5J,SAClGurC,cAAe,CAAE0e,IAAK,KAAMC,KAAM,MAAQlqD,MAAO4J,EAAM5J,WAInErB,KAAKorD,SAASziD,cAAgB3I,KAAK2I,cACnC3I,KAAKorD,SAAShpC,SAAS+oC,GACvB,IAAIO,EAAU1rD,KAAK2I,cAAc,OAAQ,CAAEC,UAAW4gD,KACtD,eAAO,oBAAqB2B,GAAahiD,YAAYuiD,GACrDA,EAAQjkD,MAAMigD,gBAAkB1nD,KAAKwrD,mBAAmBxrD,KAAKyrD,SAASzrD,KAAKqB,QAC3E,IAAImgB,EAAWxhB,KAAK2rD,cAKpB,GAJA,eAAS,CAACnqC,GAAW,uBACjBxhB,KAAKoW,UACL,eAAS,CAACoL,GAAWxhB,KAAKoW,SAASC,MAAM,MAEzC,OAAQlP,SAAU,CAClB,IAAIykD,EAAY5rD,KAAK6rD,eACrBD,EAAU7pC,SAAW5M,SAASC,KAC9Bw2C,EAAU1vC,SAAW,CAAEC,EAAG,SAAUC,EAAG,UACvCwvC,EAAUp9B,WAAa,YACvBo9B,EAAUzpC,UAAY,CAAEhG,EAAG,MAAOC,EAAG,OACrCwvC,EAAU5pC,QAAU,EACpBR,EAAS/Z,MAAMo4C,OAAS,eAAiB7/C,KAAKorD,SAASvkD,SAAS+hB,WAEpE5oB,KAAK8rD,qBAETlC,EAAY/kD,UAAUwmD,OAAS,SAAU3iC,GACrC1oB,KAAKyW,QAAQ,OAAQ,CAAE5P,QAAS7G,KAAKo/B,aAEzCwqB,EAAY/kD,UAAUgnD,aAAe,WACjC,OAAO,eAAY7rD,KAAK2rD,cAAe,SAE3C/B,EAAY/kD,UAAUinD,kBAAoB,WACtC,IAAI7gD,EAAQjL,KACZA,KAAKorD,SAASj5B,WAAa,SAAUzJ,GACjC,IAAI0J,EAAkB,IAAIC,GAsB1B,OArBApnB,EAAMwL,QAAQ,aAAciS,GAAM,SAAUqjC,GACxC,IAAKA,EAAgBhwC,OAAQ,CACzB,IAAIyF,EAAWvW,EAAM0gD,cACrBnqC,EAAS/Z,MAAMuS,IAAM,eAAW,EAAIgyC,aACpCxqC,EAAS/Z,MAAMsf,KAAO,eAAW,EAAIklC,aACrCzqC,EAAS/Z,MAAMC,QAAU,QACzBuD,EAAMg/C,eACNzoC,EAAS/Z,MAAMC,QAAU,GACrB,OAAQP,WACR8D,EAAMihD,MAAQjhD,EAAMtC,cAAc,OAClCsC,EAAMihD,MAAMtjD,UAAY,KAAOqC,EAAMxB,gBAAkB,WACvDwB,EAAMihD,MAAMzkD,MAAMC,QAAU,OAC5ByN,SAASC,KAAK1K,aAAaO,EAAMihD,MAAO1qC,GACxCrM,SAASC,KAAKxM,WAAa,0BAC3BqC,EAAMihD,MAAMzkD,MAAMC,QAAU,QAC5BuD,EAAMihD,MAAMzkD,MAAMo4C,QAAU3V,OAAO1oB,EAAS/Z,MAAMo4C,QAAU,GAAGj3B,YAGvEF,EAAK3M,OAASgwC,EAAgBhwC,OAC9BqW,EAAgBE,QAAQy5B,MAErB35B,GAEXpyB,KAAKorD,SAAS74B,YAAc,SAAU7J,GAClC,IAAI0J,EAAkB,IAAIC,GAC1B,GAAK,eAAkB3J,EAAK3X,OAcxBqhB,EAAgBE,QAAQ5J,OAdQ,CAChC,IAAIiI,EAAkB,CAAE9pB,QAASoE,EAAMm0B,UAAWruB,MAAO2X,EAAK3X,MAAOgL,QAAQ,GAC7E9Q,EAAMwL,QAAQ,cAAeka,GAAiB,SAAUw7B,GAChD,OAAQhlD,UAAYuhB,EAAK3X,MAAMtP,SAAWwJ,EAAMihD,QAChDC,EAAkBpwC,QAAS,GAE1BowC,EAAkBpwC,QACnB9Q,EAAMmhD,eAEV1jC,EAAK3M,OAASowC,EAAkBpwC,OAChCqW,EAAgBE,QAAQ65B,MAMhC,OAAO/5B,IAGfw3B,EAAY/kD,UAAUunD,aAAe,WACjCpsD,KAAK4vB,eACL5vB,KAAKqsD,mBACLrsD,KAAKo/B,UAAU33B,MAAM6G,MAAQ,GAC7B,eAAO,IAAMk7C,GAAcxpD,KAAKorD,SAASvkD,SAASY,MAAMigD,gBAClD1nD,KAAKwrD,mBAAmBxrD,KAAKyrD,SAASzrD,KAAKqB,QACjDrB,KAAKo/B,UAAUlV,UAAY,GAC3B,eAAY,CAAClqB,KAAKo/B,WAAY,CAAC+pB,GAAeD,KAC1C,OAAQ/hD,UAAYnH,KAAKksD,QACzB,eAAY,CAAC/2C,SAASC,MAAO,0BAC7BpV,KAAKksD,MAAMzkD,MAAMC,QAAU,OAC3B1H,KAAKksD,MAAM1iC,UAAY,GACvBxpB,KAAKksD,MAAQ,OAGrBtC,EAAY/kD,UAAU8lD,cAAgB,WAElC,GADA,eAAU3qD,KAAKo/B,UAAW,CAAC8pB,IAAiB,CAACC,KACzCnpD,KAAKssD,aAAc,CACnB,IAAIC,EAAevsD,KAAK2I,cAAc,MAAO,CAAEC,UAAW,qBAC1D5I,KAAKwsD,cAAcD,GACnB,IAAIt9C,EAAO3K,OAAO2K,KAAKjP,KAAKssD,cAC5B,GAAoB,IAAhBr9C,EAAK7J,OACLpF,KAAKysD,cAAczsD,KAAKssD,aAAar9C,EAAK,IAAKA,EAAK,GAAIs9C,QAGxD,IAAK,IAAI9mD,EAAI,EAAG+d,EAAMvU,EAAK7J,OAAQK,EAAI+d,EAAK/d,IACxCzF,KAAKysD,cAAczsD,KAAKssD,aAAar9C,EAAKxJ,IAAKwJ,EAAKxJ,GAAI8mD,GAG5D,eAAU,SAAUA,GAAcnnD,OAAS,IAC3C,eAAS,CAACmnD,GAAe,wBAI7BvsD,KAAKysD,cAAc/C,GAAQC,QAAS,WAEtB,YAAd3pD,KAAKsqD,OAAuBtqD,KAAK0sD,cAAgB1sD,KAAKqqD,SACtDrqD,KAAK2sD,aAET,IAAIr+C,EAAQqa,SAASjK,iBAAiB1e,KAAKo/B,WAAWwtB,kBAAmB,IACzE5sD,KAAKo/B,UAAU33B,MAAM6G,MAAQ,eAAWtO,KAAKo/B,UAAU38B,SAAS,GAAGiG,YAAc4F,EAAQA,GACzFtO,KAAK6sD,IAAM7sD,KAAKyrD,SAASzrD,KAAK8uC,WAAW9uC,KAAKqB,QAC9CrB,KAAK8sD,IAAM9sD,KAAK+sD,SAAS54C,MAAMnU,KAAMA,KAAK6sD,MAE9CjD,EAAY/kD,UAAU+lD,kBAAoB,WACjC,eAAO,IAAMrB,GAAQvpD,KAAKo/B,UAAU38B,SAAS,KAC9C,eAAU,IAAMwmD,GAAUjpD,KAAKo/B,WAAW,GAAGnmB,SAGrD2wC,EAAY/kD,UAAU4nD,cAAgB,SAAUO,EAAQlsD,EAAKmsD,GACzD,IAOIC,EACAC,EACAC,EATAC,EAAUrtD,KAAK2I,cAAc,MAAO,CAAEC,UAAWqgD,GAAU3oD,MAAO,CAAE,SAAY,OAChF2sD,EACAA,EAAO9jD,YAAYkkD,GAGnBrtD,KAAKwsD,cAAca,GAKvB,IAAK,IAAI5nD,EAAI,EAAG+d,EAAMwpC,EAAO5nD,OAAQK,EAAI+d,EAAK/d,IAChC,IAANA,GAAWA,EAAIzF,KAAKstD,UAAY,IAChCJ,EAAMltD,KAAK2I,cAAc,MAAO,CAC5BC,UAAW,QAAStI,MAAO,CAAE,KAAQ,SAEzC+sD,EAAQlkD,YAAY+jD,IAExBE,EAAeptD,KAAK8uC,WAAWke,EAAOvnD,IAAIsY,cAC1CovC,EAAOntD,KAAK2I,cAAc,OAAQ,CAC9BC,UAAW6gD,GAAMnpD,MAAO,CAAE,KAAQ,WAAY,aAAc8sD,EAAc,gBAAiB,WAE/FptD,KAAKyW,QAAQ,mBAAoB,CAAE5P,QAASsmD,EAAMI,WAAYzsD,EAAKO,MAAO2rD,EAAOvnD,KACjFynD,EAAI/jD,YAAYgkD,GACZntD,KAAKqB,QAAU+rD,IACfptD,KAAKwtD,iBAAiBL,GACtBE,EAAQp0C,SAEZk0C,EAAK1lD,MAAMigD,gBAAkB1nD,KAAKwrD,mBAAmBxrD,KAAKyrD,SAAS2B,KAG3ExD,EAAY/kD,UAAU8nD,WAAa,WAC/B,IAAIc,EAAaztD,KAAKo/B,UAAUvyB,cAAc,UAAUpK,SAAS,GACjEgrD,EAAW7lD,UAAUC,IAAIkhD,IACpB/oD,KAAKqB,QACNosD,EAAW7lD,UAAUC,IAAI0hD,IACzB,eAAQkE,EAAY,IAAMxE,IAAUhwC,SAExC,CAAC,gBAAiB,cAAcnP,SAAQ,SAAUyd,GAAQkmC,EAAWxjD,gBAAgBsd,MACrFkmC,EAAWhmD,MAAMigD,gBAAkB,IAEvCkC,EAAY/kD,UAAU2nD,cAAgB,SAAUzjD,EAAK2kD,QAC/B,IAAdA,IAAwBA,EAAY,GACxC,IAAIT,EAASjtD,KAAKo/B,UAAU38B,SAASirD,GACrCT,EAASjtD,KAAKo/B,UAAU10B,aAAa3B,EAAKkkD,GAAUjtD,KAAKo/B,UAAUj2B,YAAYJ,IAEnF6gD,EAAY/kD,UAAU2oD,iBAAmB,SAAUzkD,GAC/CA,EAAInB,UAAUC,IAAI0hD,IAClBxgD,EAAID,aAAa,gBAAiB,SAEtC8gD,EAAY/kD,UAAUgmD,aAAe,WACjC,eAAU7qD,KAAKo/B,UAAW,CAAC+pB,IAAgB,CAACD,KAC5C,IAAIyE,EAAe3tD,KAAK2I,cAAc,MAAO,CAAEC,UAAWggD,KAC1D5oD,KAAKwsD,cAAcmB,GACnBA,EAAaxkD,YAAYnJ,KAAK2I,cAAc,MAAO,CAAEC,UAAW+/C,MAChE,IAAIiF,EAAc5tD,KAAK2I,cAAc,OAAQ,CAAEC,UAAWw/C,GAAS9nD,MAAO,CAAE,SAAY,OACxFqtD,EAAaxkD,YAAYykD,GACzB5tD,KAAK6sD,IAAM7sD,KAAKyrD,SAASzrD,KAAKqB,OAC9BrB,KAAK8sD,IAAM9sD,KAAK+sD,SAAS54C,MAAMnU,KAAMA,KAAK6sD,KAC1C7sD,KAAK6tD,oBACL7tD,KAAK8tD,qBACL9tD,KAAK+tD,eACL/tD,KAAKguD,qBAETpE,EAAY/kD,UAAUgpD,kBAAoB,SAAUI,QACtC,IAANA,IAAgBA,EAAIjuD,KAAK8sD,IAAI,IACjC9sD,KAAKkuD,kBAAkBzmD,MAAMigD,gBAAkB1nD,KAAKwrD,mBAAmBxrD,KAAKmuD,SAASF,EAAG,IAAK,IAAK,KAEtGrE,EAAY/kD,UAAUqpD,gBAAkB,WACpC,OAAO,eAAO,IAAMtF,GAAc5oD,KAAKo/B,YAE3CwqB,EAAY/kD,UAAUipD,mBAAqB,WACvC,IAAIF,EAAc5tD,KAAK8qD,iBACnBsD,EAAU,eAAO,IAAMzF,GAAS3oD,KAAKo/B,WACrCp/B,KAAK2H,UACLimD,EAAYnmD,MAAMsf,KAAO,eAAWqnC,EAAQ1lD,YAAc6E,KAAK4yC,IAAI,IAAMngD,KAAK8sD,IAAI,IAAM,KAGxFc,EAAYnmD,MAAMsf,KAAO,eAAWqnC,EAAQ1lD,YAAc1I,KAAK8sD,IAAI,GAAK,KAE5Ec,EAAYnmD,MAAMuS,IAAM,eAAWo0C,EAAQp+C,cAAgB,IAAMhQ,KAAK8sD,IAAI,IAAM,MAEpFlD,EAAY/kD,UAAUkpD,aAAe,WACjC,IAAIM,EAAuBruD,KAAK2I,cAAc,MAAO,CAAEC,UAAW,qBAClE5I,KAAKwsD,cAAc6B,EAAsB,GACzCruD,KAAKsuD,cAAcD,GACnB,IAAIE,EAAgBvuD,KAAK2I,cAAc,MAAO,CAAEC,UAAW,yBAC3DylD,EAAqB3jD,aAAa6jD,EAAeF,EAAqB5rD,SAAS,IAC/E,IAAI+rD,EAASxuD,KAAK2I,cAAc,MAAO,CAAEC,UAAW,iBACpD2lD,EAAcplD,YAAYqlD,GAC1BxuD,KAAKyuD,UAAY,IAAI,GAAO,CACxBptD,MAAOrB,KAAK8sD,IAAI,GAChB7iB,IAAK,EACLE,IAAK,IACLxiC,UAAW3H,KAAK2H,UAChB25B,SAAUthC,KAAKmb,SACfuzC,OAAQ1uD,KAAK2uD,UAAU1mD,KAAKjI,QAEhCA,KAAKyuD,UAAU9lD,cAAgB3I,KAAK2I,cACpC3I,KAAKyuD,UAAUrsC,SAASosC,GACpBxuD,KAAKmqD,gBACLqE,EAASxuD,KAAK2I,cAAc,MAAO,CAAEC,UAAW,qBAChD2lD,EAAcplD,YAAYqlD,GAC1BxuD,KAAK4uD,oBAAoBJ,KAGjC5E,EAAY/kD,UAAU+pD,oBAAsB,SAAUJ,GAClDxuD,KAAK6uD,cAAgB,IAAI,GAAO,CAC5BxtD,MAAqB,IAAdrB,KAAK6sD,IAAI,GAChB5iB,IAAK,EACLE,IAAK,IACLxiC,UAAW3H,KAAK2H,UAChB25B,SAAUthC,KAAKmb,SACfuzC,OAAQ1uD,KAAK8uD,cAAc7mD,KAAKjI,QAEpCA,KAAK6uD,cAAclmD,cAAgB3I,KAAK2I,cACxC3I,KAAK6uD,cAAczsC,SAASosC,GAC5B,IAAIO,EAAiB/uD,KAAK2I,cAAc,MAAO,CAAEC,UAAW,0BAC5D4lD,EAAOrlD,YAAY4lD,GACnB/uD,KAAKgvD,yBAETpF,EAAY/kD,UAAUmqD,sBAAwB,WAC1C,IAAIzuC,EAAYvgB,KAAK2H,UAAY,UAAY,WAC7C,eAAO,kBAAmB3H,KAAK6uD,cAAchoD,SAASY,MAAMwnD,WACxD,mBAAqB1uC,EAAY,UAAYvgB,KAAK6sD,IAAI9oD,MAAM,EAAG,GAAK,YAChE/D,KAAKwrD,mBAAmBxrD,KAAK6sD,IAAI9oD,MAAM,EAAG,IAAM,UAE5D6lD,EAAY/kD,UAAU8pD,UAAY,SAAUjmC,GACxC1oB,KAAK8sD,IAAI,GAAKpkC,EAAKrnB,MACnBrB,KAAK6tD,oBACL7tD,KAAKkvD,wBAETtF,EAAY/kD,UAAUiqD,cAAgB,SAAUpmC,GAC5C,IAAIrnB,EAAQqnB,EAAKrnB,MACb8tD,EAASnvD,KAAKovD,SAASpvD,KAAK6sD,KAChC7sD,KAAK8sD,IAAI,GAAKzrD,EAAQ,IACtBrB,KAAK6sD,IAAI,GAAKxrD,EAAQ,IACtB,IAAIguD,EAASrvD,KAAKovD,SAASpvD,KAAK6sD,KAChC7sD,KAAKsvD,mBAAmBjuD,GACxB,IAAIwrD,EAAM7sD,KAAKwrD,mBAAmBxrD,KAAK6sD,KACvC7sD,KAAKuvD,cAAc1C,GACnB7sD,KAAKohD,aAAaiO,EAAQF,EAAQtC,IAEtCjD,EAAY/kD,UAAUyqD,mBAAqB,SAAUjuD,GACjD,GAAIrB,KAAKmqD,gBAAkBnqD,KAAKoqD,aAAaxiD,UAAU0E,SAASm8C,IAAY,CACxE,IAAI+G,EAAqB,eAAY,eAAO,IAAMxG,GAAShpD,KAAKo/B,WAAY,IAC5EowB,EAAmBnuD,MAAQA,EAC3BmuD,EAAmBlzC,aAG3BstC,EAAY/kD,UAAUypD,cAAgB,SAAUjqB,GAC5C,IAAIorB,EAAmBzvD,KAAK2I,cAAc,MAAO,CAAEC,UAAWwgD,KAC9D/kB,EAAUl7B,YAAYsmD,GACtB,IAAI/D,EAAU1rD,KAAK2I,cAAc,OAAQ,CAAEC,UAAW,aAAem/C,KACrE0H,EAAiBtmD,YAAYuiD,GAC7B,IAAIgE,EAAa1vD,KAAKwrD,mBAAmBxrD,KAAK6sD,KAC9CnB,EAAQjkD,MAAMigD,gBAAkBgI,EAChChE,EAAU1rD,KAAK2I,cAAc,OAAQ,CAAEC,UAAW,aAAeygD,KACjEoG,EAAiBtmD,YAAYuiD,GAC7BA,EAAQjkD,MAAMigD,gBAAkBgI,GAEpC9F,EAAY/kD,UAAU8qD,SAAW,WAC7B,OAAQ3vD,KAAKo/B,UAAUx3B,UAAU0E,SAAS48C,KAE9CU,EAAY/kD,UAAU8mD,YAAc,WAChC,OAAO3rD,KAAKo/B,UAAU3kB,eAE1BmvC,EAAY/kD,UAAU+qD,mBAAqB,SAAU/oD,EAASxF,EAAOi/B,EAAO6J,GACxE,IAAIl/B,EAAQjL,KACR6vD,EAAe,IAAI,GAAe,CAClCxuD,MAAOA,EACPy8B,YAAawC,EACb2J,IAAK,EACLE,IAAKA,EACLlB,OAAQ,SACRlB,gBAAgB,EAChBxI,eAAgB,SAChB53B,UAAW3H,KAAK2H,UAChB25B,SAAUthC,KAAKmb,SACfumB,UAAU1hC,KAAK2vD,WACfjB,OAAQ,SAAUhmC,GACVA,EAAK3X,OACL9F,EAAM+gC,aAAatjB,EAAK3X,UAIpC8+C,EAAalnD,cAAgB3I,KAAK2I,cAClCknD,EAAaztC,SAASvb,IAE1B+iD,EAAY/kD,UAAUm6B,YAAc,WAChC,IAAI2wB,EAAW3vD,KAAK2vD,WAChBt+B,EAAUrxB,KAAKoqD,aACnB,GAAKuF,IAAat+B,EAAQzpB,UAAU0E,SAASm8C,MAAiBkH,GAAYt+B,EAAQzpB,UAAU0E,SAASg9C,IAAa,CAC9G,IAAIroB,EAAYjhC,KAAK2I,cAAc,MAAO,CAAEC,UAAWigD,KACvD8G,EAAW3vD,KAAKwsD,cAAcvrB,EAAW,GAAKjhC,KAAKwsD,cAAcvrB,EAAW,GAC5E,IAAI7B,EAAYp/B,KAAK2I,cAAc,MAAO,CAAEC,UAAW,sBAKvD,GAJAq4B,EAAU93B,YAAYi2B,GACjB/N,EAAQzpB,UAAU0E,SAASo8C,KAC5B1oD,KAAK8vD,qBAAqB7uB,IAEzB5P,EAAQzpB,UAAU0E,SAASg8C,IAAU,CACtC,IAAIyH,EAAW/vD,KAAK2I,cAAc,QAAS,CACvCC,UAAWy/C,GACX/nD,MAAO,CAAE,UAAa,IAAK,WAAc,WAE7C8+B,EAAUj2B,YAAY4mD,GACtB,GAAM/wB,YAAY,CACdn4B,QAASkpD,EACTxwB,eAAgB,SAChBI,WAAY,CACR7B,YAAa,MACbn2B,UAAW3H,KAAK2H,UAChB25B,SAAUthC,KAAKmb,SACfumB,UAAU1hC,KAAK2vD,aAEpB3vD,KAAK2I,eACR,GAAM85B,SAASziC,KAAKqB,MAAM0C,MAAM,EAAG,GAAIgsD,GACvCA,EAASjkD,iBAAiB,QAAS9L,KAAKgsC,aAAa/jC,KAAKjI,OAE9D,IAAKqxB,EAAQzpB,UAAU0E,SAASk8C,IAAW,CACvC,IAAIloB,OAAQ,EACRj/B,OAAQ,EACRrB,KAAK+qD,OACLzqB,EAAQ,MACRj/B,EAAQrB,KAAK6sD,MAGbvsB,EAAQ,MACRj/B,EAAQrB,KAAK8sD,KAGjB,IADA,IAAIkD,EAAU,CAAC,KAAM,KAAM,MAClBvqD,EAAI,EAAGA,EAAI,EAAGA,IACnBzF,KAAK4vD,mBAAmBxwB,EAAUj2B,YAAYnJ,KAAK2I,cAAc,QAAS,CAAEC,UAAW,KAAOonD,EAAQvqD,GAAK,YAAcpE,EAAMoE,GAAI66B,EAAM76B,GAAI,KAE7IzF,KAAKmqD,eACLnqD,KAAKiwD,mBAAmB7wB,MAKxCwqB,EAAY/kD,UAAUorD,mBAAqB,SAAU7wB,GACjDp/B,KAAK4vD,mBAAmBxwB,EAAUj2B,YAAYnJ,KAAK2I,cAAc,QAAS,CAAEC,UAAWogD,MAA2B,IAAdhpD,KAAK6sD,IAAI,GAAU,IAAK,MAEhIjD,EAAY/kD,UAAUirD,qBAAuB,SAAUI,GACnD,IAAIC,EAAiBnwD,KAAK2I,cAAc,SAAU,CAC9CC,UAAW,yCAA2Cu/C,KAE1D+H,EAAU/mD,YAAYgnD,GAClBnwD,KAAK2vD,aAAe3vD,KAAKoqD,aAAaxiD,UAAU0E,SAASk8C,KACzD2H,EAAerkD,iBAAiB,QAAS9L,KAAKowD,oBAAoBnoD,KAAKjI,QAG/E4pD,EAAY/kD,UAAUmmD,cAAgB,WAClC,GAAIhrD,KAAK0sD,cAAgB1sD,KAAKi5C,YAAa,CACvCj5C,KAAK8mC,KAAKyL,UAAUvyC,KAAK+mC,QACzB,IAAIspB,EAAarwD,KAAK2I,cAAc,MAAO,CAAEC,UAAWs/C,KAExD,GADAloD,KAAKo/B,UAAUj2B,YAAYknD,GACvBrwD,KAAKi5C,YAAa,CAClB,IAAIqX,EAAoBtwD,KAAK2I,cAAc,MAAO,CAAEC,UAAWq/C,KAC/DoI,EAAWlnD,YAAYmnD,GACvB,IAAIn8C,EAAQnU,KAAK8mC,KAAKE,YAAY,SAClCspB,EAAkBnnD,YAAYnJ,KAAK2I,cAAc,SAAU,CACvDuhB,UAAW/V,EACXvL,UAAW,wCAA0Ci/C,GACrDvnD,MAAO,CAAE,MAAS6T,MAEtB,IAAI4H,EAAS/b,KAAK8mC,KAAKE,YAAY,UACnCspB,EAAkBnnD,YAAYnJ,KAAK2I,cAAc,SAAU,CACvDuhB,UAAWnO,EACXnT,UAAW,8BAAgCk/C,GAC3CxnD,MAAO,CAAE,MAASyb,MAGtB/b,KAAK0sD,cACL1sD,KAAKuwD,wBAIjB3G,EAAY/kD,UAAU0rD,oBAAsB,WACxC,IAAI7D,EAAe1sD,KAAK2I,cAAc,SAAU,CAC5CC,UAAW,mCAAqCkgD,GAAYxoD,MAAO,CAAEqB,MAAO3B,KAAK8mC,KAAKE,YAAY,mBAEtG,eAAO,IAAMkhB,GAAYloD,KAAKo/B,WAAW10B,aAAagiD,EAAc,eAAO,IAAMzE,GAASjoD,KAAKo/B,aAEnGwqB,EAAY/kD,UAAUmpD,kBAAoB,WACtC,IAAI/iD,EAAQjL,KACRk7B,EAAU,IAAI,GAAQ,CACtBiC,QAAS,SACTtG,gBAAgB,EAChBzgB,SAAU,yBACV+b,WAAY,SAAUzJ,GAClBzd,EAAMsqB,WAAa7M,EAAK7hB,SAE5BqyB,UAAW,CAAEjX,KAAM,CAAEuS,OAAQ,QAAUtS,MAAO,CAAEsS,OAAQ,WAE5D0G,EAAQvyB,cAAgB3I,KAAK2I,cAC7BuyB,EAAQ9Y,SAASpiB,KAAKo/B,WACtBlE,EAAQjZ,KAAKjiB,KAAKo/B,WAClBp/B,KAAKu1B,WAAW9tB,MAAMo4C,OAAS,eAAiB7/C,KAAKu1B,YAAY3M,WACjE,eAAO,iBAAkB5oB,KAAKu1B,YAAYpsB,YAAYnJ,KAAK2I,cAAc,MAAO,CAAEC,UAAW,wBAEjGghD,EAAY/kD,UAAU2rD,eAAiB,WACnC,OAAO,eAAYxwD,KAAKo/B,UAAW,KAEvCwqB,EAAY/kD,UAAU4rD,iBAAmB,SAAUpvD,GAC/CrB,KAAKwwD,iBAAiBxuC,QAAU3gB,GAEpCuoD,EAAY/kD,UAAUomD,eAAiB,SAAUrjC,GAC7CA,EAAS5nB,KAAKoqD,aAAaxiD,UAAUC,IAAIulB,IAAYptB,KAAKoqD,aAAaxiD,UAAU+B,OAAOyjB,IACpFptB,KAAKi5C,aACJ,GAAGl1C,MAAM+C,KAAK,eAAU,SAAU9G,KAAKo/B,YAAat1B,SAAQ,SAAUf,GACnE6e,EAAS,eAAW7e,EAAK,CAAE,SAAY,KAAQA,EAAIkB,gBAAgB,gBAI/E2/C,EAAY/kD,UAAU2mD,mBAAqB,SAAUqB,GACjD,OAAOA,EAAIznD,OAAwB,IAAfynD,EAAIznD,OAAe,QAAUynD,EAAIr0B,OAAS,IAAM,OAASq0B,EAAIr0B,OAAS,IAAM,IAEpGoxB,EAAY/kD,UAAU6rD,mBAAqB,SAAU5D,GACjD,OAAsB,IAAfA,EAAI1nD,OAAe,QAAU0nD,EAAIt0B,OAAS,IAAM,OAASs0B,EAAIt0B,OAAS,KAEjFoxB,EAAY/kD,UAAU8rD,UAAY,WAC9B3wD,KAAK8sD,IAAI,GAAK9sD,KAAK8sD,IAAI,GAAK,IAAM,IAAM9sD,KAAK8sD,IAAI,GACjD9sD,KAAK8sD,IAAI,GAAK9sD,KAAK8sD,IAAI,GAAK,IAAM,IAAM9sD,KAAK8sD,IAAI,GACjD9sD,KAAK8tD,sBAETlE,EAAY/kD,UAAUqqD,qBAAuB,SAAU0B,QACrC,IAAVA,IAAoBA,GAAQ,GAChC,IAAIzB,EAASnvD,KAAKovD,SAASpvD,KAAK6sD,KAChC7sD,KAAK6sD,IAAM7sD,KAAKmuD,SAASh6C,MAAMnU,KAAMA,KAAK8sD,KAC1C,IAAIuC,EAASrvD,KAAKovD,SAASpvD,KAAK6sD,KAC5BtB,EAAOvrD,KAAKwrD,mBAAmBxrD,KAAK6sD,KACxC7sD,KAAKuvD,cAAchE,GACnBvrD,KAAK6wD,YAAYxB,GACjBrvD,KAAKohD,aAAaiO,EAAQF,EAAQ5D,EAAMqF,IAE5ChH,EAAY/kD,UAAUgsD,YAAc,SAAUxvD,GAC1C,IAAIgwB,EAAUrxB,KAAKoqD,aACd/4B,EAAQzpB,UAAU0E,SAASm8C,MACvBp3B,EAAQzpB,UAAU0E,SAASg8C,KAC5B,GAAM7lB,SAASphC,EAAMyvD,OAAO,EAAG,GAAI,eAAO,IAAMzI,GAAKroD,KAAKo/B,YAEzD/N,EAAQzpB,UAAU0E,SAASk8C,MACxBxoD,KAAK+qD,MACL/qD,KAAK0rC,YAAY1rC,KAAK6sD,KAAK,GAG3B7sD,KAAK0rC,YAAY1rC,KAAK8sD,KAAK,MAK3ClD,EAAY/kD,UAAU0qD,cAAgB,SAAUluD,GACxCrB,KAAKmqD,eACLnqD,KAAKgvD,wBAET,eAAO,qBAAsBhvD,KAAKu1B,YAAY9tB,MAAMigD,gBAAkBrmD,EACtE,eAAO,IAAM+nD,GAAU,KAAOrB,GAAS/nD,KAAKo/B,WAAW33B,MAAMigD,gBAAkBrmD,EAC/E,eAAO,IAAM+nD,GAAU,KAAOC,GAAUrpD,KAAKo/B,WAAW33B,MAAMigD,gBACxD1nD,KAAKwrD,mBAAmBxrD,KAAKyrD,SAASzrD,KAAKqB,SAErDuoD,EAAY/kD,UAAUimD,eAAiB,WACnC,OAAO,eAAO,IAAM1C,GAASpoD,KAAKo/B,YAEtCwqB,EAAY/kD,UAAUksD,oBAAsB,WACxC,IAAIC,EAAc,GAAGjtD,MAAM+C,KAAK,eAAU,IAAMyiD,GAAQvpD,KAAKo/B,UAAU38B,SAAS,KAChFuuD,EAAYlnD,SAAQ,SAAUf,GAC1BA,EAAInB,UAAU+B,OAAO4/C,IACrBxgD,EAAID,aAAa,gBAAiB,aAG1C8gD,EAAY/kD,UAAUosD,wBAA0B,SAAU5vD,GACtD,OAAQA,EAAM0C,MAAM1C,EAAM2Z,QAAQ,KAAO,EAAG3Z,EAAM2Z,QAAQ,MAAO3E,MAAM,KAAK3T,KAAI,SAAUwuD,EAAGzrD,GACzF,OAAc,IAANA,EAAWkjB,SAASuoC,EAAG,IAAMvyC,WAAWuyC,OAUxDtH,EAAY/kD,UAAUssD,SAAW,SAAU9vD,EAAOoa,GAK9C,GAJKpa,IACDA,EAAQrB,KAAKqB,OAEjBoa,EAAQA,EAAeA,EAAKsC,cAAb,MACE,MAAb1c,EAAM,GAAY,CAClB,IAAIguD,EAASrvD,KAAKixD,wBAAwB5vD,GAC1C,GAAa,QAAToa,GAA2B,SAATA,EAAiB,CACnC,IAAI6vC,EAAMtrD,KAAKovD,SAASC,GACxB,MAAgB,QAAT5zC,EAAiB6vC,EAAIvnD,MAAM,EAAG,GAAKunD,EAG1C,MAAa,QAAT7vC,EACOzb,KAAK0wD,mBAAmB1wD,KAAK+sD,SAAS54C,MAAMnU,KAAMqvD,EAAOtrD,MAAM,EAAG,KAG5D,SAAT0X,EACOzb,KAAK0wD,mBAAmB1wD,KAAK+sD,SAAS54C,MAAMnU,KAAMqvD,IAGlD,OAMnB,GAAiB,MAAbhuD,EAAM,GAAY,CACdguD,EAASrvD,KAAKmuD,SAASh6C,MAAMnU,KAAMA,KAAKixD,wBAAwB5vD,IACpE,GAAa,SAAToa,EACA,OAAOzb,KAAKwrD,mBAAmB6D,GAG/B,GAAa,QAAT5zC,GAA2B,SAATA,EAAiB,CAC/B6vC,EAAMtrD,KAAKovD,SAASC,GACxB,MAAgB,QAAT5zC,EAAiB6vC,EAAIvnD,MAAM,EAAG,GAAKunD,EAG1C,MAAa,QAAT7vC,EACOzb,KAAKwrD,mBAAmB6D,EAAOtrD,MAAM,EAAG,IAGxC,OAMnB1C,EAAQrB,KAAK8uC,WAAWztC,GACxB,IAAIwrD,EAAM7sD,KAAKyrD,SAASpqD,GAIxB,MAHa,QAAToa,GAA2B,QAATA,IAClBoxC,EAAMA,EAAI9oD,MAAM,EAAG,IAEV,SAAT0X,GAA4B,QAATA,EACZzb,KAAKwrD,mBAAmBqB,GAGlB,SAATpxC,GAA4B,QAATA,EACZzb,KAAK0wD,mBAAmB1wD,KAAK+sD,SAAS54C,MAAMnU,KAAM6sD,IAG5C,QAATpxC,EACOpa,EAAM0C,MAAM,EAAG,GAGT,MAAT0X,EACOoxC,EAAI,GAAGjkC,WAGP,QAanCghC,EAAY/kD,UAAUgpB,OAAS,WAC3B7tB,KAAKo/B,UAAU3kB,cAAc7S,UAAU0E,SAAS,iBAAmBtM,KAAKorD,SAASv9B,SAAW7tB,KAAKguB,WAAW,OAOhH47B,EAAY/kD,UAAU4E,cAAgB,WAClC,MAAO,eAMXmgD,EAAY/kD,UAAUyE,eAAiB,WACnC,OAAOtJ,KAAKwJ,aAAa,CAAC,WAE9BogD,EAAY/kD,UAAUmS,WAAa,WAC/B,GAAIhX,KAAK2vD,WAAY,CACjB,IAAI/B,EAAc5tD,KAAK8qD,iBACvB,OAAajjD,IAAI+lD,EAAa,UAAW5tD,KAAKoxD,cAAepxD,MAC7D,OAAa6H,IAAI7H,KAAKkuD,kBAAmB,uBAAwBluD,KAAKqxD,YAAarxD,OAC/EA,KAAK0sD,cAAgB1sD,KAAKi5C,cAC1Bj5C,KAAKsxD,qBAET,OAAazpD,IAAI,eAAO,IAAMwhD,GAAUrpD,KAAKo/B,WAAY,QAASp/B,KAAKuxD,eAAgBvxD,WAGvF,OAAa6H,IAAI7H,KAAKo/B,UAAW,QAASp/B,KAAKwxD,oBAAqBxxD,MACpE,OAAa6H,IAAI7H,KAAKo/B,UAAW,UAAWp/B,KAAKyxD,eAAgBzxD,OAGzE4pD,EAAY/kD,UAAU8hD,iBAAmB,WACrC3mD,KAAKqB,MAAQrB,KAAKwqD,kBAClB,eAAWxqD,KAAK6G,QAAS,CAAE,MAAS7G,KAAKwqD,qBAE7CZ,EAAY/kD,UAAUysD,mBAAqB,WACvC,IAAII,EAAgB,eAAO,IAAMxJ,GAAYloD,KAAKo/B,WAC9CsyB,GACA,OAAa7pD,IAAI6pD,EAAe,QAAS1xD,KAAK2xD,gBAAiB3xD,OAGvE4pD,EAAY/kD,UAAUusD,cAAgB,SAAUzuD,GAC5C,OAAQA,EAAEiV,SACN,KAAK,GACD5X,KAAK4xD,oBAAoB,EAAG5xD,KAAK2H,WAAa,EAAI,EAAGhF,GACrD,MACJ,KAAK,GACD3C,KAAK4xD,oBAAoB,EAAG5xD,KAAK2H,UAAY,GAAK,EAAGhF,GACrD,MACJ,KAAK,GACD3C,KAAK4xD,oBAAoB,EAAG,EAAGjvD,GAC/B,MACJ,KAAK,GACD3C,KAAK4xD,oBAAoB,GAAI,EAAGjvD,GAChC,MACJ,KAAK,GACDA,EAAEqJ,iBACF,IAAIqjD,EAASrvD,KAAKovD,SAASpvD,KAAK6sD,KAChC7sD,KAAK6xD,gBAAgBxC,EAAQ1sD,KAGzCinD,EAAY/kD,UAAUgtD,gBAAkB,SAAUxwD,EAAOsB,GACrD3C,KAAK8xD,mBAAmBzwD,GACnBrB,KAAKgqD,SACNhqD,KAAKguB,WAAWrrB,GAChB3C,KAAKorD,SAASvkD,QAAQoS,UAG9B2wC,EAAY/kD,UAAUmpB,WAAa,SAAUrrB,GACzC,IAAIsI,EAAQjL,KACR2wB,EAAkB,CAAE9pB,QAAS7G,KAAKo/B,UAAWruB,MAAOpO,EAAGoZ,QAAQ,GACnE/b,KAAKyW,QAAQ,cAAeka,GAAiB,SAAUohC,GAC9CA,EAAkBh2C,SACnB9Q,EAAMmgD,SAASv9B,SACf5iB,EAAMmhD,oBAIlBxC,EAAY/kD,UAAUitD,mBAAqB,SAAUzwD,GACjD,IAAIiqD,EAAMjqD,EAAM0C,MAAM,EAAG,GACzB/D,KAAKyW,QAAQ,SAAU,CACnB8sC,aAAc,CAAE+H,IAAKA,EAAKC,KAAMvrD,KAAKwrD,mBAAmBxrD,KAAK6sD,MAC7DjgB,cAAe,CAAE0e,IAAKtrD,KAAKqB,MAAM0C,MAAM,EAAG,GAAIwnD,KAAMvrD,KAAKwrD,mBAAmBxrD,KAAKyrD,SAASzrD,KAAKqB,SAC/FA,MAAOrB,KAAKmqD,cAAgB9oD,EAAQiqD,IAEpCtrD,KAAKmqD,cACLnqD,KAAK+wB,cAAc,CAAE,MAAS1vB,IAAS,GAGvCrB,KAAK+wB,cAAc,CAAE,MAASu6B,IAAO,GAEzCtrD,KAAK6G,QAAQxF,MAAQiqD,GAAY,WAErC1B,EAAY/kD,UAAU+sD,oBAAsB,SAAUI,EAAM3wD,EAAOsB,GAC/DA,EAAEqJ,iBACFhM,KAAK8sD,IAAIkF,IAAS3wD,GAASsB,EAAE2tC,QAAU,EAAI,GACvCtwC,KAAK8sD,IAAIkF,GAAQ,IACjBhyD,KAAK8sD,IAAIkF,GAAQ,GAErBhyD,KAAK2wD,YACL3wD,KAAKkvD,sBAAqB,IAE9BtF,EAAY/kD,UAAUwsD,YAAc,SAAU1uD,GAC1CA,EAAEqJ,iBAGa,cAAXrJ,EAAE8Y,MACFzb,KAAK4xC,QAAUrkC,KAAK4yC,IAAIx9C,EAAEm6B,MAAQmvB,aAClCjsD,KAAK6xC,QAAUtkC,KAAK4yC,IAAIx9C,EAAEo6B,MAAQivB,aAClChsD,KAAKywD,iBAAiB,KAGtBzwD,KAAK4xC,QAAUrkC,KAAK4yC,IAAIx9C,EAAEuiD,eAAe,GAAGpoB,MAAQmvB,aACpDjsD,KAAK6xC,QAAUtkC,KAAK4yC,IAAIx9C,EAAEuiD,eAAe,GAAGnoB,MAAQivB,aACpDhsD,KAAKywD,kBAAkB,IAE3BzwD,KAAKiyD,OAAOjyD,KAAK4xC,QAAS5xC,KAAK6xC,SAC/B7xC,KAAK8qD,iBAAiBrjD,MAAMivC,WAAa,gFACzC12C,KAAK2wD,YACL3wD,KAAKkvD,uBACLlvD,KAAK8qD,iBAAiB7xC,QACtB,OAAapR,IAAIsN,SAAU,sBAAuBnV,KAAKkyD,YAAalyD,MACpE,OAAa6H,IAAIsN,SAAU,mBAAoBnV,KAAKmyD,WAAYnyD,OAEpE4pD,EAAY/kD,UAAUqtD,YAAc,SAAUvvD,GAI1C,IAAI04B,EACAC,EAJW,cAAX34B,EAAE8Y,MACF9Y,EAAEqJ,iBAIS,cAAXrJ,EAAE8Y,MACF4f,EAAI9tB,KAAK4yC,IAAIx9C,EAAEm6B,MAAQmvB,aACvB3wB,EAAI/tB,KAAK4yC,IAAIx9C,EAAEo6B,MAAQivB,eAGvB3wB,EAAI9tB,KAAK4yC,IAAIx9C,EAAEuiD,eAAe,GAAGpoB,MAAQmvB,aACzC3wB,EAAI/tB,KAAK4yC,IAAIx9C,EAAEuiD,eAAe,GAAGnoB,MAAQivB,cAE7ChsD,KAAKiyD,OAAO52B,EAAGC,GACf,IAAIsyB,EAAc5tD,KAAK8qD,iBACZniC,SAASilC,EAAYnmD,MAAMsf,KAAM,IAClC4B,SAASilC,EAAYnmD,MAAMuS,IAAK,IAC1Cha,KAAK2wD,YACL3wD,KAAKkvD,uBACLlvD,KAAKwwD,iBAAiBtlC,QAAQ0iC,GACzB5tD,KAAKu1B,WAAW9tB,MAAMk1C,YACnBpvC,KAAK4yC,IAAIngD,KAAK4xC,QAAUvW,GAAK,GAAK9tB,KAAK4yC,IAAIngD,KAAK6xC,QAAUvW,GAAK,KAC/D,eAAO,IAAMqtB,GAAS3oD,KAAKo/B,WAAW33B,MAAMq2C,OAAS,UACrD8P,EAAYnmD,MAAMivC,WAAa,OAC1B12C,KAAKgqD,SACNhqD,KAAKu1B,WAAW9tB,MAAMo4C,QAAUl3B,SAAS3oB,KAAK2rD,cAAclkD,MAAMo4C,OAAQ,IAAM,GAAGj3B,YAEvF5oB,KAAKu1B,WAAW9tB,MAAMk1C,UAAY,gBAClCiR,EAAYhmD,UAAUC,IAAI,oBAItC+hD,EAAY/kD,UAAUotD,OAAS,SAAUrgB,EAASC,GAC9C,IAAI9oC,EAAM,eAAO,IAAM4/C,GAAS3oD,KAAKo/B,WACjCljB,EAAWnT,EAAIka,wBAEf2uB,EADA5xC,KAAK2H,UACKiqC,EAAU11B,EAAS8K,MAAQ,EAAIzZ,KAAK4yC,IAAIvO,EAAU11B,EAAS8K,OAG3D4qB,EAAU11B,EAAS6K,KAAOxZ,KAAK4yC,IAAIvO,EAAU11B,EAAS6K,MAAQ,EAE5E8qB,EAAUA,EAAU31B,EAASlC,IAAMzM,KAAK4yC,IAAItO,EAAU31B,EAASlC,KAAO,EACtEha,KAAK8sD,IAAI,GAAKv/C,KAAK2hC,MAC2E,GADrEhF,OAAO,KAAOnhC,EAAIiH,aACvCzC,KAAK48B,IAAI,EAAG58B,KAAK08B,IAAIlhC,EAAIiH,aAAe6hC,EAAU9oC,EAAI4Z,aAAgB5Z,EAAIiH,eAAsB,GACpGhQ,KAAK8sD,IAAI,GACLv/C,KAAK2hC,MAA6G,GAAvGhF,OAAO,IAAO38B,KAAK48B,IAAI,EAAG58B,KAAK08B,IAAIlhC,EAAIL,YAAckpC,EAAU7oC,EAAImX,aAAiBnX,EAAIL,cAAqB,IAEhIkhD,EAAY/kD,UAAUstD,WAAa,SAAUxvD,GAC1B,aAAXA,EAAE8Y,MACF9Y,EAAEqJ,iBAEN,OAAarC,OAAOwL,SAAU,sBAAuBnV,KAAKkyD,aAC1D,OAAavoD,OAAOwL,SAAU,mBAAoBnV,KAAKmyD,YACvD,IAAIvE,EAAc5tD,KAAK8qD,iBACvB,eAAO,IAAMnC,GAAS3oD,KAAKo/B,WAAW33B,MAAMq2C,OAAS,GACjD99C,KAAKu1B,WAAW9tB,MAAMk1C,YACtB38C,KAAKu1B,WAAW9tB,MAAMk1C,UAAY,GAClCiR,EAAYhmD,UAAU+B,OAAO,mBAE5B3J,KAAKgqD,QAAWhqD,KAAKi5C,aACtBj5C,KAAKguB,WAAWrrB,IAGxBinD,EAAY/kD,UAAU8sD,gBAAkB,SAAUhvD,GAC9C,IAAIlB,EAASkB,EAAElB,OACX,eAAQA,EAAQ,IAAMqnD,KACtBnmD,EAAE8pC,kBACFzsC,KAAKoyD,oBAGD3wD,EAAOmG,UAAU0E,SAASu7C,KAAUpmD,EAAOmG,UAAU0E,SAASw7C,MAC9D9nD,KAAKqyD,aAAa5wD,EAAQkB,IAItCinD,EAAY/kD,UAAUutD,gBAAkB,WACpCpyD,KAAKyW,QAAQ,mBAAoB,CAAE5P,QAAS7G,KAAKo/B,UAAWkrB,KAAM,YAClEtqD,KAAK4vB,eACL5vB,KAAKqsD,mBACL,eAAO,eAAO,oBAAqBrsD,KAAKo/B,YACnCp/B,KAAKoqD,aAAaxiD,UAAU0E,SAASm8C,KACtC,eAAO,eAAO,IAAMI,GAAc7oD,KAAKo/B,YAE3C,eAAOp/B,KAAKkuD,mBACZluD,KAAK2qD,gBACL3qD,KAAK4qD,oBACL5qD,KAAKg/B,cACLh/B,KAAKkrD,kBACLlrD,KAAKgX,aACLhX,KAAKyW,QAAQ,eAAgB,CAAE5P,QAAS7G,KAAKo/B,UAAWkrB,KAAM,aAElEV,EAAY/kD,UAAUqmD,gBAAkB,WACpC,IAAKlrD,KAAKgqD,OAAQ,CACd,IAAIxoC,EAAWxhB,KAAK2rD,cACpBnqC,EAAS/Z,MAAMsf,KAAO,eAAW,EAAIklC,aACrCzqC,EAAS/Z,MAAMuS,IAAM,eAAW,EAAIgyC,aACpChsD,KAAK6rD,eAAetvC,gBAAgBvc,KAAKorD,SAASvkD,QAAQ4T,iBAGlEmvC,EAAY/kD,UAAUurD,oBAAsB,SAAUztD,GACrCA,EAAElB,OAAOgZ,cAClBza,KAAK+qD,OACL/qD,KAAK0rC,YAAY1rC,KAAK8sD,KAAK,EAAM,EAAG,CAAC,IAAK,IAAK,MAC/C9sD,KAAK+qD,OAAQ,IAGb/qD,KAAK0rC,YAAY1rC,KAAK6sD,KAAK,EAAM,GACjC7sD,KAAK+qD,OAAQ,IAGrBnB,EAAY/kD,UAAU6mC,YAAc,SAAUrqC,EAAO4nC,EAAQ/a,EAAKic,GAG9D,IAFA,IACImoB,EADAtC,EAAU,CAAC,aAAc,aAAc,cAElCvqD,EAAI,EAAG+d,EAAMwsC,EAAQ5qD,OAAQK,EAAI+d,EAAK/d,IAC3C6sD,EAAO,eAAY,eAAO,IAAMtC,EAAQvqD,GAAIzF,KAAKo/B,WAAY,IAC7DkzB,EAAKjxD,MAAQkM,KAAK2hC,MAAM7tC,EAAMoE,IAC1BwjC,IACAqpB,EAAKx0B,YAAckyB,EAAQvqD,GAAGqrD,OAAO5iC,EAAK,GAAGqkC,cAC7CD,EAAKnoB,IAAMA,EAAMA,EAAI1kC,GAAK,KAE9B6sD,EAAKh2C,YAGbstC,EAAY/kD,UAAU0sD,eAAiB,SAAU5uD,GAC7C,IAAIlB,EAASkB,EAAElB,OACX0tD,EAASnvD,KAAKovD,SAASpvD,KAAK6sD,KAChC7sD,KAAK6sD,IAAM7sD,KAAKixD,wBAAwBxvD,EAAOgG,MAAMigD,iBAChD1nD,KAAK6sD,IAAI,KACV7sD,KAAK6sD,IAAI,GAAK,GAElB,IAAIwC,EAASrvD,KAAKovD,SAASpvD,KAAK6sD,KAC5BC,EAAM9sD,KAAK+sD,SAAS54C,MAAMnU,KAAMA,KAAK6sD,KACrCC,EAAI,KAAO9sD,KAAK8sD,IAAI,KACpB9sD,KAAKyuD,UAAU19B,cAAc,CAAE,MAAS+7B,EAAI,KAAM,GAClD9sD,KAAKyuD,UAAUvjC,WAEnBlrB,KAAK6tD,kBAAkBf,EAAI,IACvB9sD,KAAKmqD,eAAiB2C,EAAI,KAAO9sD,KAAK8sD,IAAI,KAC1C9sD,KAAK6uD,cAAc99B,cAAc,CAAE,MAAkB,IAAT+7B,EAAI,KAAY,GAC5D9sD,KAAK6uD,cAAc3jC,UACnBlrB,KAAKgvD,yBAEThvD,KAAK8sD,IAAMA,EACX9sD,KAAK8tD,qBACL9tD,KAAK6wD,YAAYxB,GACjB,eAAO,IAAMjG,GAAU,KAAOrB,GAAS/nD,KAAKo/B,WAAW33B,MAAMigD,gBAAkB1nD,KAAKwrD,mBAAmBxrD,KAAK6sD,KAC5G7sD,KAAKohD,aAAaiO,EAAQF,EAAQnvD,KAAKwrD,mBAAmBxrD,KAAK6sD,OAEnEjD,EAAY/kD,UAAU2sD,oBAAsB,SAAU7uD,GAClDA,EAAEqJ,iBACF,IAAIvK,EAASkB,EAAElB,OACf,GAAIA,EAAOmG,UAAU0E,SAASm9C,IAAO,CAGjC,GAFAzpD,KAAK+wD,sBACL/wD,KAAKwtD,iBAAiB/rD,GAClBA,EAAOmG,UAAU0E,SAASy8C,IAC1B/oD,KAAKwyD,kBAEJ,CACD,IAAInD,EAAS5tD,EAAO2Y,aAAa,cAC7B+0C,EAASnvD,KAAKovD,SAASpvD,KAAK6sD,KAChC7sD,KAAK6sD,IAAM7sD,KAAKyrD,SAASzrD,KAAK8uC,WAAWugB,IACzCrvD,KAAK8sD,IAAM9sD,KAAK+sD,SAAS54C,MAAMnU,KAAMA,KAAK6sD,KACtC7sD,KAAKoqD,aAAaxiD,UAAU0E,SAASg9C,KACrCtpD,KAAK6wD,YAAYxB,GAErBrvD,KAAKohD,aAAaiO,EAAQF,EAAQnvD,KAAKwrD,mBAAmBxrD,KAAK6sD,MAE9D7sD,KAAKgqD,QAAWhqD,KAAKi5C,aACtBj5C,KAAKguB,WAAWrrB,QAIhB,eAAQlB,EAAQ,IAAMqnD,IACtB9oD,KAAKyyD,iBAGDhxD,EAAOmG,UAAU0E,SAASu7C,KAAUpmD,EAAOmG,UAAU0E,SAASw7C,IAC9D9nD,KAAKqyD,aAAa5wD,EAAQkB,GAGtB3C,KAAKoqD,aAAaxiD,UAAU0E,SAASg9C,KAAc,eAAQ7nD,EAAQ,IAAM0mD,KACzEnoD,KAAKowD,oBAAoBztD,IAM7CinD,EAAY/kD,UAAU2tD,YAAc,SAAU5B,QAC5B,IAAVA,IAAoBA,GAAQ,GAChC,IAAIzB,EAASnvD,KAAKovD,SAASpvD,KAAK6sD,KAChC7sD,KAAK6sD,IAAM,GACX7sD,KAAK8sD,IAAM,GACX9sD,KAAKohD,aAAa,GAAI+N,EAAQ,GAAIyB,IAEtChH,EAAY/kD,UAAU4tD,eAAiB,WACnC,IAAIphC,EAAUrxB,KAAKoqD,aACnBpqD,KAAKyW,QAAQ,mBAAoB,CAAE5P,QAAS7G,KAAKo/B,UAAWkrB,KAAM,WAClEtqD,KAAK4vB,eACJ,GAAG7rB,MAAM+C,KAAK,eAAU,IAAMmiD,GAAUjpD,KAAKo/B,YAAat1B,SAAQ,SAAUf,GACzE,eAAOA,MAEPsoB,EAAQzpB,UAAU0E,SAASg9C,KAC3B,eAAO,eAAO,IAAMT,GAAc7oD,KAAKo/B,YAE3Cp/B,KAAKo/B,UAAU33B,MAAM6G,MAAQ,GAC7B,IAAIokD,EAAS,eAAO,oBAAqB1yD,KAAKo/B,WAC1Cp/B,KAAKssD,cACL,eAAOoG,GAEX1yD,KAAK6qD,eACL7qD,KAAK8qD,iBAAiB7xC,QACtBjZ,KAAKg/B,cACLh/B,KAAKkrD,kBACLlrD,KAAKgX,aACLhX,KAAKyW,QAAQ,eAAgB,CAAE5P,QAAS7G,KAAKo/B,UAAWkrB,KAAM,YAElEV,EAAY/kD,UAAUwtD,aAAe,SAAUtpD,EAAKpG,GAChD,GAAIoG,EAAInB,UAAU0E,SAASu7C,IAAQ,CAC/B,IAAIwH,EAASrvD,KAAKovD,SAASpvD,KAAK6sD,KAChC7sD,KAAK8xD,mBAAmBzC,GAEvBrvD,KAAKgqD,SACNhqD,KAAKguB,WAAWrrB,GAChB3C,KAAKorD,SAASvkD,QAAQoS,UAG9B2wC,EAAY/kD,UAAU4sD,eAAiB,SAAU9uD,GAC7C,IAAIlB,EAASkB,EAAElB,OACf,GAAKA,EAAOmG,UAAU0E,SAAS28C,IAA/B,CAGA,IAAI+H,EACA9iC,EACAykC,EAAQ,GAAG5uD,MAAM+C,KAAK,eAAU,IAAM2iD,GAAMhoD,IAC5CmxD,EAAmBD,EAAM1V,QAAO,SAAUkQ,GAAQ,OAAOA,EAAKvlD,UAAU0E,SAAS,iBAAmBumD,MACxG,QAASlwD,EAAEwtB,QAAUxtB,EAAEiV,SACnB,KAAK,GACDjV,EAAEqJ,iBACFglD,EAAc4B,EAAkBD,EAAM3yD,KAAK8yD,aAAaH,EAAOC,EAAiB5yD,KAAK2H,WAAa,EAAI,IAChGgrD,EAAM3yD,KAAK2H,UAAYgrD,EAAMvtD,OAAS,EAAI,GAChDpF,KAAK+yD,oBAAoB/B,GACzB,MACJ,KAAK,GACDruD,EAAEqJ,iBACFglD,EAAc4B,EAAkBD,EAAM3yD,KAAK8yD,aAAaH,EAAOC,EAAiB5yD,KAAK2H,UAAY,GAAK,IAChGgrD,EAAM3yD,KAAK2H,UAAY,EAAIgrD,EAAMvtD,OAAS,GAChDpF,KAAK+yD,oBAAoB/B,GACzB,MACJ,KAAK,GACDruD,EAAEqJ,iBACFkiB,EAAM0kC,EAAkB5yD,KAAK8yD,aAAaH,EAAOC,GAAkB5yD,KAAKstD,SAAW,EACnF0D,EAAc2B,EAAMzkC,GAAOykC,EAAMzkC,GAAOykC,EAAMzkC,EAAMluB,KAAKstD,SACzDttD,KAAK+yD,oBAAoB/B,GACzB,MACJ,KAAK,GACDruD,EAAEqJ,iBACFkiB,EAAM0kC,EAAkB5yD,KAAK8yD,aAAaH,EAAOC,EAAiB5yD,KAAKstD,SAAWqF,EAAMvtD,OAAS,EAC7FutD,EAAMzkC,KAINA,GAAOykC,EAAMvtD,OACb8oB,GAAOykC,EAAMA,EAAMvtD,OAAS,GAAGqV,cAAcwC,mBAJ7C+zC,EAAc2B,EAAMzkC,GAOxBluB,KAAK+yD,oBAAoB/B,GACzB,MACJ,KAAK,GAED,GADAruD,EAAEqJ,iBACE4mD,EAAiB,CACjB,IAAIvD,EAASuD,EAAgBx4C,aAAa,cAC1Cpa,KAAK6xD,gBAAgBxC,GAAkB,GAAI1sD,OAI3DinD,EAAY/kD,UAAUkuD,oBAAsB,SAAUC,GAGlD,GAFAhzD,KAAK+wD,sBACL/wD,KAAKwtD,iBAAiBwF,GAClBA,EAAOprD,UAAU0E,SAASy8C,IAC1B/oD,KAAKwyD,aAAY,OAEhB,CACD,IAAInD,EAAS2D,EAAO54C,aAAa,cAC7B+0C,EAASnvD,KAAKovD,SAASpvD,KAAK6sD,KAChC7sD,KAAK6sD,IAAM7sD,KAAKyrD,SAAS4D,GACzBrvD,KAAK8sD,IAAM9sD,KAAK+sD,SAAS54C,MAAMnU,KAAMA,KAAK6sD,KACtC7sD,KAAKoqD,aAAaxiD,UAAU0E,SAASg9C,KACrCtpD,KAAK6wD,YAAYxB,GAErBrvD,KAAKohD,aAAaiO,EAAQF,EAAQnvD,KAAKwrD,mBAAmBxrD,KAAK6sD,MAAM,KAG7EjD,EAAY/kD,UAAUiuD,aAAe,SAAUl8C,EAAO/P,EAASosD,GAC3Dr8C,EAAQxT,MAAMyB,UAAUd,MAAM+C,KAAK8P,GACnC,IAAIs6C,EAAIt6C,EAAMxR,OACV8tD,EAAalzD,KAAKstD,QAAU12C,EAAMs6C,EAAI,GAAGz2C,cAAcwC,kBACvDiR,EAAMtX,EAAMoE,QAAQnU,GAGxB,OAFAqnB,GAAO+kC,EACP/kC,EAAM,EAAIA,GAAOgjC,EAAIgC,EAAahlC,GAAOgjC,EAAIgC,EACtChlC,GAEX07B,EAAY/kD,UAAUmnC,aAAe,SAAUrpC,GAC3C,IAAIlB,EAASkB,EAAElB,OACf,GAAKA,EAAOJ,MAAM+D,OAAlB,CAGA,IAAI0nD,EACAqC,EACA7uB,EAAQ,eAAO,gBAAiB7+B,EAAOgZ,eAAe+P,YAC1D,OAAQ8V,GACJ,IAAK,MACD,IAAIj/B,EAAQ,GAIZ,IAHyB,MAApBI,EAAOJ,MAAM,IAAsC,IAAxBI,EAAOJ,MAAM+D,QAAsC,MAApB3D,EAAOJ,MAAM,IAAsC,IAAxBI,EAAOJ,MAAM+D,UACnG/D,EAAQrB,KAAK8uC,WAAWrtC,EAAOJ,QAEd,IAAjBA,EAAM+D,OAMN,OALA+pD,EAASnvD,KAAKovD,SAASpvD,KAAK6sD,KAC5B7sD,KAAK6sD,IAAM7sD,KAAKyrD,SAASpqD,EAAQA,EAAMyvD,QAAQ,IAC/C9wD,KAAKmzD,iBAAiBnzD,KAAK+sD,SAAS54C,MAAMnU,KAAMA,KAAK6sD,KAAMsC,EAAQ1tD,EAAOJ,OAK9E,MACJ,IAAK,IACGrB,KAAK6sD,IAAI,KAAO3iB,OAAOzoC,EAAOJ,SAC9B8tD,EAASnvD,KAAKovD,SAASpvD,KAAK6sD,KAC5B7sD,KAAK6sD,IAAI,GAAK3iB,OAAOzoC,EAAOJ,OAC5ByrD,EAAM9sD,KAAK+sD,SAAS54C,MAAMnU,KAAMA,KAAK6sD,KACrC7sD,KAAKmzD,iBAAiBrG,EAAKqC,IAE/B,MACJ,IAAK,IACGnvD,KAAK6sD,IAAI,KAAO3iB,OAAOzoC,EAAOJ,SAC9B8tD,EAASnvD,KAAKovD,SAASpvD,KAAK6sD,KAC5B7sD,KAAK6sD,IAAI,GAAK3iB,OAAOzoC,EAAOJ,OAC5ByrD,EAAM9sD,KAAK+sD,SAAS54C,MAAMnU,KAAMA,KAAK6sD,KACrC7sD,KAAKmzD,iBAAiBrG,EAAKqC,IAE/B,MACJ,IAAK,IACGnvD,KAAK6sD,IAAI,KAAO3iB,OAAOzoC,EAAOJ,SAC9B8tD,EAASnvD,KAAKovD,SAASpvD,KAAK6sD,KAC5B7sD,KAAK6sD,IAAI,GAAK3iB,OAAOzoC,EAAOJ,OAC5ByrD,EAAM9sD,KAAK+sD,SAAS54C,MAAMnU,KAAMA,KAAK6sD,KACrC7sD,KAAKmzD,iBAAiBrG,EAAKqC,IAE/B,MACJ,IAAK,IACDnvD,KAAKyuD,UAAUptD,MAAQ6oC,OAAOzoC,EAAOJ,OACrC,MACJ,IAAK,IACGrB,KAAK8sD,IAAI,KAAO5iB,OAAOzoC,EAAOJ,SAC9BrB,KAAK8sD,IAAI,GAAK5iB,OAAOzoC,EAAOJ,OAC5BrB,KAAK2wD,YACL3wD,KAAKkvD,wBAET,MACJ,IAAK,IACGlvD,KAAK8sD,IAAI,KAAO5iB,OAAOzoC,EAAOJ,SAC9BrB,KAAK8sD,IAAI,GAAK5iB,OAAOzoC,EAAOJ,OAC5BrB,KAAK2wD,YACL3wD,KAAKkvD,wBAET,MACJ,IAAK,IACDlvD,KAAK6uD,cAAcxtD,MAAQ6oC,OAAOzoC,EAAOJ,OACzC,SAGZuoD,EAAY/kD,UAAUsuD,iBAAmB,SAAUrG,EAAKqC,EAAQ9tD,GACxDyrD,EAAI,KAAO9sD,KAAK8sD,IAAI,KACpB9sD,KAAKyuD,UAAU19B,cAAc,CAAE,MAAS+7B,EAAI,KAAM,GAClD9sD,KAAKyuD,UAAUvjC,UACflrB,KAAK6tD,kBAAkBf,EAAI,KAE/B9sD,KAAK8sD,IAAMA,EACX,IAAIuC,EAASrvD,KAAKovD,SAASpvD,KAAK6sD,KAChC7sD,KAAK8tD,qBACL9tD,KAAK6wD,YAAYxvD,GAAgBguD,GACjC,IAAI9D,EAAOvrD,KAAKwrD,mBAAmBxrD,KAAK6sD,KACxC7sD,KAAKuvD,cAAchE,GACnBvrD,KAAKohD,aAAaiO,EAAQF,EAAQ5D,IAEtC3B,EAAY/kD,UAAUu8C,aAAe,SAAUiO,EAAQF,EAAQ5D,EAAMqF,QACnD,IAAVA,IAAoBA,GAAQ,GAChC,IAAItF,EAAM+D,EAAOtrD,MAAM,EAAG,GACrB/D,KAAKi5C,aAAgB2X,EAOtB5wD,KAAKyW,QAAQ,SAAU,CACnB8sC,aAAc,CAAE+H,IAAKA,EAAKC,KAAMA,GAChC3e,cAAe,CAAE0e,IAAK6D,EAAOprD,MAAM,EAAG,GAAIwnD,KAAMvrD,KAAKwrD,mBAAmBxrD,KAAKyrD,SAAS0D,QAR1FnvD,KAAKyW,QAAQ,SAAU,CAAE8sC,aAAc,CAAE+H,IAAKA,EAAKC,KAAMA,GACrD3e,cAAe,CAAE0e,IAAKtrD,KAAKqB,MAAM0C,MAAM,EAAG,GAAIwnD,KAAMvrD,KAAKwrD,mBAAmBxrD,KAAKyrD,SAASzrD,KAAKqB,SAAWA,MAAOguD,IACrHrvD,KAAK+wB,cAAc,CAAE,MAASs+B,IAAU,GACxCrvD,KAAK6G,QAAQxF,MAAQiqD,GAAY,YAezC1B,EAAY/kD,UAAU6E,QAAU,WAC5B,IAAIuB,EAAQjL,KACRqxB,EAAUrxB,KAAKoqD,aACnB1jD,EAAO7B,UAAU6E,QAAQ5C,KAAK9G,MAC9B,CAAC,WAAY,cAAc8J,SAAQ,SAAUyd,GAAQtc,EAAMpE,QAAQoD,gBAAgBsd,MAC/EvnB,KAAKgqD,QACLhqD,KAAK4vB,eACL5vB,KAAKqsD,qBAGDrsD,KAAKozD,gBACLpzD,KAAK4vB,eACL5vB,KAAKqsD,oBAETrsD,KAAKorD,SAAS1hD,UACd1J,KAAKorD,SAAW,MAEpBprD,KAAKyqD,aACLzqD,KAAKyqD,WAAa,KAClBzqD,KAAK0qD,gBACL1qD,KAAK0qD,cAAgB,KACjB1qD,KAAK6G,QAAQukC,oBACb,eAAOprC,KAAK6G,QAAQukC,oBAEpB/Z,IACAA,EAAQ5W,cAAc/P,aAAa1K,KAAK6G,QAASwqB,GACjD,eAAOA,IAEXrxB,KAAKo/B,UAAY,KACbp/B,KAAKmrC,aACL,OAAaxhC,OAAO3J,KAAKmrC,YAAa,QAASnrC,KAAK2mD,mBAG5DiD,EAAY/kD,UAAUwnD,iBAAmB,WACrC,GAAIrsD,KAAK2vD,WAAY,CACjB3vD,KAAKyuD,UAAU/kD,UACX1J,KAAKmqD,gBACLnqD,KAAK6uD,cAAcnlD,UACnB1J,KAAK6uD,cAAgB,MAEzB7uD,KAAKyuD,UAAY,KACjB,IAAI4E,EAAcrzD,KAAKwwD,iBACvB6C,EAAYnxC,QACZmxC,EAAY3pD,UACZ1J,KAAKu1B,WAAa,OAG1Bq0B,EAAY/kD,UAAUuuD,YAAc,WAChC,OAAOpzD,KAAK2rD,cAAc/jD,UAAU0E,SAAS,iBAEjDs9C,EAAY/kD,UAAU+qB,aAAe,WACjC,GAAI5vB,KAAK2vD,WAAY,CACH3vD,KAAKoqD,aAAnB,IACIwD,EAAc5tD,KAAK8qD,iBACvB,OAAanhD,OAAOikD,EAAa,UAAW5tD,KAAKoxD,eACjD,OAAaznD,OAAO3J,KAAKkuD,kBAAmB,uBAAwBluD,KAAKqxD,cACrErxD,KAAK0sD,cAAgB1sD,KAAKi5C,cAC1B,OAAatvC,OAAO,eAAO,IAAMu+C,GAAYloD,KAAKo/B,WAAY,QAASp/B,KAAK2xD,iBAEhF,OAAahoD,OAAO,eAAO,IAAM0/C,GAAUrpD,KAAKo/B,WAAY,QAASp/B,KAAKuxD,qBAG1E,OAAa5nD,OAAO3J,KAAKo/B,UAAW,QAASp/B,KAAKwxD,qBAClD,OAAa7nD,OAAO3J,KAAKo/B,UAAW,UAAWp/B,KAAKyxD,iBAG5D7H,EAAY/kD,UAAUiqC,WAAa,SAAUztC,GACzC,IAAKA,EACD,MAAO,GAEM,MAAbA,EAAM,KACNA,EAAQ,IAAMA,GAElB,IAAImiB,EAAMniB,EAAM+D,OAKhB,GAJY,IAARoe,IACAniB,GAAS,IACTmiB,EAAM,GAEE,IAARA,EAAW,CAEX,IADA,IAAI8vC,EAAY,GACP7tD,EAAI,EAAG4oB,EAAQhtB,EAAM+D,OAAQK,EAAI4oB,EAAO5oB,IAC7C6tD,GAAcjyD,EAAMkyD,OAAO9tD,GAAKpE,EAAMkyD,OAAO9tD,GAEjDpE,EAAQ,IAAMiyD,EACd9vC,EAAM,EAKV,OAHY,IAARA,IACAniB,GAAS,MAENA,GAEXuoD,EAAY/kD,UAAU4mD,SAAW,SAAUH,GACvC,IAAKA,EACD,MAAO,GAEXA,EAAMA,EAAIhiC,OACS,IAAfgiC,EAAIlmD,SACJkmD,EAAMtrD,KAAK8uC,WAAWwc,IAE1B,IAAIkI,EAAUtpB,QAAQvhB,SAAS2iC,EAAIvnD,OAAO,GAAI,IAAM,KAAK+rC,QAAQ,IACjEwb,EAAMA,EAAIvnD,MAAM,EAAG,GACnB,IAAI0vD,EAAS9qC,SAAS2iC,EAAK,IACvB2C,EAAI,GAKR,OAJAA,EAAEpwC,KAAM41C,GAAU,GAAM,KACxBxF,EAAEpwC,KAAM41C,GAAU,EAAK,KACvBxF,EAAEpwC,KAAc,IAAT41C,GACPxF,EAAEpwC,KAAK21C,GACAvF,GAEXrE,EAAY/kD,UAAUkoD,SAAW,SAAU1nD,EAAGquD,EAAGrvD,EAAGmvD,GAChD,GAAIxzD,KAAK6sD,MAAQ7sD,KAAK6sD,IAAIznD,OACtB,MAAO,GAEXC,GAAK,IACLquD,GAAK,IACLrvD,GAAK,IACL,IAEI4pD,EACA0F,EAHAxpB,EAAM58B,KAAK48B,IAAI9kC,EAAGquD,EAAGrvD,GACrB4lC,EAAM18B,KAAK08B,IAAI5kC,EAAGquD,EAAGrvD,GAGrBuvD,EAAIzpB,EACJ/lC,EAAI+lC,EAAMF,EAEd,GADA0pB,EAAY,IAARxpB,EAAY,EAAI/lC,EAAI+lC,EACpBA,IAAQF,EACRgkB,EAAI,MAEH,CACD,OAAQ9jB,GACJ,KAAK9kC,EACD4oD,GAAKyF,EAAIrvD,GAAKD,GAAKsvD,EAAIrvD,EAAI,EAAI,GAC/B,MACJ,KAAKqvD,EACDzF,GAAK5pD,EAAIgB,GAAKjB,EAAI,EAClB,MACJ,KAAKC,EACD4pD,GAAK5oD,EAAIquD,GAAKtvD,EAAI,EAClB,MAER6pD,GAAK,EAET,IAAInB,EAAM,CAACv/C,KAAK2hC,MAAU,IAAJ+e,GAAU1gD,KAAK2hC,MAAU,IAAJykB,GAAY,GAAIpmD,KAAK2hC,MAAU,IAAJ0kB,GAAY,IAIlF,OAHK,eAAkBJ,IACnB1G,EAAIjvC,KAAK21C,GAEN1G,GAEXlD,EAAY/kD,UAAUspD,SAAW,SAAUF,EAAG0F,EAAGC,EAAGJ,GAChD,IAAInuD,EACAquD,EACArvD,EACAoB,EACAouD,EACApvD,EACAqvD,EACAC,EAGJ,GAFAJ,GAAK,IACLC,GAAK,IACK,IAAND,EAEA,OADAtuD,EAAIquD,EAAIrvD,EAAIuvD,EACL,CAACrmD,KAAK2hC,MAAU,IAAJ7pC,GAAUkI,KAAK2hC,MAAU,IAAJwkB,GAAUnmD,KAAK2hC,MAAU,IAAJ7qC,GAAUmvD,GAQ3E,OANAvF,GAAK,GACLxoD,EAAI8H,KAAKymD,MAAM/F,GACf4F,EAAI5F,EAAIxoD,EACRhB,EAAImvD,GAAK,EAAID,GACbG,EAAIF,GAAK,EAAID,EAAIE,GACjBE,EAAIH,GAAK,EAAID,GAAK,EAAIE,IACdpuD,GACJ,KAAK,EACDJ,EAAIuuD,EACJF,EAAIK,EACJ1vD,EAAII,EACJ,MACJ,KAAK,EACDY,EAAIyuD,EACJJ,EAAIE,EACJvvD,EAAII,EACJ,MACJ,KAAK,EACDY,EAAIZ,EACJivD,EAAIE,EACJvvD,EAAI0vD,EACJ,MACJ,KAAK,EACD1uD,EAAIZ,EACJivD,EAAII,EACJzvD,EAAIuvD,EACJ,MACJ,KAAK,EACDvuD,EAAI0uD,EACJL,EAAIjvD,EACJJ,EAAIuvD,EACJ,MACJ,QACIvuD,EAAIuuD,EACJF,EAAIjvD,EACJJ,EAAIyvD,EAEZ,IAAIjH,EAAM,CAACt/C,KAAK2hC,MAAU,IAAJ7pC,GAAUkI,KAAK2hC,MAAU,IAAJwkB,GAAUnmD,KAAK2hC,MAAU,IAAJ7qC,IAIhE,OAHK,eAAkBmvD,IACnB3G,EAAIhvC,KAAK21C,GAEN3G,GAEXjD,EAAY/kD,UAAUuqD,SAAW,SAAUvC,GACvC,OAAOA,EAAIznD,OAAU,IAAMpF,KAAKsrD,IAAIuB,EAAI,IAAM7sD,KAAKsrD,IAAIuB,EAAI,IAAM7sD,KAAKsrD,IAAIuB,EAAI,KACxE,eAAkBA,EAAI,IAA6F,GAA3E,IAAXA,EAAI,IAAYt/C,KAAK2hC,MAAe,IAAT2d,EAAI,IAAY,OAASjkC,SAAS,IAAIkoC,QAAQ,GAAK,MAAe,IAEpIlH,EAAY/kD,UAAUymD,IAAM,SAAUjwB,GAClC,OAAQ,IAAMA,EAAEzS,SAAS,KAAK7kB,OAAO,IAEzC6lD,EAAY/kD,UAAUovD,uBAAyB,SAAU/kD,GACrD,IAAIglD,EAAoB,eAAO,IAAMhM,GAAYloD,KAAKo/B,WAClDlwB,EACIglD,EACAl0D,KAAKuwD,uBAGLvwD,KAAKgrD,gBACDhrD,KAAK2vD,aAAe3vD,KAAKmb,UACzBnb,KAAKsxD,sBAKT4C,IACIl0D,KAAKi5C,YACL,eAAO,eAAO,IAAM6P,GAAYoL,IAGhC,eAAOA,KAKvBtK,EAAY/kD,UAAUsvD,mBAAqB,SAAUjlD,GACjD,IAAIklD,EAAiB,eAAO,IAAMlM,GAAYloD,KAAKo/B,WAC/ClwB,GACIklD,GACA,eAAOA,GAEXp0D,KAAKgrD,gBACDhrD,KAAK2vD,aAAe3vD,KAAKmb,UACzBnb,KAAKsxD,sBAILtxD,KAAK0sD,aACL,eAAO,eAAO,IAAMzE,GAASmM,IAG7B,eAAOA,IAInBxK,EAAY/kD,UAAUwvD,gBAAkB,SAAUtlD,GAC9C,GAAI/O,KAAK2vD,WACL3vD,KAAK6sD,IAAM7sD,KAAKyrD,SAAS18C,GACzB/O,KAAK8sD,IAAM9sD,KAAK+sD,SAAS54C,MAAMnU,KAAMA,KAAK6sD,KAC1C7sD,KAAK8tD,qBACL,eAAO,eAAQ9tD,KAAKyuD,UAAU5nD,QAAS,sBACvC7G,KAAK+tD,eACL/tD,KAAK6tD,oBACL7tD,KAAK6wD,YAAY9hD,GACO,IAApB/O,KAAK6sD,IAAIznD,QACTpF,KAAKsvD,mBAAiC,IAAdtvD,KAAK6sD,IAAI,QAGpC,CACD7sD,KAAK+wD,sBACL,IAAIhoD,EAAM,eAAO,oBAAsB/I,KAAK8uC,WAAW//B,GAAW,KAAM/O,KAAKo/B,WACzEr2B,GACA/I,KAAKwtD,iBAAiBzkD,KAIlC6gD,EAAY/kD,UAAUyvD,iBAAmB,SAAUplD,GAC/C,eAAO,eAAO,IAAM25C,GAAc7oD,KAAKo/B,YACvCp/B,KAAKg/B,eAET4qB,EAAY/kD,UAAU0vD,mBAAqB,SAAUxlD,GAC7C/O,KAAK2vD,aACL3vD,KAAKyuD,UAAUntB,SAAWvyB,EAC1B/O,KAAK6uD,cAAcvtB,SAAWvyB,EAC9B/O,KAAKs0D,iBAAiBvlD,IAEtBA,GACA/O,KAAKirD,gBAAe,GACpBjrD,KAAK4vB,iBAGL5vB,KAAKirD,gBAAe,GACpBjrD,KAAKgX,eAGb4yC,EAAY/kD,UAAU2vD,oBAAsB,SAAUzlD,EAASC,GAC3D,IAAIqiB,EAAUrxB,KAAKoqD,aACfqK,EAAez0D,KAAK2rD,cACpB38C,GACA,eAAY,CAACqiB,EAASojC,GAAezlD,EAAQqH,MAAM,MAEnDtH,GACA,eAAS,CAACsiB,EAASojC,GAAe1lD,EAAQsH,MAAM,OAGxDuzC,EAAY/kD,UAAU6vD,eAAiB,SAAU3lD,GACzCA,EACA,eAAS,CAAC/O,KAAKoqD,cAAe,SAG9B,eAAY,CAACpqD,KAAKoqD,cAAe,UAGzCR,EAAY/kD,UAAU8vD,mBAAqB,WACvC,eAAO30D,KAAKo/B,UAAU38B,SAAS,IAC/BzC,KAAKo/B,UAAU33B,MAAM6G,MAAQ,GAC7BtO,KAAK2qD,iBAETf,EAAY/kD,UAAU+vD,mBAAqB,SAAU7lD,GACjD,IAAIsiB,EAAUrxB,KAAKoqD,aACfr7C,GACA,eAAY,CAAC/O,KAAKo/B,UAAU3kB,eAAgB8tC,IAC5CvoD,KAAK4uD,oBAAoB,eAAO,wBAAyB5uD,KAAKo/B,WAAWj2B,YAAYnJ,KAAK2I,cAAc,MAAO,CAAEC,UAAW,uBACvHyoB,EAAQzpB,UAAU0E,SAASm8C,KAAep3B,EAAQzpB,UAAU0E,SAASk8C,KACtExoD,KAAKiwD,mBAAmB,eAAO,qBAAsBjwD,KAAKo/B,cAI9D,eAAS,CAACp/B,KAAKo/B,UAAU3kB,eAAgB8tC,IACzCvoD,KAAK6uD,cAAcnlD,UACnB,eAAO1J,KAAK6uD,cAAchoD,SAC1B7G,KAAK6uD,cAAgB,KAChBx9B,EAAQzpB,UAAU0E,SAASm8C,KAAep3B,EAAQzpB,UAAU0E,SAASk8C,KACtE,eAAO,eAAO,IAAMQ,GAAShpD,KAAKo/B,WAAW3kB,iBAWzDmvC,EAAY/kD,UAAUiK,kBAAoB,SAAUC,EAASC,GACzD,IAAI/D,EAAQjL,KACZ,IAAK,eAAkB+O,EAAQ1N,OAAQ,CACnC,IAAIA,EAAQrB,KAAK8uC,WAAW//B,EAAQ1N,OACpC,GAAqB,IAAjBA,EAAM+D,OAAc,CACpBpF,KAAK6G,QAAQxF,MAAQrB,KAAK8uC,WAAWztC,GAAO0C,MAAM,EAAG,GACrD,IAAI2nD,EAAU1rD,KAAKorD,UAAY,eAAO,IAAM5B,GAAcxpD,KAAKorD,SAASvkD,SACpE6kD,IACAA,EAAQjkD,MAAMigD,gBAAkB1nD,KAAKwrD,mBAAmBxrD,KAAKyrD,SAAS18C,EAAQ1N,cAIlFrB,KAAKqB,MAAQ2N,EAAQ3N,MAG7B,IAAKrB,KAAKgqD,QAAU,eAAkBj7C,EAAQi7C,QAAS,CACnD,IAAI6K,EAAiB,CAAC,WAAY,aAElC,GADA70D,KAAKorD,SAASr6B,cAAc/E,GAASjd,EAAS8lD,KACzC70D,KAAKozD,cAGN,OAFApzD,KAAKw0D,oBAAoBzlD,EAAQqH,SAAUpH,EAAQoH,eACnDpW,KAAK00D,eAAe3lD,EAAQpH,WA+FpC,IA3FA,IAAI4e,EAAU,SAAUrX,GACpB,OAAQA,GACJ,IAAK,SACGH,EAAQi7C,QACRxjC,EAAO4jC,aAAajhD,YAAYqd,EAAO4Y,WACvC5Y,EAAO4kC,SAAS1hD,UAChB,eAAO8c,EAAO3f,QAAQukC,oBACjB5kB,EAAO4Y,UAAU38B,SAAS2C,QAC3BohB,EAAOyjC,iBAIXzjC,EAAO6lC,mBACP7lC,EAAOoJ,eACPpJ,EAAO4Y,UAAUlV,UAAY,GAC7B1D,EAAO0jC,kBAEX,MACJ,IAAK,WACD1jC,EAAOguC,oBAAoBzlD,EAAQqH,SAAUpH,EAAQoH,UACrD,IAAI6V,EAAQld,EAAQqH,SAASC,MAAM,KAAKvS,OAAOkL,EAAQoH,SAASC,MAAM,MACtE4V,EAAQA,EAAM6oC,QAAO,SAAUjtC,EAAGxjB,GAEhC,OAFyCwjB,EAAE7M,QAAQ3W,GAAK,GACtDwjB,EAAEhK,KAAKxZ,GACFwjB,IAAM,IACf,IAAIktC,EAAU,EACd9oC,EAAMniB,SAAQ,SAAUia,GACpB,GAAgB,IAAZgxC,IACChxC,IAAQ0kC,IAAa1kC,IAAQ2kC,IAAmB3kC,IAAQulC,IAAavlC,IAAQukC,IAAWvkC,IAAQykC,IAAW,CAC5G,IAAIvnB,EAAY,eAAO,IAAM4nB,GAAc59C,EAAMm0B,WAC7C6B,GACA,eAAO,eAAO,IAAM4nB,GAAc59C,EAAMm0B,YAE5Cn0B,EAAM+zB,cACN+1B,QAGR,MACJ,IAAK,YACGvuC,EAAOmpC,aACPnpC,EAAOioC,UAAU9mD,UAAYoH,EAAQpH,UACjC6e,EAAO2jC,gBACP3jC,EAAOqoC,cAAclnD,UAAYoH,EAAQpH,WAE7C6e,EAAO8tC,iBAAiBvlD,EAAQpH,YAEpC6e,EAAOkuC,eAAe3lD,EAAQpH,WAC9B,MACJ,IAAK,WACD6e,EAAO+tC,mBAAmBxlD,EAAQoM,UAClC,MACJ,IAAK,QACGqL,EAAOnlB,QAAU2N,EAAQ3N,OACzBmlB,EAAO6tC,gBAAgBtlD,EAAQ1N,OAEnC,MACJ,IAAK,cACDmlB,EAAO2tC,mBAAmBplD,EAAQkqC,aAClC,MACJ,IAAK,OACoB,WAAjBlqC,EAAQu7C,KACR9jC,EAAOisC,iBAGPjsC,EAAO4rC,kBAEX,MACJ,IAAK,eACD5rC,EAAOytC,uBAAuBllD,EAAQ29C,cACtC,MACJ,IAAK,UACL,IAAK,eACIlmC,EAAOmpC,YACRnpC,EAAOmuC,qBAEX,MACJ,IAAK,UACG5lD,EAAQs7C,QACY,YAAhB7jC,EAAO8jC,MAAuB9jC,EAAOkmC,cACrClmC,EAAOmmC,aAIXnmC,EAAOmuC,qBAEX,MACJ,IAAK,gBACDnuC,EAAOouC,mBAAmB7lD,EAAQo7C,eAClC,QAGR3jC,EAASxmB,KACJuD,EAAK,EAAGwG,EAAKzF,OAAO2K,KAAKF,GAAUxL,EAAKwG,EAAG3E,OAAQ7B,IAAM,CAC9D,IAAI2L,EAAOnF,EAAGxG,GACdgjB,EAAQrX,KAQhB06C,EAAY/kD,UAAUosB,QAAU,WAC5BjxB,KAAK6G,QAAQ4T,cAAcxB,SAE/B,GAAW,CACP,eAAS,cACV2wC,EAAY/kD,UAAW,aAAS,GACnC,GAAW,CACP,eAAS,KACV+kD,EAAY/kD,UAAW,gBAAY,GACtC,GAAW,CACP,gBAAS,IACV+kD,EAAY/kD,UAAW,gBAAY,GACtC,GAAW,CACP,eAAS,WACV+kD,EAAY/kD,UAAW,YAAQ,GAClC,GAAW,CACP,gBAAS,IACV+kD,EAAY/kD,UAAW,oBAAgB,GAC1C,GAAW,CACP,eAAS,OACV+kD,EAAY/kD,UAAW,oBAAgB,GAC1C,GAAW,CACP,gBAAS,IACV+kD,EAAY/kD,UAAW,mBAAe,GACzC,GAAW,CACP,eAAS,KACV+kD,EAAY/kD,UAAW,eAAW,GACrC,GAAW,CACP,gBAAS,IACV+kD,EAAY/kD,UAAW,cAAU,GACpC,GAAW,CACP,gBAAS,IACV+kD,EAAY/kD,UAAW,eAAW,GACrC,GAAW,CACP,gBAAS,IACV+kD,EAAY/kD,UAAW,yBAAqB,GAC/C,GAAW,CACP,gBAAS,IACV+kD,EAAY/kD,UAAW,qBAAiB,GAC3C,GAAW,CACP,kBACD+kD,EAAY/kD,UAAW,cAAU,GACpC,GAAW,CACP,kBACD+kD,EAAY/kD,UAAW,cAAU,GACpC,GAAW,CACP,kBACD+kD,EAAY/kD,UAAW,wBAAoB,GAC9C,GAAW,CACP,kBACD+kD,EAAY/kD,UAAW,kBAAc,GACxC,GAAW,CACP,kBACD+kD,EAAY/kD,UAAW,YAAQ,GAClC,GAAW,CACP,kBACD+kD,EAAY/kD,UAAW,mBAAe,GACzC,GAAW,CACP,kBACD+kD,EAAY/kD,UAAW,wBAAoB,GAC9C,GAAW,CACP,kBACD+kD,EAAY/kD,UAAW,oBAAgB,GAC1C,GAAW,CACP,kBACD+kD,EAAY/kD,UAAW,eAAW,GACrC+kD,EAAc,GAAW,CACrB,QACDA,GACIA,EA1uDqB,CA2uD9B,QChzDE,GAAiC,WAIjC,SAASoL,EAAgB/0B,GACrBjgC,KAAKigC,OAASA,EACdjgC,KAAKi1D,YA4aT,OA1aAD,EAAgBnwD,UAAUowD,UAAY,WAClCj1D,KAAKigC,OAAOz/B,GAAG,OAAgBR,KAAKk1D,YAAal1D,OAErDg1D,EAAgBnwD,UAAUqwD,YAAc,WACpCl1D,KAAKigC,OAAOk1B,IAAI,OAAgBn1D,KAAKk1D,aACjCl1D,KAAKo1D,cACL,OAAazrD,OAAO3J,KAAKo1D,aAAc,kBAAmBp1D,KAAKq1D,gBAEnEr1D,KAAKs1D,wBAETN,EAAgBnwD,UAAU0wD,oBAAsB,SAAU5yD,GACpC,aAAd3C,KAAKsqD,OACL3nD,EAAE6T,iBAAkB,IAG5Bw+C,EAAgBnwD,UAAU2wD,eAAiB,WACvCx1D,KAAKigC,OAAOnV,OAAO,QAAuB9qB,OAE9Cg1D,EAAgBnwD,UAAU4wD,eAAiB,SAAU/sC,GAC5C1oB,KAAKigC,OAAOqB,UAGZthC,KAAKigC,OAAOyB,UACb1hC,KAAKigC,OAAOnV,OAAO,QAAqBpC,GAE5C1oB,KAAKigC,OAAOxpB,QAAQ,eAAgBiS,KAExCssC,EAAgBnwD,UAAU6wD,iBAAmB,SAAUhtC,GACnD1oB,KAAKigC,OAAOnV,OAAO,OAAuBpC,GAC1C1oB,KAAKq1D,kBAETL,EAAgBnwD,UAAU8wD,yBAA2B,SAAUjtC,IACvD1oB,KAAKigC,OAAOyB,UAAa1hC,KAAKigC,OAAOqB,SAGzCthC,KAAKigC,OAAOnV,OAAO,OAAiCpC,IAExDssC,EAAgBnwD,UAAU+wD,aAAe,SAAUltC,GAC3C,OAAQvhB,WAAauhB,EAAK7hB,QAAQ4T,cAAc7S,UAAU0E,SAASupD,EAAA,OACnE71D,KAAK81D,WAAWptC,EAAK7hB,QAAQ4T,eAEjCza,KAAKigC,OAAOnV,OAAO,QAAsBpC,IAE7CssC,EAAgBnwD,UAAUkxD,cAAgB,SAAUrtC,GAChD1oB,KAAKs1D,uBACLt1D,KAAKigC,OAAOnV,OAAO,QAAyBpC,IAEhDssC,EAAgBnwD,UAAUywD,qBAAuB,WAC7C,GAAI,OAAQnuD,WAAa,eAAkBnH,KAAKg2D,gBAAiB,CAC7D,IAAIx0C,EAAWxhB,KAAKg2D,eAAenpD,cAAc,0CAC7C2U,IACAxhB,KAAKg2D,eAAextC,WAAW9d,aAAa8W,EAAUxhB,KAAKg2D,eAAeC,aAC1Ez0C,EAAS/Z,MAAMgZ,eAAe,YAC9B,eAAY,CAACe,GAAW,kBAE5B,eAAOxhB,KAAKg2D,gBACZh2D,KAAKg2D,oBAAiBj7B,IAQ9Bi6B,EAAgBnwD,UAAUqxD,cAAgB,SAAUxtC,GAChD1oB,KAAKm2D,SAASztC,EAAKjnB,QACnBzB,KAAKo2D,cACLp2D,KAAKsqD,KAAO5hC,EAAK/Q,aACjB+Q,EAAK2tC,cAAcC,WAAa,IAAI,GAAQ,CACxC1/C,MAAO8R,EAAK9R,MACZtI,MAAO,OACPqJ,aAAc+Q,EAAK/Q,aACnB4+C,aAAcv2D,KAAKu1D,oBAAoBttD,KAAKjI,MAC5Cw2D,QAASx2D,KAAKw1D,eAAevtD,KAAKjI,MAClCy2D,QAASz2D,KAAKy1D,eAAextD,KAAKjI,MAClCqvB,kBAAmB3G,EAAK2G,kBACxB1nB,UAAW+gB,EAAK/gB,YAEpB+gB,EAAK2tC,cAAcC,WAAW3sC,kBAAmB,EACjDjB,EAAK2tC,cAAcC,WAAW3tD,cAAgB3I,KAAKigC,OAAOt3B,cAC1D+f,EAAK2tC,cAAcC,WAAWl0C,SAASsG,EAAKjnB,SAOhDuzD,EAAgBnwD,UAAU6xD,qBAAuB,SAAUhuC,GACvD,IACIw0B,EADAjyC,EAAQjL,KAEZ0oB,EAAK7hB,QAAQe,UAAUC,IAAI,QAC3Bq1C,EAAMx0B,EAAKtS,SAAW,IAAM,QAAmB,IAAM,QACjDpW,KAAKigC,OAAO02B,WAAW/uC,QAAU,OAAQzgB,WACzC+1C,EAAMA,EAAM,IAAM,QAEtB,IAAIlhB,EAAQh8B,KACRuuB,EAAW,IAAI,GAAe,CAC9B3X,MAAO8R,EAAK9R,MACZkT,QAASpB,EAAKoB,QACd1T,SAAU8mC,EACVzuB,QAAS/F,EAAK+F,QACdY,kBAAmBrvB,KAAKigC,OAAO5Q,kBAC/B1nB,UAAW3H,KAAKigC,OAAOt4B,UACvBuqB,OAAQlyB,KAAK01D,iBAAiBztD,KAAKjI,MACnCmyB,WAAY,SAAUzJ,GAClB,IAAIsT,EAAMiE,OAAOyB,UAAa1F,EAAMiE,OAAOqB,QAA3C,CAIA,IAAK,IAAI/+B,EAAQ,EAAGA,EAAQmmB,EAAK7hB,QAAQua,WAAWhc,OAAQ7C,IAAS,CACjE,IAAIq0D,EAAU3rD,EAAMg1B,OAAOt3B,cAAc,OACzCiuD,EAAQ1sC,UAAYqE,EAASE,QAAQnF,OACF,KAA/BstC,EAAQpsC,YAAYlB,QACjBZ,EAAK7hB,QAAQua,WAAW7e,GAAOioB,YAAYlB,SAAWstC,EAAQpsC,YAAYlB,OACxEZ,EAAK7hB,QAAQua,WAAW7e,GAAOqF,UAAU0E,SAAS,aACnD,eAAS,CAACoc,EAAK7hB,QAAQua,WAAW7e,IAAS,YAI/C,eAAY,CAACmmB,EAAK7hB,QAAQua,WAAW7e,IAAS,YAGtDy5B,EAAMiE,OAAOnV,OAAO,OAA2BpC,QAhB3CA,EAAK3M,QAAS,GAkBtBmG,MAAOliB,KAAK+1D,cAAc9tD,KAAKjI,MAC/BiiB,KAAMjiB,KAAK41D,aAAa3tD,KAAKjI,MAC7BiyB,iBAAkBjyB,KAAK21D,yBAAyB1tD,KAAKjI,QAEzDuuB,EAAS5E,kBAAmB,EAC5B4E,EAAS5lB,cAAgBqzB,EAAMiE,OAAOt3B,cACtC4lB,EAASnM,SAASsG,EAAK7hB,SACvB6hB,EAAK7hB,QAAQ6xC,UAAY,EACzB,IAAI7oB,EAAe1a,SAASwa,eAAepB,EAAS1nB,QAAQU,GAAK,UAEjE,OADAsoB,EAAa/mB,aAAa,YAAa9I,KAAKigC,OAAO42B,SAC5CtoC,GAEXymC,EAAgBnwD,UAAUwwD,eAAiB,SAAU3sC,GAC5C,eAAkB1oB,KAAKo1D,gBACxB,eAAQp1D,KAAKo1D,aAAc,sBAAsB3tD,MAAMC,QAAU,OACjE1H,KAAKo1D,aAAa3tD,MAAMC,QAAU,OAClC,eAAY,CAAC1H,KAAKo1D,cAAe,qBAGzCJ,EAAgBnwD,UAAUiyD,WAAa,SAAUjwD,GACxC,eAAQA,EAAS,uBAiBlBA,EAAQ4T,cAAchT,MAAMC,QAAU,OACtC1H,KAAKo1D,aAAevuD,EAAQukC,mBAC5BprC,KAAKo1D,aAAa3tD,MAAMC,QAAU,QAClC,eAAS,CAAC1H,KAAKo1D,cAAe,qBAnB9Bp1D,KAAKg2D,eAAiBh2D,KAAKigC,OAAOt3B,cAAc,MAAO,CACnDC,UAAW,iDAEf/B,EAAQ2hB,WAAW9d,aAAa1K,KAAKg2D,eAAgBnvD,GACrD7G,KAAKg2D,eAAe7sD,YAAYtC,GAChC7G,KAAKg2D,eAAevuD,MAAMo4C,OAASh5C,EAAQY,MAAMo4C,OACjD7/C,KAAKg2D,eAAevuD,MAAMC,QAAU,OACpCb,EAAQY,MAAMyU,SAAW,WACzB,eAAS,CAACrV,GAAU,iBACpB7G,KAAKo1D,aAAep1D,KAAKigC,OAAOt3B,cAAc,MAAO,CAAEC,UAAW,oBAClE5I,KAAKo1D,aAAa3tD,MAAMo4C,QAAUl3B,SAAS9hB,EAAQY,MAAMo4C,OAAQ,MAAQ,GAAGj3B,WAC5E5oB,KAAKo1D,aAAa3tD,MAAMC,QAAU,QAClC1H,KAAKg2D,eAAe7sD,YAAYnJ,KAAKo1D,cACrC,OAAavtD,IAAI7H,KAAKo1D,aAAc,kBAAmBp1D,KAAKq1D,eAAgBr1D,QASpFg1D,EAAgBnwD,UAAUkyD,iBAAmB,SAAUC,EAAcC,GACjE,IAAIluD,EAAMiuD,EAAanwD,QAAQgG,cAAc,4BACzCqqD,EAAW,GAAGnzD,MAAM+C,KAAK,eAAU,UAAWiC,EAAI0R,gBACtD,eAAYy8C,EAAU,cACtB,IAAIzvD,EAAQwvD,EAAepqD,cAAc,IAAM,SAAkBpF,MAAM0vD,kBACtED,EAASja,QAAO,SAAUia,GACnBA,EAASzvD,MAAMigD,kBAAoBjgD,GACnC,eAAS,CAACyvD,GAAW,kBASjClC,EAAgBnwD,UAAUuyD,0BAA4B,SAAU1uC,EAAM5M,EAAMu7C,GACxE,IAAIpsD,EAAQjL,KACRg8B,EAAQh8B,KACRk9C,EAAM,QAAmB,IAAM,SAAel9C,KAAKigC,OAAiB,WAAK,IAAM,OAAuB,IAC1Gid,GAAQ,KAAiB,oBAATphC,EAA8B,OAAgC,QAC9E,IAEIw+B,EAFA7rB,EAAUuN,EAAMiE,OAAOt3B,cAAc,OAAQ,CAAEC,UAAW,SAC1D0uD,EAAYt7B,EAAMiE,OAAOt3B,cAAc,OAAQ,CAAEC,UAAW8f,EAAKtS,WAErEkhD,EAAU7vD,MAAM0vD,kBAA8B,oBAATr7C,EACjCkgB,EAAMiE,OAAOynB,gBAAgBiC,QAAU3tB,EAAMiE,OAAOs3B,UAAU5N,QAClEl7B,EAAQtlB,YAAYmuD,GACpB,IAAI/oC,EAAW,IAAI,GAAe,CAC9B9sB,OAAQ41D,EAAYxwD,QAAQ4T,cAAerE,SAAU8mC,EACrD7tB,kBAAmBrvB,KAAKigC,OAAO5Q,kBAAmB1nB,UAAW3H,KAAKigC,OAAOt4B,UACzEwqB,WAAY,SAAU6kC,GAClB,IAAIh7B,EAAMiE,OAAOyB,UAAa1F,EAAMiE,OAAOqB,QAA3C,CAIA,IAAIz6B,EAAWmwD,EAAkB,MAAIA,EAAajmD,MAAMtP,OAAS,KAIjE,GAHAu6B,EAAMi7B,eAAiB1oC,EAAS1nB,QAChCm1B,EAAMw7B,gBAAkBjpC,EACxByN,EAAM+6B,iBAAiBC,EAAch7B,EAAMi7B,gBACvCD,EAAajmD,OAAqC,UAA5BimD,EAAajmD,MAAM0K,OAAqB5U,EAAQe,UAAU0E,SAAS,SACtFzF,EAAQ4T,cAAc7S,UAAU0E,SAAS,SADhD,CAEI0qD,EAAaj7C,QAAS,EACtB,IAAI07C,EAAmB5wD,EAAQe,UAAU0E,SAAS,SAAoBzF,EAAQY,MAAM0vD,kBAChFtwD,EAAQgG,cAAc,IAAM,SAAkBpF,MAAM0vD,kBACxDn7B,EAAMiE,OAAOnV,OAAO,QAAyB,IAC7CwvB,EAAQte,EAAMiE,OAAOy3B,UAAUC,cAAcC,cAAcC,SAAS77B,EAAMiE,OAAO63B,cAAcC,eAC/F,IAAIvvC,EAAa8xB,EAAM0d,eAAexvC,YACC,OAAlC8xB,EAAM0d,eAAezmC,UAAuD,OAAlC+oB,EAAM0d,eAAezmC,UAC/D,cAAD,CAAS+oB,EAAM0d,eAAexvC,WAAY,UACzCwT,EAAMiE,OAAOg4B,eAAerwC,SAAW,eAASY,EAAW0vC,cAAcrrD,cAAc,QAAS,WAC9FytC,EAAM6d,WAAiC,oBAApBzvC,EAAK0vC,WAC3Bp8B,EAAMiE,OAAOnV,OAAO,QAAgC,CAAEhP,KAAM,CAAEu8C,QAAS3vC,EAAK2vC,QAASD,WAAY1vC,EAAK0vC,WAC9F/2D,MAAOo2D,KAIfz7B,EAAMiE,OAAOnV,OAAO,OAA2B,CAAEhP,KAAM,CAAEu8C,QAAS3vC,EAAK2vC,QAASD,WAAY1vC,EAAK0vC,WACzF/2D,MAAOo2D,SAlBvB,CAwBI,IAAI1uD,EAAMiuD,EAAanwD,QAAQgG,cAAc,4BACzCylD,EAAO,eAAYvpD,EAAK,IAC5BupD,EAAKrZ,aAAe+d,EAAanwD,QAAQgG,cAAc,oBACvDylD,EAAKh2C,WAET06C,EAAanwD,QAAQyxD,QAAU,SAAU5vC,GACjCA,EAAKjnB,OAAOmG,UAAU0E,SAAS,aAC/BiiB,EAASV,gBAtCbmpC,EAAaj7C,QAAS,GA0C9BkG,KAAM,SAAU+0C,GAEZ,IAAItmC,EADJzlB,EAAMstD,2BAA2BlB,GAEjC,IAAItuD,EAAMiuD,EAAanwD,QAAQgG,cAAc,4BAEzC6jB,EADAsmC,EAAanwD,QAAQgG,cAAc,oBACxB9D,EAAI0R,cAAc5N,cAAc,cAGhC9D,EAAI0R,cAAc5N,cAAc,aAE3C6jB,GACAA,EAASzX,QAET,OAAQ9R,UACR8D,EAAM6qD,WAAWkB,EAAanwD,QAAQ4T,eAE1CxP,EAAMutD,cAAcxB,IAExBzkC,YAAa,SAAUykC,GACnB,IAAInwD,EAAWmwD,EAAkB,MAAIA,EAAajmD,MAAMtP,OAAS,KACjE,GAAIu1D,EAAajmD,OAAqC,UAA5BimD,EAAajmD,MAAM0K,OAAqB5U,EAAQe,UAAU0E,SAAS,SACtFzF,EAAQ4T,cAAc7S,UAAU0E,SAAS,SAAqB,CACjE,IAAImrD,EAAmB5wD,EAAQe,UAAU0E,SAAS,SAAoBzF,EAAQY,MAAM0vD,kBAChFtwD,EAAQgG,cAAc,IAAM,SAAkBpF,MAAM0vD,kBAaxD,OAZA7c,EAAQte,EAAMiE,OAAOy3B,UAAUC,cAAcC,cAAcC,SAAS77B,EAAMiE,OAAO63B,cAAcC,qBACxD,OAAlCzd,EAAM0d,eAAezmC,UAAuD,OAAlC+oB,EAAM0d,eAAezmC,UAChE,eAAQ+oB,EAAM0d,eAAexvC,WAAY,WAAa8xB,EAAM6d,UAC5Dn8B,EAAMiE,OAAOnV,OAAO,QAAgC,CAAEhP,KAAM,CAAEu8C,QAAS3vC,EAAK2vC,QAASD,WAAY1vC,EAAK0vC,WAC9F/2D,MAAOo2D,KAIfz7B,EAAMiE,OAAOnV,OAAO,OAA2B,CAAEhP,KAAM,CAAEu8C,QAAS3vC,EAAK2vC,QAASD,WAAY1vC,EAAK0vC,WACzF/2D,MAAOo2D,QAM3Bv1C,MAAO,SAAU80C,GACbh7B,EAAMiE,OAAOnV,OAAO,QAAyB,IAC7C,IAAI2tC,EAAc,eAAQzB,EAAanwD,QAAQ4T,cAAe,sBAM9D,GALIg+C,IACAA,EAAYhxD,MAAMC,QAAU,OAC5B+wD,EAAY5iD,iBAAiBpO,MAAMC,QAAU,OAC7C,eAAY,CAAC+wD,EAAY5iD,kBAAmB,oBAE5C,OAAQ1O,WAAa,eAAkBsxD,GAAc,CACrD,IAAIj3C,EAAWi3C,EAAY5rD,cAAc,0CACrC2U,IACAi3C,EAAYjwC,WAAW9d,aAAa8W,EAAUi3C,EAAYxC,aAC1Dz0C,EAAS/Z,MAAMgZ,eAAe,YAC9B,eAAY,CAACe,GAAW,kBAE5B,eAAOi3C,GACPz8B,EAAMg6B,oBAAiBj7B,MAInCxM,EAAS5E,kBAAmB,EAC5B4E,EAAS5lB,cAAgBqzB,EAAMiE,OAAOt3B,cACtC4lB,EAASnM,SAASsG,EAAK7hB,SACvB,IAAIgpB,EAAe1a,SAASwa,eAAepB,EAAS1nB,QAAQU,GAAK,UAOjE,OANAsoB,EAAa/mB,aAAa,YAAa9I,KAAKigC,OAAO42B,SACnDtoC,EAAS1nB,QAAQ6D,aAAa+jB,EAASF,EAAS1nB,QAAQgG,cAAc,aACtE6b,EAAK7hB,QAAQ6xC,UAAY,EACzBnqB,EAAS1nB,QAAQoD,gBAAgB,QACjCskB,EAAS1nB,QAAQ6xD,YAAc,WAAc18B,EAAMiE,OAAOnV,OAAO,QAAsB,KACvFyD,EAAS1nB,QAAQ8xD,UAAY,WAAc38B,EAAMiE,OAAOnV,OAAO,QAAsB,KAC9EyD,GAEXymC,EAAgBnwD,UAAU2zD,cAAgB,SAAUxB,GAChD,GAAyC,WAArCh3D,KAAKigC,OAAOynB,gBAAgB4C,KAAmB,CAC/C,IAAIsO,EAAY5B,EAAanwD,QAAQ4T,cACrCm+C,EAAUnxD,MAAM6G,OAASsqD,EAAUlwD,YAAc,GAAGkgB,WAAa,KACjE,eAAYgwC,EAAW,QAAOr8C,gBAAgBq8C,GAC9CA,EAAUnxD,MAAM6G,OAASsqD,EAAUlwD,YAAc,GAAGkgB,WAAa,OAGzEosC,EAAgBnwD,UAAUixD,WAAa,SAAUjvD,GAC7C,IAAI+kD,EAAY,eAAY/kD,EAAS,QACrC+kD,EAAU7pC,SAAW5M,SAASC,KAC9Bw2C,EAAU1vC,SAAW,CAAEC,EAAG,EAAGC,EAAG,GAChCwvC,EAAUp9B,WAAa,YACvBo9B,EAAUzpC,UAAY,CAAEhG,EAAG,MAAOC,EAAG,OACrCwvC,EAAU5pC,QAAU,EACpB4pC,EAAUtvC,WACVtc,KAAK82D,WAAWjwD,IAEpBmuD,EAAgBnwD,UAAU0zD,2BAA6B,SAAUlB,GAC7D,IAAIwB,EAAqBxB,EAAYxwD,QAAQovD,YAC7C,GAAuC,QAAnC4C,EAAmBpxD,MAAM6G,MAAiB,CAC1CuqD,EAAmBpxD,MAAM6G,MAAQ,GACjC,IAAIwqD,EAAcnwC,SAASjK,iBAAiBm6C,GAAoBjM,kBAAmB,IACnFiM,EAAmBpxD,MAAM6G,MAAQ,eAAWuqD,EAAmBp2D,SAAS,GAAGiG,YACrEowD,EAAcA,KAQ5B9D,EAAgBnwD,UAAUk0D,kBAAoB,SAAUrwC,EAAM5M,GAC1D,IACIza,EADA26B,EAAQh8B,KAERq3D,EAAc,IAAI,GAAY,CAC9BhoC,kBAAmBrvB,KAAKigC,OAAO5Q,kBAC/B1nB,UAAW3H,KAAKigC,OAAOt4B,UACvBqiD,QAAQ,EACRwM,QAAS,WACL,IAAIn1D,EAAkB,oBAATya,EAA8BkgB,EAAMiE,OAAOynB,gBAAgBiC,QAAU3tB,EAAMiE,OAAOs3B,UAAU5N,QACzG0N,EAAYtmC,cAAc,CAAE1vB,MAAOA,KAEvCipD,KAAiB,oBAATxuC,EAA8BkgB,EAAMiE,OAAOynB,gBAAgB4C,KAAOtuB,EAAMiE,OAAOs3B,UAAUjN,KACjGoC,aAAyB,oBAAT5wC,EAA8BkgB,EAAMiE,OAAOynB,gBAAgBgF,aAAe1wB,EAAMiE,OAAOs3B,UAAU7K,aACjHsM,iBAAkB,SAAUtwC,GACxBA,EAAK7hB,QAAQe,UAAUC,IAAI,QAC3B6gB,EAAK7hB,QAAQe,UAAUC,IAAI,QACR,KAAf6gB,EAAKrnB,OACLqnB,EAAK7hB,QAAQe,UAAUC,IAAI,SAGnC6mD,OAAQ,SAAUuK,GACd,IAAIxB,EAAmBwB,EAAgB1V,aAAagI,KACpD0N,EAAgBn9C,KAAO,CACnBu8C,QAAS3vC,EAAK2vC,QACdD,WAAY1vC,EAAK0vC,WACjB/2D,MAAOo2D,GAEXz7B,EAAMiE,OAAOnV,OAAO,QAAyB,IAC7CkR,EAAMi7B,eAAepqD,cAAc,IAAM,SAAkBpF,MAAM0vD,kBAAoBM,EACrF,IAAInd,EAAQte,EAAMiE,OAAOy3B,UAAUC,cAAcC,cAAcC,SAAS77B,EAAMiE,OAAO63B,cAAcC,gBAC5D,OAAlCzd,EAAM0d,eAAezmC,UAAuD,OAAlC+oB,EAAM0d,eAAezmC,UAChE,eAAQ+oB,EAAM0d,eAAexvC,WAAY,WAAa8xB,EAAM6d,WAAiC,oBAApBzvC,EAAK0vC,WAC9Ep8B,EAAMiE,OAAOnV,OAAO,QAAgCmuC,GAGpDj9B,EAAMiE,OAAOnV,OAAO,OAA2BmuC,GAEnDj9B,EAAMw7B,gBAAgB3pC,UAE1BqrC,iBAAkB,SAAUxwC,GACxBrnB,EAAQg2D,EAAYh2D,MACN,KAAVA,GACAg2D,EAAYtmC,cAAc,CAAE1vB,MAAuB,WAAdqnB,EAAK4hC,KAAqB,YAAc,KAAO,GAExF+M,EAAYpe,YAA4B,YAAdvwB,EAAK4hC,QAUvC,OAPA+M,EAAY1tC,kBAAmB,EAC/B0tC,EAAY/J,QAAoB,oBAATxxC,EAA8B9b,KAAKigC,OAAOynB,gBAAgB4F,QAAUttD,KAAKigC,OAAOs3B,UAAUjK,QACjH+J,EAAY/K,aAAyB,oBAATxwC,EAA8B9b,KAAKigC,OAAOynB,gBAAgByR,UAClFn5D,KAAKigC,OAAOs3B,UAAU4B,UAC1B9B,EAAYjhD,SAAqB,oBAAT0F,EAA8B,OAA8B,OACpFu7C,EAAY1uD,cAAgB3I,KAAKigC,OAAOt3B,cACxC0uD,EAAYj1C,SAASjN,SAASC,KAAKvI,cAAc6b,EAAKjnB,SAC/C41D,GAOXrC,EAAgBnwD,UAAUuxD,YAAc,WACpCp2D,KAAKo5D,WAAWxxD,UAAUC,IAAI,UAQlCmtD,EAAgBnwD,UAAUu0D,SAAW,WACjC,OAAOp5D,KAAKq5D,cAQhBrE,EAAgBnwD,UAAUsxD,SAAW,SAAUmD,GAC3Ct5D,KAAKq5D,aAAeC,GAEjBtE,EAlbyB,GCNhC,GAA6B,WAC7B,SAASuE,EAAYt5B,EAAQu5B,GACzBx5D,KAAKy5D,MAAQ,GACbz5D,KAAKigC,OAASA,EACdjgC,KAAK05D,QAAUF,EACfx5D,KAAK25D,cAAgB35D,KAAK05D,QAAQE,WAAW,mBAC7C55D,KAAK8L,mBACD9L,KAAKigC,OAAO45B,iBAAmBv1D,OAAO2K,KAAKjP,KAAKigC,OAAO45B,gBAAgBC,aAAa10D,OAAS,EAC7F,eAAOpF,KAAKy5D,MAAO,OAAO,eAAkBz5D,KAAKigC,OAAO45B,gBAAgBC,cAAc,GAGtF95D,KAAKy5D,MAAQ,OA8HrB,OA3HAF,EAAY10D,UAAUiH,iBAAmB,WACrC9L,KAAKigC,OAAOz/B,GAAG,QAAgBR,KAAK+5D,OAAQ/5D,MAC5CA,KAAKigC,OAAOz/B,GAAG,OAAgBR,KAAKiY,oBAAqBjY,OAE7Du5D,EAAY10D,UAAUoT,oBAAsB,WACxCjY,KAAKigC,OAAOk1B,IAAI,QAAgBn1D,KAAK+5D,QACrC/5D,KAAKigC,OAAOk1B,IAAI,OAAgBn1D,KAAKiY,sBAEzCshD,EAAY10D,UAAUk1D,OAAS,SAAUrxC,GAChC,eAAkB1oB,KAAKs2D,aACxBt2D,KAAKs2D,WAAWvlC,cAAc,CAAEppB,UAAW+gB,EAAK/gB,aAGxD4xD,EAAY10D,UAAUm1D,kBAAoB,SAAUC,EAAS76B,GACzD,IAAI3nB,EACJ,OAAQwiD,GACJ,IAAK,YACL,IAAK,kBACDxiD,EAAU,OACV,MACJ,QACIA,EAAU,SACV,MAER,MAAO,CACH4gD,QAASr4D,KAAKy5D,MAAMQ,EAAQC,qBAAqB7B,QACjDD,WAAYp4D,KAAKy5D,MAAMQ,EAAQC,qBAAqB9B,WACpD58C,SAAUxb,KAAKigC,OAAOt3B,cAAc8O,EAAS,CACzClQ,GAAIvH,KAAKigC,OAAO42B,QAAU,IAAMz3B,EAC1B,IAAMp/B,KAAKy5D,MAAMQ,EAAQC,qBAAqB3yD,KACrDiiB,UACH5N,YAAa,eAAeq+C,EAASj6D,KAAK05D,WAQlDH,EAAY10D,UAAUs1D,UAAY,SAAUr+C,EAAMsjB,GAC9C,IAAI66B,EAAUn+C,EAAKiC,cACnB,IAAwC,IAApC,OAAc/C,QAAQi/C,GACtB,OAAOj6D,KAAKg6D,kBAAkBC,EAAS76B,GAGvC,OAAQ66B,GACJ,IAAK,IACD,MAAO,CAAEx+C,KAAM,aACnB,IAAK,IACD,MAAO,CAAEA,KAAM,YAAarF,SAAU,QAC1C,QACI,MAAO,CACH7O,GAAIvH,KAAKigC,OAAO42B,QAAU,IAAMz3B,EAAY,IAAMp/B,KAAKy5D,MAAMQ,EAAQC,qBAAqB3yD,GAC1F6T,WAAYpb,KAAKy5D,MAAMQ,EAAQC,qBAAqBntC,KACpDnR,YAAa,eAAeq+C,EAASj6D,KAAK05D,SAC1CrB,QAASr4D,KAAKy5D,MAAMQ,EAAQC,qBAAqB7B,QACjDD,WAAYp4D,KAAKy5D,MAAMQ,EAAQC,qBAAqB9B,cASxEmB,EAAY10D,UAAUu1D,SAAW,SAAUC,EAASj7B,GAChD,IAAIn0B,EAAQjL,KACZ,GAAIA,KAAKigC,OAAO45B,gBAAgBjjD,MAAMxR,OAAS,EAC3C,MAAO,GA8BX,IA5BA,IAAIwR,EAAQ,GACR2P,EAAU,SAAUzK,GACpB,cAAeA,GACX,IAAK,SACDlF,EAAMiH,KAAK2I,EAAO2zC,UAAUr+C,EAAMsjB,IAClC,MACJ,QACI,IAAK,eAAkBtjB,EAAKrQ,OAAQ,CAChC,IAAI6uD,EAAUx+C,EACVy+C,EAAaD,EAAQ7uD,MACzB6uD,EAAQ7uD,MAAQ,WACR6uD,EAAQE,MAA6D,IAArDvvD,EAAMg1B,OAAOy3B,UAAU+C,mBAAmBr1D,QAC1D6F,EAAMg1B,OAAOy3B,UAAUgD,WAE3BH,EAAWzzD,KAAKmE,GACXA,EAAMg1B,OAAOy3B,UAAU+C,mBAAmBxvD,EAAMg1B,OAAOy3B,UAAU+C,mBAAmBr1D,OAAS,GAAG6V,KAAKqO,SAClGre,EAAMg1B,OAAOE,aAAajW,UAAUZ,QAGxCgxC,EAAQE,MACRvvD,EAAMg1B,OAAOy3B,UAAUgD,YAInC9jD,EAAMiH,KAAK/B,KAGnB0K,EAASxmB,KACJuD,EAAK,EAAGo3D,EAAYN,EAAS92D,EAAKo3D,EAAUv1D,OAAQ7B,IAAM,CAC/D,IAAIuY,EAAO6+C,EAAUp3D,GACrBgjB,EAAQzK,GAEZ,OAAOlF,GAEX2iD,EAAY10D,UAAU+1D,kBAAoB,SAAUlyC,GAChD,MAAO,CACHjnB,OAAQinB,EAAKjnB,OACb40D,cAAer2D,KACf4W,MAAO5W,KAAKo6D,SAAS1xC,EAAK9R,MAAO8R,EAAK0W,WACtCznB,aAAc+Q,EAAK4hC,KACnBj7B,kBAAmBrvB,KAAKigC,OAAO5Q,kBAC/B1nB,UAAW3H,KAAKigC,OAAOt4B,YAQ/B4xD,EAAY10D,UAAU/E,OAAS,SAAU4oB,GACrC1oB,KAAK66D,gBAAkB76D,KAAK25D,cAAcmB,YAAY,OAAW1mD,SACjEpU,KAAK66D,gBAAgB3E,cAAcl2D,KAAK46D,kBAAkBlyC,KAEvD6wC,EAzIqB,GCE5B,GAAiC,WACjC,SAASwB,EAAgB96B,EAAQu5B,GAC7Bx5D,KAAKigC,OAASA,EACdjgC,KAAK05D,QAAUF,EACfx5D,KAAK25D,cAAgB35D,KAAK05D,QAAQE,WAAW,mBAC7C55D,KAAK8L,mBAwZT,OAtZAivD,EAAgBl2D,UAAUm2D,mBAAqB,WAC3Ch7D,KAAK66D,gBAAkB76D,KAAK25D,cAAcmB,YAAY,OAAW1mD,UAErE2mD,EAAgBl2D,UAAUo2D,aAAe,SAAUvyC,GAC/C,IAAI5M,EAAO4M,EAAK5M,KACZA,EAAK1F,UACL,eAAS,CAACsS,EAAK7hB,SAAUiV,EAAK1F,UAEb,eAAjB0F,EAAKu8C,SAAgD,gBAApBv8C,EAAKs8C,YACf,iBAApBt8C,EAAKs8C,YAAqD,kBAApBt8C,EAAKs8C,YAC9C1vC,EAAK7hB,QAAQiC,aAAa,QAAS,eAAegT,EAAKs8C,WAAW8B,oBAAqBl6D,KAAK05D,WAGpGqB,EAAgBl2D,UAAUq2D,gBAAkB,SAAU5sD,EAAOmN,EAAMgT,GAC/D,MAAQ,4CAA6D,UAAThT,EAAoB,OAASnN,GAAjF,4CACuCmgB,EAAU,kBAO7DssC,EAAgBl2D,UAAUs2D,gBAAkB,SAAUzyC,GAClD,IAAIzd,EAAQjL,KACZA,KAAKg7D,qBACL,IAAIv/C,EAAOiN,EAAK0yC,cACZC,EAAY3yC,EAAK0W,UACrB,OAAoBt1B,SAAQ,SAAUgS,GAClC,IAAI+f,OAAgBd,EACpB,IAAoC,IAAhC,eAASjf,EAAM4M,EAAK9R,OACpB,OAAQkF,GACJ,IAAK,UAED,GADA+f,EAAgB,eAAO,IAAM5wB,EAAMg1B,OAAO42B,QAAU,IAAMp7C,EAAO,WAAY4/C,GACzE,eAAkBx/B,IAAkBA,EAAcj0B,UAAU0E,SAASupD,EAAA,MACrE,OAEJ,IAAIyF,EAAarwD,EAAMg1B,OAAOgJ,OAAOsyB,MAAMx3D,QAC3Cu3D,EAAWxxD,SAAQ,SAAUgS,GACzBxX,OAAOk3D,iBAAiB1/C,EAAM,CAC1Bu8C,QAAS,CAAEh3D,MAAO,UAAWo6D,YAAY,GAAQrD,WAAY,CAAE/2D,MAAOya,EAAKza,MAAOo6D,YAAY,QAGtG,IAAI1f,EAAgB,eAAkB9wC,EAAMg1B,OAAOgJ,OAAO0gB,SAAW2R,EAAW,GAAGrgD,KAC/EhQ,EAAMg1B,OAAOgJ,OAAO0gB,QACxB1+C,EAAMywD,eAAiBzwD,EAAM4vD,gBAAgBnE,qBAAqB,CAC9D5sC,QAAoB,UAATrO,EAAoB,oBAAsB,GACrDgT,QAASxjB,EAAMiwD,gBAAgBjwD,EAAMg1B,OAAOgJ,OAAO36B,MAAOmN,EAAiB,UAATA,EAAoB,GAAK,eAAiB6/C,EAAYvf,EAAe,OAAQ,SAC/I3lC,SAAUy/C,EAAA,KAA6B,IAAMA,EAAA,KAA6B,IAAMA,EAAA,KAChF8F,SAAU,UAAW/kD,MAAO0kD,EAAYz0D,QAASg1B,IAErD,MACJ,IAAK,WAED,GADAA,EAAgB,eAAO,IAAM5wB,EAAMg1B,OAAO42B,QAAU,IAAMp7C,EAAO,YAAa4/C,GAC1E,eAAkBx/B,IAAkBA,EAAcj0B,UAAU0E,SAASupD,EAAA,MACrE,OAEJ,IAAI+F,EAAW3wD,EAAMg1B,OAAO47B,WAAWjlD,MAAM7S,QAC7C63D,EAAS9xD,SAAQ,SAAUgS,GACvBxX,OAAOk3D,iBAAiB1/C,EAAM,CAC1Bu8C,QAAS,CAAEh3D,MAAO,OAAQo6D,YAAY,GAAQrD,WAAY,CAAE/2D,MAAO,WAAYo6D,YAAY,QAGnG,IAAIK,EAAkB,eAAkB7wD,EAAMg1B,OAAO47B,WAAWlS,SAAWiS,EAAS,GAAG3gD,KACnFhQ,EAAMg1B,OAAO47B,WAAWlS,QAC5B1+C,EAAM8wD,iBAAmB9wD,EAAM4vD,gBAAgBnE,qBAAqB,CAChE5sC,QAAoB,UAATrO,EAAoB,sBAAwB,GACvDgT,QAASxjB,EAAMiwD,gBAAgBjwD,EAAMg1B,OAAO47B,WAAWvtD,MAAOmN,EAAiB,UAATA,EAAoB,GAAK,eAAiBmgD,EAAUE,EAAiB,OAAQ,SACnJ1lD,SAAUy/C,EAAA,KAA6B,IAAMA,EAAA,KAA6B,IAAMA,EAAA,KAChF8F,SAAU,WAAY/kD,MAAOglD,EAAU/0D,QAASg1B,IAE/C,eAAkB5wB,EAAMg1B,OAAO47B,WAAWlS,WAC3C1+C,EAAM+wD,cAAcv0D,MAAMo0D,WAAa5wD,EAAMg1B,OAAO47B,WAAWlS,SAEnE,MACJ,IAAK,WAED,GADA9tB,EAAgB,eAAO,IAAM5wB,EAAMg1B,OAAO42B,QAAU,IAAMp7C,EAAO,YAAa4/C,GAC1E,eAAkBx/B,IAAkBA,EAAcj0B,UAAU0E,SAASupD,EAAA,MACrE,OAEJ,IAAIoG,EAAWhxD,EAAMg1B,OAAO/S,SAAStW,MAAM7S,QAC3Ck4D,EAASnyD,SAAQ,SAAUgS,GACvBxX,OAAOk3D,iBAAiB1/C,EAAM,CAC1Bu8C,QAAS,CAAEh3D,MAAO,OAAQo6D,YAAY,GAAQrD,WAAY,CAAE/2D,MAAO,WAAYo6D,YAAY,QAGnG,IAAIS,EAAkB,eAAkBjxD,EAAMg1B,OAAO/S,SAASy8B,SAAWsS,EAAS,GAAGhhD,KACjFhQ,EAAMg1B,OAAO/S,SAASy8B,QAC1B1+C,EAAMkxD,iBAAmBlxD,EAAM4vD,gBAAgBnE,qBAAqB,CAChEjoC,QAASxjB,EAAMiwD,gBAAgBjwD,EAAMg1B,OAAO/S,SAAS5e,MAAOmN,EAAM,eAAqB,eAAiBwgD,EAAUC,EAAgBp7B,QAAQ,MAAO,IAAK,QAAS,UAC/J1qB,SAAUy/C,EAAA,KAA6B,IAAMA,EAAA,KAA6B,IAAMA,EAAA,KAChF8F,SAAU,WAAY/kD,MAAOqlD,EAAUp1D,QAASg1B,IAE/C,eAAkB5wB,EAAMg1B,OAAO/S,SAASy8B,WACzC1+C,EAAM+wD,cAAcv0D,MAAMylB,SAAWjiB,EAAMg1B,OAAO/S,SAASy8B,SAE/D,MACJ,IAAK,aAED,GADA9tB,EAAgB,eAAO,IAAM5wB,EAAMg1B,OAAO42B,QAAU,IAAMp7C,EAAO,cAAe4/C,GAC5E,eAAkBx/B,IAAkBA,EAAcj0B,UAAU0E,SAASupD,EAAA,MACrE,OAEJ5qD,EAAMmxD,cAAgBnxD,EAAM4vD,gBAAgBnE,qBAAqB,CAC7D5sC,QAAS,yBACT1T,SAAUy/C,EAAA,KAA6B,IAAMA,EAAA,KAC7C8F,SAAU,aAAc/kD,MAAO,OAAsB/P,QAASg1B,IAElE,MACJ,IAAK,QACD5wB,EAAMoxD,uBAAuB5gD,EAAM4/C,EAAWx/B,GAC9C,MACJ,IAAK,UACD5wB,EAAMqxD,qBAAqB7gD,EAAM4/C,EAAWx/B,GAC5C,MACJ,IAAK,YACD5wB,EAAMsxD,YAAY9gD,EAAM4/C,EAAWx/B,GACnC,MACJ,IAAK,eACD5wB,EAAMuxD,eAAe/gD,EAAM4/C,EAAWx/B,GACtC,MACJ,IAAK,yBACD5wB,EAAMwxD,sBAAsBhhD,EAAM4/C,EAAWx/B,GAC7C,MACJ,IAAK,SACD5wB,EAAMyxD,oBAAoBjhD,EAAM4/C,EAAWx/B,GAC3C,WAKpBk/B,EAAgBl2D,UAAU83D,eAAiB,SAAU/lD,EAAOvV,GACxD,IAAIu7D,EAAgBhmD,EAAM7S,QAO1B,OANA64D,EAAc9yD,SAAQ,SAAUgS,GAC5BxX,OAAOk3D,iBAAiB1/C,EAAM,CAC1Bu8C,QAAS,CAAEh3D,MAAkB,WAAVA,EAAqB,UAAY,OAASo6D,YAAY,GACzErD,WAAY,CAAE/2D,MAAkB,WAAVA,EAAqBya,EAAKza,MAAQA,EAAQo6D,YAAY,QAG7EmB,GAEX7B,EAAgBl2D,UAAUiK,kBAAoB,SAAUod,GAIpD,IAHA,IACIzQ,EACAgT,EAFA1f,EAAUmd,EAAMnd,QAGXxL,EAAK,EAAGwG,EAAKzF,OAAO2K,KAAKF,GAAUxL,EAAKwG,EAAG3E,OAAQ7B,IAAM,CAC9D,IAAI2L,EAAOnF,EAAGxG,GACd,OAAQ2L,GACJ,IAAK,aACD,GAAIlP,KAAK+7D,iBACL,IAAK,IAAI9mC,EAAK,EAAG90B,EAAKmE,OAAO2K,KAAKF,EAAQ8sD,YAAa5mC,EAAK90B,EAAGiF,OAAQ6vB,IAAM,CACzE,IAAI4mC,EAAa17D,EAAG80B,GACpB,OAAQ4mC,GACJ,IAAK,UACL,IAAK,QACD,IAAIgB,EAAY78D,KAAK+7D,iBAAiBnlD,MACtC6E,EAAQ,eAAkB,eAAQzb,KAAK+7D,iBAAiBl1D,QAAS,IAAMgvD,EAAA,OACzD,UAAV,QACJ,IAAIiG,EAAkB,eAAkB97D,KAAKigC,OAAO47B,WAAWlS,SAAWkT,EAAU,GAAG5hD,KACnFjb,KAAKigC,OAAO47B,WAAWlS,QAC3Bl7B,EAAUzuB,KAAKk7D,gBAAgBl7D,KAAKigC,OAAO47B,WAAWvtD,MAAOmN,EAAiB,UAATA,EAAoB,GAAK,eAAiBohD,EAAWf,EAAiB,OAAQ,SACnJ97D,KAAK+7D,iBAAiBhrC,cAAc,CAAEtC,QAASA,IAC1C,eAAkBzuB,KAAKigC,OAAO47B,WAAWlS,SAI1C3pD,KAAKg8D,cAAcv0D,MAAMgZ,eAAe,eAHxCzgB,KAAKg8D,cAAcv0D,MAAMo0D,WAAa77D,KAAKigC,OAAO47B,WAAWlS,QAKjE,MACJ,IAAK,QACD3pD,KAAK+7D,iBAAiBhrC,cAAc,CAChCna,MAAO5W,KAAK28D,eAAe5tD,EAAQ8sD,WAAWjlD,MAAO,cAEzD,OAIhB,MACJ,IAAK,WACD,GAAI5W,KAAKm8D,iBACL,IAAK,IAAIW,EAAK,EAAGn8D,EAAK2D,OAAO2K,KAAKF,EAAQme,UAAW4vC,EAAKn8D,EAAGyE,OAAQ03D,IAAM,CACvE,IAAI5vC,EAAWvsB,EAAGm8D,GAClB,OAAQ5vC,GACJ,IAAK,UACL,IAAK,QACD,IAAI+uC,EAAWj8D,KAAKm8D,iBAAiBvlD,MACrC6E,EAAQ,eAAkB,eAAQzb,KAAKm8D,iBAAiBt1D,QAAS,IAAMgvD,EAAA,OAAmC,UAAV,QAChG,IAAIqG,EAAkB,eAAkBl8D,KAAKigC,OAAO/S,SAASy8B,SAAWsS,EAAS,GAAGhhD,KAChFjb,KAAKigC,OAAO/S,SAASy8B,QACzBl7B,EAAUzuB,KAAKk7D,gBAAgBl7D,KAAKigC,OAAO/S,SAAS5e,MAAOmN,EAAM,eAAqB,eAAiBwgD,EAAUC,EAAgBp7B,QAAQ,MAAO,IAAK,QAAS,UAC9J9gC,KAAKm8D,iBAAiBprC,cAAc,CAAEtC,QAASA,IAC1C,eAAkBzuB,KAAKigC,OAAO/S,SAASy8B,SAIxC3pD,KAAKg8D,cAAcv0D,MAAMgZ,eAAe,aAHxCzgB,KAAKg8D,cAAcv0D,MAAMylB,SAAWltB,KAAKigC,OAAO/S,SAASy8B,QAK7D,MACJ,IAAK,QACD3pD,KAAKm8D,iBAAiBprC,cAAc,CAChCna,MAAO5W,KAAK28D,eAAe5tD,EAAQme,SAAStW,MAAO,cAEvD,OAIhB,MACJ,IAAK,SACD,GAAI5W,KAAK07D,eACL,IAAK,IAAIqB,EAAK,EAAGC,EAAK14D,OAAO2K,KAAKF,EAAQk6B,QAAS8zB,EAAKC,EAAG53D,OAAQ23D,IAAM,CACrE,IAAI9zB,EAAS+zB,EAAGD,GAChB,OAAQ9zB,GACJ,IAAK,UACL,IAAK,QACD,IAAIg0B,EAAcj9D,KAAK07D,eAAe9kD,MACtC6E,EAAQ,eAAkB,eAAQzb,KAAK07D,eAAe70D,QAAS,IAAMgvD,EAAA,OAAmC,UAAV,QAC9F,IAAI9Z,EAAgB,eAAkB/7C,KAAKigC,OAAOgJ,OAAO0gB,SAAWsT,EAAY,GAAGhiD,KAC/Ejb,KAAKigC,OAAOgJ,OAAO0gB,QACvBl7B,EAAUzuB,KAAKk7D,gBAAgBl7D,KAAKigC,OAAOgJ,OAAO36B,MAAOmN,EAAiB,UAATA,EAAoB,GAAK,eAAiBwhD,EAAalhB,EAAe,OAAQ,SAC/I/7C,KAAK07D,eAAe3qC,cAAc,CAAEtC,QAASA,IAC7C,MACJ,IAAK,QACDzuB,KAAK07D,eAAe3qC,cAAc,CAC9Bna,MAAO5W,KAAK28D,eAAe5tD,EAAQk6B,OAAOsyB,MAAO,YAErD,OAIhB,SAIhBR,EAAgBl2D,UAAUm3D,YAAc,WACpC,OAAOh8D,KAAKigC,OAAO63B,cAAcoF,gBAErCnC,EAAgBl2D,UAAU03D,YAAc,SAAU9gD,EAAM4/C,EAAWx/B,GAC/DA,EAAgB,eAAO,IAAM77B,KAAKigC,OAAO42B,QAAU,IAAMp7C,EAAO,aAAc4/C,GAC1Ex/B,EAAcj0B,UAAU0E,SAASupD,EAAA,QAGrC71D,KAAKm9D,kBAAoBn9D,KAAK66D,gBAAgBnE,qBAAqB,CAC/D5sC,QAAS,uBACT1T,SAAUy/C,EAAA,KAA6B,IAAMA,EAAA,KAA6B,IAAMA,EAAA,KAChF8F,SAAU,YACV/kD,MAAO,OACP/P,QAASg1B,MAGjBk/B,EAAgBl2D,UAAU23D,eAAiB,SAAU/gD,EAAM4/C,EAAWx/B,GAClEA,EAAgB,eAAO,IAAM77B,KAAKigC,OAAO42B,QAAU,IAAMp7C,EAAO,gBAAiB4/C,GAC7Ex/B,EAAcj0B,UAAU0E,SAASupD,EAAA,QAGrC71D,KAAKo9D,qBAAuBp9D,KAAK66D,gBAAgBnE,qBAAqB,CAClE5sC,QAAS,0BACT1T,SAAUy/C,EAAA,KAA6B,IAAMA,EAAA,KAA6B,IAAMA,EAAA,KAChF8F,SAAU,eACV/kD,MAAO,OACP/P,QAASg1B,MAGjBk/B,EAAgBl2D,UAAU43D,sBAAwB,SAAUhhD,EAAM4/C,EAAWx/B,GACzEA,EAAgB,eAAO,IAAM77B,KAAKigC,OAAO42B,QAAU,IAAMp7C,EAAO,0BAA2B4/C,GACvFx/B,EAAcj0B,UAAU0E,SAASupD,EAAA,QAGrC71D,KAAKq9D,+BAAiCr9D,KAAK66D,gBAAgBnE,qBAAqB,CAC5E5sC,QAAS,iCACT1T,SAAUy/C,EAAA,KAA6B,IAAMA,EAAA,KAA6B,IAAMA,EAAA,KAChF8F,SAAU,yBACV/kD,MAAO,OACP/P,QAASg1B,MAGjBk/B,EAAgBl2D,UAAUy3D,qBAAuB,SAAU7gD,EAAM4/C,EAAWx/B,GACxEA,EAAgB,eAAO,IAAM77B,KAAKigC,OAAO42B,QAAU,IAAMp7C,EAAO,WAAY4/C,GACxEx/B,EAAcj0B,UAAU0E,SAASupD,EAAA,QAGrC71D,KAAKs9D,gBAAkBt9D,KAAK66D,gBAAgBnE,qBAAqB,CAC7D5sC,QAAS,oBACT1T,SAAUy/C,EAAA,KAA6B,IAAMA,EAAA,KAA6B,IAAMA,EAAA,KAChF8F,SAAU,UACV/kD,MAAO,OACP/P,QAASg1B,MAGjBk/B,EAAgBl2D,UAAUw3D,uBAAyB,SAAU5gD,EAAM4/C,EAAWx/B,GAC1EA,EAAgB,eAAO,IAAM77B,KAAKigC,OAAO42B,QAAU,IAAMp7C,EAAO,SAAU4/C,GACtEx/B,EAAcj0B,UAAU0E,SAASupD,EAAA,QAGrC71D,KAAKu9D,mBAAqBv9D,KAAK66D,gBAAgBnE,qBAAqB,CAChE5sC,QAAS,yBACT1T,SAAUy/C,EAAA,KAA6B,IAAMA,EAAA,KAA6B,IAAMA,EAAA,KAChF8F,SAAU,QACV/kD,MAAO,OACP/P,QAASg1B,MAGjBk/B,EAAgBl2D,UAAU63D,oBAAsB,SAAUjhD,EAAM4/C,EAAWx/B,GACvEA,EAAgB,eAAO,IAAM77B,KAAKigC,OAAO42B,QAAU,IAAMp7C,EAAO,UAAW4/C,GACvEx/B,EAAcj0B,UAAU0E,SAASupD,EAAA,QAGrC71D,KAAKu9D,mBAAqBv9D,KAAK66D,gBAAgBnE,qBAAqB,CAChE5sC,QAAS,kBACT1T,SAAUy/C,EAAA,KAA6B,IAAMA,EAAA,KAA6B,IAAMA,EAAA,KAChF8F,SAAU,SACV/kD,MAAO5W,KAAKigC,OAAOu9B,cAAcnjC,OACjCxzB,QAASg1B,MAGjBk/B,EAAgBl2D,UAAU44D,sBAAwB,SAAUh8D,GACxD,eAAY,CAACA,GAAS,CAClBo0D,EAAA,KACAA,EAAA,KACAA,EAAA,KACAA,EAAA,QAQRkF,EAAgBl2D,UAAU64D,iBAAmB,WACrC19D,KAAK07D,iBACL17D,KAAKy9D,sBAAsBz9D,KAAK07D,eAAe70D,SAC/C7G,KAAK07D,eAAehyD,WAEpB1J,KAAK+7D,mBACL/7D,KAAKy9D,sBAAsBz9D,KAAK+7D,iBAAiBl1D,SACjD7G,KAAK+7D,iBAAiBryD,WAEtB1J,KAAKm8D,mBACLn8D,KAAKy9D,sBAAsBz9D,KAAKm8D,iBAAiBt1D,SACjD7G,KAAKm8D,iBAAiBzyD,WAEtB1J,KAAKo8D,gBACLp8D,KAAKy9D,sBAAsBz9D,KAAKo8D,cAAcv1D,SAC9C7G,KAAKo8D,cAAc1yD,WAEnB1J,KAAKu9D,qBACLv9D,KAAKy9D,sBAAsBz9D,KAAKu9D,mBAAmB12D,SACnD7G,KAAKu9D,mBAAmB7zD,WAExB1J,KAAKs9D,kBACLt9D,KAAKy9D,sBAAsBz9D,KAAKs9D,gBAAgBz2D,SAChD7G,KAAKs9D,gBAAgB5zD,WAErB1J,KAAKm9D,oBACLn9D,KAAKy9D,sBAAsBz9D,KAAKm9D,kBAAkBt2D,SAClD7G,KAAKm9D,kBAAkBzzD,WAEvB1J,KAAKo9D,uBACLp9D,KAAKy9D,sBAAsBz9D,KAAKo9D,qBAAqBv2D,SACrD7G,KAAKo9D,qBAAqB1zD,WAE1B1J,KAAKq9D,iCACLr9D,KAAKy9D,sBAAsBz9D,KAAKq9D,+BAA+Bx2D,SAC/D7G,KAAKq9D,+BAA+B3zD,YAG5CqxD,EAAgBl2D,UAAUk1D,OAAS,SAAUrxC,GACrC1oB,KAAK07D,gBACL17D,KAAK07D,eAAe3qC,cAAc,CAAEppB,UAAW+gB,EAAK/gB,YAEpD3H,KAAK+7D,kBACL/7D,KAAK+7D,iBAAiBhrC,cAAc,CAAEppB,UAAW+gB,EAAK/gB,YAEtD3H,KAAKm8D,kBACLn8D,KAAKm8D,iBAAiBprC,cAAc,CAAEppB,UAAW+gB,EAAK/gB,YAEtD3H,KAAKo8D,eACLp8D,KAAKo8D,cAAcrrC,cAAc,CAAEppB,UAAW+gB,EAAK/gB,YAEnD3H,KAAKu9D,oBACLv9D,KAAKu9D,mBAAmBxsC,cAAc,CAAEppB,UAAW+gB,EAAK/gB,YAExD3H,KAAKs9D,iBACLt9D,KAAKs9D,gBAAgBvsC,cAAc,CAAEppB,UAAW+gB,EAAK/gB,aAG7DozD,EAAgBl2D,UAAUiH,iBAAmB,WACrC9L,KAAKigC,OAAO09B,cAGhB39D,KAAKigC,OAAOz/B,GAAG,OAAiCR,KAAKi7D,aAAcj7D,MACnEA,KAAKigC,OAAOz/B,GAAG,OAAwBR,KAAK49D,kBAAmB59D,MAC/DA,KAAKigC,OAAOz/B,GAAG,QAAgBR,KAAK+5D,OAAQ/5D,MAC5CA,KAAKigC,OAAOz/B,GAAG,OAAgBR,KAAKiY,oBAAqBjY,MACzDA,KAAKigC,OAAOz/B,GAAG,QAAqBR,KAAK8O,kBAAmB9O,QAEhE+6D,EAAgBl2D,UAAU+4D,kBAAoB,WAC1C,eAAczoD,SAAU,cAE5B4lD,EAAgBl2D,UAAUoT,oBAAsB,WACxCjY,KAAKigC,OAAO09B,cAGhB39D,KAAKigC,OAAOk1B,IAAI,OAAwBn1D,KAAK49D,mBAC7C59D,KAAKigC,OAAOk1B,IAAI,QAAgBn1D,KAAK+5D,QACrC/5D,KAAKigC,OAAOk1B,IAAI,OAAiCn1D,KAAKi7D,cACtDj7D,KAAKigC,OAAOk1B,IAAI,OAAgBn1D,KAAKiY,qBACrCjY,KAAKigC,OAAOk1B,IAAI,QAAqBn1D,KAAK8O,qBAEvCisD,EA7ZyB,G,0BCJhC,GAA+B,WAC/B,SAAS8C,EAAc59B,GACnBjgC,KAAKigC,OAASA,EACdjgC,KAAK8L,mBACL9L,KAAKw5D,eAAiB,IAAI,QAC1Bx5D,KAAKw5D,eAAesE,SAAS,kBAAmB,IAAI,SA2CxD,OAzCAD,EAAch5D,UAAUiH,iBAAmB,WACvC9L,KAAKigC,OAAOz/B,GAAG,QAAqBR,KAAK+9D,aAAc/9D,MACvDA,KAAKigC,OAAOz/B,GAAG,OAAuBR,KAAKg+D,eAAgBh+D,MAC3DA,KAAKigC,OAAOz/B,GAAG,OAA2BR,KAAKi+D,gBAAiBj+D,MAChEA,KAAKigC,OAAOz/B,GAAG,OAAgBR,KAAKiY,oBAAqBjY,OAE7D69D,EAAch5D,UAAUk5D,aAAe,SAAUr1C,GAC7C,IAAI,eAAMA,EAAK5M,MAAf,CAGA,IAAK,eAAM4M,EAAK5M,KAAKoiD,eAAgB,CACjC,IAAIpkD,EAAY4O,EAAK5M,KAAKoiD,cACrBpkD,UACDA,IACAA,EAAU4+B,UAAY,GAG9B14C,KAAKigC,OAAOnV,OAAO,OAAyBpC,GAC5C1oB,KAAKigC,OAAOnV,OAAO,QAA6BpC,KAEpDm1C,EAAch5D,UAAUm5D,eAAiB,SAAUr7D,GAE/C,GADA3C,KAAKigC,OAAOnV,OAAO,QAAyB,KACtC3V,SAASC,KAAK9I,SAAS6I,SAASC,KAAKvI,cAAc,2BAClDlK,EAAEmZ,MAA4B,WAAnBnZ,EAAEmZ,KAAKu8C,SAA2C,YAAnB11D,EAAEmZ,KAAKu8C,SAA4C,UAAnB11D,EAAEmZ,KAAKu8C,QAAuB,CAC3G,IAAIh3D,EAAQsB,EAAEmZ,KAAKoiD,eAAiBl+D,KAAKigC,OAAOk+B,oBAAsBn+D,KAAKigC,OAAOk+B,mBAAmBC,YAC9Fp+D,KAAKigC,OAAOk+B,mBAAmBC,WAAWv3D,QAAQyF,SAAS3J,EAAEmZ,KAAKoiD,cAAcr3D,SAAW,QAAU,KAC5G7G,KAAKigC,OAAOy3B,UAAU2G,QAAQr+D,KAAKigC,OAAQt9B,EAAGA,EAAE0J,cAAehL,GAEnErB,KAAKigC,OAAOnV,OAAO,QAAsB,KAE7C+yC,EAAch5D,UAAUo5D,gBAAkB,SAAUv1C,GAChD1oB,KAAKigC,OAAOnV,OAAO,QAAyB,IAC5C9qB,KAAKigC,OAAOy3B,UAAU2G,QAAQr+D,KAAKigC,OAAQvX,EAAMA,EAAKrc,cAAe,MACrErM,KAAKigC,OAAOnV,OAAO,QAAsB,KAE7C+yC,EAAch5D,UAAUoT,oBAAsB,WAC1CjY,KAAKigC,OAAOk1B,IAAI,QAAqBn1D,KAAK+9D,cAC1C/9D,KAAKigC,OAAOk1B,IAAI,OAAuBn1D,KAAKg+D,gBAC5Ch+D,KAAKigC,OAAOk1B,IAAI,OAA2Bn1D,KAAKi+D,iBAChDj+D,KAAKigC,OAAOk1B,IAAI,OAAgBn1D,KAAKiY,sBAElC4lD,EAhDuB,GCQ9B,GAAyB,WACzB,SAASzpD,EAAQ6rB,EAAQu5B,GACrBx5D,KAAKigC,OAASA,EACdjgC,KAAKs+D,WAAY,EACjBt+D,KAAK05D,QAAUF,EACfx5D,KAAKu+D,kBAAmB,EACxBv+D,KAAK25D,cAAgB35D,KAAK05D,QAAQE,WAAW,mBAC7C,OAA2B55D,KAAKigC,QAChCjgC,KAAK25D,cAAc6E,YAAY,OAAWpqD,QAAS,IAAI,GAAgBpU,KAAKigC,SAC5EjgC,KAAK66D,gBAAkB76D,KAAK25D,cAAcmB,YAAY,OAAW1mD,SACjEpU,KAAKy+D,YAAc,IAAI,GAAYz+D,KAAKigC,OAAQjgC,KAAK05D,SACrD15D,KAAK8L,mBACD9L,KAAKigC,OAAO45B,iBAAmBv1D,OAAO2K,KAAKjP,KAAKigC,OAAO45B,gBAAgBC,aAAa10D,OAAS,EAC7F,eAAOpF,KAAKy5D,MAAO,OAAa,eAAkBz5D,KAAKigC,OAAO45B,gBAAgBC,cAAc,GAG5F95D,KAAKy5D,MAAQ,OAslBrB,OAnlBArlD,EAAQvP,UAAUm2D,mBAAqB,WACnCh7D,KAAK0+D,gBAAkB1+D,KAAK25D,cAAcmB,YAAY,OAAW6D,SACjE3+D,KAAK4+D,gBAAkB5+D,KAAK0+D,gBAAgBxB,eAC5Cl9D,KAAK6+D,UAAY7+D,KAAK0+D,gBAAgBtF,YAE1ChlD,EAAQvP,UAAUi6D,iBAAmB,WAC5B9+D,KAAKigC,OAAO02B,WAAW/uC,SACxB5nB,KAAK++D,eAAiB,IAAI,OAAe/+D,KAAKg/D,oBAAqB,CAC/D3nD,UAAWrX,KAAKi/D,eAAeh3D,KAAKjI,MAAOuU,WAAYvU,KAAKigC,OAAOy3B,UAAUwH,UAAWlb,UAAW,cAI/G5vC,EAAQvP,UAAUo6D,eAAiB,SAAUt8D,GACzC,OAAQA,EAAEmL,QACN,IAAK,SACD9N,KAAKigC,OAAO63B,cAAcoF,eAAejkD,QACzC,QAGZ7E,EAAQvP,UAAUs6D,qBAAuB,WACrCn/D,KAAKq7D,UAAYr7D,KAAKigC,OAAOt3B,cAAc,MAAO,CAAEpB,GAAIvH,KAAKigC,OAAO42B,QAAU,cACzE,OAAQ1vD,UAAYnH,KAAKigC,OAAO02B,WAAW/uC,QAAU,mBAIlD5nB,KAAKigC,OAAO45B,gBAAgBuF,iBAAmBp/D,KAAKigC,OAAO02B,WAAW/uC,QACtE5nB,KAAKq/D,UAAYr/D,KAAKigC,OAAOt3B,cAAc,MAAO,CAC9CpB,GAAIvH,KAAKigC,OAAO42B,QAAU,mBAC1B3sC,UAAWlqB,KAAKq7D,UAAU7xC,UAC1B5gB,UAAWitD,EAAA,QAEf71D,KAAKq7D,UAAYr7D,KAAKq/D,UAAU9yD,kBAChCvM,KAAKigC,OAAOp5B,QAAQ6D,aAAa1K,KAAKq/D,UAAWr/D,KAAK6+D,YAGtD7+D,KAAKigC,OAAOp5B,QAAQ6D,aAAa1K,KAAKq7D,UAAWr7D,KAAK6+D,aAIlEzqD,EAAQvP,UAAUy6D,eAAiB,WAC/B,IAAIC,EACJ,OAAQv/D,KAAKigC,OAAO45B,gBAAgBp+C,MAChC,KAAK,OAAY+jD,OACbD,EAAS,WACT,MACJ,KAAK,OAAYE,WACbF,EAAS,aACT,MACJ,QACIA,EAAS,WAKjB,OAHI,kBAAev/D,KAAKigC,OAAO45B,gBAAgBp+C,OAAS,OAAY+jD,SAChED,EAAS,OAAYE,YAElBF,GAEXnrD,EAAQvP,UAAU66D,uBAAyB,SAAU32D,GACjD,SAAK,OAAQ5B,UAAY,oBAKrBw4D,EADA3/D,KAAKigC,OAAO45B,gBAAgBp+C,OAAS,OAAY+jD,OACtC,OAAYI,SAGZ5/D,KAAKigC,OAAO45B,gBAAgBp+C,KAE3Czb,KAAKy+D,YAAY3+D,OAAO,CACpBs/B,UAAap/B,KAAKigC,OAAO02B,WAAiB,OAAI,QAAU,UACxD//C,MAAO5W,KAAKigC,OAAO45B,gBAAgBjjD,MACnC0zC,KAAMqV,EACNl+D,OAAQsH,IAER/I,KAAKigC,OAAO45B,gBAAgBp+C,OAAS,OAAY+jD,SACjD,eAAS,CAACz2D,GAAM,CAAC,oBACb/I,KAAKigC,OAAO02B,WAAW/uC,OACvB5nB,KAAK6/D,oBAGL,eAAS,CAAC92D,GAAM,CAAC8sD,EAAA,SAGzB71D,KAAKgX,aACLhX,KAAK8/D,eAAe3E,gBAAgB,CAChC/7B,UAAWr2B,EACXqyD,cAAiBp7D,KAAKigC,OAAO02B,WAAiB,OAAI,QAAU,UAC5D//C,MAAO5W,KAAKigC,OAAO45B,gBAAgBjjD,QAEvC5W,KAAKigC,OAAOnV,OAAO,QAA0B,CACzCsU,UAAWp/B,KAAKq7D,UAChBD,cAAiBp7D,KAAKigC,OAAO02B,WAAiB,OAAI,QAAU,UAC5D//C,MAAO5W,KAAKigC,OAAO45B,gBAAgBjjD,SAEhC,GAjCP,IAAI+oD,GAmCRvrD,EAAQvP,UAAUk7D,sBAAwB,WACtC//D,KAAKu+D,kBAAmB,EAExB,IADA,IAAIyB,EAAoB,eAAU,uBAAwB7qD,UACjD1P,EAAI,EAAGA,EAAIu6D,EAAkB56D,OAAQK,IAC1C,IAAK,eAAkBu6D,EAAkBv6D,GAAG6G,WAAa0zD,EAAkBv6D,GAAG6G,SAAStM,KAAKigC,OAAOp5B,SAAU,CACzG7G,KAAKu+D,kBAAmB,EACxB,QAIZnqD,EAAQvP,UAAUo7D,iBAAmB,SAAUt9D,GAC3C,IAAI20B,EAGA4oC,EAFAC,GAAS,EACTC,GAAU,EAEVC,EAAcrgE,KAAKigC,OAAOqgC,sBAC1B39D,GAAK3C,KAAKigC,OAAOg4B,eAAerwC,QAAU5nB,KAAKigC,OAAOE,aAAa+3B,gBAAkBv1D,EAAElB,OACvFy+D,EAAev9D,EAAElB,OAAO2T,KAEnBzS,GAAKA,EAAElB,SAAW0T,SACvB+qD,EAAev9D,EAAElB,QAGjB0+D,GAAS,EACTD,EAAe/qD,SAASC,MAE5B,IAAImrD,EAAWvgE,KAAKwgE,mBAAqBxgE,KAAKygE,yBAC9C,GAAIzgE,KAAKu+D,iBAAkB,CACvBjnC,EAAW,EACX,IAAIopC,EAA0B,EAC1BC,EAAY3gE,KAAKigC,OAAOp5B,QAAQmJ,aACpC,GAAImwD,EAAQ,CACR,IAAIS,EAAYt1D,OAAOoT,iBAAiBwhD,GACxCQ,EAA0B/hD,WAAWiiD,EAAUhiD,UAAUvI,MAAM,MAAM,IAAMsI,WAAWiiD,EAAUC,WAAWxqD,MAAM,MAAM,IAE3H,IAAIyqD,EAAY9gE,KAAKigC,OAAOp5B,QAAQoc,wBAAwBjJ,IACxD+mD,EAAuB,OAAQC,aAAeb,EAAU70D,OAAO0gD,YAAckU,EAAazlD,cAActJ,UACxG8vD,EAAmBf,EAAaj9C,wBAChCi+C,EAAoBf,EAAkCc,EAAiBjnD,IAAM+mD,EAA/CE,EAAiBjnD,IAC/CmnD,IAAeL,GAAeX,EAA4B,EAAlBe,GAAwBP,EAAYJ,EAAWF,GACvFS,EAAaI,EAAkBb,GAAgBS,GAAaH,GAAeG,EAAY,GAAKK,GAC5Ff,GAAU,EACV,eAAY,CAACpgE,KAAKq7D,WAAY,CAACxF,EAAA,SAE1BiL,EAAaI,EAAkBb,IAEhC/oC,EADAwpC,EAAY,GACCA,EAAaI,EAGfA,EAAkBJ,EAEjCxpC,EAAW,EAAWA,EAAWopC,EAA0BppC,EAC3D,eAAS,CAACt3B,KAAKq7D,WAAY,CAACxF,EAAA,QAC5BuK,GAAU,OAGb,CACD,IAAIgB,EAAWphE,KAAKigC,OAAOp5B,QAAQoc,wBACnC,GAAI3X,OAAOwX,YAAcs+C,EAASpnD,IAC9B,OAEJsd,EAAY30B,GAAKA,EAAElB,SAAW0T,SAAY+qD,EAAaj9C,wBAAwBjJ,IAAM,EAChFonD,EAASl+C,OAAUm9C,EAAcE,EAAWjpC,GAAc8pC,EAASl+C,OAAS,GAAKk+C,EAASpnD,IAAMqmD,EAAc/oC,EAC/G8oC,GAAU,EAELgB,EAASpnD,IAAMqmD,IACpBD,GAAU,GAGbA,GAKD,eAAS,CAACpgE,KAAKq7D,WAAY,CAACxF,EAAA,QAC5B,eAAkB71D,KAAKq7D,UAAW,CAAE/sD,MAAOtO,KAAKigC,OAAOp5B,QAAQ6B,YAAc,KAAMsR,IAAMqmD,EAAc/oC,EAAY,SALnH,eAAY,CAACt3B,KAAKq7D,WAAY,CAACxF,EAAA,QAC/B,eAAkB71D,KAAKq7D,UAAW,CAAErhD,IAAK,MAAU1L,MAAO,WAOlE8F,EAAQvP,UAAUqxD,cAAgB,WAG9B,GAFAl2D,KAAKg7D,qBACLh7D,KAAKm/D,wBACDn/D,KAAK0/D,uBAAuB1/D,KAAKq7D,WAArC,CAGIr7D,KAAKigC,OAAO02B,WAAW/uC,OACvB5nB,KAAKigC,OAAOnV,OAAO,QAA4B,KAG/C9qB,KAAKy+D,YAAY3+D,OAAO,CACpBs/B,UAAW,UACXxoB,MAAO5W,KAAKigC,OAAO45B,gBAAgBjjD,MACnC0zC,KAAMtqD,KAAKs/D,iBACX79D,OAAQzB,KAAKq7D,YAEZr7D,KAAKigC,OAAO02B,WAAW/uC,SACpB5nB,KAAKigC,OAAO45B,gBAAgBuF,iBAC5Bp/D,KAAK+/D,wBACL//D,KAAKigE,oBAELjgE,KAAKigC,OAAO45B,gBAAgBp+C,OAAS,OAAY+jD,QACjD,eAAS,CAACx/D,KAAKigC,OAAOp5B,SAAU,CAACgvD,EAAA,UAI7C71D,KAAKgX,aACDhX,KAAKigC,OAAO02B,WAAW/uC,SAAW,kBAClC5nB,KAAK6/D,oBAEJ7/D,KAAKigC,OAAO02B,WAAW/uC,SACxB5nB,KAAK8/D,eAAe3E,gBAAgB,CAChC/7B,UAAWp/B,KAAKq7D,UAChBD,cAAe,UACfxkD,MAAO5W,KAAKigC,OAAO45B,gBAAgBjjD,QAEvC5W,KAAKigC,OAAOnV,OAAO,QAA0B,CACzCsU,UAAWp/B,KAAKq7D,UAChBD,cAAe,UACfxkD,MAAO5W,KAAKigC,OAAO45B,gBAAgBjjD,QAEvC5W,KAAKqhE,0BAET,IAAIC,EAASthE,KAAKigC,OAAOp5B,QAAQgG,cAAc,sBAC3C00D,EAAYvhE,KAAKigC,OAAOp5B,QAAQgG,cAAc,uBAC5C7M,KAAKigC,OAAOg4B,eAAerwC,SAAY,eAAM05C,IAAoC,UAAzBA,EAAO75D,MAAMC,SACtE1H,KAAKigC,OAAOg4B,eAAerwC,SAAY,eAAM25C,IAA0C,UAA5BA,EAAU95D,MAAMC,WAC5E1H,KAAKigC,OAAOnV,OAAO,QAA0B,CACzC02C,WAAY,aAAcC,WAAY,UACtChD,YAAaz+D,KAAKigC,OAAOyhC,yBAE7B1hE,KAAKigC,OAAO0hC,mBAAmB3hE,KAAKigC,OAAO45B,gBAAgBjjD,UAQnExC,EAAQvP,UAAUg7D,kBAAoB,WAClC,eAAS,CAAC7/D,KAAKq7D,WAAY,CAACxF,EAAA,SAOhCzhD,EAAQvP,UAAU+8D,qBAAuB,WACrC,eAAY,CAAC5hE,KAAKq7D,WAAY,CAACxF,EAAA,SAEnCzhD,EAAQvP,UAAUg9D,cAAgB,WAC9B,eAAS,CAAC7hE,KAAKq7D,WAAY,CAACxF,EAAA,QACxB,OAAQzkB,OACR,eAAS,CAACpxC,KAAKq7D,WAAY,CAACxF,EAAA,SAGpCzhD,EAAQvP,UAAUi9D,cAAgB,WAC5B9hE,KAAKs+D,UAAyFt+D,KAAKs+D,WAAY,EAA7F,eAAY,CAACt+D,KAAKq7D,WAAY,CAACxF,EAAA,MAAkBA,EAAA,SAOzEzhD,EAAQvP,UAAU48D,WAAa,SAAU/4C,GACrC,IAAI5M,EAAO9b,KAAKy5D,MAAM/wC,EAAK+4C,WAAWvH,qBAClC6H,EAAU/hE,KAAKy5D,MAAM/wC,EAAK84C,WAAWtH,qBACrC33D,EAAQ,eAAkB,eAAcw/D,EAAQ3J,YAAa1vC,EAAK+1C,YAAYnI,WAAW1/C,OAAO,GACpG,GAAK,eAAMrU,GASPvC,KAAKgiE,YAAYt5C,EAAM,OATR,CACf,IAAIu5C,EAAWjiE,KAAKigC,OAAO02B,WAAW/uC,OAAS,UAAY,YAC3Dc,EAAK+1C,YAAYnI,WAAW1/C,MAAMrU,GAAOgF,GAAKvH,KAAKigC,OAAO42B,QAAUoL,EAAWnmD,EAAKvU,GACpFmhB,EAAK+1C,YAAYnI,WAAW1/C,MAAMrU,GAAO6Y,WAAaU,EAAKiR,KAC3DrE,EAAK+1C,YAAYnI,WAAW1/C,MAAMrU,GAAOqZ,YAAcE,EAAKof,QAC5DxS,EAAK+1C,YAAYnI,WAAW1/C,MAAMrU,GAAO61D,WAAat8C,EAAKs8C,WAC3D1vC,EAAK+1C,YAAYnI,WAAWh6C,aAMpClI,EAAQvP,UAAUq9D,oBAAsB,SAAUx5C,GAC9C,GAAK1oB,KAAKq7D,aAAcr7D,KAAKigC,OAAO02B,WAAW/uC,SAAW,kBAAgB,OAAQzgB,UAAlF,CAGA,IAAIP,EAAU,CACV8hB,KAAMA,EACNo3C,eAAgB9/D,KAAK8/D,eACrB7/B,OAAQjgC,KAAKigC,OACbkiC,WAAY,eAAU,IAAMtM,EAAA,MAAqB71D,KAAKq7D,WACtDhB,QAASr6D,KAAKy+D,YAAYnI,WAAW1/C,OAEzC,eAAiBhQ,IAAU5G,KAAKigC,OAAO02B,WAAW/uC,UAEtDxT,EAAQvP,UAAUu9D,WAAa,SAAUz/D,GACrC3C,KAAKigC,OAAOoiC,iBAAiBC,eAAe3/D,IAEhDyR,EAAQvP,UAAU09D,WAAa,SAAU5/D,GACrC3C,KAAKigC,OAAOoiC,iBAAiBG,eAAe7/D,IAOhDyR,EAAQvP,UAAU49D,eAAiB,WAC/B,OAAOziE,KAAKy+D,aAOhBrqD,EAAQvP,UAAUm9D,YAAc,SAAUt5C,EAAMnmB,GAC5CmmB,EAAK+1C,YAAYnI,WAAWtuC,SAAS,CAACU,EAAK+1C,YAAYtE,UAAUzxC,EAAK+4C,WAAY,YAAal/D,IAOnG6R,EAAQvP,UAAU69D,gBAAkB,SAAUjE,EAAa7nD,EAAO8Q,EAAUi7C,GACxE,IAAIC,EAAW,eAAkB,eAAchsD,GAAQ6nD,EAAYnI,WAAW1/C,OAC9E5W,KAAKq6D,QAAU,eAAU,IAAMxE,EAAA,MAAqB4I,EAAYnI,WAAWzvD,SAC3E,IAAK,IAAIpB,EAAI,EAAGA,EAAIm9D,EAASx9D,OAAQK,IAAK,CACtC,IAAIqW,EAAO9b,KAAKq6D,QAAQuI,EAASn9D,IAC7BqW,GACA2iD,EAAYnI,WAAW7uC,YAAY3L,EAAM4L,GAG5C,eAAO,qBAAsB1nB,KAAKigC,OAAOp5B,UAAa87D,GACvD,eAAqBlE,EAAaz+D,KAAKigC,OAAOy3B,UAAUC,cAAckL,gBAAgBC,kBAQ9F1uD,EAAQvP,UAAUk+D,gBAAkB,SAAUnsD,GACtC,eAAkB5W,KAAKy+D,YAAYnI,cACnCt2D,KAAKy+D,YAAcz+D,KAAKigC,OAAOyhC,wBAEnC,IAAIkB,EAAW,eAAkB,eAAchsD,GAAQ5W,KAAKy+D,YAAYnI,WAAW1/C,OACnF5W,KAAKq6D,QAAWr6D,KAAKigC,OAAO02B,WAAiB,OAAI,eAAU,IAAMd,EAAA,MAAqB71D,KAAKy+D,YAAYnI,WAAWzvD,SAC5G,eAAU,IAAMgvD,EAAA,MAAqB71D,KAAKigC,OAAOp5B,SACvD,IAAK,IAAIpB,EAAI,EAAGA,EAAIm9D,EAASx9D,OAAQK,IACjCzF,KAAKy+D,YAAYnI,WAAW7tC,YAAYzoB,KAAKq6D,QAAQuI,EAASn9D,MAQtE2O,EAAQvP,UAAU47D,uBAAyB,WACvC,IAAIuC,EAAY,EAChB,GAAIhjE,KAAKigC,OAAO45B,gBAAgBp+C,OAAS,OAAY+jD,QAAUx/D,KAAKq7D,UAAUzzD,UAAU0E,SAAS,sBAAuB,CACpH,IAAI22D,EAAc,eAAO,sBAAuBjjE,KAAKq7D,WACjD4H,GAAejjE,KAAKq7D,UAAUzzD,UAAU0E,SAAS,kBAC9C22D,GAAeA,EAAYr7D,UAAU0E,SAAS,iBACjD,eAAS,CAAC22D,GAAc,CAACpN,EAAA,QACzBmN,GAAwBC,EAAYjzD,aACpC,eAAY,CAACizD,GAAc,CAACpN,EAAA,SAG5B,eAAY,CAAC71D,KAAKq7D,WAAY,CAACxF,EAAA,OAGvC,OAAOmN,GAOX5uD,EAAQvP,UAAU27D,iBAAmB,WACjC,OAAOxgE,KAAKq7D,UAAUrrD,cAO1BoE,EAAQvP,UAAUm6D,kBAAoB,WAClC,OAAO,eAAO,IAAMnJ,EAAA,MAAqB71D,KAAKigC,OAAOp5B,UAOzDuN,EAAQvP,UAAUw8D,uBAAyB,WACvCrhE,KAAKy+D,YAAYnI,WAAWn4C,mBAEhC/J,EAAQvP,UAAUq+D,mBAAqB,WACnC,OAAOljE,KAAKy+D,YAAYnI,aAAet2D,KAAKy+D,YAAYnI,WAAWqH,aAEvEvpD,EAAQvP,UAAUs+D,eAAiB,WAC/B,GAAInjE,KAAKkjE,qBAAsB,CAC3BljE,KAAKigC,OAAOmjC,6BACZpjE,KAAK4vB,eACL5vB,KAAKigC,OAAOnV,OAAO,OAA2B,IAC9C9qB,KAAK8/D,eAAepC,mBACpB19D,KAAKy+D,YAAYnI,WAAW5sD,UAC5B1J,KAAKiY,sBACL,eAAY,CAACjY,KAAKigC,OAAOp5B,SAAU,CAACgvD,EAAA,QACpC,IAAIwJ,EAAY,eAAO,IAAMxJ,EAAA,MAAqB71D,KAAKigC,OAAOp5B,SAC1Dw0D,EAAY,eAAO,IAAMxF,EAAA,MAAqB71D,KAAKigC,OAAOp5B,SACzD,eAAkBw4D,GAGb,eAAkBhE,IACxB,eAAOA,GAHP,eAAOgE,KAcnBjrD,EAAQvP,UAAU6E,QAAU,WACpB1J,KAAKkjE,uBACLljE,KAAKmjE,iBACDnjE,KAAK++D,gBACL/+D,KAAK++D,eAAer1D,YAIhC0K,EAAQvP,UAAUwD,cAAgB,SAAU1F,GACnC3C,KAAKigC,OAAO02B,WAAW/uC,QACpB5nB,KAAKigC,OAAO45B,gBAAgBuF,gBAAkBp/D,KAAKqjE,iBAAiBrjE,KAAKq7D,YACzEr7D,KAAKigE,iBAAiBt9D,EAAE+lB,OAIpCtU,EAAQvP,UAAUw+D,iBAAmB,SAAUj5D,GAC3C,SAAKA,EAAGk5D,cAAmC,IAAnBl5D,EAAG1B,aAAyC,IAApB0B,EAAG4F,eAKvDoE,EAAQvP,UAAU0+D,iBAAmB,WAC7B,OAAQp8D,UAAYnH,KAAKigC,OAAO02B,WAAW/uC,SAAW,kBACtD5nB,KAAK6hE,iBAGbztD,EAAQvP,UAAU2+D,mBAAqB,WAC/B,OAAQr8D,UAAYnH,KAAKigC,OAAO02B,WAAW/uC,SAAW,mBACtD5nB,KAAKs+D,WAAY,EACjBt+D,KAAK8hE,kBAGb1tD,EAAQvP,UAAU4+D,0BAA4B,WAC1CzjE,KAAKs+D,WAAY,GAErBlqD,EAAQvP,UAAU6+D,eAAiB,SAAU/gE,GACzC,IAAIghE,EAAYxuD,SAAS+sB,cACrB0hC,EAAkB,eAAQD,EAAW,kBACzC,GAAIA,IAAc3jE,KAAKigC,OAAO++B,qBAAuB4E,IAAoB5jE,KAAKigC,OAAO++B,oBAEjF,IADA,IAAI6E,EAAc7jE,KAAKigC,OAAO++B,oBAAoBxpD,iBAAiB,mBAC1D/P,EAAI,EAAGA,EAAIo+D,EAAYz+D,OAAQK,IAChC,eAAMzF,KAAKigC,OAAO++B,oBAAoBnyD,cAAc,wBACpDg3D,EAAYp+D,GAAGqD,aAAa,WAAY,KAGxC+6D,EAAYp+D,GAAGqD,aAAa,WAAY,MAKxDsL,EAAQvP,UAAUi/D,iBAAmB,SAAUnhE,IACvCA,EAAElB,OAAOmG,UAAU0E,SAAS,mBAC5B3J,EAAElB,OAAO2Y,aAAa,QAAUpa,KAAKigC,OAAO42B,QAAU,yBACtDl0D,EAAElB,OAAOqH,aAAa,WAAY,MAG1CsL,EAAQvP,UAAUk/D,wBAA0B,SAAUphE,GAClD,IAAIqhE,EAAM,eAAQrhE,EAAElB,OAAQ,cACxBuiE,GAAOhkE,KAAKigC,OAAO45B,gBAAgBp+C,OAAS,OAAY+jD,SAAW,eAAMwE,GACpEA,EAAIp8D,UAAU0E,SAAS,iBAKxB,eAAS,CAACtM,KAAKq7D,WAAY,CAACxF,EAAA,OAC5B71D,KAAKigC,OAAOgkC,iBAAiB,WAAW,KALxC,eAAY,CAACjkE,KAAKq7D,WAAY,CAACxF,EAAA,OAC/B71D,KAAKigC,OAAOgkC,iBAAiB,WAAW,KAOvC,OAAQ98D,UAAYnH,KAAKigC,OAAO02B,WAAW/uC,UAChD5nB,KAAKs+D,WAAY,GAEjB,eAAM0F,IAAQhkE,KAAKigC,OAAO45B,gBAAgBp+C,OAAS,OAAY+jD,QAC/D,eAAY,CAACx/D,KAAKq7D,WAAY,CAACxF,EAAA,QAGvCzhD,EAAQvP,UAAUmS,WAAa,WACvBhX,KAAKigC,OAAO02B,WAAW/uC,QAAU,mBAGrC,OAAa/f,IAAI7H,KAAKq7D,UAAW,kBAAmBr7D,KAAK+jE,wBAAyB/jE,MAClF,OAAa6H,IAAI7H,KAAKq7D,UAAW,UAAWr7D,KAAK0jE,eAAgB1jE,MACjE,OAAa6H,IAAI7H,KAAKq7D,UAAW,UAAWr7D,KAAK8jE,iBAAkB9jE,QAEvEoU,EAAQvP,UAAU+qB,aAAe,WAC7B,OAAajmB,OAAO3J,KAAKq7D,UAAW,kBAAmBr7D,KAAK+jE,yBAC5D,OAAap6D,OAAO3J,KAAKq7D,UAAW,UAAWr7D,KAAK0jE,gBACpD,OAAa/5D,OAAO3J,KAAKq7D,UAAW,UAAWr7D,KAAK8jE,mBAExD1vD,EAAQvP,UAAUiH,iBAAmB,WAC7B9L,KAAKigC,OAAO09B,cAGhB39D,KAAK8/D,eAAiB,IAAI,GAAgB9/D,KAAKigC,OAAQjgC,KAAK05D,SAC5D15D,KAAKkkE,oBAAsB,IAAI,GAAclkE,KAAKigC,QAClDjgC,KAAKigC,OAAOz/B,GAAG,OAAmBR,KAAKk2D,cAAel2D,MACtDA,KAAKigC,OAAOz/B,GAAG,QAAeR,KAAKqI,cAAerI,MAClDA,KAAKigC,OAAOz/B,GAAG,OAAkBR,KAAK8+D,iBAAkB9+D,MACxDA,KAAKigC,OAAOz/B,GAAG,QAAuBR,KAAKkiE,oBAAqBliE,MAChEA,KAAKigC,OAAOz/B,GAAG,QAAqBR,KAAK8O,kBAAmB9O,MAC5DA,KAAKigC,OAAOz/B,GAAG,QAAqBR,KAAKmkE,UAAWnkE,MACpDA,KAAKigC,OAAOz/B,GAAG,OAAgBR,KAAK0J,QAAS1J,MAC7CA,KAAKigC,OAAOz/B,GAAG,OAAyBR,KAAKoiE,WAAYpiE,MACzDA,KAAKigC,OAAOz/B,GAAG,OAA0BR,KAAKuiE,WAAYviE,MAC1DA,KAAKigC,OAAOz/B,GAAG,QAA0BR,KAAKyhE,WAAYzhE,MAC1DA,KAAKigC,OAAOz/B,GAAG,OAA2BR,KAAKyjE,0BAA2BzjE,MAC1EA,KAAKigC,OAAOz/B,GAAG,OAAyBR,KAAKigC,OAAOgkC,iBAAkBjkE,KAAKigC,QAC3EjgC,KAAKigC,OAAOz/B,GAAG,OAAoBR,KAAKwjE,mBAAoBxjE,MAC5DA,KAAKigC,OAAOz/B,GAAG,QAAkBR,KAAKujE,iBAAkBvjE,MACxDA,KAAKigC,OAAOz/B,GAAG,QAA4BR,KAAKujE,iBAAkBvjE,QAEtEoU,EAAQvP,UAAUoT,oBAAsB,WAChCjY,KAAKigC,OAAO09B,cAGhB39D,KAAKigC,OAAOk1B,IAAI,OAAmBn1D,KAAKk2D,eACxCl2D,KAAKigC,OAAOk1B,IAAI,QAAen1D,KAAKqI,eACpCrI,KAAKigC,OAAOk1B,IAAI,OAAkBn1D,KAAK8+D,kBACvC9+D,KAAKigC,OAAOk1B,IAAI,QAAuBn1D,KAAKkiE,qBAC5CliE,KAAKigC,OAAOk1B,IAAI,QAAqBn1D,KAAK8O,mBAC1C9O,KAAKigC,OAAOk1B,IAAI,QAAqBn1D,KAAKmkE,WAC1CnkE,KAAKigC,OAAOk1B,IAAI,OAAgBn1D,KAAK0J,SACrC1J,KAAKigC,OAAOk1B,IAAI,OAAyBn1D,KAAKigC,OAAOoiC,iBAAiBC,gBACtEtiE,KAAKigC,OAAOk1B,IAAI,OAA0Bn1D,KAAKigC,OAAOoiC,iBAAiBG,gBACvExiE,KAAKigC,OAAOk1B,IAAI,QAA0Bn1D,KAAKyhE,YAC/CzhE,KAAKigC,OAAOk1B,IAAI,OAA2Bn1D,KAAKyjE,2BAChDzjE,KAAKigC,OAAOk1B,IAAI,OAAyBn1D,KAAKigC,OAAOgkC,kBACrDjkE,KAAKigC,OAAOk1B,IAAI,OAAoBn1D,KAAKwjE,oBACzCxjE,KAAKigC,OAAOk1B,IAAI,QAAkBn1D,KAAKujE,kBACvCvjE,KAAKigC,OAAOk1B,IAAI,QAA4Bn1D,KAAKujE,oBAErDnvD,EAAQvP,UAAUs/D,UAAY,WAC1BnkE,KAAKqhE,yBACLrhE,KAAKigC,OAAOgkC,iBAAiB,IAAI,IAOrC7vD,EAAQvP,UAAUiK,kBAAoB,SAAUnM,GAC5C,IAAK,eAAkBA,EAAEoM,QAAQ4nD,YAC7B,IAAK,IAAIpzD,EAAK,EAAGwG,EAAKzF,OAAO2K,KAAKtM,EAAEoM,QAAQ4nD,YAAapzD,EAAKwG,EAAG3E,OAAQ7B,IAAM,CAC3E,IAAI2L,EAAOnF,EAAGxG,GACd,OAAQ2L,GACJ,IAAK,SACDlP,KAAKokE,iBACL,OAIZzhE,EAAE0hE,SAAWrkE,KAAKyJ,iBAGtBzJ,KAAKokE,kBAEThwD,EAAQvP,UAAUu/D,eAAiB,WAC3B,eAAkBpkE,KAAKy+D,YAAYnI,cACnCt2D,KAAKy+D,YAAcz+D,KAAKigC,OAAOyhC,wBAEnC,IAAIrC,EAAY,eAAO,IAAMxJ,EAAA,MAAqB71D,KAAKigC,OAAOp5B,SAC1Dw0D,EAAY,eAAO,IAAMxF,EAAA,MAAqB71D,KAAKigC,OAAOp5B,UAC1Dw0D,GAAagE,IACbr/D,KAAKmjE,iBAELnjE,KAAKigC,OAAO45B,gBAAgBjyC,SAC5B5nB,KAAK8L,mBACL9L,KAAKk2D,gBACLl2D,KAAKigC,OAAOqkC,2BACP,eAAO,qBAAsBtkE,KAAKigC,OAAOp5B,UAC1C,eAAqB7G,KAAKy+D,YAAaz+D,KAAKigC,OAAOy3B,UAAUC,cAAckL,gBAAgBC,mBAOvG1uD,EAAQvP,UAAU4E,cAAgB,WAC9B,MAAO,WAEJ2K,EAtmBiB,G,aCfxB,GAAwC,WACxC,IAAIjQ,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,gBAClB,CAAEC,UAAW,cAAgBpB,OAAS,SAAUgB,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAII,KAAKJ,EAAOA,EAAEK,eAAeD,KAAIL,EAAEK,GAAKJ,EAAEI,KAClEN,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASM,IAAO3E,KAAK4E,YAAcR,EADnCD,EAAcC,EAAGC,GAEjBD,EAAES,UAAkB,OAANR,EAAaC,OAAOQ,OAAOT,IAAMM,EAAGE,UAAYR,EAAEQ,UAAW,IAAIF,IAV3C,GAaxC,GAA0C,SAAUK,EAAYvD,EAAQX,EAAKmE,GAC7E,IAA2Hb,EAAvHc,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIzD,EAAkB,OAATwD,EAAgBA,EAAOX,OAAOgB,yBAAyB7D,EAAQX,GAAOmE,EACrH,GAAuB,kBAAZM,SAAoD,oBAArBA,QAAQC,SAAyBH,EAAIE,QAAQC,SAASR,EAAYvD,EAAQX,EAAKmE,QACpH,IAAK,IAAIQ,EAAIT,EAAWI,OAAS,EAAGK,GAAK,EAAGA,KAASrB,EAAIY,EAAWS,MAAIJ,GAAKH,EAAI,EAAId,EAAEiB,GAAKH,EAAI,EAAId,EAAE3C,EAAQX,EAAKuE,GAAKjB,EAAE3C,EAAQX,KAASuE,GAChJ,OAAOH,EAAI,GAAKG,GAAKf,OAAOoB,eAAejE,EAAQX,EAAKuE,GAAIA,GAM5Dk/D,GAAQ,UACR,GAAW,sBACXC,GAAQ,UACRC,GAAgB,SAChBC,GAAQ,UACRC,GAAS,qBACTC,GAAc,iBACdC,GAAsB,gBACtB,GAAM,QACNC,GAAU,qBACVC,GAAgB,CAAC,QAAS,QAAS,QAAS,WAAY,WAAY,OAAQ,SAY5E,GAA0B,SAAUr+D,GAMpC,SAASs+D,EAASp+D,EAASC,GACvB,IAAIoE,EAAQvE,EAAOI,KAAK9G,KAAM4G,EAASC,IAAY7G,KAGnD,OAFAiL,EAAM2/B,WAAY,EAClB3/B,EAAMg6D,cAAe,EACdh6D,EAucX,OAhdA,GAAU+5D,EAAUt+D,GAWpBs+D,EAASngE,UAAUqgE,YAAc,SAAUC,GACvC,IAAIC,EACAC,EACAC,EAAYtlE,KAAKoqD,aAAa1qC,uBAAuB8kD,IAAO,GAC5D,SACAa,EAAarlE,KAAKoqD,aAAa1qC,uBAAuBilD,IAAQ,IAEpD,UAAVQ,GACAG,EAAU19D,UAAU+B,OAAO86D,IAC3Ba,EAAU19D,UAAUC,IAAI08D,IACpBc,IACAA,EAAWz9D,UAAU+B,OAAOk7D,IAC5BQ,EAAWz9D,UAAUC,IAAI+8D,KAE7BQ,EAAY,OACZplE,KAAK6G,QAAQlD,SAAU,GAER,YAAVwhE,GACL,eAAY,CAACG,GAAY,CAACf,GAAOE,KAC7BY,GACA,eAAY,CAACA,GAAa,CAACT,GAAaC,KAE5CO,EAAY,QACZplE,KAAK6G,QAAQlD,SAAU,IAGvB2hE,EAAU19D,UAAU+B,OAAO46D,IAC3Be,EAAU19D,UAAUC,IAAI48D,IACpBY,IACAA,EAAWz9D,UAAU+B,OAAOi7D,IAC5BS,EAAWz9D,UAAUC,IAAIg9D,KAE7BO,EAAY,QACZplE,KAAK6G,QAAQ0+D,eAAgB,GAEjCvlE,KAAKoqD,aAAathD,aAAa,eAAgBs8D,IAEnDJ,EAASngE,UAAUoS,aAAe,SAAUlG,GACpC/Q,KAAKilE,eACLjlE,KAAK6rC,kBACL7rC,KAAKilE,cAAe,GAEpBjlE,KAAKulE,eACLvlE,KAAKklE,YAAYllE,KAAK2D,QAAU,QAAU,WAC1C3D,KAAKulE,eAAgB,EACrBvlE,KAAK6G,QAAQ0+D,eAAgB,GAExBvlE,KAAK2D,SACV3D,KAAKklE,YAAY,WACjBllE,KAAK2D,SAAU,IAGf3D,KAAKklE,YAAY,SACjBllE,KAAK2D,SAAU,GAEnB,IAAIgpC,EAAkB,CAAEhpC,QAAS3D,KAAK6G,QAAQlD,QAASoN,MAAOA,GAC9D/Q,KAAKyW,QAAQ,SAAUk2B,IAM3Bq4B,EAASngE,UAAU6E,QAAU,WACzB,IAAIuB,EAAQjL,KACRqxB,EAAUrxB,KAAKoqD,aACf,kBAAcpqD,KAAKqV,iBACdrV,KAAKmb,WACNnb,KAAKqxB,QAAUA,EACfrxB,KAAK4vB,gBAIL5vB,KAAKqxB,UACLA,EAAUrxB,KAAKqxB,QACf3qB,EAAO7B,UAAU6E,QAAQ5C,KAAK9G,MACzBA,KAAKmb,UACNnb,KAAK4vB,eAEY,UAAjB5vB,KAAKyX,SACDzX,KAAKoqD,cACL/4B,EAAQ7I,WAAW9d,aAAa1K,KAAK6G,QAASwqB,GAElD,eAAOA,GACPrxB,KAAK6G,QAAQlD,SAAU,EACnB3D,KAAKulE,gBACLvlE,KAAK6G,QAAQ0+D,eAAgB,GAEjC,CAAC,OAAQ,QAAS,YAAYz7D,SAAQ,SAAUhJ,GAC5CmK,EAAMpE,QAAQoD,gBAAgBnJ,QAIlC,CAAC,OAAQ,eAAgB,SAASgJ,SAAQ,SAAUhJ,GAChDuwB,EAAQpnB,gBAAgBnJ,MAE5BuwB,EAAQnH,UAAY,MAKpC86C,EAASngE,UAAU+mC,aAAe,WAC9B5rC,KAAK4qC,WAAY,GAErBo6B,EAASngE,UAAUgnC,gBAAkB,WACjC7rC,KAAKoqD,aAAaxiD,UAAU+B,OAAO,WACnC3J,KAAK4qC,WAAY,GAMrBo6B,EAASngE,UAAU4E,cAAgB,WAC/B,MAAO,YAMXu7D,EAASngE,UAAUyE,eAAiB,WAChC,OAAOtJ,KAAKwJ,aAAa,CAAC,UAAW,mBAEzCw7D,EAASngE,UAAUulD,WAAa,WAC5B,OAAIpqD,KAAK6G,QAAQ4T,cACNza,KAAK6G,QAAQ4T,cAAcA,cAG3B,MAGfuqD,EAASngE,UAAUyC,WAAa,WACxB,eAAkBtH,KAAKwlE,uBACvBxlE,KAAKwlE,oBAAsBxlE,KAAK2D,SAEhC3D,KAAKmB,MACLnB,KAAK6G,QAAQiC,aAAa,OAAQ9I,KAAKmB,MAEvCnB,KAAKqB,OACLrB,KAAK6G,QAAQiC,aAAa,QAAS9I,KAAKqB,OAExCrB,KAAK2D,SACL3D,KAAKklE,YAAY,SAEjBllE,KAAKulE,eACLvlE,KAAKklE,cAELllE,KAAKmb,UACLnb,KAAKylE,eAGbT,EAASngE,UAAU4sB,YAAc,WAC7B,IAAIJ,EAAUrxB,KAAK6G,QAAQ4T,cACtB4W,EAAQzpB,UAAU0E,SAASw4D,MAC5BzzC,EAAUrxB,KAAK2I,cAAc,MAAO,CAChCC,UAAWk8D,GAASxkE,MAAO,CAAE,KAAQ,WAAY,eAAgB,WAErEN,KAAK6G,QAAQ2hB,WAAW9d,aAAa2mB,EAASrxB,KAAK6G,UAEvD,IAAIy5B,EAAQtgC,KAAK2I,cAAc,QAAS,CAAErI,MAAO,CAAEolE,IAAK1lE,KAAK6G,QAAQU,MACjE+9D,EAAYtlE,KAAK2I,cAAc,OAAQ,CAAEC,UAAW,WAAa47D,KAYrE,GAXAnzC,EAAQzpB,UAAUC,IAAI,aAClB7H,KAAK2H,WACL0pB,EAAQzpB,UAAUC,IAAI,IAEtB7H,KAAKoW,UACL,eAAS,CAACib,GAAUrxB,KAAKoW,SAASC,MAAM,MAE5Cgb,EAAQloB,YAAYm3B,GACpBA,EAAMn3B,YAAYnJ,KAAK6G,SACvB,gBAAe7G,KAAMsgC,GACrBA,EAAMn3B,YAAYm8D,GACd,OAAiB,CACjB,IAAID,EAAarlE,KAAK2I,cAAc,OAAQ,CAAEC,UAAW+7D,KAC9B,WAAvB3kE,KAAK2lE,cACLrlC,EAAMn3B,YAAYk8D,GAGlB/kC,EAAM51B,aAAa26D,EAAYC,GAEnC,eAAaD,EAAY,CAAEvtD,SAAU,IAAK8tD,gBAAgB,IAE1D5lE,KAAKsgC,OACLtgC,KAAK6lE,QAAQ7lE,KAAKsgC,QAG1B0kC,EAASngE,UAAUknC,aAAe,WAC1B/rC,KAAK4qC,WACL5qC,KAAKoqD,aAAaxiD,UAAUC,IAAI,YAGxCm9D,EAASngE,UAAUihE,kBAAoB,SAAUnjE,GAC7C3C,KAAKilE,cAAe,EACpB,IAAII,EAAarlE,KAAKoqD,aAAa1qC,uBAAuBilD,IAAQ,GAClE,gBAAmBhiE,EAAG0iE,IAM1BL,EAASngE,UAAUiK,kBAAoB,SAAUC,EAASC,GAEtD,IADA,IAAIqiB,EAAUrxB,KAAKoqD,aACV7mD,EAAK,EAAGwG,EAAKzF,OAAO2K,KAAKF,GAAUxL,EAAKwG,EAAG3E,OAAQ7B,IAAM,CAC9D,IAAI2L,EAAOnF,EAAGxG,GACd,OAAQ2L,GACJ,IAAK,UACDlP,KAAKulE,eAAgB,EACrBvlE,KAAK6G,QAAQ0+D,eAAgB,EAC7BvlE,KAAKklE,YAAYn2D,EAAQpL,QAAU,QAAU,WAC7C,MACJ,IAAK,gBACGoL,EAAQw2D,cACRvlE,KAAKklE,eAGLllE,KAAK6G,QAAQ0+D,eAAgB,EAC7BvlE,KAAKklE,YAAYllE,KAAK2D,QAAU,QAAU,YAE9C,MACJ,IAAK,WACGoL,EAAQoM,UACRnb,KAAKylE,cACLzlE,KAAKqxB,QAAUrxB,KAAKoqD,aACpBpqD,KAAK4vB,iBAGL5vB,KAAK6G,QAAQsU,UAAW,EACxBkW,EAAQzpB,UAAU+B,OAAO,IACzB0nB,EAAQvoB,aAAa,gBAAiB,SACtC9I,KAAKgX,cAET,MACJ,IAAK,WACGhI,EAAQoH,UACR,eAAY,CAACib,GAAUriB,EAAQoH,SAASC,MAAM,MAE9CtH,EAAQqH,UACR,eAAS,CAACib,GAAUtiB,EAAQqH,SAASC,MAAM,MAE/C,MACJ,IAAK,YACGtH,EAAQpH,UACR0pB,EAAQzpB,UAAUC,IAAI,IAGtBwpB,EAAQzpB,UAAU+B,OAAO,IAE7B,MACJ,IAAK,QACD3J,KAAK6lE,QAAQ92D,EAAQuxB,OACrB,MACJ,IAAK,gBACD,IAAIA,EAAQjP,EAAQ3R,uBAAuBglD,IAAO,GAC9CqB,EAAY10C,EAAQmP,qBAAqB,SAAS,GACtD,eAAOF,GACuB,UAA1BvxB,EAAQ42D,cACRI,EAAU58D,YAAYm3B,GAGtBylC,EAAUr7D,aAAa41B,EAAOjP,EAAQ3R,uBAAuB8kD,IAAO,IAExE,MACJ,IAAK,OACDxkE,KAAK6G,QAAQiC,aAAa,OAAQiG,EAAQ5N,MAC1C,MACJ,IAAK,QACDnB,KAAK6G,QAAQiC,aAAa,QAASiG,EAAQ1N,OAC3C,MACJ,IAAK,iBACDrB,KAAKgmE,+BACL,SAQhBhB,EAASngE,UAAUkC,UAAY,WAC3B,IAAI,mBAAc/G,KAAKqV,iBAAvB,CAGA,IAAIxO,EAAU7G,KAAK6G,QACnB7G,KAAKmrC,YAAc,eAAQnrC,KAAK6G,QAAS,QACzC7G,KAAKyX,QAAUzX,KAAK6G,QAAQ4Q,QAC5B5Q,EAAU,gBAAkB7G,KAAK2I,cAAe,eAAgB,WAAY9B,EAASi+D,GAAS,YAC9F9kE,KAAK6G,QAAUA,EAC2B,aAAtC7G,KAAK6G,QAAQuT,aAAa,SAC1Bpa,KAAK6G,QAAQiC,aAAa,OAAQ,YAEjC9I,KAAK6G,QAAQU,KACdvH,KAAK6G,QAAQU,GAAK,eAAY,KAAOvH,KAAKyJ,oBAOlDu7D,EAASngE,UAAU/E,OAAS,WACpB,kBAAcE,KAAKqV,iBACf,QACA,eAAarV,KAAKoqD,aAAa1qC,uBAAuBilD,IAAQ,GAAI,CAAE7sD,SAAU,IAAK8tD,gBAAgB,KAIvG5lE,KAAKyxB,cACLzxB,KAAKsH,cAEJtH,KAAKmb,UACNnb,KAAKgX,aAEThX,KAAKgmE,+BACLhmE,KAAK2c,iBACL3c,KAAKqxB,QAAUrxB,KAAKoqD,cAExB4a,EAASngE,UAAU4gE,YAAc,WAC7B,IAAIp0C,EAAUrxB,KAAKoqD,aACnBpqD,KAAK6G,QAAQsU,UAAW,EACxBkW,EAAQzpB,UAAUC,IAAI,IACtBwpB,EAAQvoB,aAAa,gBAAiB,SAE1Ck8D,EAASngE,UAAUghE,QAAU,SAAU5qD,GACnC,IAAIqlB,EAAQtgC,KAAKoqD,aAAa1qC,uBAAuBglD,IAAO,GAC5D,GAAIpkC,EACAA,EAAM9V,YAAcvP,MAEnB,CACDA,EAAQjb,KAAwB,oBAAI,OAAmBoqB,SAASnP,GAAQA,EACxEqlB,EAAQtgC,KAAK2I,cAAc,OAAQ,CAAEC,UAAW87D,GAAOx6C,UAAWjP,IAClE,IAAI8qD,EAAY/lE,KAAKoqD,aAAa5pB,qBAAqB,SAAS,GACrC,WAAvBxgC,KAAK2lE,cACLI,EAAUr7D,aAAa41B,EAAOtgC,KAAKoqD,aAAa1qC,uBAAuB8kD,IAAO,IAG9EuB,EAAU58D,YAAYm3B,KAIlC0kC,EAASngE,UAAUqnC,cAAgB,SAAUvpC,GACzCA,EAAE8pC,mBAENu4B,EAASngE,UAAU8hD,iBAAmB,WAClC3mD,KAAK2D,QAAU3D,KAAKwlE,oBACpBxlE,KAAK6G,QAAQlD,QAAU3D,KAAKwlE,qBAEhCR,EAASngE,UAAU+qB,aAAe,WAC9B,IAAIyB,EAAUrxB,KAAKqxB,QACnB,OAAa1nB,OAAO3J,KAAK6G,QAAS,QAAS7G,KAAKiX,cAChD,OAAatN,OAAO3J,KAAK6G,QAAS,QAAS7G,KAAK+rC,cAChD,OAAapiC,OAAO3J,KAAK6G,QAAS,QAAS7G,KAAK4rC,cAChD,OAAajiC,OAAO3J,KAAK6G,QAAS,WAAY7G,KAAK6rC,iBACnD,IAAIvL,EAAQjP,EAAQmP,qBAAqB,SAAS,GAClD,OAAa72B,OAAO22B,EAAO,YAAatgC,KAAK8lE,mBAC7C,OAAan8D,OAAO22B,EAAO,UAAWtgC,KAAK8lE,mBACvC9lE,KAAKmrC,aACL,OAAaxhC,OAAO3J,KAAKmrC,YAAa,QAASnrC,KAAK2mD,kBAEnC,iBAAjB3mD,KAAKyX,SACL,OAAa9N,OAAO3J,KAAK6G,QAAS,SAAU7G,KAAKksC,gBAGzD84B,EAASngE,UAAUmS,WAAa,WAC5B,IAAIqa,EAAUrxB,KAAKoqD,aACnB,OAAaviD,IAAI7H,KAAK6G,QAAS,QAAS7G,KAAKiX,aAAcjX,MAC3D,OAAa6H,IAAI7H,KAAK6G,QAAS,QAAS7G,KAAK+rC,aAAc/rC,MAC3D,OAAa6H,IAAI7H,KAAK6G,QAAS,QAAS7G,KAAK4rC,aAAc5rC,MAC3D,OAAa6H,IAAI7H,KAAK6G,QAAS,WAAY7G,KAAK6rC,gBAAiB7rC,MACjE,IAAIsgC,EAAQjP,EAAQmP,qBAAqB,SAAS,GAClD,OAAa34B,IAAIy4B,EAAO,YAAatgC,KAAK8lE,kBAAmB9lE,MAC7D,OAAa6H,IAAIy4B,EAAO,UAAWtgC,KAAK8lE,kBAAmB9lE,MACvDA,KAAKmrC,aACL,OAAatjC,IAAI7H,KAAKmrC,YAAa,QAASnrC,KAAK2mD,iBAAkB3mD,MAElD,iBAAjBA,KAAKyX,SACL,OAAa5P,IAAI7H,KAAK6G,QAAS,SAAU7G,KAAKksC,cAAelsC,OAGrEglE,EAASngE,UAAUmhE,6BAA+B,WAC9C,IAAK,eAAkBhmE,KAAK2b,gBACxB,IAAK,IAAIpY,EAAK,EAAGwG,EAAKzF,OAAO2K,KAAKjP,KAAK2b,gBAAiBpY,EAAKwG,EAAG3E,OAAQ7B,IAAM,CAC1E,IAAIzC,EAAMiJ,EAAGxG,GACb,GAAIwhE,GAAc/pD,QAAQla,IAAQ,EAAG,CACjC,IAAIuwB,EAAUrxB,KAAKoqD,aACnB,GAAY,UAARtpD,EACA,eAAS,CAACuwB,GAAUrxB,KAAK2b,eAAe7a,GAAKuV,MAAM,WAElD,GAAY,UAARvV,EACLuwB,EAAQvoB,aAAahI,EAAKd,KAAK2b,eAAe7a,SAE7C,GAAY,UAARA,EAAiB,CACtB,IAAIwkE,EAAYtlE,KAAKoqD,aAAa1qC,uBAAuB8kD,IAAO,GAChEc,EAAUx8D,aAAahI,EAAKd,KAAK2b,eAAe7a,SAGhDd,KAAK6G,QAAQiC,aAAahI,EAAKd,KAAK2b,eAAe7a,OAWvEkkE,EAASngE,UAAU4G,MAAQ,WACvBzL,KAAK6G,QAAQ4E,SAOjBu5D,EAASngE,UAAUosB,QAAU,WACzBjxB,KAAK6G,QAAQoS,SAEjB,GAAW,CACP,kBACD+rD,EAASngE,UAAW,cAAU,GACjC,GAAW,CACP,kBACDmgE,EAASngE,UAAW,eAAW,GAClC,GAAW,CACP,gBAAS,IACVmgE,EAASngE,UAAW,eAAW,GAClC,GAAW,CACP,eAAS,KACVmgE,EAASngE,UAAW,gBAAY,GACnC,GAAW,CACP,gBAAS,IACVmgE,EAASngE,UAAW,gBAAY,GACnC,GAAW,CACP,gBAAS,IACVmgE,EAASngE,UAAW,qBAAiB,GACxC,GAAW,CACP,eAAS,KACVmgE,EAASngE,UAAW,aAAS,GAChC,GAAW,CACP,eAAS,UACVmgE,EAASngE,UAAW,qBAAiB,GACxC,GAAW,CACP,eAAS,KACVmgE,EAASngE,UAAW,YAAQ,GAC/B,GAAW,CACP,eAAS,KACVmgE,EAASngE,UAAW,aAAS,GAChC,GAAW,CACP,gBAAS,IACVmgE,EAASngE,UAAW,2BAAuB,GAC9C,GAAW,CACP,eAAS,KACVmgE,EAASngE,UAAW,sBAAkB,GACzCmgE,EAAW,GAAW,CAClB,QACDA,GACIA,EAjdkB,CAkd3B,QC1fEiB,GAAa,CAAC,IAAK,OAAQ,UAAW,QAAS,IAAK,MAAO,MAAO,MAAO,KAAM,SAC/E,SAAU,OAAQ,OAAQ,OAAQ,WAAY,MAAO,MAAO,KAAM,QAAS,OAAQ,IAAK,SAAU,MAAO,QACzG,MAAO,MAAO,QAAS,MAAO,OAAQ,QAAS,WAAY,SAAU,SAAU,UAAW,WAC1F,IAAK,OAAQ,IAAK,OAAQ,SAAU,SAAU,OAAQ,QAAS,OAAQ,SAAU,SAAU,MAAO,MAAO,MACzG,WAAY,WAAY,OAAQ,IAAK,KAAM,MAAO,QAAS,OACxD,SAASC,KACZ,IAAI5jC,GAAS,EAIb,OAHI,OAAQn7B,UAAY,OAAQiqC,QAC5B9O,GAAS,GAENA,EAEJ,SAAS6jC,GAAkBvH,EAAiB1uC,GAC/C,GAAiC,SAA7B0uC,EAAgBrtC,WAAwB,eAAkBrB,GAAW,CACrE,IAAIk2C,EAASpsD,IAAI1O,OAAO6J,SAAStI,cAAcqjB,GAC1C,eAAkBk2C,IACnBA,EAAOC,cAAcptD,SAI1B,SAASqtD,GAAejlE,GAC3B,IAAIklE,EAAWpxD,SAASxM,cAAc,OACtC49D,EAASr8C,UAAY7oB,EACrBklE,EAASz9D,aAAa,QAAS,WAC/B,IAAI09D,EAAYrxD,SAASxM,cAAc,OACnCyY,EAAamlD,EAASnlD,WAC1B,GAAIA,EAAWhc,OAAS,EAAG,CACvB,IAAIqhE,OAAuB,EACvBC,OAAiB,EACjBC,OAAU,EACd,MAAOJ,EAAS57D,WAC0B,UAAjC47D,EAAS57D,WAAW4mB,WACpBg1C,EAAS57D,WAAW6f,YAAYxP,QAAQ,MAAQ,GAAgD,KAA3CurD,EAAS57D,WAAW6f,YAAYlB,SACtF28C,GAAWjrD,QAAQurD,EAAS57D,WAAW4mB,SAAS2oC,sBAAwB,GACnEuM,EAMDC,EAAev9D,YAAYo9D,EAAS57D,aALpCg8D,EAAU,eAAc,KACxBH,EAAUr9D,YAAYw9D,GACtBA,EAAQx9D,YAAYo9D,EAAS57D,aAKjC+7D,EAAiBC,EACjBF,GAAuB,GAEe,UAAjCF,EAAS57D,WAAW4mB,WAA6D,OAApCg1C,EAAS57D,WAAW6f,aACrE+7C,EAAS57D,WAAW6f,YAAYxP,QAAQ,OAAS,GAAgD,KAA3CurD,EAAS57D,WAAW6f,YAAYlB,QACvF,eAAOi9C,EAAS57D,aAGhB67D,EAAUr9D,YAAYo9D,EAAS57D,YAC/B87D,GAAuB,GAI/B,IADA,IAAIG,EAAWJ,EAAUhxD,iBAAiB,SACjC/P,EAAI,EAAGA,EAAImhE,EAASxhE,OAAQK,IAAK,CACK,MAAvCmhE,EAASnhE,GAAG2U,aAAa,WACzBwsD,EAASnhE,GAAGwE,gBAAgB,UAGhC,IADA,IAAI48D,EAAQD,EAASnhE,GAAG+P,iBAAiB,MAChC2Y,EAAI,EAAGA,EAAI04C,EAAMzhE,OAAQ+oB,IAC9B04C,EAAM14C,GAAG1mB,MAAMgZ,eAAe,UAE7BmmD,EAASnhE,GAAGmC,UAAU0E,SAASupD,EAAA,QAChC+Q,EAASnhE,GAAGmC,UAAUC,IAAIguD,EAAA,OAGlC,IAAIiR,EAAWN,EAAUhxD,iBAAiB,OAC1C,IAAS/P,EAAI,EAAGA,EAAIqhE,EAAS1hE,OAAQK,IAC5BqhE,EAASrhE,GAAGmC,UAAU0E,SAASupD,EAAA,QAChCiR,EAASrhE,GAAGmC,UAAUC,IAAIguD,EAAA,OAExBiR,EAASrhE,GAAGmC,UAAU0E,SAASupD,EAAA,OACjCiR,EAASrhE,GAAGmC,UAAU0E,SAASupD,EAAA,OAC/BiR,EAASrhE,GAAGmC,UAAUC,IAAIguD,EAAA,MAItC,OAAO2Q,EAAUt8C,UCxErB,IAAI,GAAsB,WACtB,SAAS68C,EAAK9mC,EAAQu5B,GAClBx5D,KAAKigC,OAASA,EACdjgC,KAAKgnE,MAAQ/mC,EAAOp5B,QAAQU,GAC5BvH,KAAKinE,KAAOzN,EAAeI,WAAW,aACtC55D,KAAK8L,mBACL9L,KAAKw5D,eAAiBA,EACtBx5D,KAAKknE,gBAAkB1N,EAAeI,WAAW,mBACjD55D,KAAKmnE,gBAAkB3N,EAAeI,WAAW,sBAubrD,OArbAmN,EAAKliE,UAAUiH,iBAAmB,WAC1B9L,KAAKigC,OAAO09B,cAGhB39D,KAAKigC,OAAOz/B,GAAG,OAAmBR,KAAKonE,WAAYpnE,MACnDA,KAAKigC,OAAOz/B,GAAG,OAAgBR,KAAKqnE,UAAWrnE,MAC/CA,KAAKigC,OAAOz/B,GAAG,OAAwBR,KAAKsnE,qBAAsBtnE,MAClEA,KAAKigC,OAAOz/B,GAAG,OAA0BR,KAAKunE,gBAAiBvnE,MAC/DA,KAAKigC,OAAOz/B,GAAG,OAAwBR,KAAK49D,kBAAmB59D,MAC/DA,KAAKigC,OAAOz/B,GAAG,QAAeR,KAAKwnE,WAAYxnE,MAC/CA,KAAKigC,OAAOz/B,GAAG,OAAiBR,KAAKynE,SAAUznE,MAC/CA,KAAKigC,OAAOz/B,GAAG,QAAiBR,KAAK0nE,SAAU1nE,MAC/CA,KAAKigC,OAAOz/B,GAAG,OAAsBR,KAAK2nE,qBAAsB3nE,MAChEA,KAAKigC,OAAOz/B,GAAG,OAAgBR,KAAK0J,QAAS1J,QAEjD+mE,EAAKliE,UAAU0iE,gBAAkB,SAAU7+C,GACvC,IAAI5M,EAAO4M,EAAKA,KAAK5M,KACrB,OAAQA,EAAKs8C,YACT,IAAK,WACDp4D,KAAKigC,OAAOnV,OAAO,QAAiBpC,GACpC,MACJ,IAAK,WACD1oB,KAAKigC,OAAOnV,OAAO,OAAiBpC,GACpC,MACJ,IAAK,aACD1oB,KAAKigC,OAAOnV,OAAO,QAAepC,GAClC,QAGZq+C,EAAKliE,UAAUoT,oBAAsB,WAC7BjY,KAAKigC,OAAO09B,cAGhB39D,KAAKigC,OAAOk1B,IAAI,OAAmBn1D,KAAKonE,YACxCpnE,KAAKigC,OAAOk1B,IAAI,OAAgBn1D,KAAKqnE,WACrCrnE,KAAKigC,OAAOk1B,IAAI,OAAwBn1D,KAAKsnE,sBAC7CtnE,KAAKigC,OAAOk1B,IAAI,OAA0Bn1D,KAAKunE,iBAC/CvnE,KAAKigC,OAAOk1B,IAAI,QAAen1D,KAAKwnE,YACpCxnE,KAAKigC,OAAOk1B,IAAI,OAAwBn1D,KAAK49D,mBAC7C59D,KAAKigC,OAAOk1B,IAAI,OAAiBn1D,KAAKynE,UACtCznE,KAAKigC,OAAOk1B,IAAI,QAAiBn1D,KAAK0nE,UACtC1nE,KAAKigC,OAAOk1B,IAAI,OAAsBn1D,KAAK2nE,sBAC3C3nE,KAAKigC,OAAOk1B,IAAI,OAAgBn1D,KAAK0J,WAEzCq9D,EAAKliE,UAAU+4D,kBAAoB,WAC3B59D,KAAK4nE,WACL5nE,KAAK4nE,UAAU/vD,KAAK,CAAEgwD,aAAa,KAG3Cd,EAAKliE,UAAUyiE,qBAAuB,SAAU3kE,GAC5C,GAAsB,UAAlBA,EAAE+lB,KAAK5a,QAAwC,UAAlBnL,EAAE+lB,KAAK5a,OAAoB,CACxD,IAAIgvB,OAAQ,EACRC,OAAQ,EACZ,GAAe,UAAXp6B,EAAE8Y,MAAoB,eAAkBzb,KAAKigC,OAAOk+B,qBACpD,eAAkBn+D,KAAKigC,OAAOk+B,mBAAmB2J,WACjD,OAEJ9nE,KAAK+nE,aAAe/nE,KAAKigC,OAAOk+B,mBAChC,IAGI7kC,EAHA0uC,EAAYhoE,KAAKigC,OAAOp5B,QAAQoc,wBAAwBjJ,IACxDiuD,EAAajoE,KAAKigC,OAAOp5B,QAAQoc,wBAAwB8D,KACzDuzB,EAAQt6C,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAcC,SAAS73D,KAAKigC,OAAO63B,cAAcC,eAOjG,GALA,GAAGjuD,QAAQhD,KAAKnE,EAAEglB,UAAU,SAAU9gB,EAAStE,GAC7B,IAAVA,IACA+2B,EAAkC,UAArBzyB,EAAQ0qB,SAAyB1qB,EAAkB,WAAIA,MAGxElE,EAAEulE,SAAU,CACZ,IAAI7M,EAAYr7D,KAAKigC,OAAOkoC,cAAcnJ,oBACtCoJ,EAAU9uC,EAASrW,wBAAwBjJ,IAC3CquD,EAAW/uC,EAASrW,wBAAwB8D,KAC5CuhD,EAAUF,EAAUJ,EACpBzH,EAAW,EAAelF,EAAUrrD,aAAehQ,KAAKigC,OAAOkoC,cAAc1H,yBAA4B,EAC7G3jC,EAAS98B,KAAKigC,OAAOg4B,eAAqB,OAAIgQ,EAAaI,EAAW/uC,EAASrW,wBAAwB8D,KACvGgW,EAAQzxB,OAAO0gD,aAAgBhsD,KAAKigC,OAAOg4B,eAAqB,OAC3D+P,EAAYzH,EAAW6H,EAAYJ,EAAYM,OAEnD,CACD,IAAI5/C,OAAO,EACXA,EAAO/lB,EAAE+lB,KAAKmU,QAAUl6B,EAAE+lB,KAAKw8B,eAAe,GAAKx8B,EAAO/lB,EAAE+lB,KAC5DoU,EAAS98B,KAAKigC,OAAOg4B,eAAqB,OAAI3sD,OAAO2gD,YAAcgc,EAAav/C,EAAKkpB,QAAUlpB,EAAKoU,MACpGC,EAAS/8B,KAAKigC,OAAOg4B,eAAqB,OAAI3sD,OAAO0gD,YAAcgc,EAAYt/C,EAAKmpB,QAAUnpB,EAAKqU,MAEnG/8B,KAAK+nE,aAAaD,WAClB9nE,KAAK+nE,aAAaD,UAAUS,UAAUzrC,EAAOC,EAAOud,EAAMkuB,gBAItEzB,EAAKliE,UAAU4jE,qBAAuB,WAC9BzoE,KAAK+nE,cAAgB/nE,KAAK+nE,aAAaD,WAAa3yD,SAASC,KAAK9I,SAAStM,KAAK+nE,aAAaD,UAAUjhE,UACvG7G,KAAK+nE,aAAaD,UAAUY,aAGpC3B,EAAKliE,UAAU8iE,qBAAuB,SAAUhlE,GAC5C,GAAI3C,KAAKigC,OAAOyB,SACZ1hC,KAAKyoE,2BADT,CAIA,IAAI//C,EAAO/lB,EAAE+lB,KACTigD,EAAmB3oE,KAAKigC,OAAO2oC,qBAAqBD,iBACxD,KAAmB,IAAfjgD,EAAK0nB,OAAgBu4B,GAAmC,IAAfjgD,EAAK0nB,QAAkBu4B,GAAmC,IAAfjgD,EAAK0nB,QAG9D,SAA3BpwC,KAAKigC,OAAO4oC,YAAyB7oE,KAAKigC,OAAOk+B,oBAAsBn+D,KAAKigC,OAAOk+B,mBAAmB2J,UAAW,CACjH9nE,KAAK+nE,aAAe/nE,KAAKigC,OAAOk+B,mBAChC,IAAI18D,EAASinB,EAAKjnB,OAClBA,EAASzB,KAAK8oE,cAAcrnE,GAC5BzB,KAAK83D,cAAgB93D,KAAKknE,gBAAgBpM,YAAY,OAAW6D,SACjE,IAAIvL,EAAcpzD,KAAK+nE,aAAaD,UAAUjhE,QAAQe,UAAU0E,SAAS,aACzE,GAAwB,MAApB7K,EAAO8vB,UAAqB9vB,EAAO2f,WAAWhc,OAAS,GAAuC,QAAlC3D,EAAO2f,WAAW,GAAGmQ,UACtD,QAA3B5uB,EAAE+lB,KAAKjnB,OAAO8vB,SAAoB,CAClC,GAAI6hC,EACA,OAEJpzD,KAAKsnE,qBAAqB,CACtB5+C,KAAMA,EACNw/C,UAAU,EACVzsD,KAAM,QACNkM,SAAU,CAACe,EAAKjnB,eAIpBzB,KAAKyoE,0BAIjB1B,EAAKliE,UAAUwiE,UAAY,SAAUt2D,GACjC,IAAI1E,EAAgB0E,EAAM2X,KAC1B,OAAQrc,EAAcyB,QAClB,IAAK,SACI,eAAkB9N,KAAK4nE,YACxB5nE,KAAK4nE,UAAU1lD,QAEnB,MACJ,IAAK,cACD,GAA+B,SAA3BliB,KAAKigC,OAAO4oC,WAAuB,CACnC,IAAIvuB,EAAQt6C,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAcC,SAAS73D,KAAKigC,OAAO63B,cAAcC,eAC7FgR,EAAO/oE,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAcmR,KAAKzuB,EAAOt6C,KAAKigC,OAAO63B,cAAcC,eAC/FiR,EAAgBhpE,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAcqR,kBAAkB3uB,GACpF4uB,EAAkBlpE,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAcuR,wBAAwB7uB,GAC5F/jC,EAAY,CACZmS,KAAM3X,EAAM2X,KAAM0gD,WAAYJ,EAAeK,UAAWN,EAAMO,aAAcJ,GAEhFlpE,KAAKonE,WAAW7wD,OAEf,CACD,IAAIgzD,EAAWvpE,KAAKigC,OAAO63B,cAAcoF,eACzCl9D,KAAKigC,OAAOy3B,UAAUC,cAAc6R,kBAAkBT,KAAKQ,EAASl8B,eAAgBk8B,EAAS74B,cAC7F1wC,KAAKonE,WAAW,CACZ1+C,KAAM,CACF5M,KAAM,CAAEu8C,QAAS,QAASD,WAAY,QACtC/rD,cAAeA,GAEnBo9D,OAAQ,OACRxuD,KAAMjb,KAAKigC,OAAOy3B,UAAUC,cAAc6R,kBAAkBE,gBAAgB1pE,KAAKigC,OAAO63B,cAAcoF,gBACtGmH,OAAQ,WACRljE,KAAM,eAGdkL,EAAcL,iBACd,QAGZ+6D,EAAKliE,UAAUuiE,WAAa,SAAUzkE,EAAGgnE,GACrC,IAAI1+D,EAAQjL,KACZ,GAAIA,KAAK4nE,UACL5nE,KAAK4nE,UAAU/vD,KAAK,CAAEgwD,aAAa,SAGvC,GAA+B,SAA3B7nE,KAAKigC,OAAO4oC,YAA0BlmE,EAAE2mE,aAAalkE,OAAS,IAC7D,eAAkBzC,EAAE2mE,aAAa,GAAG1hE,YACrCjF,EAAE2mE,aAAa,GAAG1hE,UAAU0E,SAAS,iBAAoB,eAAkBq9D,GAC3E3pE,KAAKynE,SAAS9kE,OAHlB,CAMA,IAAIinE,EACAC,EAAiB7pE,KAAKinE,KAAKjgC,YAAY,cACvC8iC,EAAkB9pE,KAAKinE,KAAKjgC,YAAY,YACxC+iC,EAAc/pE,KAAKinE,KAAKjgC,YAAY,oBACpCgjC,EAAWhqE,KAAKinE,KAAKjgC,YAAY,WACjCijC,EAAYjqE,KAAKinE,KAAKjgC,YAAY,mBAClCrlC,EAAQ3B,KAAKinE,KAAKjgC,YAAY,aAC9BkjC,EAAgBlqE,KAAKigC,OAAOt3B,cAAc,MAAO,CAAEC,UAAW,oBAAqBrB,GAAIvH,KAAKgnE,MAAQ,aACxGhnE,KAAKigC,OAAOp5B,QAAQsC,YAAY+gE,GAChC,IAAIC,EAAcnqE,KAAKigC,OAAOt3B,cAAc,MAAO,CAC/CC,UAAW,oBAAqBrB,GAAIvH,KAAKgnE,MAAQ,iBAEjDoD,EAA0C,SAA3BpqE,KAAKigC,OAAO4oC,WAAyB,UAAYkB,EAAZ,iHAEwBpoE,EAFxB,4KAI0B,GAC9E8sB,EAAU,mCAAqCo7C,EAArC,+GACgEG,EADhE,0EAEgCF,EAFhC,+IAG+FG,EAH/F,oCAI0BG,EACpCC,EAAc,eAAU57C,GAC5B07C,EAAYhhE,YAAYkhE,GACxB,IAAIC,EAAaH,EAAYt9D,cAAc,qBACvC09D,EAAUJ,EAAYt9D,cAAc,kBACpC29D,EAAWL,EAAYt9D,cAAc,mBACrC49D,EAAYN,EAAYt9D,cAAc,oBACtC69D,EAAgB1qE,KAAKinE,KAAKjgC,YAAY,uBAC1ChnC,KAAK2qE,YAAc,IAAI,GAAS,CAAErqC,MAAOoqC,EAAe/mE,SAAS,EAAMgE,UAAW3H,KAAKigC,OAAOt4B,YAC9F3H,KAAK2qE,YAAYhhD,kBAAmB,EACpC3pB,KAAK2qE,YAAYhiE,cAAgB3I,KAAKigC,OAAOt3B,cAC7C3I,KAAK2qE,YAAYvoD,SAASkoD,GAC1BV,EAAyC,SAA3B5pE,KAAKigC,OAAO4oC,WAAyBlmE,EAAE0mE,UAAUxR,SAAS73D,KAAKigC,OAAO63B,cAAcC,eAAenvC,WAC7GjmB,EAAEsY,KACN,IAAI2vD,EAAa5qE,KAAKinE,KAAKjgC,YAAY,gBACnC6jC,EAAa7qE,KAAKinE,KAAKjgC,YAAY,gBACnCqiC,EAAY1mE,EAAE0mE,UACdyB,EAAY,CAAEC,SAAU/qE,KAAMqpE,UAAW1mE,EAAE0mE,UAAWC,aAAc3mE,EAAE2mE,aAAc5gD,KAAM/lB,EAAE+lB,MAC5FsiD,EAAc,CACdC,OAAQjrE,KAAKinE,KAAKjgC,YAAY,cAC9BvY,QAAS07C,EACT/zD,SAAU,QACVzO,UAAW3H,KAAKigC,OAAOt4B,UACvBo/B,OAAQ/mC,KAAKigC,OAAO8G,OACpBmkC,eAAe,EAAMC,eAAe,EAAM78D,MAAQ,OAAgB,SAAI,QAAU,QAASgD,OAAQ,UACjG85D,QAAS,OAAQjkE,SACjBk4B,QAAS,CAAC,CACF5zB,MAAOzL,KAAKqrE,WAAWpjE,KAAK6iE,GAC5BQ,YAAa,CAAE78C,QAASm8C,EAAYx0D,SAAU,sBAAuBm1D,WAAW,IAEpF,CAAE9/D,MAAOzL,KAAKwrE,aAAavjE,KAAK6iE,GAAYQ,YAAa,CAAEl1D,SAAU,SAAUqY,QAASo8C,KAC5FppE,OAAS,OAAgB,SAAI0T,SAASC,KAAOpV,KAAKigC,OAAOp5B,QACzD4kE,kBAAmB,CAAEj3C,OAAQ,QAC7BtS,MAAO,SAAUnR,GACb9F,EAAMg1B,OAAOyrC,QAAS,EAClB36D,GAASA,EAAMA,MAAM82D,cACW,SAA5B58D,EAAMg1B,OAAO4oC,WACbQ,EAAUsC,UAGV1gE,EAAMg1B,OAAOy3B,UAAUC,cAAc6R,kBAAkBmC,QAAQ1gE,EAAMg1B,OAAO63B,cAAcoF,iBAGlGjyD,EAAM28D,UAAUl+D,UAChB,eAAOuB,EAAM28D,UAAU/gE,SACvB,IAAI6hB,EAAO,iBAAa,KAAOzd,EAAM28D,UACrC38D,EAAMk8D,gBAAgBjlD,MAAMwG,GAC5Bzd,EAAM28D,UAAY,OAG1B5nE,KAAK4nE,UAAY5nE,KAAKmnE,gBAAgBrnE,OAAOkrE,GAC7ChrE,KAAK4nE,UAAUj/D,cAAgB3I,KAAKigC,OAAOt3B,cAC3C3I,KAAK4nE,UAAUxlD,SAAS8nD,GACxBA,EAAcziE,MAAMma,UAAY,UAC3B,eAAkB+nD,KACnBY,EAAQlpE,MAAQsoE,EAAa16C,IAC7Bu7C,EAASnpE,MAAQsoE,EAAa1uD,KAC9BwvD,EAAUppE,MAAQsoE,EAAahoE,MAC9BgoE,EAAmB,OAAI3pE,KAAK2qE,YAAYhnE,SAAU,EAAO3D,KAAK2qE,YAAYhnE,SAAU,EACrF3D,KAAK4nE,UAAUqD,OAAStB,EAAasB,OACrCjrE,KAAK4nE,UAAU/gE,QAAQgG,cAAc,iBAAiB2d,YAAcm/C,EAAavjD,SAErFpmB,KAAK4rE,UAAS,IACkB,SAA3B5rE,KAAKigC,OAAO4oC,YAAyB,eAAkBc,MAAoB,eAAkBC,IAC5E,KAAfA,GAAyD,IAAlCjnE,EAAE0mE,UAAU/uB,MAAMuxB,aAAsBlpE,EAAE0mE,UAAU/uB,MAAMuxB,cACpFlpE,EAAE0mE,UAAU/uB,MAAMwxB,YAA4B,aAAbnpE,EAAE0hE,UACnCmG,EAASnpE,MAAQuoE,GAErB,OAAa/hE,IAAI7H,KAAKigC,OAAOp5B,QAAQqxD,cAAe,YAAal4D,KAAK+rE,gBAAiB/rE,MACnFA,KAAK+nE,eACL/nE,KAAKyoE,uBACDzoE,KAAK+nE,aAAaiE,aAAe72D,SAASC,KAAK9I,SAAStM,KAAK+nE,aAAaiE,YAAYnlE,UACtF7G,KAAK+nE,aAAaiE,YAAYtD,eAI1C3B,EAAKliE,UAAUwmE,WAAa,SAAU1oE,GAClC,IAGI8nE,EAHAwB,EAAUjsE,KAAK+qE,SAASnD,UAAU/gE,QAClC0jE,EAAU0B,EAAQp/D,cAAc,kBAAkBxL,MAClDmpE,EAAWyB,EAAQp/D,cAAc,mBAAmBxL,MAEhB,SAApCrB,KAAK+qE,SAAS9qC,OAAO4oC,aACrB4B,EAAYwB,EAAQp/D,cAAc,oBAAoBxL,OAE1D,IAAII,EAAUzB,KAAK+qE,SAASJ,YAAmB,QAAI,SAAW,KAC9D,GAAgB,KAAZJ,EAAJ,CAIKvqE,KAAK+qE,SAASmB,MAAM3B,GAUrBvqE,KAAK+qE,SAASa,UAAS,IATvBpB,EAAyB,KAAbA,EAAmBD,EAAUC,EAKrCD,EAJCvqE,KAAK+qE,SAAS9qC,OAAOksC,eACZ5B,EAAQvvD,QAAQ,SAAW,EAG3BuvD,EAHyC,UAAYA,GASvE,IAAIvuC,EAAQh8B,KAAK+qE,SACjB,GAAgC,SAA5B/uC,EAAMiE,OAAO4oC,YAAyB,eAAkB,eAAQ7oE,KAAKqpE,UAAU/uB,MAAM0d,eAAexvC,WAAY,IAAMwT,EAAMiE,OAAO63B,cAAcsB,WAAW7xD,KAAM,CAClKy0B,EAAMiE,OAAO63B,cAAcoF,eAAejkD,QACtC,OAAQmzD,MAAQpwC,EAAMiE,OAAOg4B,eAAerwC,QAC5C5nB,KAAKqpE,UAAUsC,UAEnB,IAAIrxB,EAAQte,EAAMiE,OAAOy3B,UAAUC,cAAcC,cAAcC,SAAS77B,EAAMiE,OAAO63B,cAAcC,eACnG/3D,KAAKqpE,UAAYrtC,EAAMiE,OAAOy3B,UAAUC,cAAcC,cAAcmR,KAAKzuB,EAAOte,EAAMiE,OAAO63B,cAAcC,eAC3G/3D,KAAKspE,aAAettC,EAAMiE,OAAOy3B,UAAUC,cAAcC,cAAcuR,wBAAwB7uB,GAEnG,IAgBI+xB,EAhBAhrE,EAAQ,CACR4tB,IAAKs7C,EAAStvD,KAAMuvD,EAAU7oE,MAAO8oE,EAAWhpE,OAAQA,EACxD4nE,UAAWrpE,KAAKqpE,UAAWC,aAActpE,KAAKspE,cAelD,GAbIn0D,SAASC,KAAK9I,SAAS0vB,EAAM4rC,UAAU/gE,UACvC7G,KAAK+qE,SAASnD,UAAU/vD,KAAK,CAAEgwD,aAAa,IAE5C3B,MAAelqC,EAAMiE,OAAOg4B,eAAerwC,QAC3C,eAAO,SAAUoU,EAAMiE,OAAOp5B,SAASw/D,cAAcptD,QAEzB,SAA5B+iB,EAAMiE,OAAO4oC,YACb7oE,KAAKqpE,UAAUsC,UAEsC,IAArD3vC,EAAMiE,OAAOy3B,UAAU+C,mBAAmBr1D,QAC1C42B,EAAMiE,OAAOy3B,UAAUgD,WAGJ,SAAnB16D,KAAK0oB,KAAK4jD,KAAiB,CAC3B,IAAIjgE,EAAgBrM,KAAK0oB,KACzB,eAAO1oB,KAAK0oB,KAAM,CAAE5M,KAAM,CAAEu8C,QAAS,QAASD,WAAY,cAAgB/rD,cAAeA,IAAiB,GAC1G,IAAIkgE,EAAU,CACVzwD,KAAM,CAAEu8C,QAAS,QAASD,WAAY,cAAgB/rD,cAAeA,GAEzEggE,EAAYE,OAGZF,EAAYrsE,KAAK0oB,KAErB1oB,KAAK+qE,SAAS9qC,OAAOy3B,UAAU2G,QAAQr+D,KAAK+qE,SAAS9qC,OAAQosC,EAAWrsE,KAAK0oB,KAAKrc,cAAehL,GACjGrB,KAAK+qE,SAAS9qC,OAAO63B,cAAcoF,eAAejkD,aAtD9CjZ,KAAK+qE,SAASa,UAAS,IAwD/B7E,EAAKliE,UAAUqnE,MAAQ,SAAUj9C,GAC7B,IAAIu9C,EAAS,sFACb,OAAOA,EAAOx/B,KAAK/d,IAEvB83C,EAAKliE,UAAU+mE,SAAW,SAAUjpE,GAChC,IAAIspE,EAAUjsE,KAAK4nE,UAAU/gE,QACzB0jE,EAAU0B,EAAQp/D,cAAc,kBAChClK,GACA,eAAS,CAAC4nE,GAAU,WACpBA,EAAQ18B,kBAAkB,EAAG08B,EAAQlpE,MAAM+D,QAC3CmlE,EAAQtxD,SAGR,eAAY,CAACsxD,GAAU,YAG/BxD,EAAKliE,UAAU2iE,WAAa,SAAU7kE,GACsB,IAApD3C,KAAKigC,OAAOy3B,UAAU+C,mBAAmBr1D,QACzCpF,KAAKigC,OAAOy3B,UAAUgD,WAE1B16D,KAAKigC,OAAOy3B,UAAU2G,QAAQr+D,KAAKigC,OAAQt9B,EAAE+lB,KAAM/lB,EAAE+lB,KAAM,CACvD0gD,WAAYzmE,EAAEymE,WAAYE,aAAc3mE,EAAE2mE,aAAcD,UAAW1mE,EAAE0mE,UACrEjR,WAAYz1D,EAAE+lB,KAAK5M,KAAKs8C,aAExB8N,MAAelmE,KAAKigC,OAAOg4B,eAAerwC,OAC1C,eAAO,SAAU5nB,KAAKigC,OAAOp5B,SAASw/D,cAAcptD,QAGpDjZ,KAAKigC,OAAO63B,cAAcoF,eAAejkD,QAE7CjZ,KAAKyoE,wBAET1B,EAAKliE,UAAU6iE,SAAW,SAAU/kE,GAChC,IAAIumE,EAAkBlpE,KAAK8oE,cAAcnmE,EAAE2mE,aAAa,KACpDJ,EAAgBthE,UAAU0E,SAAS,iBAA+C,MAA5B48D,EAAgBzxD,UACtEzX,KAAKigC,OAAOy3B,UAAU2G,QAAQr+D,KAAKigC,OAAQt9B,EAAE+lB,KAAM/lB,EAAE+lB,KAAM,CACvDuG,IAAKi6C,EAAgBuD,KACrBhrE,OAAmC,KAA3BynE,EAAgBznE,OAAgB,QAAU,SAAU2nE,WAAYzmE,EAAEymE,WAC1EhR,WAAYz1D,EAAE+lB,KAAK5M,KAAKs8C,cAIpC2O,EAAKliE,UAAUikE,cAAgB,SAAUjiE,GACrC,IAAIyiE,EAAe,eAAQziE,EAAS,KACpC,OAAQyiE,GAA8BziE,GAE1CkgE,EAAKliE,UAAU4iE,SAAW,SAAU9kE,GAChC,IAAI+pE,EAAe1sE,KAAK8oE,cAAcnmE,EAAEymE,WAAW,IAC/CF,EAAkBlpE,KAAK8oE,cAAcnmE,EAAE2mE,aAAa,IAExD,GADAJ,EAA4C,MAA1BwD,EAAan7C,SAAmBm7C,EAAexD,EAC7DA,EAAgBthE,UAAU0E,SAAS,iBAA+C,MAA5B48D,EAAgBzxD,QAAiB,CACvF,IAAIk1D,EAAa3sE,KAAKinE,KAAKjgC,YAAY,gBACnC2iC,EAAe,CACf16C,IAAKi6C,EAAgB9uD,aAAa,QAASa,KAAMiuD,EAAgBnoC,UACjEp/B,MAAOunE,EAAgBvnE,MAAOF,OAAQynE,EAAgBznE,OACtDwpE,OAAQjrE,KAAKinE,KAAKjgC,YAAY,YAAa5gB,QAASumD,GAExD3sE,KAAKonE,WAAWzkE,EAAGgnE,KAG3B5C,EAAKliE,UAAU2mE,aAAe,SAAU7oE,GACpC3C,KAAK+qE,SAAS9qC,OAAOyrC,QAAS,EAC9B1rE,KAAK+qE,SAASnD,UAAU/vD,KAAK,CAAEgwD,aAAa,IACxC3B,KACAlmE,KAAKqpE,UAAUsC,UAGf3rE,KAAK+qE,SAAS9qC,OAAO63B,cAAcoF,eAAejkD,SAG1D8tD,EAAKliE,UAAUknE,gBAAkB,SAAUppE,GACvC,IAAIlB,EAASkB,EAAElB,QACV,eAAkBzB,KAAK4nE,cAAiB,eAAQnmE,EAAQ,IAAMzB,KAAK4nE,UAAU/gE,QAAQU,KAAOvH,KAAKigC,OAAO45B,gBAAgBjyC,QACzH5nB,KAAKigC,OAAO++B,sBAAwBh/D,KAAKigC,OAAO++B,oBAAoB1yD,SAAS3J,EAAElB,UAC5EzB,KAAKigC,OAAO++B,qBAAuBh/D,KAAKigC,OAAO++B,oBAAoB1yD,SAAS3J,EAAElB,SAC7EzB,KAAKigC,OAAO02B,WAAW/uC,SAAW,eAAQnmB,EAAQ,IAAMzB,KAAK4nE,UAAU/gE,QAAQU,OAC9E,eAAQ9F,EAAQ,IAAMzB,KAAKigC,OAAO42B,QAAU,yBAC5Cp1D,EAAOoL,cAAc,IAAM7M,KAAKigC,OAAO42B,QAAU,0BACtD72D,KAAK4nE,UAAU/vD,KAAK,CAAEgwD,aAAa,IACnC7nE,KAAKigC,OAAOyrC,QAAS,EACrB,eAAc1rE,KAAKigC,OAAOp5B,QAAS,cAU3CkgE,EAAKliE,UAAU6E,QAAU,WACrB1J,KAAKiY,uBAKT8uD,EAAKliE,UAAU4E,cAAgB,WAC3B,MAAO,QAEJs9D,EA/bc,GCVrB6F,GAAgB,GAChBC,GAAe,KACfC,GAAe,KACfC,GAAiB,GACjBC,GAAiB,GACjBC,GAAkB,GAClBC,GAAmB,GACnBC,GAAe,cACfC,GAAe,cACfC,GAAmB,kBACnBC,GAAiB,gBACjBC,GAAe,mBACfC,GAAgB,oBAChBC,GAAuB,uBACvBC,GAAe,iBACfC,GAAiB,kBACjBC,GAAiB,gBACjBC,GAAc,aACdC,GAAgB,eAChBC,GAAmB,kBAqChB,SAASC,GAActlD,EAAMuW,GAChC,GAAKvW,EAAKjnB,OAAV,CAGA,IAAIwsE,EACA/uC,EAAe,eAAkBD,GAAiD,OAAxBA,EAC1DG,EAAY8uC,GAAyBxlD,EAAKjnB,OAAQy9B,GAItD,GAHK,eAAkBxW,EAAKtS,WACxBgpB,EAAU2F,KAAKn9B,UAAUC,IAAI6gB,EAAKtS,UAEjC,eAAkBsS,EAAKlN,WAAc,eAAkBqxD,IAKvD,CACD,IAAIp0B,EAAS,eAAkB/vB,EAAKjN,MAAoB+8B,GAASpZ,EAAU2F,MAA/Brc,EAAKjN,KAC7CnN,EAAS,eAAkBoa,EAAKpa,YAAsBysB,EAAbrS,EAAKpa,MAClD2/D,EAASE,GAAgB7/D,EAAOmqC,GAChC21B,GAAS31B,EAAOrZ,EAAU2F,KAAMkpC,EAAQ/uC,GACnC,eAAkBxW,EAAK4X,QACxB+tC,GAAYjvC,EAAUkvC,WAAY5lD,EAAK4X,MAAOpB,OAXqB,CACvE,IAAI1jB,EAAY,eAAkBkN,EAAKlN,UAA4BqxD,GAAhBnkD,EAAKlN,SACxD4jB,EAAU2F,KAAKn9B,UAAUC,IAAIkmE,IAC7BQ,GAAenvC,EAAU2F,KAAMvpB,EAAUsxD,IAW7C1tC,EAAU2F,KAAKn9B,UAAUC,IAAIulE,IAC7BhuC,EAAY,MAEhB,SAASivC,GAAYjvC,EAAWkB,EAAOpB,GACnC,IAAIsvC,EAAWtvC,EAAY,MAAO,IAIlC,OAHAsvC,EAAS5mE,UAAUC,IAAIimE,IACvBU,EAAShkD,YAAc8V,EACvBlB,EAAUj2B,YAAYqlE,GACfA,EAEX,SAASC,GAAsBrvC,EAAW6uC,EAAQ/uC,GAC9C,IAAIwvC,EAAWC,KACf/B,GAAc8B,GAAY,CAAEh9B,QAAS,EAAGj2B,KAAM,WAAYwyD,OAAQA,GAClEW,GAAwBxvC,EAAWsvC,EAAUxvC,EAAamuC,IAC1DwB,GAAyBZ,EAAQ7uC,EAAW,WAAYiuC,IAE5D,SAASyB,GAAwB1vC,EAAW6uC,EAAQ/uC,GAChD,IAAIwvC,EAAWC,KACf/B,GAAc8B,GAAY,CAAEh9B,QAAS,EAAGj2B,KAAM,aAAcwyD,OAAQA,GACpEW,GAAwBxvC,EAAWsvC,EAAUxvC,EAAasuC,IAC1DqB,GAAyBZ,EAAQ7uC,EAAW,aAAcouC,IAE9D,SAASuB,GAAgB3vC,EAAWsvC,EAAUT,GAC1C,IAAIe,EAAe,GACfC,EAAa,EACjBrC,GAAc8B,GAAUh9B,QAAU,EAClCs9B,EAAaN,GAAYQ,GAAgBR,EAAUT,EAAQ,EAAG,GAC9D,IAAIkB,EAAc,CAAET,SAAUA,EAAUtvC,UAAWA,EAAWgwC,WAAYJ,EAAcC,WAAYA,GACpGI,GAAgBF,GAEpB,SAASG,GAAoBlwC,EAAW6uC,EAAQ/uC,GAC5C,IAAIwvC,EAAWC,KACf/B,GAAc8B,GAAY,CAAEh9B,QAAS,EAAGj2B,KAAM,SAAUwyD,OAAQA,GAChEsB,GAAsBnwC,EAAWsvC,EAAUpB,GAAgBpuC,GAC3DswC,GAAwBvB,EAAQ7uC,EAAWkuC,IAE/C,SAASmC,GAA0BrwC,EAAW6uC,EAAQ/uC,GAClD,IAAIwvC,EAAWC,KACf/B,GAAc8B,GAAY,CAAEh9B,QAAS,EAAGj2B,KAAM,eAAgBwyD,OAAQA,GACtEsB,GAAsBnwC,EAAWsvC,EAAUjB,GAAsBvuC,GACjEswC,GAAwBvB,EAAQ7uC,EAAWquC,IAE/C,SAASj1B,GAASpZ,GACd,IAAIqZ,EAAQntC,OAAOoT,iBAAiB0gB,EAAW,UAAU1d,iBAAiB,WAC1E,OAAO+2B,EAAM3X,QAAQ,SAAU,IAEnC,SAASstC,GAAS31B,EAAOrZ,EAAW6uC,EAAQ/uC,GACxC,IAAIwwC,EAAiBtwC,EAAUvyB,cAAc,IAAM8gE,IAC/CgC,EAAMD,EAAe7iE,cAAc,OAIvC,OAHK,eAAkB8iE,IACnBD,EAAe55D,YAAY65D,GAEvBl3B,GACJ,IAAK,WACDg2B,GAAsBiB,EAAgBzB,EAAQ/uC,GAC9C,MACJ,IAAK,SACDowC,GAAoBI,EAAgBzB,EAAQ/uC,GAC5C,MACJ,IAAK,YACD0wC,GAAuBF,EAAgBzB,EAAQ/uC,GAC/C,MACJ,IAAK,eACDuwC,GAA0BC,EAAgBzB,EAAQ/uC,GAClD,MACJ,IAAK,aACD4vC,GAAwBY,EAAgBzB,EAAQ/uC,GAChD,OAGZ,SAAS0wC,GAAuBF,EAAgBzB,EAAQ/uC,GACpD,IAAIwvC,EAAWC,KACf/B,GAAc8B,GAAY,CAAEh9B,QAAS,EAAGj2B,KAAM,YAAawyD,OAAQA,GACnE4B,GAAyBH,EAAgBhB,EAAUxvC,GACnD4wC,GAA0BJ,EAAgBzB,GAE9C,SAAS4B,GAAyBH,EAAgBhB,EAAUxvC,GACxD,IAAI6wC,EAAU56D,SAAS66D,gBAAgB,6BAA8B,OACjEC,EAAe,GACfC,EAAQ,GACRC,EAAgB,EACpBJ,EAAQjnE,aAAa,KAAM4lE,GAC3BqB,EAAQjnE,aAAa,QAASykE,IAC9BwC,EAAQjnE,aAAa,UAAW,OAASmnE,EAAe,IAAMA,GAC9DP,EAAehlE,aAAaqlE,EAASL,EAAe/kE,YACpD,IAAK,IAAImR,EAAO,EAAGA,GAAQ,EAAGA,IAAQ,CAClC,IAAIs0D,EAAaj7D,SAAS66D,gBAAgB,6BAA8B,UACxEI,EAAWtnE,aAAa,QAAS8kE,GAAiB,IAAM9xD,GACxDs0D,EAAWtnE,aAAa,IAAKqnE,EAAgB,IAC7CC,EAAWtnE,aAAa,YAAa,aAAeonE,EAAQ,IAAMA,EAAQ,KAC1EH,EAAQ5mE,YAAYinE,IAG5B,SAASN,GAA0BJ,EAAgBzB,GAC/C,IAAI0B,EAAMD,EAAe7iE,cAAc,wBACvC8iE,EAAIloE,MAAM6G,MAAQqhE,EAAIloE,MAAM6J,OAAS28D,EAAS,KAK9C,IAJA,IAAI5yC,EAAI,EACJC,EAAI,EACJ+0C,EAAM,GACNC,EAAW,GACNx0D,EAAO,EAAGA,GAAQ,EAAGA,IAAQ,CAClC,IAAI1O,EAAQmjE,GAAgBl1C,EAAGC,EAAG+0C,EAAKC,GACnCE,EAAYb,EAAI9iE,cAAc,IAAM+gE,GAAiB,IAAM9xD,GAC/D00D,EAAU1nE,aAAa,KAAMsE,EAAMiuB,EAAI,IACvCm1C,EAAU1nE,aAAa,KAAMsE,EAAMkuB,EAAI,IACvCg1C,EAAWA,GAAY,IAAM,EAAIA,EACjCA,GAAsB,IAG9B,SAASG,GAAeC,EAAOl2C,GAC3B,IAAIm2C,EAAS,GACTvjE,EAAQsjE,EACR17D,EAAMwlB,EACNuX,GAAY,EACZhsB,EAAQ,EAEZ,SAAS6qD,EAAWnrE,GAChBkrE,EAAO9yD,KAAKpY,GACRA,IAAMuP,GAAiB,IAAV+Q,IACTtgB,GAAK2H,GAAS3H,EAAI,IAAMssC,EACxBtsC,EAAIkZ,YAAYlZ,EAAI,IAAKqqC,QAAQ,IAEtB,IAANrqC,GACLA,EAAI,EACJA,EAAIkZ,YAAYlZ,EAAI,IAAKqqC,QAAQ,IACjCiC,GAAY,GAEPtsC,EAAI,GAAKssC,GACdtsC,EAAIkZ,YAAYlZ,EAAI,IAAKqqC,QAAQ,IACvB,IAANrqC,IACAssC,GAAY,IAGXtsC,GAAK,IAAMssC,IAChBtsC,EAAIkZ,YAAYlZ,EAAI,IAAKqqC,QAAQ,OAEnC/pB,EACF6qD,EAAWnrE,IAGnB,OAzBAmrE,EAAWxjE,GAyBJujE,EAEX,SAASE,GAAiBnB,GAGtB,IAFA,IAAIC,EAAMD,EAAe7iE,cAAc,wBACnCtF,EAAKooE,EAAIv1D,aAAa,MACjB3U,EAAI,EAAGA,GAAK,EAAGA,IAAK,CACzB,IAAI+qE,EAAad,EAAehwD,uBAAuB,kBAC5C,IAANja,EAAU,EAAIA,IAAI,GACvBqrE,EAASN,EAAW/qE,EAAGA,EAAGgrE,GAAehrE,EAAGA,GAAI8B,GAEpD,SAASupE,EAASC,EAAQ3jE,EAAO4H,EAAK27D,EAAQppE,GAC1C,IAAIwe,EAAQ,EAEZ,SAASirD,EAAa/C,GACdrB,GAAcrlE,GAAI0pE,cAChBlrD,EACFgrD,EAAOjoE,aAAa,IAAKmlE,EAAS,IAC9BloD,GAAS4qD,EAAOvrE,SAChB2gB,EAAQ,GAEZ6mD,GAAcrlE,GAAImqC,QAAUnmC,WAAWylE,EAAa/oE,KAAK,KAAM0oE,EAAO5qD,IAAS,KARvFirD,EAAa5jE,IAarB,SAASmhE,GAAenvC,EAAW5jB,EAAUpF,GACpC,eAAkBA,IACnBgpB,EAAUx3B,UAAUC,IAAIuO,GAE5B,IAAI86D,EAAQ9xC,EAAUvyB,cAAc,oBACpCqkE,EAAMhnD,UAAY1O,EAEtB,SAAS2yD,GAAgB7/D,EAAOmqC,GAC5B,IAAI04B,EACJ,OAAQ14B,GACJ,IAAK,WACD04B,EAAcpE,GACd,MACJ,IAAK,SACDoE,EAAcnE,GACd,MACJ,IAAK,aACDmE,EAAcjE,GACd,MACJ,QACIiE,EAAclE,GAGtB,OADA3+D,EAAQA,EAAQqQ,WAAWrQ,EAAQ,IAAM6iE,EACxB,cAAV14B,EAAwBnqC,EAAQA,EAAQ,EAEnD,SAAS4gE,GAAgB3nE,EAAI0mE,EAAQloD,EAAOqrD,GACxC,MAAO,CACHnD,OAAQA,EACRloD,MAAOA,EACPqrD,WAAYA,GAGpB,SAASzC,KAGL,IAFA,IAAI31B,EAAS,GACTq4B,EAAU,iEACL5rE,EAAI,EAAGA,EAAI,EAAGA,IACnBuzC,GAAUq4B,EAAQ9d,OAAOhmD,KAAKymD,MAAMzmD,KAAKyrC,SAAWq4B,EAAQjsE,SAEhE,OAAO4zC,EAEX,SAASu2B,GAAsB+B,EAAU5C,EAAU6C,EAAYryC,GAC3D,IAAIsyC,EAAYr8D,SAAS66D,gBAAgB,6BAA8B,OACvEwB,EAAU1oE,aAAa,KAAM4lE,GAC7B8C,EAAU1oE,aAAa,QAASyoE,GAChC,IAAIE,EAAmBt8D,SAAS66D,gBAAgB,6BAA8B,QAC9EyB,EAAiB3oE,aAAa,QAAS8kE,IACvC,IAAI8D,EAAkBv8D,SAAS66D,gBAAgB,6BAA8B,QAC7E0B,EAAgB5oE,aAAa,QAAS+kE,IACtCyD,EAAS5mE,aAAa8mE,EAAWF,EAAS3mE,YAC1C6mE,EAAUroE,YAAYsoE,GACtBD,EAAUroE,YAAYuoE,GAE1B,SAAS9C,GAAwBc,EAAgBhB,EAAUxvC,EAAanb,GACpE,IAAI4tD,EAAcx8D,SAAS66D,gBAAgB,6BAA8B,OACzE2B,EAAY7oE,aAAa,QAASib,GAClC4tD,EAAY7oE,aAAa,KAAM4lE,GAC/B,IAAIkD,EAAgBz8D,SAAS66D,gBAAgB,6BAA8B,QAC3E4B,EAAc9oE,aAAa,QAAS8kE,IACpC8B,EAAehlE,aAAainE,EAAajC,EAAe/kE,YACxDgnE,EAAYxoE,YAAYyoE,GAE5B,SAAS1D,GAAyBzsE,EAAQy9B,GACtC,IAAI2yC,EAAmB3yC,EAAY,MAAO,IAC1C2yC,EAAiBjqE,UAAUC,IAAI6lE,IAC/B,IAAIoE,EAAwB5yC,EAAY,MAAO,IAI/C,OAHA4yC,EAAsBlqE,UAAUC,IAAI8lE,IACpClsE,EAAO0H,YAAY0oE,GACnBA,EAAiB1oE,YAAY2oE,GACtB,CAAE/sC,KAAM8sC,EAAkBvD,WAAYwD,GAEjD,SAASzC,GAAgBF,GACrB,IAAI/hE,EAAQ,EACR4H,EAAM,IACN8C,EAAW,KACXqyB,EAAM,GACV4nC,GAAa3kE,EAAO4H,EAAKg9D,GAAel6D,EAAUq3D,EAAYC,WAAWD,EAAYT,UAAU3oD,MAAOokB,EAAKglC,GAC3GA,EAAYC,WAAWD,EAAYT,UAAU3oD,QAAUopD,EAAYC,WAAWD,EAAYT,UAAU3oD,MAAQ,EAEhH,SAASgsD,GAAa3kE,EAAO4H,EAAKi9D,EAAQn6D,EAAUiO,EAAOokB,EAAKglC,GAC5D,IAAI5nE,IAAO4nE,EAAYC,WAAWD,EAAYT,UAAU0C,WACpDc,GAAY,IAAIC,MAAOC,UACvB1jB,EAAS15C,EAAM5H,EACfilE,EAAWC,GAA+D,EAAtDnD,EAAYC,WAAWD,EAAYT,UAAUT,OAAc,IAC/EsE,EAAaC,GAAcH,GAC3Bv1B,GAAU,IAAMqyB,EAAYC,WAAWD,EAAYT,UAAU3oD,OAAS,GAE1E,SAAS0sD,EAActD,GACnB,IAAIuD,EAAcnlE,KAAK48B,IAAI,EAAG58B,KAAK08B,KAAI,IAAIkoC,MAAOC,UAAYF,EAAWp6D,IACzE66D,EAAWV,EAAOS,EAAatlE,EAAOshD,EAAQ52C,GAAWq3D,EAAY/vC,WACjE73B,IAAO4nE,EAAYC,WAAWD,EAAYT,UAAU0C,YAAcsB,EAAc56D,EAChF80D,GAAcuC,EAAYT,UAAUh9B,QAAUnmC,WAAWknE,EAAcxqE,KAAK,KAAMknE,GAAc,GAGhGE,GAAgBF,GAGxB,SAASwD,EAAWtxE,EAAO+9B,GACvB,IAAM,eAAkBA,EAAUvyB,cAAc,0BACvC,eAAkBuyB,EAAUvyB,cAAc,uBAAuBA,cAAc,uBAAyB,CAC7G,IAAI8iE,EAAMvwC,EAAUvyB,cAAc,uBAC9B+lE,EAAOjD,EAAI9iE,cAAc,sBAC7B+lE,EAAK9pE,aAAa,oBAAqB+pE,GAAcR,EAAUE,EAAYlxE,EAAO8oC,GAAO,IACzFyoC,EAAK9pE,aAAa,YAAa,UAAY,EAAW,IAAMupE,EAAW,EAAI,IAAMA,EAAW,EAAI,MAjBxGI,EAActD,GAqBlB,SAASN,GAAyBZ,EAAQ7uC,EAAW3jB,EAAMsI,GACvD,IAAIsuD,EAAoB,EAATpE,EACX0B,EAAMvwC,EAAUvyB,cAAc,OAASkX,GACvC6uD,EAAOjD,EAAI9iE,cAAc,sBACzB0lE,EAAaC,GAAcH,GAC3BS,EAAmBT,EAAW,EAAK,KACvC1C,EAAI7mE,aAAa,UAAW,OAASupE,EAAW,IAAMA,GACtD1C,EAAIloE,MAAM6G,MAAQqhE,EAAIloE,MAAM6J,OAAS+gE,EAAW,KAChD1C,EAAIloE,MAAMqrE,gBAAkBA,EAAkB,IAAMA,EAAkB,IAAMA,EAC5EF,EAAK9pE,aAAa,IAAKiqE,GAAQV,EAAUE,IAC5B,aAAT92D,IACAm3D,EAAK9pE,aAAa,eAAgBypE,EAAa,IAC/CK,EAAK9pE,aAAa,oBAAsBupE,EAAWE,GAAchlE,KAAKylE,GAAK,IAAQ,IACnFJ,EAAK9pE,aAAa,oBAAqB+pE,GAAcR,EAAUE,EAAY,EAAG,IAAM,KAG5F,SAASD,GAAQjxE,GACb,IAAI4xE,EAASt0D,WAAWtd,GACxB,OAAO4xE,EAEX,SAASF,GAAQV,EAAUE,GACvB,IAAItE,EAASoE,EAAW,EACpBa,EAASX,EAAa,EAC1B,MAAO,IAAMtE,EAAS,IAAMiF,EACtB,KAAOjF,EAASiF,GAAU,KAAOjF,EAASiF,GAAU,UAAYA,EAAS,IAAMjF,EAEzF,SAASuE,GAAcH,GACnB,MAAO,GAAWA,EAEtB,SAASQ,GAAcR,EAAUE,EAAYlxE,EAAO8oC,GAChD,OAAQkoC,EAAWE,GAAchlE,KAAKylE,IAAO,EAAI,EAAQ,IAAQ3xE,EAAQ,KAE7E,SAAS2wE,GAAc5jC,EAAShhC,EAAOshD,EAAQ52C,GAC3C,IAAIq7D,GAAa/kC,GAAWt2B,GAAYs2B,EACpCglC,EAAYD,EAAY/kC,EAC5B,OAAOhhC,EAAQshD,GAAU,EAAI0kB,EAAYD,GAAa,GAAKA,EAAYA,EAAY,GAAKC,GAE5F,SAAS5D,GAAwBvB,EAAQoF,EAAep0D,GACpD,IAAIq0D,EAAUrF,EACVsF,EAAUtF,EACVoE,EAAoB,EAATpE,EACXqC,EAAW,IACXkD,EAAS,GACT7D,EAAM0D,EAAcxmE,cAAc,IAAMoS,GACxC8xD,EAASpB,EAAI9iE,cAAc,kBAC3B+lE,EAAOjD,EAAI9iE,cAAc,eACzBimE,EAAmBT,EAAW,EAAK,KACvCtB,EAAOjoE,aAAa,IAAK2qE,GAAaH,EAASC,EAAStF,IACxD2E,EAAK9pE,aAAa,IAAK4qE,GAAUJ,EAASC,EAAStF,EAAQqC,EAAUkD,IACrE7D,EAAI7mE,aAAa,UAAW,OAASupE,EAAW,IAAMA,GACtD1C,EAAIloE,MAAMqrE,gBAAkBA,EAAkB,IAAMA,EAAkB,IAAMA,EAC5EnD,EAAIloE,MAAM6G,MAAQqhE,EAAIloE,MAAM6J,OAAS+gE,EAAW,KAEpD,SAAS9B,GAAgB+C,EAASC,EAAStF,EAAQ0F,GAC/C,IAAIC,GAAWD,EAAQ,IAAMpmE,KAAKylE,GAAK,IACvC,MAAO,CACH33C,EAAGi4C,EAAWrF,EAAS1gE,KAAKsmE,IAAID,GAChCt4C,EAAGi4C,EAAWtF,EAAS1gE,KAAKC,IAAIomE,IAGxC,SAASF,GAAUr4C,EAAGC,EAAG2yC,EAAQqC,EAAUkD,GACvC,IAAIpmE,EAAQmjE,GAAgBl1C,EAAGC,EAAG2yC,EAAQuF,GACtCx+D,EAAMu7D,GAAgBl1C,EAAGC,EAAG2yC,EAAQqC,GACpClsE,EAAI,CACJ,IAAKgJ,EAAMiuB,EAAGjuB,EAAMkuB,EACpB,IAAK2yC,EAAQA,EAAQ,EAAG,EAAG,EAAGj5D,EAAIqmB,EAAGrmB,EAAIsmB,GAC3C9C,KAAK,KACP,OAAOp0B,EAEX,SAASqvE,GAAap4C,EAAGC,EAAG2yC,GACxB,IAAI7pE,EAAI,CACJ,IAAKi3B,EAAGC,EACR,KAAM2yC,EAAQ,EACd,IAAKA,EAAQA,EAAQ,EAAG,EAAG,EAAY,EAATA,EAAY,EAC1C,IAAKA,EAAQA,EAAQ,EAAG,EAAG,EAAa,GAATA,EAAY,GAC7Cz1C,KAAK,KACP,OAAOp0B,EAOJ,SAAS0vE,GAAY10C,GACxB20C,GAAgB30C,GAAW,GAC3BA,EAAY,KAEhB,SAAS20C,GAAgB30C,EAAW40C,GAChC,IAAIC,EAKJ,GAJI70C,IACA60C,EAAc70C,EAAUx3B,UAAU0E,SAASohE,IAAgBtuC,EACvDA,EAAUvyB,cAAc,IAAM6gE,KAElCtuC,GAAa60C,EAAa,CAC1B,IAAI/C,EAAQ+C,EAAYpnE,cAAc,IAAM8gE,IACxCuG,OAAY,EAGhB,GAFAA,EAAYF,GAAUC,EAAYrsE,UAAU0E,SAASyhE,MAAsBkG,EAAYrsE,UAAU0E,SAAS8gE,KACrG6G,EAAYrsE,UAAU0E,SAASyhE,MAAsBkG,EAAYrsE,UAAU0E,SAAS6gE,IACrF+G,EAAW,CACX,IAAIC,EAASF,EAAYpnE,cAAc,OACvC,GAAI,eAAkBsnE,GAClB,OAEJ,IAAI5sE,EAAK4sE,EAAO/5D,aAAa,MAE7B,OADAwyD,GAAcrlE,GAAI0pE,WAAa+C,EACvBpH,GAAcrlE,GAAIkU,MACtB,IAAK,WACDu4D,EAAStoE,aAAakhE,GAAcrlE,GAAImqC,SAAWq9B,GAAgBmC,EAAO3pE,EAAIqlE,GAAcrlE,GAAI0mE,QAChG,MACJ,IAAK,YACD+F,EAAStoE,aAAakhE,GAAcrlE,GAAImqC,SAAWm/B,GAAiBK,GACpE,OAGZ8C,EAAS,eAAUC,EAAa,CAAC7G,IAAe,CAACD,KAAiB,eAAU8G,EAAa,CAAC9G,IAAe,CAACC,KAC1GhuC,EAAY,MAQb,SAASg1C,GAAYh1C,GACxB20C,GAAgB30C,GAAW,GAC3BA,EAAY,KC7dhB,IAAI,GAAwC,WACxC,IAAIj7B,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,gBAClB,CAAEC,UAAW,cAAgBpB,OAAS,SAAUgB,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAII,KAAKJ,EAAOA,EAAEK,eAAeD,KAAIL,EAAEK,GAAKJ,EAAEI,KAClEN,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASM,IAAO3E,KAAK4E,YAAcR,EADnCD,EAAcC,EAAGC,GAEjBD,EAAES,UAAkB,OAANR,EAAaC,OAAOQ,OAAOT,IAAMM,EAAGE,UAAYR,EAAEQ,UAAW,IAAIF,IAV3C,GAaxC,GAA0C,SAAUK,EAAYvD,EAAQX,EAAKmE,GAC7E,IAA2Hb,EAAvHc,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIzD,EAAkB,OAATwD,EAAgBA,EAAOX,OAAOgB,yBAAyB7D,EAAQX,GAAOmE,EACrH,GAAuB,kBAAZM,SAAoD,oBAArBA,QAAQC,SAAyBH,EAAIE,QAAQC,SAASR,EAAYvD,EAAQX,EAAKmE,QACpH,IAAK,IAAIQ,EAAIT,EAAWI,OAAS,EAAGK,GAAK,EAAGA,KAASrB,EAAIY,EAAWS,MAAIJ,GAAKH,EAAI,EAAId,EAAEiB,GAAKH,EAAI,EAAId,EAAE3C,EAAQX,EAAKuE,GAAKjB,EAAE3C,EAAQX,KAASuE,GAChJ,OAAOH,EAAI,GAAKG,GAAKf,OAAOoB,eAAejE,EAAQX,EAAKuE,GAAIA,GAS5DgvE,GAAkB,6BAClBC,GAAgB,gBAChBC,GAAY,cACZC,GAAe,qBACfC,GAAc,iBACdC,GAAO,qBACPC,GAAS,gBACTC,GAAiB,mBACjBC,GAAiB,iDACjBC,GAAgB,sCAChBC,GAAY,cACZC,GAAY,cACZC,GAAY,cACZC,GAAc,oBACdC,GAAc,oBACdC,GAAe,iBACfC,GAAa,mBACbC,GAAa,oBACbC,GAAa,sBACbC,GAAmB,yBACnBC,GAAc,wBACdC,GAAmB,sBACnBC,GAAoB,oBACpBC,GAAiB,mBACjBC,GAAgB,iBAChBC,GAAiB,mBACjBC,GAAmB,qBACnB,GAAM,QACN,GAAW,aACXC,GAAgB,kBAChBC,GAAe,qBACfC,GAAyB,wBACzBC,GAAe,mBACfC,GAAgB,kBAChBC,GAAiB,mBACjBC,GAAc,CAAC,QAAS,QAAS,SACjCC,GAAc,gBACdC,GAAe,sBACfC,GAAe,iBACfC,GAAc,qBACd,GAA2B,SAAUhwE,GAErC,SAASiwE,IACL,OAAkB,OAAXjwE,GAAmBA,EAAOyN,MAAMnU,KAAMmF,YAAcnF,KAW/D,OAbA,GAAU22E,EAAWjwE,GAIrB,GAAW,CACP,eAAS,KACViwE,EAAU9xE,UAAW,YAAQ,GAChC,GAAW,CACP,eAAS,OACV8xE,EAAU9xE,UAAW,YAAQ,GAChC,GAAW,CACP,eAAS,KACV8xE,EAAU9xE,UAAW,YAAQ,GACzB8xE,EAdmB,CAe5B,QAEE,GAA8B,SAAUjwE,GAExC,SAASkwE,IACL,OAAkB,OAAXlwE,GAAmBA,EAAOyN,MAAMnU,KAAMmF,YAAcnF,KAW/D,OAbA,GAAU42E,EAAclwE,GAIxB,GAAW,CACP,eAAS,cACVkwE,EAAa/xE,UAAW,cAAU,GACrC,GAAW,CACP,eAAS,WACV+xE,EAAa/xE,UAAW,cAAU,GACrC,GAAW,CACP,eAAS,UACV+xE,EAAa/xE,UAAW,aAAS,GAC7B+xE,EAdsB,CAe/B,QAEE,GAA+B,SAAUlwE,GAEzC,SAASmwE,IACL,OAAkB,OAAXnwE,GAAmBA,EAAOyN,MAAMnU,KAAMmF,YAAcnF,KAiB/D,OAnBA,GAAU62E,EAAenwE,GAIzB,GAAW,CACP,eAAS,KACVmwE,EAAchyE,UAAW,eAAW,GACvC,GAAW,CACP,eAAS,KACVgyE,EAAchyE,UAAW,iBAAa,GACzC,GAAW,CACP,eAAS,IACVgyE,EAAchyE,UAAW,iBAAa,GACzC,GAAW,CACP,eAAS,IACVgyE,EAAchyE,UAAW,kBAAc,GAC1C,GAAW,CACP,eAAS,MACVgyE,EAAchyE,UAAW,uBAAmB,GACxCgyE,EApBuB,CAqBhC,QAcE,GAA0B,SAAUnwE,GAKpC,SAASowE,EAASlwE,EAASC,GACvB,IAAIoE,EAAQvE,EAAOI,KAAK9G,KAAM4G,EAASC,IAAY7G,KA8BnD,OA7BAiL,EAAM8rE,YAAc,CAAEC,OAAQ,KAAMC,UAAU,EAAO97D,UAAU,GAC/DlQ,EAAMisE,kBAAoB,GAC1BjsE,EAAMksE,aAAe,GACrBlsE,EAAMosC,QAAS,EACfpsC,EAAMmsE,UAAW,EACjBnsE,EAAMosE,WAAa,GACnBpsE,EAAMqsE,eAAiB,GACvBrsE,EAAMytC,SAAW,IACjBztC,EAAMssE,YAAc,IACpBtsE,EAAMusE,2BAA4B,EAClCvsE,EAAM8a,OAAS,EACf9a,EAAMwsE,oBAAsB,EAC5BxsE,EAAMysE,MAAO,EACbzsE,EAAM0sE,cAAgB,GACtB1sE,EAAM2sE,aAAe,cACrB3sE,EAAM4sE,YAAc,GACpB5sE,EAAM6sE,WAAa,EACnB7sE,EAAM8sE,wBAAyB,EAK/B9sE,EAAM+sE,SAAW,GAKjB/sE,EAAMgtE,UAAY,GAClBhtE,EAAMitE,gBAAkBtxE,EACjBqE,EAsyGX,OAz0GA,GAAU6rE,EAAUpwE,GAyCpBowE,EAASjyE,UAAUiK,kBAAoB,SAAUC,EAASC,GACtD,IAAK,IAAIzL,EAAK,EAAGwG,EAAKzF,OAAO2K,KAAKF,GAAUxL,EAAKwG,EAAG3E,OAAQ7B,IAAM,CAC9D,IAAI2L,EAAOnF,EAAGxG,GACd,OAAQ2L,GACJ,IAAK,oBACDlP,KAAKm4E,cAAcn4E,KAAKo4E,mBACxBp4E,KAAKq4E,WACL,MACJ,IAAK,UACDr4E,KAAKs4E,mBACL,MACJ,IAAK,WACDt4E,KAAKu4E,uBACL,MACJ,IAAK,YACDv4E,KAAKw4E,SACLx4E,KAAKy4E,mBACL,MACJ,IAAK,UACDz4E,KAAKq/B,QAAQq5C,OAAS,eAAkB14E,KAAKq/B,QAAQq5C,QAAU,GAAK14E,KAAKq/B,QAAQq5C,OACjF14E,KAAKq/B,QAAQ9I,MAAQ,eAAkBv2B,KAAKq/B,QAAQ9I,OAAS,GAAKv2B,KAAKq/B,QAAQ9I,MAC/Ev2B,KAAKq/B,QAAQs5C,OAAS,eAAkB34E,KAAKq/B,QAAQs5C,QAAU,GAAK34E,KAAKq/B,QAAQs5C,OACjF34E,KAAK44E,wBACL,MACJ,IAAK,WACD54E,KAAK64E,mBACL74E,KAAK84E,iBACL,MACJ,IAAK,iBACD94E,KAAKwnC,0BACLxnC,KAAKypC,0BACLzpC,KAAK+4E,qBAAoB,GACzB,MACJ,IAAK,QACD/4E,KAAKg5E,qBACL,MACJ,IAAK,kBACDh5E,KAAKi5E,4BACL,MACJ,IAAK,WACIj5E,KAAKk5E,gBACNl5E,KAAKq4E,WAET,MACJ,IAAK,cACL,IAAK,cACL,IAAK,aACDr4E,KAAKq4E,WACL,MACJ,IAAK,mBACDr4E,KAAKq4E,WACL,MACJ,IAAK,SACDr4E,KAAK8mC,KAAKyL,UAAUvyC,KAAK+mC,QACzB/mC,KAAKm5E,oBACLn5E,KAAKo5E,aAAe,eAAS,gBAAiBp5E,KAAK8mC,MACnD,MACJ,IAAK,WACD9mC,KAAKm4C,YAAYnpC,EAAQoH,UACzB,SAIhB0gE,EAASjyE,UAAUs0E,kBAAoB,WAC/B,eAAkBn5E,KAAKwb,YACc,kBAAzBxb,KAAKq/B,QAAc,SAC3Br/B,KAAKq5E,aAAat4C,UAAqC,cAAxB/gC,KAAKq/B,QAAQq5C,OACxC14E,KAAKs5E,eAAe,UAAYt5E,KAAKq/B,QAAQq5C,OACjD14E,KAAKq5E,aAAavwE,aAAa,QAAS9I,KAAKq5E,aAAat4C,WACtD/gC,KAAKu5E,gBAAkB,eAAkBv5E,KAAKu5E,cAAc1sE,cAAc,IAAM0nE,OAChFv0E,KAAKu5E,cAAc1sE,cAAc,IAAM0nE,IAAWrqD,UAAYlqB,KAAKs5E,eAAe,mBAG1Ft5E,KAAKw5E,mBAGb1C,EAASjyE,UAAU40E,YAAc,SAAU3gE,GAEvC,IADA,IAAI4gE,EACKn2E,EAAK,EAAGwG,EAAKzF,OAAO2K,KAAKjP,KAAKo5E,cAAe71E,EAAKwG,EAAG3E,OAAQ7B,IAAM,CACxE,IAAIzC,EAAMiJ,EAAGxG,GACTvD,KAAKo5E,aAAat4E,KAASgY,IAC3B4gE,EAAW54E,GAGnB,OAAO44E,GAEX5C,EAASjyE,UAAU20E,eAAiB,WAChC,IAAI3yE,EAEJ,GAAI7G,KAAKg4E,SAAS5yE,OAAS,IAAM,eAAkBpF,KAAKu5E,cAAc1sE,cAAc,IAAM4nE,KACtF,IAAK,IAAIhvE,EAAI,EAAGA,EAAIzF,KAAKg4E,SAAS5yE,OAAQK,IACtCoB,EAAU7G,KAAKg4E,SAASvyE,GAAGoH,cAAc,kBACzChG,EAAQqjB,UAAYlqB,KAAKs5E,eAAet5E,KAAKy5E,YAAYz5E,KAAKi4E,UAAUxyE,GAAGk0E,SAC3E35E,KAAKi4E,UAAUxyE,GAAGk0E,OAAS35E,KAAKs5E,eAAet5E,KAAKy5E,YAAYz5E,KAAKi4E,UAAUxyE,GAAGk0E,SAC9E35E,KAAKg4E,SAASvyE,GAAGmC,UAAU0E,SAASspE,KACpC51E,KAAKg4E,SAASvyE,GAAGoH,cAAc,YAAY/D,aAAa,QAAS9I,KAAKs5E,eAAe,WAErFt5E,KAAKg4E,SAASvyE,GAAGoH,cAAc,qBAC/B7M,KAAKg4E,SAASvyE,GAAGoH,cAAc,YAAY/D,aAAa,QAAS9I,KAAKs5E,eAAe,WAErFt5E,KAAKg4E,SAASvyE,GAAGoH,cAAc,uBAC/B7M,KAAKg4E,SAASvyE,GAAGoH,cAAc,YAAY/D,aAAa,QAAS9I,KAAKs5E,eAAe,WAErFt5E,KAAKg4E,SAASvyE,GAAGoH,cAAc,uBAC/B7M,KAAKg4E,SAASvyE,GAAGoH,cAAc,YAAY/D,aAAa,QAAS9I,KAAKs5E,eAAe,UAEpFt5E,KAAK45E,aACN55E,KAAK65E,aAAa94C,UAAqC,WAAxB/gC,KAAKq/B,QAAQs5C,OACxC34E,KAAKs5E,eAAe,UAAYt5E,KAAKq/B,QAAQs5C,OACjD34E,KAAK65E,aAAa/wE,aAAa,QAAS9I,KAAKs5E,eAAe,WAC5Dt5E,KAAKs/B,YAAYyB,UAAoC,UAAvB/gC,KAAKq/B,QAAQ9I,MACvCv2B,KAAKs5E,eAAe,SAAWt5E,KAAKq/B,QAAQ9I,MAChDv2B,KAAKs/B,YAAYx2B,aAAa,QAAS9I,KAAKs5E,eAAe,YAK3ExC,EAASjyE,UAAU4zE,iBAAmB,WAC9Bz4E,KAAK85E,aACL,eAAO95E,KAAK85E,YACZ95E,KAAK85E,WAAa,KAClB95E,KAAKg4E,SAAW,GAChBh4E,KAAK+5E,eAAe/5E,KAAKi4E,WACrBj4E,KAAKg6E,gBACLh6E,KAAKi6E,sBACLj6E,KAAKk6E,sBACLl6E,KAAKm6E,6BAIjBrD,EAASjyE,UAAUkC,UAAY,WAuB3B,GAtBA/G,KAAK2mC,WAAa,CAAEyzC,OAAQ,YAAaC,MAAO,QAASC,OAAQ,SAC7DC,cAAe,qBAAsBC,mBAAoB,yBACzDC,mBAAoB,yBAA0BC,gBAAiB,2BAC/DC,oBAAqB,wBAAyBC,qBAAsB,6BACpEC,sBAAuB,4BAA6BC,qBAAsB,wBAAyBC,WAAY,YAC/GC,qBAAsB,kBAAmBC,MAAO,QAAStxE,OAAQ,SAAUoS,OAAQ,SAAUm/D,OAAQ,cACrGC,YAAa,qBAAsBC,MAAO,QAASC,OAAQ,SAAUC,MAAO,QAC5EC,iBAAkB,uBAAwBC,qBAAsB,yBAA0BC,WAAY,cACtGxuD,KAAM,QAEVjtB,KAAK8mC,KAAO,IAAI,OAAK,WAAY9mC,KAAK2mC,WAAY3mC,KAAK+mC,QACvD/mC,KAAKo5E,aAAe,eAAS,gBAAiBp5E,KAAK8mC,MACnD9mC,KAAKk5E,kBAAkB,mBAAcl5E,KAAKqV,kBAC1CrV,KAAKg4B,oBAAmBh4B,KAAKk5E,gBAAoC,KAAlBl5E,KAAKwb,UAAoB,eAAkBxb,KAAKwb,WAC/Fxb,KAAK07E,mBAAmB17E,KAAKqV,kBACO,KAA/BrV,KAAK27E,cAAcC,UAAkB,eAAkB57E,KAAK27E,cAAcC,UAC3E57E,KAAK07E,iBAAmB17E,KAAK67E,mBAC7B77E,KAAK67E,kBAAmB,GAEvB77E,KAAK07E,iBACN17E,KAAK87E,gBAEJ97E,KAAKk5E,eAAgB,CACtBl5E,KAAKwnC,0BACLxnC,KAAK+4E,qBAAoB,GAEzB,IAAI3nD,EAAa,eAAS,gBAAiBpxB,KAAK6G,SAEhD,GAA6B,iBAAzB7G,KAAK6G,QAAQ4Q,QAA4B,CACzC,IAAI0oB,EAAengC,KAAK2I,cAAc,QAAS,CAAErI,MAAO,CAAEmb,KAAM,UAC5DlZ,EAAQ,EACZ,IAAKA,EAAOA,EAAQvC,KAAK6G,QAAQyqB,WAAWlsB,OAAQ7C,IAChD49B,EAAar3B,aAAa9I,KAAK6G,QAAQyqB,WAAW/uB,GAAOgvB,SAAUvxB,KAAK6G,QAAQyqB,WAAW/uB,GAAOivB,WAClG2O,EAAajW,UAAYlqB,KAAK6G,QAAQqjB,UAErCiW,EAAauG,aAAa,SAC3BvG,EAAar3B,aAAa,OAAQ,eAEtC9I,KAAK6G,QAAQsC,YAAYg3B,GACzBngC,KAAK6G,QAAUs5B,EACf,gBAAS,gBAAiB/O,EAAYpxB,KAAK6G,SAG3CuqB,EAAW,GAAG2qD,uBACT,eAAkB3qD,EAAW,GAAGnF,MAAM9qB,OAGjC,eAAkBiwB,EAAW,GAAGnF,MAAM1kB,KAAO,eAAkB6pB,EAAW,GAAGnF,MAAM9qB,MACzFnB,KAAK6G,QAAQiC,aAAa,OAAQsoB,EAAW,GAAGnF,MAAM1kB,IAGtDvH,KAAK6G,QAAQiC,aAAa,OAAQ,eANlC9I,KAAK6G,QAAQiC,aAAa,OAAQsoB,EAAW,GAAGnF,MAAM9qB,OAS1D,eAAkBnB,KAAK6G,QAAQuT,aAAa,UAC5Cpa,KAAK6G,QAAQiC,aAAa,OAAQ9I,KAAK6G,QAAQuT,aAAa,OAE3Dpa,KAAK6G,QAAQ6/B,aAAa,SAC3B1mC,KAAK6G,QAAQiC,aAAa,OAAQ,QAEtC9I,KAAKi5E,4BAETj5E,KAAKuU,WAAa,CACdynE,MAAO,SAEPh8E,KAAK6G,QAAQ6/B,aAAa,cAC1B1mC,KAAK04C,SAAW14C,KAAK6G,QAAQuT,aAAa,aAE9Cpa,KAAKi8E,YAAc,OAAQh1E,KAAK9F,KAChCnB,KAAK43E,aAAe53E,KAAK6G,QAAQuT,aAAa,SAElD08D,EAASjyE,UAAUi3E,aAAe,WAC9B,IAAIz3C,EAAY,eAAQrkC,KAAK6G,QAAS,QACtC,IAAK,eAAkBw9B,GACnB,KAAOA,GAAaA,IAAclvB,SAAS+mE,gBAAiB73C,EAAYA,EAAU5pB,cACpD,SAAtB4pB,EAAU5sB,UACVzX,KAAKq3C,QAAS,EACdr3C,KAAKmrC,YAAc9G,EACnBA,EAAUv7B,aAAa,UAAW,uBAClCu7B,EAAUv7B,aAAa,WAAY,yBAKnDguE,EAASjyE,UAAUyE,eAAiB,WAChC,OAAOtJ,KAAKwJ,aAAa,CAAC,eAK9BstE,EAASjyE,UAAU4E,cAAgB,WAC/B,MAAO,YAEXqtE,EAASjyE,UAAUo0E,0BAA4B,WACvCj5E,KAAKm8E,iBACLn8E,KAAK6G,QAAQiC,aAAa,YAAa,QACvC9I,KAAK6G,QAAQiC,aAAa,kBAAmB,UAG7C9I,KAAK6G,QAAQoD,gBAAgB,aAC7BjK,KAAK6G,QAAQoD,gBAAgB,qBAOrC6sE,EAASjyE,UAAU/E,OAAS,WACnBE,KAAKk5E,gBAaNl5E,KAAKo8E,gBAAkB,eAAQp8E,KAAK6G,QAAS,IAAM2tE,IACnDx0E,KAAKu5E,cAAgB,eAAQv5E,KAAK6G,QAAS,+BAC3C7G,KAAKq5E,aAAer5E,KAAKo8E,gBAAgBvvE,cAAc,8BACvD7M,KAAKq8E,cACLr8E,KAAKg5E,qBACLh5E,KAAKgX,eAjBLhX,KAAKs8E,qBACLt8E,KAAKu8E,mBACLv8E,KAAKypC,0BACLzpC,KAAKgX,aACLhX,KAAKu4E,uBACLv4E,KAAKm4E,cAAcn4E,KAAKo4E,mBACxBp4E,KAAKw4E,SACLx4E,KAAKg5E,qBACLh5E,KAAKs4E,mBACLt4E,KAAKm4C,eAUTn4C,KAAK2c,kBAETm6D,EAASjyE,UAAUy3E,mBAAqB,WACpCt8E,KAAKq5E,aAAer5E,KAAK2I,cAAc,SAAU,CAAEC,UAAW,cAAetI,MAAO,CAAE,KAAQ,YAC9FN,KAAKq5E,aAAavwE,aAAa,WAAY9I,KAAK04C,UACX,kBAAzB14C,KAAKq/B,QAAc,QAC3Br/B,KAAKq5E,aAAa7uD,YAAuC,cAAxBxqB,KAAKq/B,QAAQq5C,OAC1C14E,KAAKs5E,eAAe,UAAYt5E,KAAKq/B,QAAQq5C,OACjD14E,KAAKq5E,aAAavwE,aAAa,QAAS9I,KAAKq5E,aAAat4C,YAG1D/gC,KAAKq5E,aAAalwE,YAAYnJ,KAAKq/B,QAAQq5C,QAE/C14E,KAAK6G,QAAQiC,aAAa,aAAc,aAE5CguE,EAASjyE,UAAUq1E,oBAAsB,WACrCl6E,KAAK6G,QAAQiC,aAAa,WAAY,MAChC9I,KAAK07E,iBAAmB17E,KAAKg4B,mBAC/Bh4B,KAAKg6E,cAAgBh6E,KAAK2I,cAAc,MAAO,CAAEC,UAAWgsE,KAC5D50E,KAAK65E,aAAe75E,KAAK2I,cAAc,SAAU,CAAEC,UAAWisE,GAC1Dv0E,MAAO,CAAE,KAAQ,SAAU,SAAYN,KAAKu3E,eAChDv3E,KAAKs/B,YAAct/B,KAAK2I,cAAc,SAAU,CAAEC,UAAWksE,GACzDx0E,MAAO,CAAE,KAAQ,SAAU,SAAYN,KAAKu3E,eAChDv3E,KAAKg6E,cAAc7wE,YAAYnJ,KAAKs/B,aACpCt/B,KAAKg6E,cAAc7wE,YAAYnJ,KAAK65E,cACpC75E,KAAK44E,wBACL54E,KAAKu5E,cAAcpwE,YAAYnJ,KAAKg6E,eACpCh6E,KAAKq5E,aAAajnC,OAClBpyC,KAAK65E,aAAa5gE,QAClBjZ,KAAKw8E,2BAIb1F,EAASjyE,UAAU43E,6BAA+B,SAAU51E,GACpDA,IAAY7G,KAAKq3C,SACjBr3C,KAAKq5E,aAAajnC,OAClBpyC,KAAKg6E,cAAgBnzE,EACrB7G,KAAK65E,aAAe75E,KAAKg6E,cAAcntE,cAAc,sBACrD7M,KAAKs/B,YAAct/B,KAAKg6E,cAAcntE,cAAc,qBACpD7M,KAAK65E,aAAa5gE,QAClBjZ,KAAK08E,2BACL18E,KAAKw8E,yBACLx8E,KAAKm6E,4BAIbrD,EAASjyE,UAAU83E,gBAAkB,SAAU91E,GACvCA,IACI7G,KAAK07E,iBAAmB17E,KAAKg4B,oBAC7Bh4B,KAAK85E,WAAajzE,EAClB7G,KAAKg4E,SAAW,GAAGj0E,MAAM+C,KAAK9G,KAAK85E,WAAWtkE,iBAAiB,OAC/DxV,KAAK48E,4BACA58E,KAAKq3C,QACNr3C,KAAK68E,gBAAgB78E,KAAKi4E,aAK1CnB,EAASjyE,UAAU23E,uBAAyB,WACxC,OAAa30E,IAAI7H,KAAK65E,aAAc,QAAS75E,KAAK88E,kBAAmB98E,MACrE,OAAa6H,IAAI7H,KAAKs/B,YAAa,QAASt/B,KAAK+8E,iBAAkB/8E,OAEvE82E,EAASjyE,UAAU63E,yBAA2B,WAC1C,OAAa/yE,OAAO3J,KAAK65E,aAAc,QAAS75E,KAAK88E,mBACrD,OAAanzE,OAAO3J,KAAKs/B,YAAa,QAASt/B,KAAK+8E,mBAExDjG,EAASjyE,UAAUo1E,oBAAsB,WACjCj6E,KAAKg6E,gBACLh6E,KAAK08E,2BACC18E,KAAK07E,iBAAmB17E,KAAKg4B,kBAC/B,eAAOh4B,KAAKg6E,eAEhBh6E,KAAKg6E,cAAgB,OAG7BlD,EAASjyE,UAAU+zE,sBAAwB,WAUvC,GATqC,kBAAzB54E,KAAKq/B,QAAc,QAC3Br/B,KAAKq5E,aAAa7uD,YAAuC,cAAxBxqB,KAAKq/B,QAAQq5C,OAC1C14E,KAAKs5E,eAAe,UAAYt5E,KAAKq/B,QAAQq5C,OACjD14E,KAAKq5E,aAAavwE,aAAa,QAAS9I,KAAKq5E,aAAa7uD,eAG1DxqB,KAAKq5E,aAAanvD,UAAY,GAC9BlqB,KAAKq5E,aAAalwE,YAAYnJ,KAAKq/B,QAAQq5C,SAE3C14E,KAAK65E,aAAc,CACnB,IAAImD,OAAa,EACjBA,EAAa,eAAkBh9E,KAAKq/B,QAAQs5C,QAAU,SAAW34E,KAAKq/B,QAAQs5C,OAC9E34E,KAAKq/B,QAAQs5C,OAASqE,EACe,kBAAzBh9E,KAAKq/B,QAAc,QAC3Br/B,KAAK65E,aAAarvD,YAAuC,WAAxBxqB,KAAKq/B,QAAQs5C,OAC1C34E,KAAKs5E,eAAe,UAAYt5E,KAAKq/B,QAAQs5C,OACjD34E,KAAK65E,aAAa/wE,aAAa,QAAS9I,KAAK65E,aAAarvD,eAG1DxqB,KAAK65E,aAAa3vD,UAAY,GAC9BlqB,KAAK65E,aAAa1wE,YAAYnJ,KAAKq/B,QAAQs5C,SAGnD,GAAI34E,KAAKs/B,YAAa,CAClB,IAAI29C,OAAY,EAChBA,EAAY,eAAkBj9E,KAAKq/B,QAAQ9I,OAAS,QAAUv2B,KAAKq/B,QAAQ9I,MAC3Ev2B,KAAKq/B,QAAQ9I,MAAQ0mD,EACe,kBAAxBj9E,KAAKq/B,QAAa,OAC1Br/B,KAAKs/B,YAAY9U,YAAsC,UAAvBxqB,KAAKq/B,QAAQ9I,MACzCv2B,KAAKs5E,eAAe,SAAWt5E,KAAKq/B,QAAQ9I,MAChDv2B,KAAKs/B,YAAYx2B,aAAa,QAAS9I,KAAKs/B,YAAY9U,eAGxDxqB,KAAKs/B,YAAYpV,UAAY,GAC7BlqB,KAAKs/B,YAAYn2B,YAAYnJ,KAAKq/B,QAAQ9I,UAItDugD,EAASjyE,UAAU03E,iBAAmB,WAClCv8E,KAAK6G,QAAQiC,aAAa,WAAY,MACtC,IAAIg/B,EAAe9nC,KAAK2I,cAAc,OAAQ,CAAEC,UAAW0rE,KAC3Dt0E,KAAK6G,QAAQ4T,cAAc/P,aAAao9B,EAAc9nC,KAAK6G,SAC3D7G,KAAKo8E,gBAAkBp8E,KAAK2I,cAAc,MAAO,CAAEC,UAAW4rE,KAC9Dx0E,KAAK6G,QAAQ4T,cAAc/P,aAAa1K,KAAKo8E,gBAAiBp8E,KAAK6G,SACnEihC,EAAa3+B,YAAYnJ,KAAK6G,SAC9B7G,KAAKo8E,gBAAgBjzE,YAAYnJ,KAAKq5E,cACtCr5E,KAAKo8E,gBAAgBjzE,YAAY2+B,GACjC9nC,KAAKu5E,cAAgBv5E,KAAK2I,cAAc,MAAO,CAAEC,UAAWyrE,KAC5Dr0E,KAAKo8E,gBAAgB3hE,cAAc/P,aAAa1K,KAAKu5E,cAAev5E,KAAKo8E,iBACzEp8E,KAAKu5E,cAAcpwE,YAAYnJ,KAAKo8E,iBACpCp8E,KAAKq8E,eAETvF,EAASjyE,UAAUm0E,mBAAqB,WACpC,GAAIh5E,KAAKk9E,MAAM93E,OAAQ,CACnB,GAAIpF,KAAKqvB,mBAAqBrvB,KAAKi4E,UAAU7yE,OAEzC,YADApF,KAAK+5E,eAAe/5E,KAAKi4E,WAG7B,GAAI,eAAkBj4E,KAAKk9E,MAAM,GAAGjwD,MAChC,OAEJ,IAAIiwD,EAAQ,GAAGn5E,MAAM+C,KAAK9G,KAAKk9E,OAC3BjF,EAAY,GACXj4E,KAAKi3E,WACNj3E,KAAKm9E,YACLD,EAAQ,CAACA,EAAM,KAEnB,IAAK,IAAI35E,EAAK,EAAG65E,EAAUF,EAAO35E,EAAK65E,EAAQh4E,OAAQ7B,IAAM,CACzD,IAAI85E,EAAOD,EAAQ75E,GACf+5E,EAAW,CACXn8E,KAAMk8E,EAAKl8E,KAAO,IAAMk8E,EAAK5hE,KAAKpF,MAAM,KAAKgnE,EAAK5hE,KAAKpF,MAAM,KAAKjR,OAAS,GAC3Em4E,QAAS,GACTtwD,KAAMowD,EAAKpwD,KACX0sD,OAAQ35E,KAAKs5E,eAAe,wBAC5B79D,KAAM4hE,EAAK5hE,KACX+hE,mBAAoB,CAAEC,QAAS,GAAIC,QAAS,IAC5CC,WAAY,KAEhB1F,EAAUp6D,KAAKy/D,GACft9E,KAAKi4E,UAAUp6D,KAAKy/D,GAExBt9E,KAAK+5E,eAAe9B,GACfj4E,KAAK45E,aAAc55E,KAAK85E,YAAe95E,KAAKg6E,eAAmBh6E,KAAKq3C,SAAUr3C,KAAK49E,gBAAkB59E,KAAK69E,cAC3G79E,KAAKk6E,sBAETl6E,KAAKm6E,0BACDn6E,KAAK67E,mBACL77E,KAAK+lB,MAAQ/lB,KAAKi4E,UAAU7yE,OAAS,KAIjD0xE,EAASjyE,UAAUs1E,wBAA0B,WACzC,GAAIn6E,KAAKg6E,cAAe,CACpB,IAAI8D,EAAW99E,KAAKu5E,cAAc/jE,iBAAiB,IAAMugE,IAAkB3wE,OACvEpF,KAAKu5E,cAAc/jE,iBAAiB,2CAA2CpQ,OAC/EpF,KAAKu5E,cAAc/jE,iBAAiB,QAAUogE,IAAgBxwE,OAC9DpF,KAAKu5E,cAAc/jE,iBAAiB,QAAUmgE,IAAmBvwE,OACjE04E,EAAW,GAAKA,IAAa99E,KAAKu5E,cAAc/jE,iBAAiB,MAAMpQ,OACvEpF,KAAK65E,aAAa/wE,aAAa,WAAY,YAG3C9I,KAAK65E,aAAa5vE,gBAAgB,cAI9C6sE,EAASjyE,UAAUw3E,YAAc,WAC7B,IAAI0B,EAAe/9E,KAAKo8E,gBAAgBvvE,cAAc,gBACtD,GAAI7M,KAAKg+E,SAAU,CACfh+E,KAAKi+E,gBAA8C,kBAAnBj+E,KAAa,SAAkBA,KAAKg+E,SAChE7oE,SAAStI,cAAc7M,KAAKg+E,UAChC,IAAIn3E,EAAU7G,KAAK6G,QACfq3E,GAAiB,EACrB,MAAOr3E,EAAQ2hB,WACX3hB,EAAUA,EAAQ2hB,WACd3hB,IAAY7G,KAAKi+E,kBACjBC,GAAiB,EACZH,EAGK/9E,KAAKk5E,iBACX6E,EAAa7zD,UAAYlqB,KAAKs5E,eAAe,kBAH7Ct5E,KAAKm+E,uBAOZD,GAAkBH,GACnBA,EAAap0E,cAGX,eAAkB3J,KAAKk4E,uBAAsDn9C,IAAlC/6B,KAAKk4E,gBAAgB8F,WACtEh+E,KAAKm+E,qBACLn+E,KAAKi+E,gBAAkBj+E,KAAKu5E,cAC5Bv5E,KAAK+wB,cAAc,CAAEitD,SAAUh+E,KAAKu5E,gBAAiB,IAEzDv5E,KAAKo+E,kBAETtH,EAASjyE,UAAUi0E,eAAiB,WAChC,GAAI94E,KAAKg+E,SACLh+E,KAAKq8E,kBAEJ,CACDr8E,KAAKi+E,gBAAkB,KACvB,IAAIF,EAAe/9E,KAAKo8E,gBAAgBvvE,cAAc,gBAClDkxE,GACAA,EAAap0E,WAIzBmtE,EAASjyE,UAAUs5E,mBAAqB,WACpC,IAAKn+E,KAAKk5E,eAAgB,CACtB,IAAImF,EAAer+E,KAAK2I,cAAc,OAAQ,CAAEC,UAAW2rE,KAC3D8J,EAAan0D,UAAYlqB,KAAKs5E,eAAe,iBAC7Ct5E,KAAKo8E,gBAAgBjzE,YAAYk1E,KAGzCvH,EAASjyE,UAAU2iC,wBAA0B,WACzC,IAAK,eAAkBxnC,KAAK2b,gBACxB,IAAK,IAAIpY,EAAK,EAAGwG,EAAKzF,OAAO2K,KAAKjP,KAAK2b,gBAAiBpY,EAAKwG,EAAG3E,OAAQ7B,IAAM,CAC1E,IAAIomC,EAAM5/B,EAAGxG,GACT+yE,GAAYt7D,QAAQ2uB,GAAO,GAC3B3pC,KAAK6G,QAAQiC,aAAa6gC,EAAK3pC,KAAK2b,eAAeguB,MAKnEmtC,EAASjyE,UAAU4kC,wBAA0B,WACzC,IAAK,eAAkBzpC,KAAK2b,gBACxB,IAAK,IAAIpY,EAAK,EAAGwG,EAAKzF,OAAO2K,KAAKjP,KAAK2b,gBAAiBpY,EAAKwG,EAAG3E,OAAQ7B,IAAM,CAC1E,IAAIomC,EAAM5/B,EAAGxG,GACb,GAAI+yE,GAAYt7D,QAAQ2uB,IAAQ,EAC5B,GAAY,UAARA,EAAiB,CACjB,IAAI20C,EAAsBt+E,KAAK2b,eAAeguB,GAAK7I,QAAQ,OAAQ,KAAMxX,OAC9C,KAAvBg1D,GACA,eAAS,CAACt+E,KAAKu5E,eAAgB+E,EAAmBjoE,MAAM,WAG3D,GAAY,UAARszB,EAAiB,CACtB,IAAI40C,EAAcv+E,KAAKu5E,cAAcn/D,aAAauvB,GAClD40C,EAAe,eAAkBA,GAC7Bv+E,KAAK2b,eAAeguB,GADyB40C,EAAcv+E,KAAK2b,eAAeguB,GAEnF3pC,KAAKu5E,cAAczwE,aAAa6gC,EAAK40C,QAGrCv+E,KAAKu5E,cAAczwE,aAAa6gC,EAAK3pC,KAAK2b,eAAeguB,MAM7EmtC,EAASjyE,UAAU0zE,qBAAuB,WACtC,GAAIv4E,KAAKi3E,WAAaj3E,KAAK6G,QAAQ6/B,aAAa,YAAa,CACzD,IAAI83C,EAAUrpE,SAASspE,gBAAgB,YACvCD,EAAQn9E,MAAQ,WAChBrB,KAAK6G,QAAQ63E,iBAAiBF,QAExBx+E,KAAKi3E,UACXj3E,KAAK6G,QAAQoD,gBAAgB,aAGrC6sE,EAASjyE,UAAUg4E,gBAAkB,SAAUS,GACvCt9E,KAAK45E,YACD55E,KAAK67E,iBAEL77E,KAAK2+E,eAAerB,GAGpBt9E,KAAK24E,OAAO2E,GAEhBt9E,KAAKi6E,uBAECj6E,KAAKg6E,eACXh6E,KAAKk6E,sBAETl6E,KAAKm6E,2BAETrD,EAASjyE,UAAU85E,eAAiB,SAAUrB,GAC1C,GAAIt9E,KAAKi4E,UAAU7yE,OAASk4E,EAASl4E,SAAW,GACiC,MAA7EpF,KAAKi4E,UAAWj4E,KAAKi4E,UAAU7yE,OAASk4E,EAASl4E,OAAS,GAAIu4E,WAAoB,GAChF39E,KAAK+lB,MACP,IAAI64D,GAAoB5+E,KAAK69E,aACa,kBAA/B79E,KAAKi4E,UAAUj4E,KAAK+lB,QAC3B/lB,KAAK+3E,wBAAyB,EAC9B/3E,KAAK24E,OAAO34E,KAAKi4E,UAAUj4E,KAAK+lB,OAAQ64D,GACM,MAA1C5+E,KAAKi4E,UAAUj4E,KAAK+lB,OAAO43D,YAC3B39E,KAAK2+E,eAAerB,MAItBt9E,KAAK+lB,QAInB+wD,EAASjyE,UAAUszC,YAAc,SAAUC,GACvC,IAAI7O,EAAuBvpC,KAAKoW,SAC3B,eAAkBpW,KAAKoW,WAA+B,KAAlBpW,KAAKoW,WAC1CmzB,EAAwBvpC,KAAKoW,SAAS0qB,QAAQ,OAAQ,KAAMxX,QAE3D,eAAkBtpB,KAAKoW,WAAsC,KAAzBmzB,GACrC,eAAS,CAACvpC,KAAKu5E,eAAgBhwC,EAAqBlzB,MAAMkzB,EAAqBvuB,QAAQ,MAAQ,EAAI,IAAM,MAE7G,IAAI6jE,EAAqBzmC,EACpB,eAAkBA,KACnBymC,EAAsBzmC,EAAYtX,QAAQ,OAAQ,KAAMxX,QAEvD,eAAkB8uB,IAAuC,KAAvBymC,GACnC,eAAY,CAAC7+E,KAAKu5E,eAAgBsF,EAAmBxoE,MAAM,OAGnEygE,EAASjyE,UAAUmS,WAAa,WAC5B,OAAanP,IAAI7H,KAAKq5E,aAAc,QAASr5E,KAAK8+E,kBAAmB9+E,MACrE,OAAa6H,IAAI7H,KAAK6G,QAAS,SAAU7G,KAAK++E,cAAe/+E,MAC7D,OAAa6H,IAAIsN,SAAU,QAASnV,KAAKg/E,YAAah/E,MACtDA,KAAKi/E,eAAiB,IAAI,OAAej/E,KAAKu5E,cAAe,CACzDliE,UAAWrX,KAAKsX,iBAAiBrP,KAAKjI,MACtCuU,WAAYvU,KAAKuU,WACjByvC,UAAW,YAEXhkD,KAAKq3C,QACL,OAAaxvC,IAAI7H,KAAKmrC,YAAa,QAASnrC,KAAKk/E,UAAWl/E,OAGpE82E,EAASjyE,UAAU+qB,aAAe,WAC9B,OAAajmB,OAAO3J,KAAKq5E,aAAc,QAASr5E,KAAK8+E,mBACrD,OAAan1E,OAAO3J,KAAK6G,QAAS,SAAU7G,KAAK++E,eACjD,OAAap1E,OAAOwL,SAAU,QAASnV,KAAKg/E,aACxCh/E,KAAKq3C,QACL,OAAa1tC,OAAO3J,KAAKmrC,YAAa,QAASnrC,KAAKk/E,WAExDl/E,KAAKi/E,eAAev1E,WAExBotE,EAASjyE,UAAUq6E,UAAY,WAC3Bl/E,KAAKq4E,YAETvB,EAASjyE,UAAUyS,iBAAmB,SAAU3U,GAC5C,IAAIk5B,EAAgBl5B,EAAElB,OACtB,OAAQkB,EAAEmL,QACN,IAAK,QACD,GAAInL,EAAElB,SAAWzB,KAAKs/B,YAClBt/B,KAAK+8E,wBAEJ,GAAIp6E,EAAElB,SAAWzB,KAAK65E,aACvB75E,KAAK88E,yBAEJ,GAAIn6E,EAAElB,SAAWzB,KAAKq5E,aACvBr5E,KAAK8+E,yBAEJ,GAAIjjD,EAAcj0B,UAAU0E,SAAS6pE,IAAe,CACrD,IAAIgJ,EAAWn/E,KAAKo/E,mBAAmB,KAAMz8E,GAC7Cw8E,EAASE,KAAK1B,WAAa,IAC3BwB,EAASE,KAAK1F,OAAS35E,KAAKs5E,eAAe,eAC3Ct5E,KAAKs/E,YAAYH,GAAU,QAE1B,GAAItjD,EAAcj0B,UAAU0E,SAAS8pE,IACtCp2E,KAAKu/E,aAAav/E,KAAKo/E,mBAAmB,KAAMz8E,GAAIA,QAEnD,GAAIk5B,EAAcj0B,UAAU0E,SAASgpE,IAAa,CAC/C6J,EAAWn/E,KAAKo/E,mBAAmB,KAAMz8E,GAC7C,GAAK,eAAkBw8E,GAKlB,CACD,IAAI19E,EAASkB,EAAElB,OAAOgZ,cAClB6iE,EAAWt9E,KAAKi4E,UAAUj4E,KAAKg4E,SAASh9D,QAAQvZ,IACpDzB,KAAKs7E,MAAMgC,QAPX6B,EAASE,KAAK1B,WAAa,IAC3BwB,EAASE,KAAK1F,OAAS35E,KAAKs5E,eAAe,wBAC3Ct5E,KAAKw/E,YAAYL,EAASE,WAS9Br/E,KAAKy/E,YAAY98E,GACZk5B,EAAcj0B,UAAU0E,SAAS+oE,KAClCr1E,KAAKq5E,aAAapgE,QAG1BtW,EAAEqJ,iBACFrJ,EAAE8pC,kBACF,QAGZqqC,EAASjyE,UAAUu6E,mBAAqB,SAAUM,EAAU/8E,GACxD,IAAI26E,EACAqC,EACJ,GAAI,eAAkBD,GAAW,CAC7B,IAAIj+E,EAASkB,EAAElB,OAAOgZ,cACtB6iE,EAAWt9E,KAAKi4E,UAAUj4E,KAAKg4E,SAASh9D,QAAQvZ,SAGhD67E,EAAWoC,EAEf,IAAK,IAAIj6E,EAAI,EAAGA,EAAIzF,KAAKs3E,eAAelyE,OAAQK,IACxCzF,KAAKs3E,eAAe7xE,GAAG45E,KAAKl+E,OAASm8E,EAASn8E,OAC9Cw+E,EAAiB3/E,KAAKs3E,eAAe7xE,IAG7C,OAAOk6E,GAEX7I,EAASjyE,UAAUm6E,YAAc,WACzBh/E,KAAKu5E,eAAiBv5E,KAAK85E,YAAc95E,KAAK85E,WAAWjtE,cAAc,IAAMopE,MAC7E9gE,SAAS+sB,cAAckQ,OACvBpyC,KAAK85E,WAAWjtE,cAAc,IAAMopE,IAAcruE,UAAU+B,OAAOssE,MAG3Ea,EAASjyE,UAAUi6E,kBAAoB,WACnC9+E,KAAK6G,QAAQ4E,SAEjBqrE,EAASjyE,UAAUi4E,kBAAoB,WAC/B98E,KAAK67E,iBACL77E,KAAK2+E,eAAe3+E,KAAKi4E,WAGzBj4E,KAAK24E,OAAO34E,KAAKi4E,YAGzBnB,EAASjyE,UAAUk4E,iBAAmB,WAClC/8E,KAAKq4E,WAEDr4E,KAAK67E,mBACL77E,KAAK+lB,OAAS,GAElB/lB,KAAKy3E,oBAAsB,GAE/BX,EAASjyE,UAAUu5E,eAAiB,WAC5Bp+E,KAAKi+E,kBACL,OAAap2E,IAAI7H,KAAKi+E,gBAAiB,OAAQj+E,KAAKy4D,YAAaz4D,MACjE,OAAa6H,IAAI7H,KAAKi+E,gBAAiB,WAAYj+E,KAAK4/E,UAAW5/E,MACnE,OAAa6H,IAAI7H,KAAKi+E,gBAAiB,YAAaj+E,KAAK6/E,YAAa7/E,MACtE,OAAa6H,IAAI7H,KAAKi+E,gBAAiB,QAASj+E,KAAK8/E,YAAa9/E,QAG1E82E,EAASjyE,UAAUg0E,iBAAmB,WAC9B74E,KAAKi+E,kBACL,OAAat0E,OAAO3J,KAAKi+E,gBAAiB,OAAQj+E,KAAKy4D,aACvD,OAAa9uD,OAAO3J,KAAKi+E,gBAAiB,WAAYj+E,KAAK4/E,WAC3D,OAAaj2E,OAAO3J,KAAKi+E,gBAAiB,YAAaj+E,KAAK6/E,eAGpE/I,EAASjyE,UAAUg7E,YAAc,SAAUl9E,GACvC3C,KAAKi+E,gBAAgBr2E,UAAU+B,OAAO4rE,KAE1CuB,EAASjyE,UAAU+6E,UAAY,SAAUj9E,GAChC3C,KAAKshC,UAGVthC,KAAKi+E,gBAAgBr2E,UAAUC,IAAI0tE,IACX,YAApBv1E,KAAK+/E,aACLp9E,EAAEq9E,aAAaD,WAAa//E,KAAK+/E,WAAWhiE,eAEhDpb,EAAEqJ,iBACFrJ,EAAE8pC,oBAGNqqC,EAASjyE,UAAU4zD,YAAc,SAAU91D,GACvC3C,KAAKi+E,gBAAgBr2E,UAAU+B,OAAO4rE,IACtCv1E,KAAK++E,cAAcp8E,GACnBA,EAAEqJ,iBACFrJ,EAAE8pC,mBAGNqqC,EAASjyE,UAAUi7E,YAAc,SAAU/uE,GACvC,IAAI+K,EAAO/K,EAAMkvE,cAAcrpE,MAC/B,GAAoB,IAAhBkF,EAAK1W,OAAT,CAGA,IAAI86E,EAAY,GAAGn8E,MAAM+C,KAAKgV,GAAM,GACZ,SAAnBokE,EAAUC,MAAoBD,EAAUzkE,KAAKmnB,MAAM,YACpD5iC,KAAKogF,oBAAoBrvE,EAAO,CAACmvE,EAAUG,cAAc,GAAO,KAGxEvJ,EAASjyE,UAAUy7E,iBAAmB,SAAU/9E,GAM5C,IALA,IAAI86E,EAAO,GACPr8B,EAAYhhD,KAAKg4E,SAASz1E,GAC1Bg+E,EAAWvgF,KAAKwgF,eAChBC,GAAgBz/B,EAAU5mC,aAAa,oBACvCsmE,EAAa,EACRj7E,EAAI,EAAGA,EAAIlD,EAAOkD,IACvBi7E,IAAgB1gF,KAAKg4E,SAASvyE,GAAG2U,aAAa,oBAElD,IAAK,IAAI+T,EAAIuyD,EAAYvyD,EAAKuyD,EAAaD,EAAetyD,IACtDkvD,EAAKx/D,KAAK0iE,EAASpyD,IAEvB,OAAOkvD,GAEXvG,EAASjyE,UAAU46E,YAAc,SAAU/2D,GACvC,GAAK1oB,KAAKshC,QAAV,CAGA,IAAIq/C,EAAkBj4D,EAAKjnB,OAAOgZ,cAC9Bza,KAAK07E,kBACL17E,KAAKg4E,SAAW,GAAGj0E,MAAM+C,KAAK9G,KAAKu5E,cAAc/jE,iBAAiB,QAEtE,IAAIjT,EAAQvC,KAAKg4E,SAASh9D,QAAQ2lE,GAC9B3/B,EAAYhhD,KAAKg4E,SAASz1E,GAC1Bq+E,EAAa5gF,KAAK6gF,eAClBvD,EAAWsD,EAAa5gF,KAAKsgF,iBAAiB/9E,GAASvC,KAAK8gF,gBAAgB9gF,KAAKi4E,UAAU11E,IAC/F,IAAI,eAAkB+6E,GAAtB,CAGA,GAAI50D,EAAKjnB,OAAOmG,UAAU0E,SAAS+oE,MAAgBuL,EAAY,CAE3D,GADAtD,EAAS,GAAGK,WAAa,KACpB,eAAkB38B,GAAY,CAC/B,IAAI+/B,EAAgB//B,EAAUn0C,cAAc,IAAMwoE,IAClDrH,GAAc,CAAEvsE,OAAQs/E,EAAezyE,MAAO,SAC9CwlE,GAAYiN,GAEZ/gF,KAAK67E,kBAEL77E,KAAKghF,mBAEHhgC,EAAUp5C,UAAU0E,SAAS+pE,KAC/Br2E,KAAKihF,qBAAoB,QAGvB,eAAQv4D,EAAKjnB,OAAQ,IAAM2zE,KACjCp1E,KAAK2J,OAAO2zE,GAAU,GAAO,GAAO,EAAM50D,GAE9C1oB,KAAK6G,QAAQxF,MAAQ,GACrBrB,KAAKm6E,6BAETrD,EAASjyE,UAAUq8E,gBAAkB,SAAU7B,EAAM8B,GACjD,IAAI5+E,EACJ,GAAI4+E,EACKnhF,KAAK69E,eACNt7E,EAAQvC,KAAKi4E,UAAUj9D,QAAQqkE,GAC/Br/E,KAAKi4E,UAAU1vD,OAAOhmB,EAAO,QAHrC,CAOA,IAAIo+E,EAAkB3gF,KAAKohF,aAAa/B,GACpC,eAAkBsB,KAGjB3gF,KAAK07E,iBACN,eAAOiF,GAEXp+E,EAAQvC,KAAKg4E,SAASh9D,QAAQ2lE,GAC9B3gF,KAAKg4E,SAASzvD,OAAOhmB,EAAO,GAC5BvC,KAAKi4E,UAAU1vD,OAAOhmB,EAAO,GACxBvC,KAAK07E,gBAeN17E,KAAKk6B,eAAeC,kBAAkB,iBAAkB53B,IAd3B,IAAzBvC,KAAKg4E,SAAS5yE,QAAiB,eAAkBpF,KAAK85E,cACtD,eAAO95E,KAAK85E,YACZ95E,KAAK85E,WAAa,KAClB95E,KAAKi6E,uBAELj6E,KAAK67E,kBAEDt5E,GAASvC,KAAK+lB,SACZ/lB,KAAK+lB,UASvB+wD,EAASjyE,UAAUw8E,mBAAqB,SAAUhC,EAAM9oE,EAAW+qE,EAAgBC,GAC/E,IAAIt2E,EAAQjL,KACR23E,EAAgB0H,EAChBmC,EAAO,IAAI,OAAKxhF,KAAK27E,cAAc8F,UAAW,QAAQ,EAAM,MAChED,EAAKE,WAAY,EACjB,IAAIC,EAAW,IAAIC,SAyBnB,GAxBAJ,EAAKK,WAAa,SAAUl/E,GACxB4T,EAAUurE,eAAiBN,EAAKO,YAC5B,mBACI92E,EAAM+2E,sBACN/2E,EAAMg3E,mBAAmBT,EAAKO,YAAa92E,EAAM+2E,sBAEjD/2E,EAAMi3E,iBACNj3E,EAAMk3E,eAAeR,EAAU12E,EAAMi3E,kBAGxCZ,EAWDr2E,EAAMm3E,sBAAsB7rE,EAAWorE,EAAUhK,EAAe0H,GAVhEp0E,EAAMwL,QAAQ,WAAYF,GAAW,SAAUA,GACvCA,EAAUwF,OACVpZ,EAAEoZ,QAAS,EAGX9Q,EAAMm3E,sBAAsB7rE,EAAWorE,EAAUhK,EAAe0H,OAQ5Er/E,KAAKk5E,eAAgB,CACrB,IAAImJ,EAASriF,KAAK6G,QAAQuT,aAAa,QAClC,eAAkBu9D,EAAc4F,UAAsC,KAA1B5F,EAAc4F,QAI3DoE,EAASW,OAAOD,EAAQ1K,EAAcx2E,MAHtCwgF,EAASW,OAAOD,EAAQ1K,EAAc4F,QAAS5F,EAAcx2E,MAMrEqgF,EAAKe,OAAS,SAAU5/E,GAAsD,OAAjDsI,EAAMu3E,gBAAgB7/E,EAAGg1E,EAAe4J,GAAgB,IAErFC,EAAKiB,QAAU,SAAU9/E,GAAmD,OAA9CsI,EAAMy3E,aAAa//E,EAAGg1E,EAAe4J,GAAgB,IACnFC,EAAKmB,KAAKhB,IAEd7K,EAASjyE,UAAUu9E,sBAAwB,SAAU7rE,EAAWorE,EAAUhK,EAAe0H,GAErF,IAAIl+E,EAAOnB,KAAK6G,QAAQuT,aAAa,QACjC4mC,EAAYhhD,KAAKohF,aAAa/B,GAClC,IAAK,eAAkBr+B,MAAgB,eAAkBA,EAAUn0C,cAAc,IAAMsoE,OAClF,eAAkBn0B,EAAUn0C,cAAc,IAAMqoE,MAAgB,CACjE,IAAI6L,OAAgB,EACpBA,EAAgB//B,EAAUn0C,cAAc,IAAMsoE,IAAen0B,EAAUn0C,cAAc,IAAMsoE,IACvFn0B,EAAUn0C,cAAc,IAAMqoE,IAClClH,GAAc,CAAEvsE,OAAQs/E,EAAezyE,MAAO,SAC9CwlE,GAAYiN,GAEX/gF,KAAKk5E,iBACF3iE,EAAUqsE,cAAgB,eAAkBjL,EAAc4F,UAAsC,KAA1B5F,EAAc4F,QACpFoE,EAASW,OAAOnhF,EAAMw2E,EAAc4F,QAAS5F,EAAcx2E,MAG3DwgF,EAASW,OAAOnhF,EAAMw2E,EAAcx2E,MAExCnB,KAAKmiF,eAAeR,EAAUprE,EAAUssE,kBAIhD/L,EAASjyE,UAAUs9E,eAAiB,SAAUR,EAAUmB,GACpD,GAAIA,EAAW19E,OAAS,GAAK09E,EAAW,GASpC,IARA,IAAIv8D,EAAU,SAAU9gB,GACpB,IAAI43E,EAAOyF,EAAWr9E,GAElBpE,EAAQiD,OAAO2K,KAAKouE,GAAM36E,KAAI,SAAUC,GACxC,OAAO06E,EAAK16E,MAEhBg/E,EAASW,OAAOh+E,OAAO2K,KAAKouE,GAAM,GAAIh8E,IAEjCoE,EAAI,EAAGA,EAAIq9E,EAAW19E,OAAQK,IACnC8gB,EAAQ9gB,IAKpBqxE,EAASjyE,UAAUo9E,mBAAqB,SAAUc,EAASjB,GACvD,GAAIA,EAAe18E,OAAS,GAAK08E,EAAe,GAS5C,IARA,IAAIkB,EAAU,SAAUv9E,GACpB,IAAI43E,EAAOyE,EAAer8E,GAEtBpE,EAAQiD,OAAO2K,KAAKouE,GAAM36E,KAAI,SAAUC,GACxC,OAAO06E,EAAK16E,MAEhBogF,EAAQE,iBAAiB3+E,OAAO2K,KAAKouE,GAAM,GAAIh8E,IAE1CoE,EAAI,EAAGA,EAAIq8E,EAAe18E,OAAQK,IACvCu9E,EAAQv9E,IAIpBqxE,EAASjyE,UAAU29E,gBAAkB,SAAU7/E,EAAGu6E,EAAOiE,GACrD,IAAI+B,EAAWvgF,GAAKA,EAAE+nB,cAAgB1qB,KAAKmjF,YAAYxgF,GAAK,KACxDg3E,EAASh3E,EAAElB,OACf,GAA0B,IAAtBk4E,EAAOyJ,YAAoBzJ,EAAOA,QAAU,KAAOA,EAAOA,QAAU,IAAK,CACzE,IAAIjxD,EAAO,CACP/lB,EAAGA,EAAGugF,SAAUA,EAAUx4C,UAAW,SAAU20C,KAAMr/E,KAAKqjF,aAAanG,EAAOl9E,KAAKs5E,eAAe,yBAA0B,MAEhIt5E,KAAKyW,QAAQ,UAAWiS,GACxB1oB,KAAKkhF,gBAAgBhE,EAAOiE,GAC5B,IAAI5+E,EAAQvC,KAAKk3E,kBAAkBl8D,QAAQkiE,GAC3Cl9E,KAAKk3E,kBAAkB3uD,OAAOhmB,EAAO,GACrCvC,KAAKyW,QAAQ,SAAU,CAAEymE,MAAOl9E,KAAKk3E,yBAGrCl3E,KAAK0iF,aAAa//E,EAAGu6E,EAAOiE,IAGpCrK,EAASjyE,UAAU69E,aAAe,SAAU//E,EAAGu6E,EAAOiE,GAClD,IAAI+B,EAAWvgF,GAAKA,EAAE+nB,cAAgB1qB,KAAKmjF,YAAYxgF,GAAK,KACxD+lB,EAAO,CACP/lB,EAAGA,EAAGugF,SAAUA,EAAUx4C,UAAW,SAAU20C,KAAMr/E,KAAKqjF,aAAanG,EAAOl9E,KAAKs5E,eAAe,wBAAyB,MAE/H,IAAK6H,EAAgB,CACjB,IAAI5+E,EAAQvC,KAAKi4E,UAAUj9D,QAAQkiE,GAC/BoG,EAActjF,KAAKg4E,SAASz1E,GAChC,GAAI+gF,EAAa,CACbA,EAAY17E,UAAU+B,OAAOisE,IAC7B0N,EAAY17E,UAAUC,IAAIguE,IAC1B,IAAI0N,EAAgBD,EAAYz2E,cAAc,IAAM8nE,IAChD4O,IACAA,EAAc37E,UAAU+B,OAAOisE,IAC/B2N,EAAc37E,UAAUC,IAAIguE,KAGpC71E,KAAKm6E,0BAETn6E,KAAKyW,QAAQ,UAAWiS,GACxB,IAAIs4B,EAAYhhD,KAAKohF,aAAalE,GAElC,IAAK,eAAkBl8B,KAAe,eAAkBA,EAAUn0C,cAAc,IAAMsoE,KAAe,CACjG,IAAI4L,EAAgB//B,EAAUn0C,cAAc,IAAMsoE,IAClDf,GAAY2M,GACZ,eAAO//B,EAAUn0C,cAAc,sBAIvCiqE,EAASjyE,UAAU2+E,mBAAqB,SAAUzyE,GAE9C,IAAI6F,EADJ5W,KAAKyjF,aAAe,GAEpB7sE,EAAQ5W,KAAKi3E,SAAWlmE,EAAMivE,aAAappE,MAAQ,CAAC7F,EAAMivE,aAAappE,MAAM,IAC7E,IAAI8sE,EAAuB1jF,KAAK2jF,qBAAqB/sE,GACrD,GAAK8sE,EAoBL,IAjBA,IAAIE,EAAU,SAAUn+E,GAEpB,IAAIqW,EAAOlF,EAAMnR,GAAGo+E,mBACpB,GAAI/nE,EAAKgoE,OAAQ,CACb,IAAIC,EAAU,GAEd,EAAO1E,MAAK,SAAU2E,GAClB,IAAIpR,EAAO92D,EAAKmoE,SAChBF,EAAQlmE,KAAK,CAAE,KAAQ+0D,EAAM,KAAQoR,OAEzCx9D,EAAO45D,oBAAoBrvE,EAAOgzE,GAAS,QAEtCjoE,EAAKooE,aACV19D,EAAO29D,iBAAiBroE,EAAM/K,IAGlCyV,EAASxmB,KACJyF,EAAI,EAAGA,EAAImR,EAAMxR,OAAQK,IAC9Bm+E,EAAQn+E,IAIhBqxE,EAASjyE,UAAU8+E,qBAAuB,SAAU/sE,GAChD,IAAK,IAAInR,EAAI,EAAGmR,GAASnR,EAAImR,EAAMxR,OAAQK,IAAK,CAE5C,IAAIqW,EAAOlF,EAAMnR,GAAGo+E,mBACpB,GAAI/nE,EAAKooE,YACL,OAAO,EAGf,OAAO,GAIXpN,EAASjyE,UAAUs/E,iBAAmB,SAAUroE,EAAM/K,GAClD,GAAI+K,EAAKgoE,OACL9jF,KAAKyjF,aAAa5lE,KAAK/B,QAEtB,GAAIA,EAAKooE,YAAa,CAEvB,IAAIE,EAAkBtoE,EAAKuoE,eAE3BrkF,KAAKskF,sBAAsBF,EAAiBrzE,KAKpD+lE,EAASjyE,UAAUy/E,sBAAwB,SAAUF,EAAiBrzE,GAClE,IAAI9F,EAAQjL,KAEZokF,EAAgBG,aAAY,SAAUC,GAClC,IAAK,IAAI/+E,EAAI,EAAGA,EAAI++E,EAAQp/E,OAAQK,IAChCwF,EAAMk5E,iBAAiBK,EAAQ/+E,IAInCwF,EAAMw5E,iBAAiB1zE,GACnByzE,EAAQp/E,QACR6F,EAAMq5E,sBAAsBF,OAIxCtN,EAASjyE,UAAU4/E,iBAAmB,SAAU1zE,GAiB5C,IAhBA,IAAI9F,EAAQjL,KACRk9E,EAAQ,GACRwH,EAAU,SAAUj/E,GAEpBk/E,EAAOlB,aAAah+E,GAAG45E,MAAK,SAAU2E,GAClC,GAAI/4E,EAAMw4E,aAAc,CACpB,IAAI7Q,EAAO3nE,EAAMw4E,aAAah+E,GAAGw+E,SACjC/G,EAAMr/D,KAAK,CAAE,KAAQ+0D,EAAM,KAAQoR,IAC/Bv+E,IAAMwF,EAAMw4E,aAAar+E,OAAS,IAClC6F,EAAMw4E,aAAe,GACrBx4E,EAAMm1E,oBAAoBrvE,EAAOmsE,GAAO,SAKpDyH,EAAS3kF,KACJyF,EAAI,EAAGA,EAAIzF,KAAKyjF,aAAar+E,OAAQK,IAC1Ci/E,EAAQj/E,IAIhBqxE,EAASjyE,UAAUk6E,cAAgB,SAAUr2D,GAIzC,IAAIk8D,EAHJ,GAAK5kF,KAAKshC,QAKV,GAAkB,SAAd5Y,EAAKjN,KACL,GAAIzb,KAAKm8E,gBACLn8E,KAAKwjF,mBAAmB96D,OAEvB,CACD,IAAIw0D,EAAQl9E,KAAK6kF,cAAgBn8D,EAAKs3D,aAAa9C,MAC1B,SAArBl9E,KAAKi8E,aAA+C,SAArBj8E,KAAKi8E,cACpCj8E,KAAK6G,QAAQq2E,MAAQA,GAEzB0H,EAAc5kF,KAAKi3E,SAAWj3E,KAAK8kF,aAAa5H,GAAS,CAACA,EAAM,IAChEl9E,KAAKogF,oBAAoB13D,EAAMk8D,QAInCA,EAAc,GAAG7gF,MAAM+C,KAAK4hB,EAAKjnB,OAAOy7E,OACxCl9E,KAAKogF,oBAAoB13D,EAAMk8D,IAIvC9N,EAASjyE,UAAUkgF,UAAY,SAAU1F,GACrC,OAAO,IAAIzsD,SAAQ,SAAUN,EAASO,GAClC,IAAImyD,EAAa,IAAIC,WACrBD,EAAWE,cAAc7F,GACzB2F,EAAWG,OAAS,WAAc,OAAO7yD,EAAQ0yD,EAAW1iD,SAC5D0iD,EAAWI,QAAU,SAAUC,GAAS,OAAOxyD,EAAOwyD,QAK9DvO,EAASjyE,UAAUu7E,oBAAsB,SAAU13D,EAEnDk8D,EAAaU,EAAWC,GACpB,IAAIt6E,EAAQjL,KACZA,KAAKm3E,aAAe,GAEpB,IAAI5gE,EAAY,CACZxF,MAAO2X,EACP3M,QAAQ,EACRk8D,UAAW,GACXuN,YAAY,EACZC,kBAAmB,GACnBC,iBAAkB,GAClBC,YAAY,EACZ7D,eAAgB,KAChBe,eAAgB,MAGpB,GAAI+B,EAAYx/E,OAAS,EAGrB,OAFAmR,EAAUovE,YAAa,OACvB3lF,KAAKyW,QAAQ,WAAYF,GAG7BvW,KAAK03E,MAAO,EACZ,IAAI4F,EAAW,GACVt9E,KAAKi3E,WACNj3E,KAAKm9E,WAAU,GACfyH,EAAc,CAACA,EAAY,KAE/B,IAAK,IAAIn/E,EAAI,EAAGA,EAAIm/E,EAAYx/E,OAAQK,IAAK,CACzC,IAAI45E,EAAOiG,EAAYV,EAAYn/E,GAAG45E,KAAOuF,EAAYn/E,GACzDzF,KAAK4lF,yBAAyBl9D,EAAMk8D,EAAavF,EAAM55E,EAAG63E,EAAUgI,EAAWC,GAEnFhvE,EAAU0hE,UAAYqF,EAClBt9E,KAAKo4E,kBAAkBp9D,QAAQ,MAAQ,IACvChb,KAAKo3E,UAAW,GAEfp3E,KAAKo3E,WACNkG,EAAWt9E,KAAK6lF,eAAevI,IAEnCt9E,KAAKyW,QAAQ,WAAYF,GAAW,SAAUA,GAC1CtL,EAAM66E,sBAAsBvvE,EAAW+mE,OAG/CxG,EAASjyE,UAAU+gF,yBAA2B,SAAUl9D,EAExDk8D,EAAavF,EAAM55E,EAAG63E,EAAUgI,EAAWC,GACvC,IAAIQ,EAAWT,EAAYV,EAAYn/E,GAAGmtE,KAAK7kC,UAAU,EAAG62C,EAAYn/E,GAAGmtE,KAAKxtE,QAAUmgF,EACtF,eAAYlG,EAAKl+E,KAAK4sC,UAAU,EAAGsxC,EAAKl+E,KAAK2sC,YAAY,OAAS,IAAM9tC,KAAKgmF,YAAY3G,EAAKl+E,MAC9FnB,KAAKm8E,gBAAkByI,EAAYn/E,GAAGwgF,mBAAqB5G,EAAKl+E,KAChE+kF,EAAc,CACd/kF,KAAM4kF,EACNxI,QAAS8B,EACTpyD,KAAMoyD,EAAKpyD,KACX0sD,OAAQ35E,KAAKs5E,eAAe,wBAC5B79D,KAAMzb,KAAKgmF,YAAY3G,EAAKl+E,MAC5Bq8E,mBAAoBx9E,KAAKmmF,kBAAkB9G,EAAKpyD,MAChD0wD,WAAY,IACZp2E,GAAI,eAAY83E,EAAKl+E,KAAK4sC,UAAU,EAAGsxC,EAAKl+E,KAAK2sC,YAAY,OAAS,IAAM9tC,KAAKgmF,YAAY3G,EAAKl+E,OAGlGokF,IACAW,EAAYE,WAAa,SAE7BF,EAAYvM,OAAoD,KAA3CuM,EAAY1I,mBAAmBC,QAAiBz9E,KAAKs5E,eAAe,sBAC1C,KAA3C4M,EAAY1I,mBAAmBE,QAAiB19E,KAAKs5E,eAAe,sBAAwB4M,EAAYvM,OAC7D,KAA3CuM,EAAY1I,mBAAmBC,SAA6D,KAA3CyI,EAAY1I,mBAAmBE,UAChFwI,EAAYvI,WAAa,KAE7BL,EAASz/D,KAAKqoE,IAElBpP,EAASjyE,UAAUihF,sBAAwB,SAAUvvE,EAAW+mE,GAC5D,IAAK/mE,EAAUwF,OAAQ,CAQnB,GANI,mBACA/b,KAAKgiF,qBAAuBzrE,EAAUurE,eACtC9hF,KAAKkiF,gBAAkB3rE,EAAUssE,gBAErC7iF,KAAK23E,cAAgB33E,KAAK23E,cAAc7zE,OAAOw5E,GAC/Ct9E,KAAKu3E,YAAcv3E,KAAKw3E,0BAA4B,KAAO,IACvDx3E,KAAK69E,aAAc,CACnB,GAAItnE,EAAUivE,YAAcjvE,EAAUkvE,kBAAkBrgF,OAAS,EAAG,CAChE,IAAK,IAAI+oB,EAAI,EAAGA,EAAI5X,EAAUkvE,kBAAkBrgF,OAAQ+oB,IACpD,IAAK,IAAIoyB,EAAI,EAAGA,EAAI+8B,EAASl4E,OAAQm7C,IAC7BhqC,EAAUkvE,kBAAkBt3D,GAAG5mB,KAAO+1E,EAAS/8B,GAAGh5C,KAClDgP,EAAUkvE,kBAAkBt3D,GAAGovD,QAAUD,EAAS/8B,GAAGg9B,SAIjE,IAAI8I,EAAYrmF,KAAKo3E,SAAW7gE,EAAUkvE,kBACtCzlF,KAAK6lF,eAAetvE,EAAUkvE,mBAClCzlF,KAAKsmF,qBAAqBD,GAC1BrmF,KAAKi4E,UAAYoO,EACZrmF,KAAKq3C,SAAUr3C,KAAK49E,eACrB59E,KAAK68E,gBAAgBwJ,QAIzBrmF,KAAK+5E,eAAeuD,GAAU,GACxBt9E,KAAK07E,iBAAmB17E,KAAKg4B,mBAC/Bh4B,KAAKi4E,UAAYj4E,KAAKi4E,UAAUn0E,OAAOw5E,IAEtCt9E,KAAKq3C,SAAUr3C,KAAK49E,eACf59E,KAAK07E,iBAAmB17E,KAAKg4B,kBAC/Bh4B,KAAK68E,gBAAgBS,GAI5B,eAAkB/mE,EAAUmvE,mBAAoD,KAA/BnvE,EAAUmvE,mBAC5D1lF,KAAK0lF,iBAAmBnvE,EAAUmvE,uBAItC1lF,KAAKi4E,UAAYj4E,KAAKi4E,UAAUn0E,OAAOw5E,GACnCt9E,KAAK07E,iBAEL17E,KAAKk6B,eAAeC,kBAAkB,uBAAwBn6B,KAAKi4E,UAAWj4E,KAAKq3C,QAEnFr3C,KAAK45E,YACL55E,KAAK24E,OAAO34E,KAAKi4E,WAAW,GAGpCj4E,KAAKumF,sBACLvmF,KAAK+3E,wBAAyB,IAGtCjB,EAASjyE,UAAU+4E,YAAc,WAC7B,IAAI4I,GAAkB,EAItB,OAHIxmF,KAAKq3C,SAAY,eAAkBr3C,KAAK27E,cAAcC,UAA2C,KAA/B57E,KAAK27E,cAAcC,UACrF4K,GAAkB,GAEfA,GAEX1P,EAASjyE,UAAUg8E,aAAe,WAC9B,IAAIA,GAAe,EAKnB,OAJI7gF,KAAKq3C,SAAY,eAAkBr3C,KAAK27E,cAAcC,UAA2C,KAA/B57E,KAAK27E,cAAcC,UACjF,eAAkB57E,KAAK27E,cAAc8F,YAA+C,KAAjCzhF,KAAK27E,cAAc8F,YAC1EZ,GAAe,GAEZA,GAEX/J,EAASjyE,UAAUs4E,UAAY,SAAUsJ,GAChC,eAAkBzmF,KAAK85E,aAAiB95E,KAAK07E,iBAAmB17E,KAAKg4B,mBACtE,eAAOh4B,KAAK85E,YACZ95E,KAAK85E,WAAa,MAEG,SAArB95E,KAAKi8E,aAA2BwK,IAChCzmF,KAAK6G,QAAQxF,MAAQ,IAEzBrB,KAAKg4E,SAAW,GAChBh4E,KAAKi4E,UAAY,GACbj4E,KAAK07E,iBAAmB17E,KAAKg4B,iBAE7Bh4B,KAAKk6B,eAAeC,kBAAkB,YAGtCn6B,KAAKi6E,uBAGbnD,EAASjyE,UAAUyhF,qBAAuB,SAAUrO,GAChD,IAEIyO,EAFAC,EAAoB3mF,KAAK2I,cAAc,MAAO,CAAEpB,GAAI,iBACpDq/E,GAAS,EAEb,GAAI5mF,KAAK85E,WAAY,CACjB,IAAK,IAAIr0E,EAAI,EAAGA,EAAIzF,KAAK85E,WAAWtkE,iBAAiB,MAAMpQ,OAAQK,IAAK,CACpE,IAAIu7C,EAAYhhD,KAAK85E,WAAWtkE,iBAAiB,MAAM/P,GACvDkhF,EAAkBx9E,YAAY63C,EAAU15B,WAAU,IAEtDo/D,EAAc1mF,KAAK85E,WAAWtkE,iBAAiB,MAC/C,IAAK,IAAIjS,EAAK,EAAGsjF,EAAgBH,EAAanjF,EAAKsjF,EAAczhF,OAAQ7B,IAAM,CAC3E,IAAIuY,EAAO+qE,EAActjF,GACzB,eAAOuY,GAEX9b,KAAKi6E,sBACL,IAAI6M,EAAU,GAAG/iF,MAAM+C,KAAK6/E,EAAkBvlE,YAC9C,eAAOphB,KAAK85E,YACZ95E,KAAK85E,WAAa,KAClB95E,KAAKg4E,SAAW,GAChBh4E,KAAK+mF,iBACL,IAAK,IAAIxkF,EAAQ,EAAGA,EAAQ01E,EAAU7yE,OAAQ7C,IAAS,CACnD,IAAK,IAAI4rB,EAAI,EAAGA,EAAInuB,KAAKi4E,UAAU7yE,OAAQ+oB,IACnCnuB,KAAKi4E,UAAU9pD,GAAGhtB,OAAS82E,EAAU11E,GAAOpB,OAC5CnB,KAAK85E,WAAW3wE,YAAY29E,EAAQ34D,IACpC,OAAatmB,IAAIi/E,EAAQ34D,GAAGthB,cAAc,YAAa,QAAS7M,KAAKy/E,YAAaz/E,MAClFA,KAAKg4E,SAASn6D,KAAKipE,EAAQ34D,IAC3By4D,EAAQrkF,GAGZqkF,IAAUrkF,GACVvC,KAAK+5E,eAAe,CAAC9B,EAAU11E,WAKvCvC,KAAK+5E,eAAe9B,IAG5BnB,EAASjyE,UAAUmiF,QAAU,SAAUC,GACnC,OAASA,GAAO,QAAQj6C,KAAKi6C,IAEjCnQ,EAASjyE,UAAUghF,eAAiB,SAAU3I,GAC1C,IAAIgK,EAAYhK,EAChB,IAAKl9E,KAAKgnF,QAAQhnF,KAAKo4E,mBAAoB,CAGvC,IAFA,IAAIA,EAAoB,GACpB+O,EAAannF,KAAKo4E,kBAAkB/hE,MAAM,KACrC9S,EAAK,EAAG6jF,EAAeD,EAAY5jF,EAAK6jF,EAAahiF,OAAQ7B,IAAM,CACxE,IAAI8jF,EAAYD,EAAa7jF,GAC7B60E,EAAkBv6D,KAAKwpE,EAAU/9D,OAAO4wC,qBAE5C,IAAK,IAAIz0D,EAAI,EAAGA,EAAIy3E,EAAM93E,OAAQK,KACgD,IAA1E2yE,EAAkBp9D,SAAS,IAAMkiE,EAAMz3E,GAAGgW,MAAMy+C,uBAChDgjB,EAAMz3E,GAAGk0E,OAAS35E,KAAKs5E,eAAe,mBACtC4D,EAAMz3E,GAAGk4E,WAAa,KAIlC,OAAOuJ,GAEXpQ,EAASjyE,UAAUshF,kBAAoB,SAAUmB,GAC7C,IAAIC,EAAe,GACfC,EAAe,GACfF,EAAWtnF,KAAKynF,YAChBF,EAAevnF,KAAKs5E,eAAe,sBAE9BgO,EAAWtnF,KAAK0nF,YACrBF,EAAexnF,KAAKs5E,eAAe,uBAGnCiO,EAAe,GACfC,EAAe,IAEnB,IAAIG,EAAe,CAAElK,QAAS8J,EAAc7J,QAAS8J,GACrD,OAAOG,GAEX7Q,EAASjyE,UAAU+iF,cAAgB,SAAUtK,GAEzC,IADA,IAAIuK,GAAY,EACPpiF,EAAI,EAAGA,EAAIzF,KAAKk9E,MAAM93E,OAAQK,IAC/BzF,KAAKk9E,MAAMz3E,GAAGtE,OAASm8E,EAASn8E,KAAK4C,MAAM,EAAGu5E,EAASn8E,KAAK2sC,YAAY,OAAS9tC,KAAKk9E,MAAMz3E,GAAGgW,OAAS6hE,EAAS7hE,OACjHosE,GAAY,GAGpB,OAAOA,GAEX/Q,EAASjyE,UAAUijF,qBAAuB,SAAUxK,GAChDt9E,KAAK+mF,iBACL,eAAoB/mF,KAAK6G,QAAQU,GAAK,WAAY,YAClD,IAAK,IAAIhE,EAAK,EAAGwkF,EAAazK,EAAU/5E,EAAKwkF,EAAW3iF,OAAQ7B,IAAM,CAClE,IAAIykF,EAAWD,EAAWxkF,GACtBy9C,EAAYhhD,KAAK2I,cAAc,KAAM,CAAEC,UAAW8rE,GAAMp0E,MAAO,CAAE,iBAAkB0nF,EAAS7mF,QAChGnB,KAAKioF,iBAAmBjoF,KAAKkoF,iBAAiBloF,KAAKwb,UACnD,IAAI2sE,EAAe,GAAGpkF,MAAM+C,KAAK9G,KAAKioF,iBAAiBD,EAAUhoF,KAAM,WAAYA,KAAK6G,QAAQU,GAAK,WAAYvH,KAAK2pB,mBAClHpnB,EAAQ+6E,EAAStiE,QAAQgtE,GAC7B,eAAOG,EAAcnnC,GACrB,IAAIzqC,EAAY,CACZ1P,QAASm6C,EACT0+B,SAAUsI,EACVzlF,MAAOA,EACPslF,UAAW7nF,KAAK4nF,cAAcI,IAE9BI,EAAa,CACbvhF,QAASm6C,EACT0+B,SAAUsI,EACVzlF,MAAOA,EACPslF,UAAW7nF,KAAK4nF,cAAcI,IAElChoF,KAAKyW,QAAQ,YAAaF,GAC1BvW,KAAKyW,QAAQ,oBAAqB2xE,GAClCpoF,KAAK85E,WAAW3wE,YAAY63C,GAC5BhhD,KAAKg4E,SAASn6D,KAAKmjC,GAEvB,gBAAqBhhD,KAAK6G,QAAQU,GAAK,WAAY,WAAYvH,MAAM,IAEzE82E,EAASjyE,UAAUkiF,eAAiB,WAC5B,eAAkB/mF,KAAK85E,cACvB95E,KAAK85E,WAAa95E,KAAK2I,cAAc,KAAM,CAAEC,UAAW6rE,KACxDz0E,KAAKu5E,cAAcpwE,YAAYnJ,KAAK85E,cAG5ChD,EAASjyE,UAAUwjF,aAAe,SAAU/K,EAAUJ,GAClD,IAAIlF,EAAWh4E,KAAK2I,cAAc,KAAM,CAAEC,UAAW8rE,KACrDsD,EAASlvE,aAAa,mBAAoBw0E,EAASl4E,OAAS,IAG5D,IAFA,IACIkjF,EADAC,EAAgBvoF,KAAK2I,cAAc,OAAQ,CAAEC,UAAWktE,KAEnDvyE,EAAK,EAAGilF,EAAalL,EAAU/5E,EAAKilF,EAAWpjF,OAAQ7B,IAAM,CAClE,IAAIykF,EAAWQ,EAAWjlF,GACtBklF,EAAczoF,KAAK2I,cAAc,OAAQ,CAAEC,UAAWmsE,KAC1D0T,EAAYv+D,UAAYlqB,KAAK0oF,gBAAgBV,EAAS7mF,MACtD,IAAIwnF,EAAc3oF,KAAK2I,cAAc,OAAQ,CAAEC,UAAWosE,KAE1D,GADA2T,EAAYz+D,UAAY,IAAMlqB,KAAKgmF,YAAYgC,EAAS7mF,MACnDnB,KAAK2H,UAIL,CACD,IAAIihF,EAAe5oF,KAAK2I,cAAc,OAAQ,CAAEC,UAAWotE,KAC3D4S,EAAaz/E,YAAYw/E,GACzBC,EAAaz/E,YAAYs/E,GACzBF,EAAcp/E,YAAYy/E,QAP1BL,EAAcp/E,YAAYs/E,GAC1BF,EAAcp/E,YAAYw/E,GAQ9B3oF,KAAK6oF,aAAaJ,GAClBH,EAAgBtoF,KAAK8oF,qBAAqBd,EAAUhQ,GAExDA,EAAS7uE,YAAYo/E,GACrBvoF,KAAK+oF,kBAAkBzL,EAAUtF,GACjC,IAAIz1E,EAAQvC,KAAK85E,WAAWtkE,iBAAiB,MAAMpQ,OAC/C4jF,EAAUhpF,KAAK2I,cAAc,QAcjC,GAbIqvE,EAASpwE,UAAU0E,SAASmqE,KAC5BuS,EAAQphF,UAAUC,IAAI8sE,IACtBqU,EAAQphF,UAAUC,IAAI4uE,IACtBuS,EAAQjoD,UAAYu8C,EAASl4E,OAAS,EAAIpF,KAAKs5E,eAAe,wBAA0BgP,IAGxFU,EAAQphF,UAAUC,IAAIy1E,EAASl4E,OAAS,EAAIsxE,GAAczB,IAC1D+T,EAAQjoD,UAAYu8C,EAASl4E,OAAS,EAAIpF,KAAKs5E,eAAe,cAAgB,KAAOgE,EAASl4E,OAAS,MACjGpF,KAAKs5E,eAAe,QAAU,KAChCt5E,KAAKipF,YAAYjpF,KAAKkpF,YAAY5L,IAAat9E,KAAKipF,YAAY3L,EAAS,GAAGrwD,MAChFjtB,KAAKmpF,gBAAgB7L,IAEzBiL,EAAcp/E,YAAY6/E,GACtB,eAAkBhR,EAASnrE,cAAc,aAAc,CACvD,IAAIu8E,EAAcppF,KAAK2I,cAAc,OAAQ,CAAEC,UAAW,UAAWtI,MAAO,CAAE,SAAYN,KAAKu3E,eAEtE,SAArBv3E,KAAKi8E,aACLmN,EAAYxhF,UAAUC,IAAI,UAE9BuhF,EAAYtgF,aAAa,QAAS9I,KAAKs5E,eAAe,WACtDtB,EAAS7uE,YAAYo/E,GACrBvQ,EAAS7uE,YAAYigF,GACrB,OAAavhF,IAAIuhF,EAAa,QAASppF,KAAKy/E,YAAaz/E,MACzDopF,EAAYxhF,UAAUC,IAAIqtE,IAE9B,IAAI3+D,EAAY,CACZ1P,QAASmxE,EACT0H,SAAU1/E,KAAKqpF,cAAc/L,EAAUtF,GACvCz1E,MAAOA,EACPslF,UAAW7nF,KAAK4nF,cAAc5nF,KAAKqpF,cAAc/L,EAAUtF,KAE3DoQ,EAAa,CACbvhF,QAASmxE,EACT0H,SAAU1/E,KAAKqpF,cAAc/L,EAAUtF,GACvCz1E,MAAOA,EACPslF,UAAW7nF,KAAK4nF,cAAc5nF,KAAKqpF,cAAc/L,EAAUtF,KAE/Dh4E,KAAKyW,QAAQ,YAAaF,GAC1BvW,KAAKyW,QAAQ,oBAAqB2xE,GAClCpoF,KAAK85E,WAAW3wE,YAAY6uE,GAC5Bh4E,KAAKg4E,SAASn6D,KAAKm6D,IAEvBlB,EAASjyE,UAAUikF,qBAAuB,SAAUd,EAAUhQ,GAC1D,IAAIsQ,EAAgBN,EAASrO,OACzB6D,EAAqBx9E,KAAKmmF,kBAAkB6B,EAAS/6D,MACtB,KAA/BuwD,EAAmBC,SAAiD,KAA/BD,EAAmBE,UACxD19E,KAAKspF,gBAAgBtR,GACrBsQ,EAA+C,KAA/B9K,EAAmBC,QAAiBz9E,KAAKs5E,eAAe,sBACrC,KAA/BkE,EAAmBE,QAAiB19E,KAAKs5E,eAAe,sBAAwBgP,GAExF,IAAIiB,EAAwBvpF,KAAK6lF,eAAe7lF,KAAK8gF,gBAAgBkH,IAAW,GAAGrO,OAKnF,OAJI4P,IAA0BvpF,KAAKs5E,eAAe,qBAC9Ct5E,KAAKspF,gBAAgBtR,GACrBsQ,EAAgBiB,GAEbjB,GAEXxR,EAASjyE,UAAUykF,gBAAkB,SAAUtR,GAC3CA,EAASpwE,UAAUC,IAAI4uE,KAE3BK,EAASjyE,UAAUskF,gBAAkB,SAAU7L,GAC3C,IAAIn9C,EAAengC,KAAK6G,QAAQygB,WAAU,GAC1C6Y,EAAav4B,UAAUC,IAAI2uE,IAC3B,IAAK,IAAIjzE,EAAK,EAAGimF,EAAalM,EAAU/5E,EAAKimF,EAAWpkF,OAAQ7B,IAAM,CAClE,IAAIykF,EAAWwB,EAAWjmF,GAC1BykF,EAAS1kD,MAAQnD,EAErBA,EAAar3B,aAAa,OAAQ9I,KAAK43E,cACvC53E,KAAKu5E,cAAc1sE,cAAc,IAAMynE,IAAenrE,YAAYg3B,GACzC,SAArBngC,KAAKi8E,aAA+C,SAArBj8E,KAAKi8E,cACpCj8E,KAAK6G,QAAQxF,MAAQ,KAG7By1E,EAASjyE,UAAUqkF,YAAc,SAAU5L,GAEvC,IADA,IAAIgK,EAAW,EACN/jF,EAAK,EAAGkmF,EAAanM,EAAU/5E,EAAKkmF,EAAWrkF,OAAQ7B,IAAM,CAClE,IAAI87E,EAAOoK,EAAWlmF,GACtB+jF,GAAYjI,EAAKpyD,KAErB,OAAOq6D,GAEXxQ,EAASjyE,UAAUwkF,cAAgB,SAAU/L,EAAUtF,GAanD,IAZA,IAAI11C,EAAS,CACTnhC,KAAM,GACNo8E,QAAS,GACTtwD,KAAM,EACN0sD,OAAQ,GACRl+D,KAAM,GACN+hE,mBAAoB,CAAEC,QAAS,GAAIC,QAAS,IAC5CC,WAAY,IACZ+L,KAAM1R,GAEN2R,EAAY,GACZluE,EAAO,GACFlY,EAAK,EAAGqmF,EAAatM,EAAU/5E,EAAKqmF,EAAWxkF,OAAQ7B,IAAM,CAClE,IAAIykF,EAAW4B,EAAWrmF,GAC1BomF,EAAU9rE,KAAKmqE,EAAS7mF,MACxBsa,EAAOusE,EAASvsE,KAMpB,OAJA6mB,EAAOnhC,KAAOwoF,EAAUnxD,KAAK,MAC7B8J,EAAOrV,KAAOjtB,KAAKkpF,YAAY5L,GAC/Bh7C,EAAO7mB,KAAOA,EACd6mB,EAAOq3C,OAAS35E,KAAK6pF,oBAAoBvM,EAAUtF,GAC5C11C,GAEXw0C,EAASjyE,UAAUglF,oBAAsB,SAAUvM,EAAUtF,GAGzD,IAFA,IACIsQ,EADAwB,GAAU,EAELvmF,EAAK,EAAGwmF,EAAazM,EAAU/5E,EAAKwmF,EAAW3kF,OAAQ7B,IAAM,CAClE,IAAIykF,EAAW+B,EAAWxmF,GAC1B+kF,EAAgBN,EAASrO,OACzB,IAAI6D,EAAqBx9E,KAAKmmF,kBAAkB6B,EAAS/6D,MACtB,KAA/BuwD,EAAmBC,SAAiD,KAA/BD,EAAmBE,UACxDoM,GAAU,EACVxB,EAA+C,KAA/B9K,EAAmBC,QAAiBz9E,KAAKs5E,eAAe,sBACrC,KAA/BkE,EAAmBE,QAAiB19E,KAAKs5E,eAAe,sBAAwBgP,GAExF,IAAIiB,EAAwBvpF,KAAK6lF,eAAe7lF,KAAK8gF,gBAAgBkH,IAAW,GAAGrO,OAC/E4P,IAA0BvpF,KAAKs5E,eAAe,qBAC9CwQ,GAAU,EACVxB,EAAgBiB,GAYxB,OATKO,EAKDxB,EAAgBtoF,KAAKs5E,eAAe,cAAgB,KAAOgE,EAASl4E,OAAS,MACvEpF,KAAKs5E,eAAe,QAAU,KAChCt5E,KAAKipF,YAAYjpF,KAAKkpF,YAAY5L,KANtCtF,EAASpwE,UAAUC,IAAI4uE,IACvB6R,EAAgBhL,EAASl4E,OAAS,EAAIpF,KAAKs5E,eAAe,wBAA0BgP,GAOjFA,GAEXxR,EAASjyE,UAAUmlF,mBAAqB,SAAU1M,EAAUJ,GACxDl9E,KAAK+mF,iBACL,eAAoB/mF,KAAK6G,QAAQU,GAAK,WAAY,YAClD,IAAIywE,EAAWh4E,KAAK2I,cAAc,KAAM,CAAEC,UAAW8rE,KACrDsD,EAASlvE,aAAa,mBAAoBw0E,EAASl4E,OAAS,IAC5DpF,KAAK+oF,kBAAkBzL,EAAUtF,GACjC,IAAI11C,EAAStiC,KAAKqpF,cAAc/L,EAAUtF,GAC1CA,EAASlvE,aAAa,iBAAkBw5B,EAAOnhC,MAC/CnB,KAAKioF,iBAAmBjoF,KAAKkoF,iBAAiBloF,KAAKwb,UACnD,IAAI2sE,EAAe,GAAGpkF,MAAM+C,KAAK9G,KAAKioF,iBAAiB3lD,EAAQtiC,KAAM,WAAYA,KAAK6G,QAAQU,GAAK,WAAYvH,KAAK2pB,mBAChHpnB,EAAQvC,KAAK85E,WAAWtkE,iBAAiB,MAAMpQ,OACnD,eAAO+iF,EAAcnQ,GAChBA,EAASpwE,UAAU0E,SAASmqE,KAC7Bz2E,KAAKmpF,gBAAgB7L,GAEzB,IAAI/mE,EAAY,CACZ1P,QAASmxE,EACT0H,SAAUp9C,EACV//B,MAAOA,EACPslF,UAAW7nF,KAAK4nF,cAActlD,IAE9B8lD,EAAa,CACbvhF,QAASmxE,EACT0H,SAAUp9C,EACV//B,MAAOA,EACPslF,UAAW7nF,KAAK4nF,cAActlD,IAElCtiC,KAAKyW,QAAQ,YAAaF,GAC1BvW,KAAKyW,QAAQ,oBAAqB2xE,GAClCpoF,KAAK85E,WAAW3wE,YAAY6uE,GAC5Bh4E,KAAKg4E,SAASn6D,KAAKm6D,GACnB,gBAAqBh4E,KAAK6G,QAAQU,GAAK,WAAY,WAAYvH,MAAM,IAOzE82E,EAASjyE,UAAUk1E,eAAiB,SAAUuD,EAAU2M,GACpD,GAAIjqF,KAAK07E,iBAAmB17E,KAAKg4B,iBAAkB,CAC/C,IAAIkyD,EAAe,EAAmBlqF,KAAKi4E,UAAYj4E,KAAKi4E,UAAUn0E,OAAOw5E,GAAYA,EAEzFt9E,KAAKk6B,eAAeC,kBAAkB,iBAAkB+vD,EAAclqF,KAAKq3C,aAI3E,GADAr3C,KAAK+mF,iBACiB,KAAlB/mF,KAAKwb,UAAoB,eAAkBxb,KAAKwb,UAS/C,GAAIxb,KAAK6gF,eACV7gF,KAAKu5E,cAAc3xE,UAAUC,IAAI0uE,IACjCv2E,KAAKqoF,aAAa/K,EAAUt9E,KAAK6G,QAAQq2E,YAGzC,IAAK,IAAI35E,EAAK,EAAG4mF,EAAa7M,EAAU/5E,EAAK4mF,EAAW/kF,OAAQ7B,IAAM,CAClE,IAAIykF,EAAWmC,EAAW5mF,GACtBy9C,EAAYhhD,KAAK2I,cAAc,KAAM,CACrCC,UAAW8rE,GACXp0E,MAAO,CAAE,iBAAkB0nF,EAAS7mF,KAAM,mBAAoB,OAE9DipF,EAAgBpqF,KAAK2I,cAAc,OAAQ,CAAEC,UAAWktE,KACxDuU,EAAcrqF,KAAK2I,cAAc,OAAQ,CAAEC,UAAWmsE,GAAWz0E,MAAO,CAAE,MAAS0nF,EAAS7mF,QAChGkpF,EAAYngE,UAAYlqB,KAAK0oF,gBAAgBV,EAAS7mF,MACtD,IAAImpF,EAAgBtqF,KAAK2I,cAAc,OAAQ,CAAEC,UAAWosE,KAE5D,GADAsV,EAAcpgE,UAAY,IAAMlqB,KAAKgmF,YAAYgC,EAAS7mF,MACrDnB,KAAK2H,UAIL,CACD,IAAIihF,EAAe5oF,KAAK2I,cAAc,OAAQ,CAAEC,UAAWotE,KAC3D4S,EAAaz/E,YAAYmhF,GACzB1B,EAAaz/E,YAAYkhF,GACzBD,EAAcjhF,YAAYy/E,QAP1BwB,EAAcjhF,YAAYkhF,GAC1BD,EAAcjhF,YAAYmhF,GAQ9B,IAAIhD,EAAWtnF,KAAK2I,cAAc,OAAQ,CAAEC,UAAWqsE,KACvDqS,EAASp9D,UAAYlqB,KAAKipF,YAAYjB,EAAS/6D,MAC/Cm9D,EAAcjhF,YAAYm+E,GAC1B,IAAI/D,EAAgBvjF,KAAK2I,cAAc,OAAQ,CAAEC,UAAW+rE,KAC5DyV,EAAcjhF,YAAYo6E,GAC1BA,EAAcr5D,UAAY89D,EAASrO,OACnC34B,EAAU73C,YAAYihF,GACtB,IAAIhB,EAAcppF,KAAK2I,cAAc,OAAQ,CAAEC,UAAW,WACtDtI,MAAO,CAAE,SAAYN,KAAKu3E,eAEL,SAArBv3E,KAAKi8E,aACLmN,EAAYxhF,UAAUC,IAAI,UAE9BuhF,EAAYtgF,aAAa,QAAS9I,KAAKs5E,eAAe,WACtDt4B,EAAU73C,YAAYigF,GACtB,OAAavhF,IAAIuhF,EAAa,QAASppF,KAAKy/E,YAAaz/E,MAC7B,MAAxBgoF,EAASrK,YACT4F,EAAc37E,UAAUC,IAAI+tE,IAC5BwT,EAAYxhF,UAAUC,IAAIstE,IAC1BiU,EAAYtgF,aAAa,QAAS9I,KAAKs5E,eAAe,YAEzB,MAAxB0O,EAASrK,aACd4F,EAAc37E,UAAU+B,OAAOisE,IAC/B2N,EAAc37E,UAAUC,IAAIkuE,KAE5B/1E,KAAK45E,YAAsC,MAAxBoO,EAASrK,YAAqD,KAA/B39E,KAAK27E,cAAcC,UACrE2H,EAAcr5D,UAAY,IAEzBk/D,EAAYxhF,UAAU0E,SAAS6oE,KAChCiU,EAAYxhF,UAAUC,IAAIqtE,IAE9B,IAAI3yE,EAAQ+6E,EAAStiE,QAAQgtE,GACzBzxE,EAAY,CACZ1P,QAASm6C,EACT0+B,SAAUsI,EACVzlF,MAAOA,EACPslF,UAAW7nF,KAAK4nF,cAAcI,IAE9BI,EAAa,CACbvhF,QAASm6C,EACT0+B,SAAUsI,EACVzlF,MAAOA,EACPslF,UAAW7nF,KAAK4nF,cAAcI,IAElChoF,KAAKyW,QAAQ,YAAaF,GAC1BvW,KAAKyW,QAAQ,oBAAqB2xE,GAClCpoF,KAAK85E,WAAW3wE,YAAY63C,GAC5BhhD,KAAKg4E,SAASn6D,KAAKmjC,GACnBhhD,KAAK6oF,aAAawB,GAClB,IAAIE,EAAwBvqF,KAAK03E,KAC7B13E,KAAK4nF,cAAcI,KACnBhoF,KAAK03E,MAAO,EACZ13E,KAAKihF,qBAAoB,GACzBjhF,KAAK03E,KAAO6S,QAvFhBvqF,KAAK6gF,gBACL7gF,KAAKu5E,cAAc3xE,UAAUC,IAAI0uE,IACjCv2E,KAAKgqF,mBAAmB1M,EAAUt9E,KAAK6G,QAAQq2E,QAG/Cl9E,KAAK8nF,qBAAqBxK,IAwF1CxG,EAASjyE,UAAU2lF,cAAgB,SAAUC,GACzC,IAAIxvE,EACJA,EAAOwvE,EAAYjgE,YACnBigE,EAAYC,QAAQC,KAAO1vE,EAAKlX,MAAMkX,EAAK7V,OAAS,KAExD0xE,EAASjyE,UAAUkkF,kBAAoB,SAAUzL,EAAUtF,GACvD,IAAK,IAAIz0E,EAAK,EAAGqnF,EAAatN,EAAU/5E,EAAKqnF,EAAWxlF,OAAQ7B,IAAM,CAClE,IAAIykF,EAAW4C,EAAWrnF,GAC1BykF,EAAS0B,KAAO1R,IAGxBlB,EAASjyE,UAAUgkF,aAAe,SAAU1nF,GACxC,IAAIspF,EAActpF,GACO,SAArBnB,KAAKi8E,aAA0BwO,EAAY/hF,YAAc+hF,EAAY97E,aAIhE87E,EAAY/hF,YAAc,EAAI+hF,EAAY97E,cAH/C3O,KAAKwqF,cAAcC,IAO3B3T,EAASjyE,UAAUmhF,YAAc,SAAU7kF,GACvC,IAAIkmF,EACA9kF,EAAQpB,EAAK2sC,YAAY,KAI7B,OAHIvrC,GAAS,IACT8kF,EAAYlmF,EAAK4sC,UAAUxrC,EAAQ,IAEhC8kF,GAAwB,IAEnCvQ,EAASjyE,UAAU6jF,gBAAkB,SAAUvnF,GAC3C,IAAIsa,EAAOzb,KAAKgmF,YAAY7kF,GACxB0pF,EAAQ1pF,EAAKkV,MAAM,IAAMoF,GAC7B,OAAcovE,EAAM,IAExB/T,EAASjyE,UAAUimF,qBAAuB,WAOtC,GANI9qF,KAAK+2E,YAAYC,QACjBh3E,KAAK6G,QAAQiC,aAAa,SAAU9I,KAAK+2E,YAAYC,QAErDh3E,KAAK+2E,YAAY57D,UACjBnb,KAAK6G,QAAQiC,aAAa,WAAY,YAEtC9I,KAAK+2E,YAAYE,SAAU,CAC3B,IAAIuH,EAAUrpE,SAASspE,gBAAgB,YACvCz+E,KAAK6G,QAAQ63E,iBAAiBF,KAGtC1H,EAASjyE,UAAUkmF,eAAiB,SAAU7N,GAG1C,IAFA,IACI5wD,EADA0+D,EAAc,GAETvlF,EAAI,EAAGA,EAAIy3E,EAAM93E,OAAQK,IAC9B6mB,EAAKtsB,KAAKohF,aAAalE,EAAMz3E,IACxB6mB,EAAG1kB,UAAU0E,SAASspE,KACvBoV,EAAYntE,KAAKq/D,EAAMz3E,IAG/B,OAAOulF,GAEXlU,EAASjyE,UAAUw+E,aAAe,SAAUnG,EAAOvD,EAAQgE,EAAYsN,GAEnE,QADuB,IAAnBA,IAA6BA,GAAiB,GACjC,KAAXtR,IAAiB,eAAkBA,IAA6B,KAAfgE,IAAqB,eAAkBA,GAC1F,GAAI39E,KAAK07E,gBACL,IAAK,IAAIj2E,EAAI,EAAGA,EAAIzF,KAAKi4E,UAAU7yE,OAAQK,IACnCzF,KAAKi4E,UAAUxyE,GAAGtE,OAAS+7E,EAAM/7E,OACjCnB,KAAKi4E,UAAUxyE,GAAGk0E,OAASA,EAC3B35E,KAAKi4E,UAAUxyE,GAAGk4E,WAAaA,QAKvCT,EAAMvD,OAASA,EACfuD,EAAMS,WAAaA,EAG3B,GAAIsN,EAAgB,CAChB,IAAI3+D,EAAKtsB,KAAKohF,aAAalE,GACtB,eAAkB5wD,IACd,eAAkBA,EAAGzf,cAAc,IAAM8nE,MAA0B,KAAXgF,GAAiB,eAAkBA,KAC5FrtD,EAAGzf,cAAc,IAAM8nE,IAAQnqD,YAAcmvD,GAIzD,OAAOuD,GAEXpG,EAASjyE,UAAUu8E,aAAe,SAAUlE,GAExC,IADA,IAAI36E,EACKkD,EAAI,EAAGA,EAAIzF,KAAKi4E,UAAU7yE,OAAQK,KACjC,eAAkBzF,KAAKi4E,UAAUxyE,GAAG8B,KAAQ,eAAkB21E,EAAM31E,IACjCvH,KAAKi4E,UAAUxyE,GAAGtE,OAAS+7E,EAAM/7E,KADQnB,KAAKi4E,UAAUxyE,GAAGtE,OAAS+7E,EAAM/7E,MAC/GnB,KAAKi4E,UAAUxyE,GAAG8B,KAAO21E,EAAM31E,MAC/BhF,EAAQkD,GAGhB,OAAOzF,KAAKg4E,SAASz1E,IAEzBu0E,EAASjyE,UAAUqmF,kBAAoB,SAAUlqC,GAC7C,IAAImqC,EAAqBnrF,KAAK2I,cAAc,OAAQ,CAAEC,UAAW4sE,KAC7D4V,EAAcprF,KAAK2I,cAAc,cAAe,CAAEC,UAAW6sE,GAAan1E,MAAO,CAAEe,MAAO,IAAK8oC,IAAK,SACpGkhD,EAA0BrrF,KAAK2I,cAAc,OAAQ,CAAEC,UAAWstE,KACtEkV,EAAYtiF,aAAa,QAAS,aAClC,IAAIwiF,EAAkBtrF,KAAK2I,cAAc,OAAQ,CAAEC,UAAW8sE,KAC9D4V,EAAgB9gE,YAAc,KAC9B6gE,EAAwBliF,YAAYiiF,GACpCD,EAAmBhiF,YAAYkiF,GAC/BF,EAAmBhiF,YAAYmiF,GAC/BtqC,EAAUn0C,cAAc,IAAMipE,IAAgB3sE,YAAYgiF,IAG9DrU,EAASjyE,UAAU0mF,kBAAoB,SAAU5oF,EAAG2pB,GAChD,IAAKic,MAAMh7B,KAAK2hC,MAAOvsC,EAAE6oF,OAAS7oF,EAAEsiD,MAAS,QAAU,eAAkB34B,EAAGzf,cAAc,IAAM4oE,KAC5F,GAAK,eAAkBz1E,KAAK0lF,mBAA+C,KAA1B1lF,KAAK0lF,iBAOlD1lF,KAAKyrF,oBAAoBn/D,EAAI/e,KAAK2hC,MAAOvsC,EAAE6oF,OAAS7oF,EAAEsiD,MAAS,KAAKr8B,WAAa,SAPN,CAC3E,IAAIvnB,EAASkM,KAAK2hC,MAAOvsC,EAAE6oF,OAAS7oF,EAAEsiD,MAAS,KAAQt8B,SAAS3oB,KAAK0lF,iBAAkB,IACzE,IAAVrkF,GAAyB,MAAVA,GACfrB,KAAKyrF,oBAAoBn/D,EAAI/e,KAAK2hC,MAAOvsC,EAAE6oF,OAAS7oF,EAAEsiD,MAAS,KAAKr8B,WAAa,OAQjGkuD,EAASjyE,UAAU4mF,oBAAsB,SAAUn/D,EAAIo/D,GACnDp/D,EAAGzf,cAAc,IAAM4oE,IAAa3sE,aAAa,QAAS,SAAW4iF,GACrEp/D,EAAGzf,cAAc,IAAM6oE,IAAkBlrD,YAAckhE,GAE3D5U,EAASjyE,UAAU8mF,iBAAmB,SAAUhpF,EAAGu6E,EAAO0O,EAAU7I,GAChE,IAAIz2D,EAAKtsB,KAAKohF,aAAalE,GAC3B,IAAI,eAAkB5wD,IAASs/D,EAA/B,CAGA,GAAK,eAAkBt/D,GAoBnBtsB,KAAK6rF,oBAAoB3O,EAAOv6E,EAAGogF,OApBX,CAEC,MAArB7F,EAAMS,YACN39E,KAAK6rF,oBAAoB3O,EAAOv6E,EAAGogF,EAASz2D,GAE1CA,EAAG9W,iBAAiB,IAAMggE,IAAkBpwE,OAAS,IAAMknB,EAAGzf,cAAc,IAAM8nE,MACpFroD,EAAGzf,cAAc,IAAM8nE,IAAQ/sE,UAAUC,IAAI8tE,IAC7C31E,KAAKkrF,kBAAkB5+D,GACvBtsB,KAAK8rF,yBAAyBx/D,EAAIqpD,IAClCrpD,EAAGzf,cAAc,IAAM8nE,IAAQ/sE,UAAU+B,OAAOksE,KAEpD71E,KAAKurF,kBAAkB5oF,EAAG2pB,GAC1B,IAAImX,EAAUnX,EAAGzf,cAAc,IAAMqoE,IAChC,eAAkBzxC,KACnBA,EAAQ77B,UAAUC,IAAIwtE,GAAYM,IAClClyC,EAAQ36B,aAAa,QAAS9I,KAAKs5E,eAAe,UAClD71C,EAAQ77B,UAAU+B,OAAOurE,KAMjC,IAAIxsD,EAAO,CAAE/lB,EAAGA,EAAG+nC,UAAW,SAAU20C,KAAMr/E,KAAKqjF,aAAanG,EAAOl9E,KAAKs5E,eAAe,cAAe,MAC1Gt5E,KAAKyW,QAAQ,WAAYiS,KAG7BouD,EAASjyE,UAAUgnF,oBAAsB,SAAU3O,EAAOv6E,EAAGogF,EAASz2D,GAClE,IAAIrhB,EAAQjL,KACZ,GAAyB,MAArBk9E,EAAMS,WAAoB,CAC1B,IAAIpnE,EAAY,CACZxF,MAAOpO,EACP26E,SAAUJ,EACVnhE,QAAQ,GAEZ/b,KAAKyW,QAAQ,YAAaF,GAAW,SAAUA,GAC3C,GAAIA,EAAUwF,QAEV,GADAmhE,EAAMS,WAAa,KACd,eAAkBrxD,GAAK,CACxB,IAAIy0D,EAAgBz0D,EAAGzf,cAAc,IAAMwoE,IACtC,eAAkB0L,KACnB3M,GAAY2M,GACZ,eAAOz0D,EAAGzf,cAAc,0BAI/B,CACDk2E,EAAQrB,WAAY,EACpBqB,EAAQhB,YAAY9G,QACpB,IAAI0G,EAAW,IAAIC,SACnB,GAAyB,MAArB1E,EAAMS,WAAoB,CAC1B,IAAIoO,EAAS9gF,EAAMpE,QAAQuT,aAAa,QACxCunE,EAASW,OAAOyJ,EAAQ7O,EAAM/7E,MAC9BwgF,EAASW,OAAO,mBAAoBpF,EAAM/7E,MAC1C,IAAIqgF,EAAO,IAAI,OAAKv2E,EAAM0wE,cAAc8F,UAAW,QAAQ,EAAM,MACjED,EAAKE,WAAY,EACjBF,EAAKe,OAAS,SAAU5/E,GAAyC,OAApCsI,EAAM+gF,mBAAmBrpF,EAAGu6E,GAAe,IACxEsE,EAAKmB,KAAKhB,UAM9B7K,EAASjyE,UAAUmnF,mBAAqB,SAAUrpF,EAAG08E,GACjD,IAAIr+B,EAAYhhD,KAAKohF,aAAa/B,GAClC,IAAIr+B,EAAUn0C,cAAc,IAAMyoE,MAAe,eAAkBt0B,EAAUn0C,cAAc,IAAMwoE,KAAjG,CAGAr1E,KAAKqjF,aAAahE,EAAMr/E,KAAKs5E,eAAe,oBAAqB,KACjEt5E,KAAKisF,mBAAmBtpF,EAAG08E,EAAMr+B,GACjC,IAAI+/B,EAAgB//B,EAAUn0C,cAAc,IAAMqoE,IAC7C,eAAkBl0B,KACnBozB,GAAY2M,GACZ,eAAO//B,EAAUn0C,cAAc,qBAEnC,IAAIq/E,EAAkBvpF,GAAKA,EAAE+nB,cAAgB1qB,KAAKmjF,YAAYxgF,GAAK,KAC/D+lB,EAAO,CAAE3X,MAAOpO,EAAGugF,SAAUgJ,EAAiBxhD,UAAW,SAAU20C,KAAMA,GAC7Er/E,KAAKyW,QAAQ,UAAWiS,KAE5BouD,EAASjyE,UAAUonF,mBAAqB,SAAUtpF,EAAG08E,EAAMr+B,GACvD,IAAI/1C,EAAQjL,KACZA,KAAK8rF,yBAAyB9qC,EAAW60B,IACzC71E,KAAKmsF,kBAAkBnrC,EAAW,WAC7B,eAAkBA,EAAUn0C,cAAc,oBAC3Cm0C,EAAUn0C,cAAc,kBAAkBjF,UAAUC,IAAIguE,IAE5D,IAAIuW,EAAaprC,EAAUn0C,cAAc,IAAMwoE,IAC/C,IAAI,eAAkB+W,GAAtB,CAGAA,EAAWxkF,UAAU+B,OAAO0rE,GAAYM,IACxCyW,EAAWxkF,UAAUC,IAAIqtE,IACzBkX,EAAWtjF,aAAa,QAAS9I,KAAKs5E,eAAe,WACrDt5E,KAAKqsF,YAAcrsF,KAAK2I,cAAc,OAAQ,CAAEC,UAAW,4BAA6BtI,MAAO,CAAE,SAAYN,KAAKu3E,eAClH6U,EAAW3xE,cAAc/P,aAAa1K,KAAKqsF,YAAaD,GACxDpsF,KAAKqsF,YAAYvjF,aAAa,QAAS9I,KAAKs5E,eAAe,UAC3D,IAAIgT,EAAetrC,EAAUn0C,cAAc,IAAMyoE,IAEjDgX,EAAaxgF,iBAAiB,SAAS,SAAUnJ,GAAKsI,EAAMshF,mBAAmB5pF,EAAG08E,EAAMr+B,GAAW,MAAW,KAElH81B,EAASjyE,UAAU0nF,mBAAqB,SAAU5pF,EAAG08E,EAAMr+B,EAAWugC,GAClElC,EAAK1B,WAAa,IAClB0B,EAAK1F,OAAS35E,KAAKs5E,eAAe,wBAC7BiI,IACDvgC,EAAUn0C,cAAc,IAAM8nE,IAAQ/sE,UAAU+B,OAAOksE,IAClD,eAAkB70B,EAAUn0C,cAAc,IAAMyoE,MACjD,eAAOt0B,EAAUn0C,cAAc,IAAMyoE,KAEzCt1E,KAAKqsF,YAAc,MAGvBrrC,EAAUp5C,UAAUC,IAAIwuE,IACxBr2E,KAAK24E,OAAO,CAAC0G,KAGjBvI,EAASjyE,UAAU2nF,eAAiB,SAAU7pF,EAAG08E,EAAMuM,GACnD,IAAIjS,EAASh3E,EAAElB,OACf,GAA0B,IAAtBk4E,EAAOyJ,YAAoBzJ,EAAOA,QAAU,KAAOA,EAAOA,QAAU,IAAK,CACzE,IAAIrtD,EAAKtsB,KAAKohF,aAAa/B,GAC3B,GAAI,eAAkB/yD,MAASs/D,GAAY,eAAkBA,IACzD,OAEJ,IAAK,eAAkBt/D,GAAK,CACxBtsB,KAAK8rF,yBAAyBx/D,EAAIspD,IAClC51E,KAAKmsF,kBAAkB7/D,EAAI,WAC3B,IAAImX,EAAUnX,EAAGzf,cAAc,IAAMwoE,IAChC,eAAkB5xC,KACnBA,EAAQ77B,UAAUC,IAAIstE,IACtB1xC,EAAQ36B,aAAa,QAAS9I,KAAKs5E,eAAe,WAClD71C,EAAQ77B,UAAU+B,OAAO0rE,IACzB5xC,EAAQ77B,UAAU+B,OAAOgsE,KAGjC31E,KAAKysF,kBAAkB9pF,EAAG08E,QAG1Br/E,KAAK0sF,aAAa/pF,EAAG08E,IAG7BvI,EAASjyE,UAAUs+E,YAAc,SAAUxgF,GAEvC,IAAIlB,EAASkB,EAAE+nB,cACXw4D,EAAW,CACXE,WAAY3hF,EAAO2hF,WACnBzF,WAAYl8E,EAAOk4E,OACnBgT,WAAYlrF,EAAOkrF,WACnBC,QAASnrF,EAAOorF,wBAChBC,gBAAiBrrF,EAAOqrF,iBAE5B,OAAO5J,GAGXpM,EAASjyE,UAAU+3E,0BAA4B,WAC3C,GAAI58E,KAAKu5E,eAAiBv5E,KAAK07E,gBAE3B,IADA,IAAI0N,EAAc,GAAGrlF,MAAM+C,KAAK9G,KAAKu5E,cAAc/jE,iBAAiB,UAC3D/P,EAAI,EAAGA,EAAI2jF,EAAYhkF,OAAQK,IAAK,CACzC,IAAIsnF,EAAiB3D,EAAY3jF,GAAM2jF,EAAY3jF,GAAGoH,cAAc,YAAc,KAC9EkgF,IACA,OAAapjF,OAAOojF,EAAe,QAAS/sF,KAAKy/E,aACjD,OAAa53E,IAAIklF,EAAe,QAAS/sF,KAAKy/E,YAAaz/E,SAK3E82E,EAASjyE,UAAU4nF,kBAAoB,SAAU9pF,EAAG08E,GAChD,IAAIp0E,EAAQjL,KACRkjF,EAAWvgF,GAAKA,EAAE+nB,cAAgB1qB,KAAKmjF,YAAYxgF,GAAK,KACxD2lF,EAAgBtoF,KAAKs5E,eAAe,wBACpC5wD,EAAO,CACP/lB,EAAGA,EAAGugF,SAAUA,EAAUx4C,UAAW,SAAU20C,KAAMr/E,KAAKqjF,aAAahE,EAAMiJ,EAAe,KAAK,GAAQqE,WAAYrE,GAEzH,IAAKtoF,KAAK07E,gBAAiB,CACvB,IAAI16B,EAAYhhD,KAAKohF,aAAa/B,GAClC,IAAK,eAAkBr+B,GAAY,CAC/B,IAAIgsC,EAAahsC,EAAUn0C,cAAc,IAAMuoE,IAC1C,eAAkB4X,KACnB5Y,GAAYpzB,GACZ,eAAOgsC,KAInBhtF,KAAKyW,QAAQ,UAAWiS,GAAM,SAAUA,GAEpCzd,EAAMo4E,aAAahE,EAAM32D,EAAKikE,WAAY,KAC1C1hF,EAAMisE,kBAAkBr5D,KAAKwhE,GACxBp0E,EAAMywE,iBACPzwE,EAAMwL,QAAQ,SAAU,CAAE4oE,KAAMp0E,EAAMisE,oBAE1CjsE,EAAMkvE,0BACFlvE,EAAM+sE,SAAS5yE,OAAS,IACjB6F,EAAMm2E,aAAa/B,GAAOz3E,UAAU0E,SAAS+pE,IAM/CprE,EAAMm2E,aAAa/B,GAAOz3E,UAAU+B,OAAO0sE,KAL5CprE,EAAM+1E,mBACN/1E,EAAMg2E,qBAAoB,SAS1CnK,EAASjyE,UAAU6nF,aAAe,SAAU/pF,EAAG08E,GAC3C,IAAIp0E,EAAQjL,KACRssB,EAAKtsB,KAAKohF,aAAa/B,GACvB6D,EAAWvgF,GAAKA,EAAE+nB,cAAgB1qB,KAAKmjF,YAAYxgF,GAAK,KACxD2lF,EAAgBtoF,KAAKs5E,eAAe,uBACpC5wD,EAAO,CACP/lB,EAAGA,EAAGugF,SAAUA,EAAUx4C,UAAW,SAAU20C,KAAMr/E,KAAKqjF,aAAahE,EAAMiJ,EAAe,KAAK,GAAQqE,WAAYrE,GAEpH,eAAkBh8D,IACnBtsB,KAAKisF,mBAAmBtpF,EAAG08E,EAAM/yD,GAErCtsB,KAAKyW,QAAQ,UAAWiS,GAAM,SAAUA,GAEpCzd,EAAMo4E,aAAahE,EAAM32D,EAAKikE,WAAY,KAC1C1hF,EAAMkvE,0BACNlvE,EAAM+1E,mBACN/1E,EAAMg2E,qBAAoB,OAGlCnK,EAASjyE,UAAUm8E,iBAAmB,WAC9BhhF,KAAK67E,mBACD77E,KAAK45E,WAEL55E,KAAK68E,gBAAgB78E,KAAKi4E,WAG1Bj4E,KAAK88E,sBAIjBhG,EAASjyE,UAAUo8E,oBAAsB,SAAUlvC,GAC/CA,IAAc/xC,KAAKy3E,sBAAwBz3E,KAAKy3E,oBAChDz3E,KAAKumF,uBAETzP,EAASjyE,UAAU0hF,oBAAsB,WACrC,GAAKvmF,KAAKi4E,UAAU7yE,SAAWpF,KAAKy3E,qBAAwBz3E,KAAK03E,KAAM,CACnE13E,KAAK03E,MAAO,EACZ,IAAInhE,EAAY,CACZ+mE,SAAU,IAEd/mE,EAAU+mE,SAAWt9E,KAAKitF,sBAAsBjtF,KAAK23E,eACrD33E,KAAKyW,QAAQ,iBAAkBF,KAGvCugE,EAASjyE,UAAUooF,sBAAwB,SAAUtV,GAGjD,IAFA,IAAIuV,EAAa,GACbC,EAAkB,EACbC,EAAkB,EAAGA,EAAkBzV,EAAcvyE,OAAQgoF,IAElE,IADA,IAAIC,EAAmB1V,EAAcyV,GAC5BE,EAAgB,EAAGA,EAAgBttF,KAAKi4E,UAAU7yE,OAAQkoF,IAC3DttF,KAAKi4E,UAAUqV,GAAensF,OAASksF,EAAiBlsF,OACxD+rF,EAAWC,GAAmBntF,KAAKi4E,UAAUqV,KAC3CH,GAId,OAAOD,GAEXpW,EAASjyE,UAAUinF,yBAA2B,SAAUx/D,EAAI1jB,GACxD,IAAIwiF,EAAc9+D,EAAGzf,cAAc,IAAM4oE,IACpC,eAAkB2V,IACnBA,EAAYxjF,UAAUC,IAAIe,IAGlCkuE,EAASjyE,UAAUsnF,kBAAoB,SAAU7/D,EAAIihE,GACjD,IAAItiF,EAAQjL,KACP,eAAkBssB,EAAGzf,cAAc,IAAM2oE,OAC1Cx1E,KAAKwtF,kBAAoB,IAAI,OAAU,CAAE11E,SAAU,OACnD9X,KAAKwtF,kBAAkBngF,QAAQif,EAAGzf,cAAc,IAAM2oE,IAAmB,CAAEr0E,KAAM,YACjFnB,KAAKwtF,kBAAkBngF,QAAQif,EAAGzf,cAAc,IAAM6oE,IAAmB,CAAEv0E,KAAM,YACjFoK,YAAW,WAAcN,EAAMwiF,mBAAmBnhE,EAAIihE,KAAc,OAI5EzW,EAASjyE,UAAU4oF,mBAAqB,SAAUnhE,EAAIihE,GACjC,YAAbA,GACAjhE,EAAG1kB,UAAUC,IAAI+tE,IACZ,eAAkBtpD,EAAGzf,cAAc,IAAM8nE,OAC1CroD,EAAGzf,cAAc,IAAM8nE,IAAQ/sE,UAAU+B,OAAOgsE,IAChD31E,KAAKwtF,kBAAkBngF,QAAQif,EAAGzf,cAAc,IAAM8nE,IAAS,CAAExzE,KAAM,WACvEmrB,EAAGzf,cAAc,IAAM8nE,IAAQ/sE,UAAUC,IAAI+tE,MAI5C,eAAkBtpD,EAAGzf,cAAc,IAAM8nE,OAC1CroD,EAAGzf,cAAc,IAAM8nE,IAAQ/sE,UAAU+B,OAAOgsE,IAChD31E,KAAKwtF,kBAAkBngF,QAAQif,EAAGzf,cAAc,IAAM8nE,IAAS,CAAExzE,KAAM,WACvEmrB,EAAGzf,cAAc,IAAM8nE,IAAQ/sE,UAAUC,IAAIguE,KAGjDvpD,EAAGzf,cAAc,IAAM2oE,KACvB,eAAOlpD,EAAGzf,cAAc,IAAM2oE,MAGtCsB,EAASjyE,UAAUszE,cAAgB,SAAUgP,GACtB,KAAfA,GAAsB,eAAkBA,GAIxCnnF,KAAK6G,QAAQoD,gBAAgB,UAH7BjK,KAAK6G,QAAQiC,aAAa,SAAUq+E,IAM5CrQ,EAASjyE,UAAUqjF,iBAAmB,SAAUwF,GAC5C,GAAIA,EAAgB,CAEhB,IACI,GAAIv4E,SAASK,iBAAiBk4E,GAAgBtoF,OAC1C,OAAO,eAAQ+P,SAAStI,cAAc6gF,GAAgBxjE,UAAUZ,QAGxE,MAAOqkE,GACH,OAAO,eAAQD,MAK3B5W,EAASjyE,UAAU2zE,OAAS,WACxBx4E,KAAK2H,UAAY,eAAS,CAAC3H,KAAKu5E,eAAgB,IAAO,eAAY,CAACv5E,KAAKu5E,eAAgB,KAE7FzC,EAASjyE,UAAUy0E,eAAiB,SAAU3yC,GAE1C,OADA3mC,KAAK8mC,KAAKyL,UAAUvyC,KAAK+mC,QAClB/mC,KAAK8mC,KAAKE,YAAYL,IAEjCmwC,EAASjyE,UAAUyzE,iBAAmB,WAC7Bt4E,KAAKshC,SAYFthC,KAAKu5E,cAAc3xE,UAAU0E,SAAS,KACtCtM,KAAKu5E,cAAc3xE,UAAU+B,OAAO,KAEnC,eAAkB3J,KAAKq5E,eAAiBr5E,KAAK6G,QAAQ6/B,aAAa,cACnE1mC,KAAK6G,QAAQoD,gBAAgB,YAC7BjK,KAAKq5E,aAAapvE,gBAAgB,cAEjC,eAAkBjK,KAAKs/B,cAAgBt/B,KAAKs/B,YAAYoH,aAAa,aACtE1mC,KAAKs/B,YAAYr1B,gBAAgB,aAEhC,eAAkBjK,KAAK65E,eAAiB75E,KAAK65E,aAAanzC,aAAa,aACxE1mC,KAAK65E,aAAanzC,aAAa,cAtBnC1mC,KAAKu5E,cAAc3xE,UAAUC,IAAI,IACjC7H,KAAK6G,QAAQiC,aAAa,WAAY,YACtC9I,KAAKq5E,aAAavwE,aAAa,WAAY,YACtC,eAAkB9I,KAAKs/B,cACxBt/B,KAAKs/B,YAAYx2B,aAAa,WAAY,YAEzC,eAAkB9I,KAAK65E,eACxB75E,KAAK65E,aAAa/wE,aAAa,WAAY,cAmBvDguE,EAASjyE,UAAUk0E,oBAAsB,SAAUlwC,GAG/C,IAFA,IAAIvX,EAAauX,EAAY,eAAkB7oC,KAAK2b,gBAAkB,GAAKrX,OAAO2K,KAAKjP,KAAK2b,gBACxF,CAAC,SAAU,WAAY,YAClBpY,EAAK,EAAGulC,EAAexX,EAAY/tB,EAAKulC,EAAa1jC,OAAQ7B,IAAM,CACxE,IAAI2L,EAAO45B,EAAavlC,GACxB,IAAK,eAAkBvD,KAAK6G,QAAQuT,aAAalL,IAC7C,OAAQA,GACJ,IAAK,UAEI,eAAkBlP,KAAKk4E,uBAAmEn9C,IAA9C/6B,KAAKk4E,gBAAgB,sBAC/DrvC,KACH7oC,KAAK+wB,cAAc,CAAEqnD,kBAAmBp4E,KAAK6G,QAAQuT,aAAa,YAAcyuB,GAChF7oC,KAAK+2E,YAAYC,OAASh3E,KAAKo4E,mBAEnC,MACJ,IAAK,WAED,GAAK,eAAkBp4E,KAAKk4E,uBAA0Dn9C,IAArC/6B,KAAKk4E,gBAAgB,aAA+BrvC,EAAW,CAC5G,IAAI+kD,EAAgD,aAApC5tF,KAAK6G,QAAQuT,aAAalL,IACF,KAApClP,KAAK6G,QAAQuT,aAAalL,IAAoD,SAApClP,KAAK6G,QAAQuT,aAAalL,GACxElP,KAAK+wB,cAAc,CAAEkmD,SAAU2W,IAAc/kD,GAC7C7oC,KAAK+2E,YAAYE,UAAW,EAEhC,MACJ,IAAK,WAED,GAAK,eAAkBj3E,KAAKk4E,uBAAyDn9C,IAApC/6B,KAAKk4E,gBAAgB,YAA8BrvC,EAAW,CAC3G,IAAIglD,EAAiD,aAApC7tF,KAAK6G,QAAQuT,aAAalL,IACH,KAApClP,KAAK6G,QAAQuT,aAAalL,IAAoD,SAApClP,KAAK6G,QAAQuT,aAAalL,GACxElP,KAAK+wB,cAAc,CAAEuQ,QAASusD,IAAehlD,GAC7C7oC,KAAK+2E,YAAY57D,UAAW,MAMpD27D,EAASjyE,UAAU26E,YAAc,SAAUH,EAAMkC,EAAQuM,GACrD,IAAI1gF,EAAQ,EACR4H,EAAMzH,KAAK08B,IAAIjqC,KAAK27E,cAAcoS,UAAW1O,EAAKpyD,MAClD1qB,EAAQ,EACRyrF,EAAO3O,EAAK9B,QAAQx5E,MAAMqJ,EAAO4H,GACjCmqE,EAAW,CAAE8O,WAAY1rF,EAAOyrF,KAAMA,EAAM3O,KAAMA,EAAMjyE,MAAOA,EAAO4H,IAAKA,EAAKk5E,WAAY,EAAGnL,QAAS,MAC5G/iF,KAAKmuF,YAAY9O,EAAMF,EAAUoC,EAAQuM,IAE7ChX,EAASjyE,UAAUspF,YAAc,SAAU9O,EAAMF,EAAUoC,EAAQuM,GAC/D,IAAI7iF,EAAQjL,KACR2hF,EAAW,IAAIC,SAEfoM,EAAO3O,EAAK9B,QAAQx5E,MAAMo7E,EAAS/xE,MAAO+xE,EAASnqE,KACvD2sE,EAASW,OAAO,YAAa0L,EAAM3O,EAAKl+E,MACxCwgF,EAASW,OAAOtiF,KAAK43E,aAAcoW,EAAM3O,EAAKl+E,MAC9CwgF,EAASW,OAAO,cAAenD,EAAS8O,WAAWrlE,YACnD+4D,EAASW,OAAO,aAAcnD,EAAS8O,WAAWrlE,YAClD,IAAIwlE,EAAa7gF,KAAK48B,IAAI58B,KAAKqB,KAAKywE,EAAKpyD,KAAOjtB,KAAK27E,cAAcoS,WAAY,GAC/EpM,EAASW,OAAO,cAAe8L,EAAWxlE,YAC1C+4D,EAASW,OAAO,aAAc8L,EAAWxlE,YACzC,IAAI44D,EAAO,IAAI,OAAK,CAAEvyD,IAAKjvB,KAAK27E,cAAcC,QAASngE,KAAM,OAAQ4yE,OAAO,EAAMC,YAAa,OAC/F9M,EAAKE,WAAY,EACjBF,EAAKe,OAAS,SAAU5/E,GAAqD,OAAhDsI,EAAMsjF,oBAAoB5rF,EAAGw8E,EAAUoC,GAAgB,IACpFC,EAAKgN,iBAAmB,SAAU7rF,GAE9B,OADAsI,EAAMwjF,sBAAsB9rF,EAAGw8E,EAAUoC,GAClC,IAEX,IAAIhrE,EAAY,CACZ+mE,SAAU+B,EACVwD,eAAgB,GAChB9mE,QAAQ,EACRgyE,UAA4C,IAAjC/tF,KAAK27E,cAAcoS,UAAkB,KAAO/tF,KAAK27E,cAAcoS,WAE9EvM,EAAKK,WAAa,SAAUl/E,GACxB4T,EAAUurE,eAAiBN,EAAKO,YAChCxrE,EAAUm4E,kBAAoBvP,EAAS8O,WAEnC,mBACIhjF,EAAM+2E,sBACN/2E,EAAMg3E,mBAAmBT,EAAKO,YAAa92E,EAAM+2E,sBAEjD/2E,EAAMi3E,iBACNj3E,EAAMk3E,eAAeR,EAAU12E,EAAMi3E,kBAGT,IAAhC3rE,EAAUm4E,kBAEVzjF,EAAMwL,QAAQ,YAAaF,GAAW,SAAUA,GAC5CtL,EAAM0jF,uBAAuBhN,EAAUprE,EAAW5T,EAAG08E,MAIzDp0E,EAAMwL,QAAQ,iBAAkBF,GAAW,SAAUA,GACjDtL,EAAM0jF,uBAAuBhN,EAAUprE,EAAW5T,EAAG08E,OAKjEmC,EAAKiB,QAAU,SAAU9/E,GAAmD,OAA9CsI,EAAM2jF,kBAAkBjsF,EAAGw8E,EAAUoC,GAAgB,IACnFC,EAAKmB,KAAKhB,GACVxC,EAAS4D,QAAUvB,GAEvB1K,EAASjyE,UAAU8pF,uBAAyB,SAAUhN,EAAUprE,EAAW5T,EAAG08E,GACtE9oE,EAAUwF,OACV/b,KAAK6uF,kBAAkBlsF,EAAG4T,EAAW8oE,GAGrCr/E,KAAKmiF,eAAeR,EAAUprE,EAAUssE,iBAGhD/L,EAASjyE,UAAUgqF,kBAAoB,SAAUlsF,EAAG4T,EAAW8oE,GAC3D,IAAIp0E,EAAQjL,KAEZ,GADA2C,EAAEoZ,QAAS,EAC2B,MAAlCxF,EAAU+mE,SAASK,WAAvB,CAGA,IAAI38B,EAAYhhD,KAAKohF,aAAa7qE,EAAU+mE,UAC5Ct8B,EAAUn0C,cAAc,IAAM8nE,IAAQzqD,UAAYlqB,KAAKs5E,eAAe,oBACtEt4B,EAAUn0C,cAAc,IAAM8nE,IAAQ/sE,UAAUC,IAAIguE,IACpDt/D,EAAU+mE,SAASK,WAAa,IAChCpnE,EAAU+mE,SAAS3D,OAAS35E,KAAKs5E,eAAe,oBAChDt5E,KAAKqsF,YAAcrsF,KAAK2I,cAAc,OAAQ,CAAEC,UAAW,4BAA6BtI,MAAO,CAAE,SAAYN,KAAKu3E,eAClH,IAAIuX,EAAa9tC,EAAUn0C,cAAc,IAAMqoE,IAC/C4Z,EAAWr0E,cAAc/P,aAAa1K,KAAKqsF,YAAayC,GACxD9uF,KAAKqsF,YAAYvjF,aAAa,QAAS9I,KAAKs5E,eAAe,UAE3Dt5E,KAAKqsF,YAAYvgF,iBAAiB,SAAS,SAAUnJ,GAAKsI,EAAMshF,mBAAmB5pF,EAAG08E,EAAMr+B,MAAe,GAC3GhhD,KAAKm6E,4BAETrD,EAASjyE,UAAUkqF,iBAAmB,WAClC,QAAQ/uF,KAAK27E,cAAcoS,WAAa,GAAK,eAAkB/tF,KAAK27E,cAAcoS,aAEtFjX,EAASjyE,UAAU0pF,oBAAsB,SAAU5rF,EAAGw8E,EAAUoC,GAC5D,IAEIvgC,EAFA/1C,EAAQjL,KACRkjF,EAAWvgF,EAAElB,OAEjB,GAA4B,IAAxByhF,EAASE,YAAoBF,EAASvJ,QAAU,KAAOuJ,EAASvJ,OAAS,IAAK,CAC9E,IAAIuS,EAAkBvpF,GAAKA,EAAE+nB,cAAgB1qB,KAAKmjF,YAAYxgF,GAAK,KAC/DyrF,EAAa7gF,KAAK48B,IAAI58B,KAAKqB,KAAKuwE,EAASE,KAAKpyD,KAAOjtB,KAAK27E,cAAcoS,WAAY,GACpFx3E,EAAY,CACZxF,MAAOpO,EACP08E,KAAMF,EAASE,KACf4O,WAAY9O,EAAS8O,WACrBG,WAAYA,EACZL,UAAW/tF,KAAK27E,cAAcoS,UAC9B7K,SAAUgJ,GAUd,GARAlsF,KAAKyW,QAAQ,eAAgBF,IACzB,eAAkBgrE,IAAYA,IAC9BvgC,EAAYhhD,KAAKohF,aAAajC,EAASE,OAE3Cr/E,KAAKgvF,eAAe7P,GAChBA,EAASnqE,MAAQmqE,EAASE,KAAKpyD,OAC/BkyD,EAASE,KAAK1B,WAAa,KAEE,MAA7BwB,EAASE,KAAK1B,WAAoB,CAClC,IAAIsR,EAAc,CAAEl+E,MAAOpO,EAAG26E,SAAU6B,EAASE,KAAMtjE,QAAQ,GAC/D/b,KAAKyW,QAAQ,YAAaw4E,GAAa,SAAU14E,GAE7C,GAAIA,EAAUwF,OAAQ,CAClBojE,EAASE,KAAK1B,WAAa,IAC3B,IAAIoD,EAAgB//B,EAAUn0C,cAAc,IAAMwoE,IAC7C,eAAkBr0B,IAAe,eAAkB+/B,KACpD3M,GAAY2M,GACZ,eAAO//B,EAAUn0C,cAAc,qBAEnC5B,EAAMikF,gBAAgB/P,OAErB,CACDA,EAAS4D,QAAQrB,WAAY,EAC7BwB,EAASjI,QACT,IAAI0G,EAAW,IAAIC,SACfuN,EAASlkF,EAAMpE,QAAQuT,aAAa,QACxCunE,EAASW,OAAO6M,EAAQhQ,EAASE,KAAKl+E,MACtCwgF,EAASW,OAAO,mBAAoBnD,EAASE,KAAKl+E,MAClDwgF,EAASW,OAAO,kBAAmBnD,EAASE,KAAKl+E,MACjD,IAAIqgF,EAAO,IAAI,OAAKv2E,EAAM0wE,cAAc8F,UAAW,QAAQ,EAAM,MACjED,EAAKE,WAAY,EACjBF,EAAKe,OAAS,SAAU5/E,GAAiD,OAA5CsI,EAAMmkF,gBAAgBzsF,EAAGw8E,EAAUoC,GAAgB,IAChFC,EAAKmB,KAAKhB,WAIjB,CACD,GAAKyM,EAAa,IAAOjP,EAAS8O,YAAcG,EAAajP,EAAS8O,WAAY,CAC9E,IAAI1rF,EAAQvC,KAAKq3E,WAAWr8D,QAAQmkE,GAWpC,OAVI58E,GAAS,GACTvC,KAAKq3E,WAAW9uD,OAAOhmB,EAAO,GAE9B,eAAkBvC,KAAKwb,YAAc,eAAkB+lE,KAAYA,IAAWvgC,IAC1EA,GACA,eAAOA,EAAUn0C,cAAc,IAAMspE,KAEzCn2E,KAAKqvF,uBAAuBlQ,SAEhCn/E,KAAKysF,kBAAkB9pF,EAAGw8E,EAASE,MAGvCr/E,KAAKkvF,gBAAgB/P,SAIzBn/E,KAAK4uF,kBAAkBjsF,EAAGw8E,IAGlCrI,EAASjyE,UAAUqqF,gBAAkB,SAAU/P,GAC3CA,EAAS/xE,MAAQ+xE,EAASnqE,IAC1BmqE,EAASnqE,KAAOhV,KAAK27E,cAAcoS,UACnC5O,EAASnqE,IAAMzH,KAAK08B,IAAIk1C,EAASnqE,IAAKmqE,EAASE,KAAKpyD,MACpDkyD,EAAS8O,YAAc,EACvBjuF,KAAKmuF,YAAYhP,EAASE,KAAMF,IAEpCrI,EAASjyE,UAAUuqF,gBAAkB,SAAUzsF,EAAGw8E,EAAUoC,GACxD,GAAI,eAAkBvhF,KAAKwb,WAAc,eAAkB+lE,KAAYA,EAAS,CAC5E,IAAIvgC,EAAYhhD,KAAKohF,aAAajC,EAASE,MACvC+M,EAAaprC,EAAUn0C,cAAc,IAAMwoE,IAC3C0L,EAAgBqL,EACpBpsF,KAAKqjF,aAAalE,EAASE,KAAMr/E,KAAKs5E,eAAe,oBAAqB,KAC1Et5E,KAAK8rF,yBAAyB9qC,EAAW60B,IACzC71E,KAAKmsF,kBAAkBnrC,EAAW,WAClCorC,EAAWxkF,UAAU+B,OAAO0rE,IAC5B+W,EAAWxkF,UAAUC,IAAIqtE,IACzBkX,EAAWtjF,aAAa,QAAS9I,KAAKs5E,eAAe,WACrD,IAAIgW,EAAYtuC,EAAUn0C,cAAc,IAAMspE,IAC9CmZ,EAAU1nF,UAAUC,IAAIytE,IACxBga,EAAU1nF,UAAU+B,OAAOwsE,IAC3BmZ,EAAUxmF,aAAa,QAAS9I,KAAKs5E,eAAe,UAC/C,eAAkBt4B,IAAe,eAAkBorC,KACpDhY,GAAY2M,GACZ,eAAO//B,EAAUn0C,cAAc,uBAI3CiqE,EAASjyE,UAAUs2E,YAAc,SAAUgE,EAAUx8E,EAAG4+E,GACpDpC,EAASE,KAAK1B,WAAa,IAC3BwB,EAASE,KAAK1F,OAAS35E,KAAKs5E,eAAe,SAC3Ct5E,KAAKgvF,eAAe7P,GACpB,IAAI5oE,EAAY,CACZxF,MAAOpO,GAAQ,KACf08E,KAAMF,EAASE,KACf4O,WAAY9O,EAAS8O,WACrBsB,WAAYhiF,KAAK2hC,MAAMiwC,EAASE,KAAKpyD,KAAOjtB,KAAK27E,cAAcoS,WAC/DA,UAAW/tF,KAAK27E,cAAcoS,WAElC/tF,KAAKs/E,YAAYH,EAAUoC,EAAQhrE,IAEvCugE,EAASjyE,UAAUy6E,YAAc,SAAUH,EAAUoC,EAAQhrE,GACzD4oE,EAAS4D,QAAQrB,WAAY,EAC7BvC,EAAS4D,QAAQhB,YAAY9G,QAC7B,IAAIj6B,EAAYhhD,KAAKohF,aAAajC,EAASE,MAC3C,GAAI,eAAkBr/E,KAAKwb,YAAc,eAAkB+lE,KAAYA,GAAS,CAC5E,IAAI1lD,EAAgBmlB,EAAUn0C,cAAc,IAAMspE,IAClDt6C,EAAcj0B,UAAU+B,OAAOwsE,IAC/Bt6C,EAAcj0B,UAAUC,IAAIuuE,IAC5Bv6C,EAAc/yB,aAAa,QAAS9I,KAAKs5E,eAAe,WACxDz9C,EAAcuP,mBAAmBxjC,UAAUC,IAAIqtE,IAC/Cr5C,EAAcuP,mBAAmBxjC,UAAU+B,OAAO0rE,IAClDx5C,EAAcuP,mBAAmBtiC,aAAa,QAAS9I,KAAKs5E,eAAe,WAE/E,IAAK,IAAI7zE,EAAI,EAAGA,EAAIzF,KAAKq3E,WAAWjyE,OAAQK,IACpCzF,KAAKq3E,WAAW5xE,GAAG45E,KAAKl+E,OAASg+E,EAASE,KAAKl+E,MAC/CnB,KAAKq3E,WAAW9uD,OAAO9iB,EAAG,GAGlCzF,KAAKq3E,WAAWx5D,KAAKshE,GACrBn/E,KAAKyW,QAAQ,UAAWF,IAE5BugE,EAASjyE,UAAU06E,aAAe,SAAUJ,EAAUx8E,EAAG4+E,GACrD,IACI1lD,EADAmlB,EAAYhhD,KAAKohF,aAAajC,EAASE,MAEtC,eAAkBr+B,KACnBnlB,EAAgBmlB,EAAUn0C,cAAc,IAAMupE,KAE7C,eAAkBv6C,KAAmB,eAAkB0lD,IAAYA,IACpE1lD,EAAcj0B,UAAU+B,OAAOysE,IAC/Bv6C,EAAcj0B,UAAUC,IAAIsuE,IAC5Bt6C,EAAc/yB,aAAa,QAAS9I,KAAKs5E,eAAe,UACxDz9C,EAAcuP,mBAAmBxjC,UAAU+B,OAAOurE,IAClDr5C,EAAcuP,mBAAmBxjC,UAAUC,IAAIwtE,IAC/Cx5C,EAAcuP,mBAAmBtiC,aAAa,QAAS9I,KAAKs5E,eAAe,WAE/E6F,EAASE,KAAK1F,OAAS35E,KAAKs5E,eAAe,cAC3C6F,EAASE,KAAK1B,WAAa,IAC3B39E,KAAKgvF,eAAe7P,GACpB,IAAI5oE,EAAY,CACZxF,MAAOpO,GAAQ,KACf08E,KAAMF,EAASE,KACf4O,WAAY9O,EAAS8O,WACrBsB,WAAYhiF,KAAK2hC,MAAMiwC,EAASE,KAAKpyD,KAAOjtB,KAAK27E,cAAcoS,WAC/DA,UAAW/tF,KAAK27E,cAAcoS,WAElC/tF,KAAKyW,QAAQ,WAAYF,GACzB,IAAK,IAAI9Q,EAAI,EAAGA,EAAIzF,KAAKq3E,WAAWjyE,OAAQK,IACpCzF,KAAKq3E,WAAW5xE,GAAGuP,MAAQhV,KAAKq3E,WAAW5xE,GAAG45E,KAAKpyD,KACnDjtB,KAAKuuF,oBAAoB5rF,EAAGw8E,EAAUoC,GAGlCvhF,KAAKq3E,WAAW5xE,GAAG45E,KAAKl+E,OAASg+E,EAASE,KAAKl+E,OAC/CnB,KAAKq3E,WAAW5xE,GAAG2H,MAAQpN,KAAKq3E,WAAW5xE,GAAGuP,IAC9ChV,KAAKq3E,WAAW5xE,GAAGuP,IAAMhV,KAAKq3E,WAAW5xE,GAAGuP,IAAMhV,KAAK27E,cAAcoS,UACrE/tF,KAAKq3E,WAAW5xE,GAAGuP,IAAMzH,KAAK08B,IAAIjqC,KAAKq3E,WAAW5xE,GAAGuP,IAAKhV,KAAKq3E,WAAW5xE,GAAG45E,KAAKpyD,MAClFjtB,KAAKq3E,WAAW5xE,GAAGwoF,WAAajuF,KAAKq3E,WAAW5xE,GAAGwoF,WAAa,EAChEjuF,KAAKmuF,YAAYnuF,KAAKq3E,WAAW5xE,GAAG45E,KAAMr/E,KAAKq3E,WAAW5xE,GAAI87E,KAK9EzK,EAASjyE,UAAUmqF,eAAiB,SAAU7P,IACK,IAA3Cn/E,KAAKs3E,eAAet8D,QAAQmkE,IAI5Bn/E,KAAKs3E,eAAe/uD,OAAOvoB,KAAKs3E,eAAet8D,QAAQmkE,GAAW,GAHlEn/E,KAAKs3E,eAAez5D,KAAKshE,IAOjCrI,EAASjyE,UAAUwqF,uBAAyB,SAAUlQ,GAClD,IAAIn+B,EAAYhhD,KAAKohF,aAAajC,EAASE,MAC3C,IAAK,eAAkBr+B,GAAY,CAC/BhhD,KAAK8rF,yBAAyB9qC,EAAW40B,IACzC51E,KAAKmsF,kBAAkBnrC,EAAW,WAClC,IAAIwuC,EAAexuC,EAAUn0C,cAAc,IAAMwoE,IAC5C,eAAkBma,KACnBA,EAAa5nF,UAAUC,IAAIstE,IAC3Bqa,EAAa1mF,aAAa,QAAS9I,KAAKs5E,eAAe,WACvDkW,EAAa5nF,UAAU+B,OAAO0rE,GAAYM,OAItDmB,EAASjyE,UAAU+pF,kBAAoB,SAAUjsF,EAAGw8E,EAAUoC,GAC1D,IAEIvgC,EAFA/1C,EAAQjL,KACRuvF,EAAahiF,KAAK48B,IAAI58B,KAAKqB,KAAKuwE,EAASE,KAAKpyD,KAAOjtB,KAAK27E,cAAcoS,WAAY,IAEpF,eAAkB/tF,KAAKwb,YAAc,eAAkB+lE,IAAYA,IACnEvgC,EAAYhhD,KAAKohF,aAAajC,EAASE,OAE3C,IAAI6M,EAAkBvpF,GAAKA,EAAE+nB,cAAgB1qB,KAAKmjF,YAAYxgF,GAAK,KAC/D4T,EAAY,CACZxF,MAAOpO,EACP08E,KAAMF,EAASE,KACf4O,WAAY9O,EAAS8O,WACrBG,WAAYmB,EACZxB,UAAW/tF,KAAK27E,cAAcoS,UAC9BhyE,QAAQ,EACRmnE,SAAUgJ,GAEdlsF,KAAKyW,QAAQ,eAAgBF,GAAW,SAAUA,GAG9C,IAAKA,EAAUwF,OACX,GAAIojE,EAAS+O,WAAajjF,EAAM0wE,cAAcuS,WAC1C3iF,YAAW,WAAcN,EAAMwkF,aAAazuC,EAAWm+B,EAAUoC,KAAYt2E,EAAM0wE,cAAc+T,qBAEhG,CACD,IAAK,eAAkB1uC,GAAY,CAC/B,IAAIqrC,EAAcrrC,EAAUn0C,cAAc,IAAMspE,IAC5Cn1B,EAAUn0C,cAAc,IAAMspE,IAAgBn1B,EAAUn0C,cAAc,IAAMupE,IAC3E,eAAkBiW,KACnBA,EAAYzkF,UAAUC,IAAIytE,IAC1B+W,EAAYzkF,UAAU+B,OAAOwsE,GAAcC,KAE/CnrE,EAAM6gF,yBAAyB9qC,EAAW60B,IAC1C5qE,EAAMkhF,kBAAkBnrC,EAAW,WACnCA,EAAUn0C,cAAc,YAAYjF,UAAU+B,OAAOgsE,IACrD,IAAIyT,EAAcpoC,EAAUn0C,cAAc,IAAMwoE,IAC5Cr0B,EAAUn0C,cAAc,IAAMwoE,IAAcr0B,EAAUn0C,cAAc,IAAMqoE,IAC9EkU,EAAYxhF,UAAU+B,OAAO0rE,IACxB,eAAkBr0B,EAAUn0C,cAAc,IAAMspE,MACjD,eAAOn1B,EAAUn0C,cAAc,IAAMspE,KAErCgJ,EAAS/xE,MAAQ,GACjBg8E,EAAYxhF,UAAUC,IAAIstE,IAC1BiU,EAAYtgF,aAAa,QAASmC,EAAMquE,eAAe,aAGvD8P,EAAYxhF,UAAUC,IAAIqtE,IAC1BkU,EAAYtgF,aAAa,QAASmC,EAAMquE,eAAe,YAG/D6F,EAAS+O,WAAa,EACtB,IAAIyB,EAASxQ,EAASE,KAClBuQ,EAAiB3kF,EAAMquE,eAAe,uBACtC5wD,EAAO,CACP/lB,EAAGA,EAAGugF,SAAUgJ,EAChBxhD,UAAW,SACX20C,KAAMp0E,EAAMo4E,aAAasM,EAAQC,EAAgB,KAAK,GACtDjD,WAAYiD,GAEhB3kF,EAAMwL,QAAQ,UAAWiS,GAAM,SAAUA,GAErCzd,EAAMo4E,aAAasM,EAAQjnE,EAAKikE,WAAY,KAC5C1hF,EAAM+1E,mBACN/1E,EAAMg2E,qBAAoB,WAM9CnK,EAASjyE,UAAU4qF,aAAe,SAAUzuC,EAAWm+B,EAAUoC,GACzD,eAAkBvhF,KAAKwb,YAAc,eAAkB+lE,KAAYA,IAAWvgC,GAC9EhhD,KAAK8rF,yBAAyB9qC,EAAW60B,IAE7CsJ,EAAS+O,YAAc,EACvBluF,KAAKmuF,YAAYhP,EAASE,KAAMF,IAEpCrI,EAASjyE,UAAUgrF,qBAAuB,SAAUltF,GAChD,IAAIk5B,EAAgBl5B,EAAElB,OAClBk/E,EAAkBh+E,EAAElB,OAAOgZ,cAC3BlY,EAAQvC,KAAKg4E,SAASh9D,QAAQ2lE,GAC9BrD,EAAWt9E,KAAKi4E,UAAU11E,GAC1B48E,EAAWn/E,KAAKo/E,mBAAmB9B,GACnCzhD,EAAcj0B,UAAU0E,SAAS6pE,IAEjCn2E,KAAKm7E,YAAYgE,EAAUx8E,GAEtBk5B,EAAcj0B,UAAU0E,SAAS8pE,IAEtCp2E,KAAKu/E,aAAaJ,EAAUx8E,GAEvBk5B,EAAcj0B,UAAU0E,SAASgpE,MAClC6J,EAASE,KAAK1F,SAAW35E,KAAKs5E,eAAe,oBAC7Ct5E,KAAK8vF,YAAY3Q,GAAU,GAG3Bn/E,KAAK8vF,YAAY3Q,GAAU,KAIvCrI,EAASjyE,UAAUirF,YAAc,SAAU3Q,EAAU4Q,GAC7CA,GACA5Q,EAASnqE,IAAMmqE,EAASnqE,IAAMhV,KAAK27E,cAAcoS,UACjD5O,EAAS/xE,MAAQ+xE,EAAS/xE,MAAQpN,KAAK27E,cAAcoS,UACrD/tF,KAAKmuF,YAAYhP,EAASE,KAAMF,KAGhCA,EAASE,KAAK1B,WAAa,IAC3BwB,EAASE,KAAK1F,OAAS35E,KAAKs5E,eAAe,wBAC3Ct5E,KAAKw/E,YAAYL,EAASE,OAG7Br/E,KAAKohF,aAAajC,EAASE,MAAOz3E,UAAUC,IAAIwuE,KAErDS,EAASjyE,UAAU4pF,sBAAwB,SAAU9rF,EAAGw8E,EAAUoC,GAC9D,IAAIt2E,EAAQjL,KACZ,GAAiC,MAA7Bm/E,EAASE,KAAK1B,WAAlB,CAGiC,MAA7BwB,EAASE,KAAK1B,YAAmD,MAA7BwB,EAASE,KAAK1B,aAClDwB,EAASE,KAAK1B,WAAa,IAC3BwB,EAASE,KAAK1F,OAAS35E,KAAKs5E,eAAe,eAE/Ct5E,KAAKgvF,eAAe7P,GACpB,IAAIn+B,EAAYhhD,KAAKohF,aAAajC,EAASE,MAC3C,IAAI,eAAkBr+B,GAAtB,CAGA,IACIsrC,EAAetrC,EAAUn0C,cAAc,IAAMyoE,IAMjD,GALK,eAAkBgX,KACnBA,EAAa1kF,UAAUC,IAAIsuE,IAC3BmW,EAAaxjF,aAAa,QAAS9I,KAAKs5E,eAAe,UACvDgT,EAAa1kF,UAAU+B,OAAO2rE,MAE7B,eAAkBt0B,GAAY,CAC/B,KAAMA,EAAUxrC,iBAAiB,IAAMggE,IAAkBpwE,OAAS,GAAI,CAClE,IAAIm+E,EAAgBviC,EAAUn0C,cAAc,IAAM8nE,IAC9C,eAAkB30E,KAAKwb,YACvB+nE,EAAc37E,UAAUC,IAAI8tE,IAC5B4N,EAAc37E,UAAU+B,OAAOksE,IAC/B71E,KAAKkrF,kBAAkBlqC,GACvBhhD,KAAK8rF,yBAAyB9qC,EAAW20B,KAE7C,IAAIqa,EAAYhvC,EAAUn0C,cAAc,IAAMqoE,IAAel0B,EAAUn0C,cAAc,IAAMqoE,IACvFl0B,EAAUn0C,cAAc,IAAMsoE,IAC7B,eAAkB6a,KACnBA,EAAUpoF,UAAUC,IAAIwtE,IACxB2a,EAAUlnF,aAAa,QAAS9I,KAAKs5E,eAAe,UACpD0W,EAAUpoF,UAAU+B,OAAOurE,KAGnC,IAAK3sC,MAAMh7B,KAAK2hC,MAAOvsC,EAAE6oF,OAAS7oF,EAAEsiD,MAAS,OAAS,eAAkBjlD,KAAKwb,WAA0C,MAA7B2jE,EAASE,KAAK1B,WAAoB,CACxH,IAAIsS,EAAc9Q,EAAS8O,WAAajuF,KAAK27E,cAAcoS,UACvD1sF,EAAQkM,KAAK08B,KAAOgmD,EAAattF,EAAE6oF,QAAUrM,EAASE,KAAKpyD,KAAQ,IAAM,KAC7EjtB,KAAKyrF,oBAAoBzqC,EAAWzzC,KAAK2hC,MAAM7tC,GAAOunB,WAAa,KAE3C,IAAxBu2D,EAAS8O,YACTjuF,KAAKm6E,0BAGb,GAAI,eAAkBn5B,EAAUn0C,cAAc,IAAMspE,MAAkB,eAAkBn2E,KAAKwb,UAAW,CACpGxb,KAAKqsF,YAAcrsF,KAAK2I,cAAc,OAAQ,CAAEC,UAAW,2BAA4BtI,MAAO,CAAE,SAAYN,KAAKu3E,eACxF,SAArBv3E,KAAKi8E,aACLj8E,KAAKqsF,YAAYzkF,UAAUC,IAAI,UAEnC,IAAIqoF,EAAYlvC,EAAUn0C,cAAc,IAAMwoE,IAC9C6a,EAAUz1E,cAAc/P,aAAa1K,KAAKqsF,YAAa6D,GACvDlwF,KAAKqsF,YAAYvjF,aAAa,QAAS9I,KAAKs5E,eAAe,UAC3Dt5E,KAAKqsF,YAAYvgF,iBAAiB,SAAS,SAAUnJ,GAAKsI,EAAM4kF,qBAAqBltF,MAAO,OASpGm0E,EAASjyE,UAAUokF,YAAc,SAAUkH,GACvC,IAAI1qF,GAAK,EAET,IAAK0qF,EACD,MAAO,SAEX,GACIA,GAAgB,KAChB1qF,UACK0qF,EAAQ,IAKjB,OAJI1qF,GAAK,IACL0qF,GAAgB,KAChB1qF,EAAI,GAED8H,KAAK48B,IAAIgmD,EAAO,GAAGrgD,QAAQ,GAAK,IAAM,CAAC,KAAM,MAAMrqC,IAQ9DqxE,EAASjyE,UAAUigF,aAAe,SAAU7M,GACxCA,EAAYA,GAAwBj4E,KAAK6kF,cAGzC,IAFA,IAAI3H,EAAQjF,EACR0R,EAAY,GACPlkF,EAAI,EAAGA,EAAIy3E,EAAM93E,OAAQK,IAC9BkkF,EAAU9rE,KAAKq/D,EAAMz3E,GAAGtE,MAK5B,IAHA,IAAIivF,EAAkBzG,EAAU0G,OAC5BC,EAAkB,GAEb/sF,EAAK,EAAGgtF,EAAoBH,EAAiB7sF,EAAKgtF,EAAkBnrF,OAAQ7B,IACjF,KAAIitF,EAASD,EAAkBhtF,GAC/B,IAASkC,EAAI,EAAGA,EAAIy3E,EAAM93E,OAAQK,IAC1B+qF,IAAWtT,EAAMz3E,GAAGtE,MACpBmvF,EAAgBzyE,KAAKq/D,EAAMz3E,IAIvC,OAAO6qF,GAOXxZ,EAASjyE,UAAU6E,QAAU,WACzB1J,KAAK6G,QAAQxF,MAAQ,KACfrB,KAAK07E,iBAAmB17E,KAAKg4B,kBAC/Bh4B,KAAKq4E,WAETr4E,KAAK4vB,eACL5vB,KAAK64E,mBACD74E,KAAKi3E,UACLj3E,KAAK6G,QAAQoD,gBAAgB,YAE5BjK,KAAKshC,SACNthC,KAAK6G,QAAQoD,gBAAgB,YAEjCjK,KAAK6G,QAAQoD,gBAAgB,UAC7BjK,KAAK8qF,uBAEL,IADA,IAAIx5D,EAAa,CAAC,aAAc,YAAa,kBAAmB,YACvD/tB,EAAK,EAAGktF,EAAen/D,EAAY/tB,EAAKktF,EAAarrF,OAAQ7B,IAAM,CACxE,IAAIzC,EAAM2vF,EAAaltF,GACvBvD,KAAK6G,QAAQoD,gBAAgBnJ,GAE5Bd,KAAKk5E,eASNl5E,KAAKu5E,cAAgB,MARhB,eAAkBv5E,KAAKu5E,iBACxBv5E,KAAKu5E,cAAc9+D,cAActR,YAAYnJ,KAAK6G,SAClD,eAAO7G,KAAKu5E,gBAEhBv5E,KAAKu5E,cAAgB,KACrB7yE,EAAO7B,UAAU6E,QAAQ5C,KAAK9G,QAatC82E,EAASjyE,UAAU8zE,OAAS,SAAUuE,EAAOqE,GACzC,IAAIt2E,EAAQjL,KAEZ,GADAk9E,EAAQA,GAAgBl9E,KAAKi4E,UACzBj4E,KAAK67E,mBAAqB77E,KAAK+3E,wBAA0BwJ,GACzDvhF,KAAK2+E,eAAezB,OAEnB,CACD,IAAIwT,EAAgB1wF,KAAK8gF,gBAAgB5D,GACrC3mE,EAAY,CACZssE,eAAgB,GAChBf,eAAgB,KAChB/lE,QAAQ,GAEZ/b,KAAKyW,QAAQ,eAAgBF,GAAW,SAAUA,GACzCA,EAAUwF,SACP,mBACA9Q,EAAM+2E,qBAAuBzrE,EAAUurE,eAAiBvrE,EAAUurE,eAAiB72E,EAAM+2E,qBACzF/2E,EAAMi3E,gBAAmB3rE,EAAUssE,gBAAkBtsE,EAAUssE,eAAez9E,OAAS,EACnFmR,EAAUssE,eAAiB53E,EAAMi3E,iBAEzCj3E,EAAM0lF,YAAYD,EAAenP,SAKjDzK,EAASjyE,UAAUi8E,gBAAkB,SAAU5D,GAC3C,IAAIyT,EAAc,GAOlB,OANIzT,aAAiB95E,MACjButF,EAAczT,EAGdyT,EAAY9yE,KAAKq/D,GAEdyT,GAGX7Z,EAASjyE,UAAU+rF,qBAAuB,SAAU9C,EAAW5xE,EAAU20E,GACrE,IAAI5lF,EAAQjL,KACZ,OAAO,IAAI4yB,SAAQ,SAAUN,EAASO,GAClC,IAAIwsD,EAAOp0E,EAAM4sE,YAAYiW,GAAWvQ,QACxC,IACI,IAAIuT,EAAS,IAAI7L,WAEjB6L,EAAO3L,OAAS,SAAWz8D,GACvB,OAAO,WACH,IACI,IAAIqoE,EAAWroE,EAAK4Z,OAChB+6C,EAAO0T,EAAWA,EAAS16E,MAAM,YAAY,GAAK,KACtDic,EAAQ+qD,GAEZ,MAAO16E,GACHkwB,EAAOlwB,KARH,CAWbmuF,GACHA,EAAO5L,cAAc7F,EAAKt7E,MAAMmY,EAAUA,EAAW20E,IAEzD,MAAOluF,GACHkwB,EAAOlwB,QAKnBm0E,EAASjyE,UAAUmsF,gBAAkB,SAAUjoF,GAC3C,IAAIm0E,EAAQl9E,KAAKi4E,UACjB,IAAKiF,GAA0B,IAAjBA,EAAM93E,OAChB,OAAQ,EAEZ,IAAIk9B,EAAS46C,EAAM93E,OACnB,OAAOk9B,GAGXw0C,EAASjyE,UAAUosF,YAAc,SAAU1uF,EAAOwG,GAC9C,IAAIm0E,EAAQl9E,KAAKi4E,UACjB,IAAKiF,GAA0B,IAAjBA,EAAM93E,OAChB,OAAQ,EAEZ,IAAIi6E,EAAOnC,EAAM36E,GACb2uF,EAAYlxF,KAAK83E,aAErB,OADA93E,KAAK63E,YAAYqZ,GAAa7R,EACvB6R,GAGXpa,EAASjyE,UAAUssF,YAAc,SAAU5uF,EAAOwG,GAC9C,IAAIm0E,EAAQl9E,KAAKi4E,UACjB,IAAKiF,GAA0B,IAAjBA,EAAM93E,OAChB,OAAO,KAEX,IAAIi6E,EAAOnC,EAAM36E,GACjB,OAAK88E,EAGEr/E,KAAKi4E,UAAU11E,GAFX,MAIfu0E,EAASjyE,UAAU8rF,YAAc,SAAUzT,EAAOqE,GAC9C,IAAIt2E,EAAQjL,KACR23E,EAAgB,GACpB,GAAmC,KAA/B33E,KAAK27E,cAAcC,SAAkB,eAAkB57E,KAAK27E,cAAcC,SACtE57E,KAAKk5E,gBAELl5E,KAAKk6B,eAAeC,kBAAkB,iBAAkB+iD,OAHhE,CAOA,IAAKqE,GAAU,eAAkBA,GAC7B,GAAKvhF,KAAKi3E,SAMNU,EAAgB33E,KAAK+qF,eAAe7N,OANpB,CAChB,IAAImC,EAAO,GACXA,EAAKxhE,KAAKq/D,EAAM,IAChBvF,EAAgB33E,KAAK+qF,eAAe1L,QAOxC1H,EAAgBuF,EAmBpB,IAjBA,IAAIkU,EAAU,SAAU3rF,GAChB4rF,EAAOnY,iBAAmBmY,EAAOtC,mBAG7BpX,EAAclyE,IAAMkyE,EAAclyE,GAAG83E,mBAAmB+T,MACxDD,EAAOtM,UAAUpN,EAAclyE,GAAG83E,SAASxqD,MAAK,SAAUsqD,GACtDpyE,EAAMksE,aAAat5D,KAAKw/D,GACxBpyE,EAAMsmF,mBAAmB5Z,EAAelyE,EAAG87E,MAMnD8P,EAAOE,mBAAmB5Z,EAAelyE,EAAG87E,IAGhD8P,EAASrxF,KACJyF,EAAI,EAAGA,EAAIkyE,EAAcvyE,OAAQK,IACtC2rF,EAAQ3rF,KAGhBqxE,EAASjyE,UAAU0sF,mBAAqB,SAAU5Z,EAAelyE,EAAG87E,GAChE,IAKIiQ,EALAvmF,EAAQjL,KACRyxF,EAAa,GACbC,EAAe1xF,KAAK+uF,mBACpBvN,EAAO,IAAI,OAAKxhF,KAAK27E,cAAcC,QAAS,QAAQ,EAAM,MAC9D4F,EAAKE,WAAY,EAGb1hF,KAAKk5E,iBACLsY,EAAc7Z,EAAc5zE,MAAM,GAClC0tF,EAAW5zE,KAAK2zE,EAAY/rF,GAAG83E,UAEnC,IAAIhnE,EAAY,CACZ+mE,SAAWt9E,KAAmB,eAAIwxF,EAAY/rF,GAAKkyE,EAAclyE,GACjEo9E,eAAgB,GAChB9mE,QAAQ,GAER4lE,EAAW,IAAIC,SAwBnB,GAvBAJ,EAAKK,WAAa,SAAUl/E,GACxB4T,EAAUurE,eAAiBN,EAAKO,YAE5B,mBACAxrE,EAAU+mE,SAASC,QAAWmU,EAAuCn7E,EAAU+mE,SAASC,QAA3CtyE,EAAMksE,aAAa1xE,GAC5DwF,EAAM+2E,sBACN/2E,EAAMg3E,mBAAmBT,EAAKO,YAAa92E,EAAM+2E,sBAEjD/2E,EAAMi3E,iBACNj3E,EAAMk3E,eAAeR,EAAU12E,EAAMi3E,kBAG7Cj3E,EAAMwL,QAAQ,YAAaF,GAAW,SAAUA,GAExCtL,EAAMiuE,iBAAmBwY,IACzB/Z,EAAclyE,GAAG83E,QAAUhnE,EAAU+mE,SAASC,QAAUkU,EAAWhsF,IAEnE8Q,EAAUwF,QACV9Q,EAAM4jF,kBAAkBlsF,EAAG4T,EAAWohE,EAAclyE,IAExDwF,EAAMk3E,eAAeR,EAAUprE,EAAUssE,oBAGb,MAAhClL,EAAclyE,GAAGk4E,WAAoB,CACrC,IAAIgU,EAAS3xF,KAAK6G,QAAQuT,aAAa,QACvCunE,EAASW,OAAOqP,EAAQha,EAAclyE,GAAG83E,QAAS5F,EAAclyE,GAAGtE,MAC/DuwF,GAAgB/Z,EAAclyE,GAAGwnB,KAAOjtB,KAAK27E,cAAcoS,UAC3D/tF,KAAKw/E,YAAY7H,EAAclyE,GAAI87E,EAAQ97E,IAG3C+7E,EAAKe,OAAS,SAAU5/E,GACpB,OAAI4T,EAAUwF,QAAU9Q,EAAMiuE,gBAI1BjuE,EAAMuhF,eAAe7pF,EAAGg1E,EAAclyE,GAAI87E,GAHnC,IAOfC,EAAKgN,iBAAmB,SAAU7rF,GAC9B,OAAI4T,EAAUwF,QAAU9Q,EAAMiuE,gBAI1BjuE,EAAM0gF,iBAAiBhpF,EAAGg1E,EAAclyE,GAAI87E,EAAQC,GAH7C,IAQfA,EAAKiB,QAAU,SAAU9/E,GAA8C,OAAzCsI,EAAMyhF,aAAa/pF,EAAGg1E,EAAclyE,IAAY,IAC9E+7E,EAAKmB,KAAKhB,MAItB7K,EAASjyE,UAAU+sF,YAAc,SAAUC,GAKvC,IAJA,IAAI7wC,EAAYhhD,KAAKg4E,SAAS6Z,GAC1BtR,EAAWvgF,KAAKwgF,eAChBC,GAAgBz/B,EAAU5mC,aAAa,oBACvCsmE,EAAa,EACRj7E,EAAI,EAAGA,EAAIosF,EAASpsF,IACzBi7E,IAAgB1gF,KAAKg4E,SAASvyE,GAAG2U,aAAa,oBAGlD,IADA,IAAI03E,EAAYpR,EAAaD,EAAgB,EACpCtyD,EAAI2jE,EAAU3jE,GAAKuyD,EAAYvyD,IACpCoyD,EAASh4D,OAAO4F,EAAG,IAa3B2oD,EAASjyE,UAAU8E,OAAS,SAAU2zE,EAAU6D,EAAgBG,EAAgBsB,EAAal6D,GACzF,IAAIzd,EAAQjL,KACR,eAAkB4iF,KAClBA,GAAc,GAElB,IAAIrsE,EAAY,CACZxF,MAAO2X,EACP3M,QAAQ,EACRk8D,UAAW,GACX4K,eAAgB,GAChBD,YAAaA,EACbd,eAAgB,MAEhBiQ,EAAkB,CAClBh2E,QAAQ,EACR8mE,eAAgB,GAChBf,eAAgB,MAEpB9hF,KAAKyW,QAAQ,eAAgBs7E,GAAiB,SAAUA,GACpD,IAAKA,EAAgBh2E,OAAQ,CACrB,mBACA9Q,EAAM+2E,qBAAuB+P,EAAgBjQ,eAC7C72E,EAAMi3E,gBAAkB6P,EAAgBlP,gBAG5C,GAAI53E,EAAM41E,iBAAmB51E,EAAMywE,gBAC/BnlE,EAAU0hE,UAAYqF,EACtBryE,EAAMwL,QAAQ,WAAYF,GAAW,SAAUA,GAC3C,IAAKA,EAAUwF,OAIX,IAHA,IAAIi2E,EAAgB/mF,EAAM61E,gBAAgBxD,GACtC2U,GAAc,EACdJ,OAAU,EACLtuF,EAAK,EAAG2uF,EAAkBF,EAAezuF,EAAK2uF,EAAgB9sF,OAAQ7B,IAAM,CACjF,IAAI85E,EAAO6U,EAAgB3uF,GAI3B,GAHK0uF,IACDJ,EAAU5mF,EAAM+sE,SAASh9D,QAAQqiE,EAAKqM,OAEtCmI,GAAW,EAAG,CACd,IAAI1xD,EAAgB,eAAkBk9C,EAAK/5C,OAAsB,KAAb+5C,EAAK/5C,MACrDnD,GACA,eAAOA,GAEXl1B,EAAM2mF,YAAYC,GAClB,eAAO5mF,EAAM+sE,SAAS6Z,IACtB5mF,EAAM+sE,SAASzvD,OAAOspE,EAAS,GAC/BI,GAAc,EACdJ,GAAW,YAM1B,IAAI5mF,EAAMosC,SAAW,eAAkBpsC,EAAM0wE,cAAc8F,YAAgD,KAAlCx2E,EAAM0wE,cAAc8F,WAC1Fx2E,EAAMywE,gBAQT,CACD,IAAI+D,EAAc,GAClBnC,EAAY,eAAkBA,GAAuBryE,EAAMgtE,UAAjBqF,EACtCA,aAAoBl6E,MACpBq8E,EAAcnC,EAGdmC,EAAY5hE,KAAKy/D,GAErB/mE,EAAU0hE,UAAYwH,EAwBtB,IAvBA,IAAIgC,EAAYx2E,EAAM0wE,cAAc8F,UAChC0Q,EAA0B,KAAd1Q,IAAoB,eAAkBA,GAClD2Q,EAAU,SAAUlV,GACZjyE,EAAMgtE,UAAUj9D,QAAQkiE,GACN,MAArBA,EAAMS,YAA2C,MAArBT,EAAMS,aAAuBwU,EAIrD7Q,EAQDr2E,EAAMi2E,gBAAgBhE,EAAOiE,GAP7Bl2E,EAAMwL,QAAQ,WAAYF,GAAW,SAAUA,GACtCA,EAAUwF,QACX9Q,EAAMi2E,gBAAgBhE,EAAOiE,MANzCl2E,EAAMo2E,mBAAmBnE,EAAO3mE,EAAW+qE,EAAgBH,GAc3Dz4D,IAASA,EAAKjnB,OAAOmG,UAAU0E,SAAS4oE,KACxCjqE,EAAMg2E,qBAAoB,IAGzB19E,EAAK,EAAG8uF,EAAgB5S,EAAal8E,EAAK8uF,EAAcjtF,OAAQ7B,IAAM,CAC3E,IAAI25E,EAAQmV,EAAc9uF,GAC1B6uF,EAAQlV,SA1CZ3mE,EAAU0hE,UAAYhtE,EAAMu1E,eAC5Bv1E,EAAMwL,QAAQ,WAAYF,GAAW,SAAUA,GACtCA,EAAUwF,QACX9Q,EAAMotE,mBAiD9BvB,EAASjyE,UAAUwzE,SAAW,WAC1B,IAAIptE,EAAQjL,KACZ,GAAI,eAAkBA,KAAK85E,cAAiB95E,KAAK07E,kBAAmB17E,KAAKg4B,iBAKrE,MAJyB,SAArBh4B,KAAKi8E,cACLj8E,KAAK6G,QAAQxF,MAAQ,SAEzBrB,KAAKi4E,UAAY,IAGrB,IAAI1hE,EAAY,CACZwF,QAAQ,EACRk8D,UAAWj4E,KAAKi4E,WAEpBj4E,KAAKyW,QAAQ,WAAYF,GAAW,SAAUA,GACrCA,EAAUwF,SACX9Q,EAAMkyE,YACNlyE,EAAMwsE,oBAAsB,EAC5BxsE,EAAM8a,OAAS,OAS3B+wD,EAASjyE,UAAU27E,aAAe,SAAUj+E,GACxC,GAAKvC,KAAKk5E,eAQL,CACD,IAAK,IAAIzzE,EAAI,EAAGA,EAAIzF,KAAKi4E,UAAU7yE,OAAQK,IACvCzF,KAAKi4E,UAAUxyE,GAAG83E,QAAUv9E,KAAKm3E,aAAa1xE,GAElD,OAAOzF,KAAKi4E,UAXZ,OAAI,eAAkB11E,GACXvC,KAAKi4E,UAGLj4E,KAAKsgF,iBAAiB/9E,IAgBzCu0E,EAASjyE,UAAUu2E,MAAQ,SAAUkC,EAAUiE,GAC3CjE,EAAWA,GAAsBt9E,KAAKi4E,UACtC,IAAIqa,EAAgBtyF,KAAK8gF,gBAAgBxD,GACzCt9E,KAAKuyF,eAAeD,EAAe/Q,IAEvCzK,EAASjyE,UAAU0tF,eAAiB,SAAUjV,EAAUiE,GAEpD,IADA,IAAIrE,EAAQl9E,KAAKwyF,SAASlV,GACjB73E,EAAI,EAAGA,EAAIy3E,EAAM93E,OAAQK,IACF,MAAxBy3E,EAAMz3E,GAAGk4E,YACT39E,KAAKm7E,YAAYn7E,KAAKo/E,mBAAmBlC,EAAMz3E,GAAI,MAAO,KAAM87E,IAI5EzK,EAASjyE,UAAU2tF,SAAW,SAAUlV,GACpC,IAAIJ,EAAQ,GAOZ,OANK,eAAkBI,IAAeA,aAAoBl6E,MAItD85E,EAAQI,EAHRJ,EAAMr/D,KAAKy/D,GAKRJ,GAQXpG,EAASjyE,UAAUw2E,OAAS,SAAUiC,EAAUiE,GAC5CjE,EAAWA,GAAsBt9E,KAAKi4E,UACtC,IAAIqa,EAAgBtyF,KAAK8gF,gBAAgBxD,GACzCt9E,KAAKyyF,YAAYH,EAAe/Q,IAEpCzK,EAASjyE,UAAU4tF,YAAc,SAAUnV,EAAUiE,GAEjD,IADA,IAAIrE,EAAQl9E,KAAKwyF,SAASlV,GACjB73E,EAAI,EAAGA,EAAIy3E,EAAM93E,OAAQK,IACF,MAAxBy3E,EAAMz3E,GAAGk4E,YACT39E,KAAKu/E,aAAav/E,KAAKo/E,mBAAmBlC,EAAMz3E,GAAI,MAAO,KAAM87E,IAU7EzK,EAASjyE,UAAUy2E,MAAQ,SAAUgC,EAAUyS,EAAmBxO,GAC9DjE,EAAWA,GAAsBt9E,KAAKi4E,UACtC,IAAIqa,EAAgBtyF,KAAK8gF,gBAAgBxD,GACzCt9E,KAAK0yF,iBAAiBJ,EAAevC,EAAmBxO,IAE5DzK,EAASjyE,UAAU6tF,iBAAmB,SAAUpV,EAAUyS,EAAmBxO,GAEzE,IADA,IAAIrE,EAAQl9E,KAAKwyF,SAASlV,GACjB73E,EAAI,EAAGA,EAAIy3E,EAAM93E,OAAQK,IAC9B,GAA4B,MAAxBy3E,EAAMz3E,GAAGk4E,YAA8C,MAAxBT,EAAMz3E,GAAGk4E,WACxC,GAAI39E,KAAK27E,cAAcoS,UAAY,EAC/B/tF,KAAK8vF,YAAY9vF,KAAKo/E,mBAAmBlC,EAAMz3E,GAAI,MAAOsqF,OAEzD,CACD,IAAI/uC,OAAY,EACXugC,IACDvgC,EAAYhhD,KAAKg4E,SAASh4E,KAAKi4E,UAAUj9D,QAAQkiE,EAAMz3E,MAE3DzF,KAAKusF,mBAAmB,KAAMrP,EAAMz3E,GAAIu7C,EAAWugC,KAWnEzK,EAASjyE,UAAUkX,OAAS,SAAUuhE,GAClCA,EAAWA,GAAsBt9E,KAAKi4E,UACtC,IAAI0a,EAAiB3yF,KAAK8gF,gBAAgBxD,GAC1Ct9E,KAAK4yF,aAAaD,IAEtB7b,EAASjyE,UAAU+tF,aAAe,SAAUtV,GACxC,IAAIJ,EAAQl9E,KAAKwyF,SAASlV,GAC1B,GAAIt9E,KAAK27E,cAAcoS,UAAY,GAC/B,IAAK,IAAItoF,EAAI,EAAGA,EAAIy3E,EAAM93E,OAAQK,IAC9B,GAA4B,MAAxBy3E,EAAMz3E,GAAGk4E,WAAoB,CAC7B,IAAIwB,EAAWn/E,KAAKo/E,mBAAmBlC,EAAMz3E,GAAI,MACjD05E,EAASE,KAAK1B,WAAa,IAC3BwB,EAASE,KAAK1F,OAAS35E,KAAKs5E,eAAe,oBAC3Ct5E,KAAKgvF,eAAe7P,GACpBn/E,KAAK6yF,sBAAsB3V,EAAMz3E,UAKzC,IAASA,EAAI,EAAGA,EAAIy3E,EAAM93E,OAAQK,IACF,MAAxBy3E,EAAMz3E,GAAGk4E,aACTT,EAAMz3E,GAAGk4E,WAAa,IACtBT,EAAMz3E,GAAGk0E,OAAS35E,KAAKs5E,eAAe,oBACtCt5E,KAAK6yF,sBAAsB3V,EAAMz3E,MAKjDqxE,EAASjyE,UAAUguF,sBAAwB,SAAU3V,GACjD,IAAIl8B,EAAYhhD,KAAKohF,aAAalE,GAClC,IAAK,eAAkBl8B,IAAc,eAAkBhhD,KAAKwb,UAAW,CACnE,IAAIulE,EAAgB//B,EAAUn0C,cAAc,IAAMwoE,IAClDrH,GAAc,CAAEvsE,OAAQs/E,EAAezyE,MAAO,SAC9CwlE,GAAYiN,KAGpB,GAAW,CACP,eAAQ,CAAEnF,QAAS,GAAI6F,UAAW,IAAM,KACzC3K,EAASjyE,UAAW,qBAAiB,GACxC,GAAW,CACP,gBAAS,IACViyE,EAASjyE,UAAW,wBAAoB,GAC3C,GAAW,CACP,eAAS,KACViyE,EAASjyE,UAAW,sBAAkB,GACzC,GAAW,CACP,eAAS,KACViyE,EAASjyE,UAAW,gBAAY,GACnC,GAAW,CACP,gBAAS,IACViyE,EAASjyE,UAAW,eAAW,GAClC,GAAW,CACP,eAAS,OACViyE,EAASjyE,UAAW,gBAAY,GACnC,GAAW,CACP,gBAAS,IACViyE,EAASjyE,UAAW,gBAAY,GACnC,GAAW,CACP,gBAAS,IACViyE,EAASjyE,UAAW,kBAAc,GACrC,GAAW,CACP,eAAQ,GAAI,KACbiyE,EAASjyE,UAAW,eAAW,GAClC,GAAW,CACP,eAAS,KACViyE,EAASjyE,UAAW,yBAAqB,GAC5C,GAAW,CACP,eAAS,IACViyE,EAASjyE,UAAW,mBAAe,GACtC,GAAW,CACP,eAAS,MACViyE,EAASjyE,UAAW,mBAAe,GACtC,GAAW,CACP,eAAS,OACViyE,EAASjyE,UAAW,gBAAY,GACnC,GAAW,CACP,eAAW,CAAC,IAAK,KAClBiyE,EAASjyE,UAAW,aAAS,GAChC,GAAW,CACP,gBAAS,IACViyE,EAASjyE,UAAW,oBAAgB,GACvC,GAAW,CACP,gBAAS,IACViyE,EAASjyE,UAAW,uBAAmB,GAC1C,GAAW,CACP,eAAS,YACViyE,EAASjyE,UAAW,kBAAc,GACrC,GAAW,CACP,kBACDiyE,EAASjyE,UAAW,eAAW,GAClC,GAAW,CACP,kBACDiyE,EAASjyE,UAAW,sBAAkB,GACzC,GAAW,CACP,kBACDiyE,EAASjyE,UAAW,iBAAa,GACpC,GAAW,CACP,kBACDiyE,EAASjyE,UAAW,oBAAgB,GACvC,GAAW,CACP,kBACDiyE,EAASjyE,UAAW,yBAAqB,GAC5C,GAAW,CACP,kBACDiyE,EAASjyE,UAAW,gBAAY,GACnC,GAAW,CACP,kBACDiyE,EAASjyE,UAAW,iBAAa,GACpC,GAAW,CACP,kBACDiyE,EAASjyE,UAAW,eAAW,GAClC,GAAW,CACP,kBACDiyE,EAASjyE,UAAW,eAAW,GAClC,GAAW,CACP,kBACDiyE,EAASjyE,UAAW,gBAAY,GACnC,GAAW,CACP,kBACDiyE,EAASjyE,UAAW,oBAAgB,GACvC,GAAW,CACP,kBACDiyE,EAASjyE,UAAW,gBAAY,GACnC,GAAW,CACP,kBACDiyE,EAASjyE,UAAW,gBAAY,GACnC,GAAW,CACP,kBACDiyE,EAASjyE,UAAW,cAAU,GACjC,GAAW,CACP,kBACDiyE,EAASjyE,UAAW,oBAAgB,GACvC,GAAW,CACP,kBACDiyE,EAASjyE,UAAW,oBAAgB,GACvC,GAAW,CACP,kBACDiyE,EAASjyE,UAAW,sBAAkB,GACzC,GAAW,CACP,kBACDiyE,EAASjyE,UAAW,iBAAa,GACpC,GAAW,CACP,kBACDiyE,EAASjyE,UAAW,eAAW,GAClC,GAAW,CACP,kBACDiyE,EAASjyE,UAAW,gBAAY,GACnCiyE,EAAW,GAAW,CAClB,QACDA,GACIA,EA10GkB,CA20G3B,QCr8GE,GAAuB,WACvB,SAASgc,EAAM7yD,EAAQu5B,GACnBx5D,KAAK+yF,eAAgB,EACrB/yF,KAAK88B,MAAQ,KACb98B,KAAK+8B,MAAQ,KACb/8B,KAAKgzF,WAAa,GAClBhzF,KAAKigC,OAASA,EACdjgC,KAAKgnE,MAAQ/mC,EAAOp5B,QAAQU,GAC5BvH,KAAKinE,KAAOzN,EAAeI,WAAW,aACtC55D,KAAKknE,gBAAkB1N,EAAeI,WAAW,mBACjD55D,KAAKmnE,gBAAkB3N,EAAeI,WAAW,sBACjD55D,KAAK8L,mBAm2DT,OAj2DAgnF,EAAMjuF,UAAUiH,iBAAmB,WAC3B9L,KAAKigC,OAAO09B,cAGhB39D,KAAKigC,OAAOz/B,GAAG,OAAgBR,KAAKqnE,UAAWrnE,MAC/CA,KAAKigC,OAAOz/B,GAAG,OAAcR,KAAKwL,QAASxL,MAC3CA,KAAKigC,OAAOz/B,GAAG,OAAoBR,KAAKizF,YAAajzF,MACrDA,KAAKigC,OAAOz/B,GAAG,OAAwBR,KAAKkzF,sBAAuBlzF,MACnEA,KAAKigC,OAAOz/B,GAAG,OAA2BR,KAAKunE,gBAAiBvnE,MAChEA,KAAKigC,OAAOz/B,GAAG,OAAqBR,KAAKmzF,QAASnzF,MAClDA,KAAKigC,OAAOz/B,GAAG,OAAoBR,KAAKozF,UAAWpzF,MACnDA,KAAKigC,OAAOz/B,GAAG,OAAkBR,KAAKqzF,cAAerzF,MACrDA,KAAKigC,OAAOz/B,GAAG,OAAiBR,KAAKszF,cAAetzF,MACpDA,KAAKigC,OAAOz/B,GAAG,OAAsBR,KAAK2nE,qBAAsB3nE,MAChEA,KAAKigC,OAAOz/B,GAAG,OAAwBR,KAAK49D,kBAAmB59D,MAC/DA,KAAKigC,OAAOz/B,GAAG,OAAkBR,KAAKuzF,UAAWvzF,MACjDA,KAAKigC,OAAOz/B,GAAG,OAAuBR,KAAKwzF,gBAAiBxzF,MAC5DA,KAAKigC,OAAOz/B,GAAG,OAAmBR,KAAKyzF,YAAazzF,MACpDA,KAAKigC,OAAOz/B,GAAG,QAAcR,KAAK0zF,WAAY1zF,MAC9CA,KAAKigC,OAAOz/B,GAAG,OAAgBR,KAAKiY,oBAAqBjY,QAE7D8yF,EAAMjuF,UAAUoT,oBAAsB,WAClC,IAAIjY,KAAKigC,OAAO09B,YAAhB,CAGA39D,KAAKigC,OAAOk1B,IAAI,OAAgBn1D,KAAKqnE,WACrCrnE,KAAKigC,OAAOk1B,IAAI,OAAcn1D,KAAKwL,SACnCxL,KAAKigC,OAAOk1B,IAAI,OAAoBn1D,KAAKizF,aACzCjzF,KAAKigC,OAAOk1B,IAAI,OAAwBn1D,KAAKkzF,uBAC7ClzF,KAAKigC,OAAOk1B,IAAI,OAAqBn1D,KAAKmzF,SAC1CnzF,KAAKigC,OAAOk1B,IAAI,OAA2Bn1D,KAAKunE,iBAChDvnE,KAAKigC,OAAOk1B,IAAI,OAAoBn1D,KAAKozF,WACzCpzF,KAAKigC,OAAOk1B,IAAI,OAAkBn1D,KAAKqzF,eACvCrzF,KAAKigC,OAAOk1B,IAAI,OAAiBn1D,KAAKszF,eACtCtzF,KAAKigC,OAAOk1B,IAAI,OAAsBn1D,KAAK2nE,sBAC3C3nE,KAAKigC,OAAOk1B,IAAI,OAAwBn1D,KAAK49D,mBAC7C59D,KAAKigC,OAAOk1B,IAAI,OAAkBn1D,KAAKuzF,WACvCvzF,KAAKigC,OAAOk1B,IAAI,OAAuBn1D,KAAKwzF,iBAC5CxzF,KAAKigC,OAAOk1B,IAAI,OAAmBn1D,KAAKyzF,aACxCzzF,KAAKigC,OAAOk1B,IAAI,QAAcn1D,KAAK0zF,YACnC1zF,KAAKigC,OAAOk1B,IAAI,OAAgBn1D,KAAKiY,qBACrC,IAAIwgD,EAAcz4D,KAAKigC,OAAOg4B,eAAerwC,OAAS5nB,KAAKigC,OAAOE,aAAa+3B,cACzEl4D,KAAKigC,OAAOE,aAClBs4B,EAAYxgD,oBAAoB,OAAQjY,KAAK2zF,SAAS1rF,KAAKjI,OAAO,GAClEy4D,EAAYxgD,oBAAoB,YAAajY,KAAK4zF,UAAU3rF,KAAKjI,OAAO,GACxEy4D,EAAYxgD,oBAAoB,YAAajY,KAAK6zF,UAAU5rF,KAAKjI,OAAO,GACxEy4D,EAAYxgD,oBAAoB,WAAYjY,KAAK8zF,SAAS7rF,KAAKjI,OAAO,GACjE,eAAkBA,KAAK83D,iBACxB,OAAanuD,OAAO3J,KAAK83D,cAAcoF,eAAgB,OAAQ1/B,cAAex9B,KAAK+zF,YACnF/zF,KAAKigC,OAAOy3B,UAAUC,cAAcq8B,SAAS7+B,IAAI,OAAkBn1D,KAAKi0F,WACpEj0F,KAAKigC,OAAOi0D,oBAAoB5/E,SAChC,OAAa3K,OAAO3J,KAAKigC,OAAO63B,cAAcoF,eAAgB,OAAQ9kC,gBAAiBp4B,KAAKm0F,aAC5F,OAAaxqF,OAAO3J,KAAKigC,OAAOp5B,QAAQqxD,cAAe,YAAal4D,KAAK+rE,iBACzE,OAAapiE,OAAO3J,KAAK83D,cAAcoF,eAAgB,MAAOl9D,KAAKo0F,kBAI/EtB,EAAMjuF,UAAU+4D,kBAAoB,WAC5B59D,KAAK4nE,WACL5nE,KAAK4nE,UAAU/vD,KAAK,CAAEgwD,aAAa,KAG3CirB,EAAMjuF,UAAU4uF,YAAc,WAC1BzzF,KAAK83D,cAAgB93D,KAAKknE,gBAAgBpM,YAAY,OAAW6D,SACjE,OAAa92D,IAAI7H,KAAK83D,cAAcoF,eAAgB,OAAQ1/B,cAAex9B,KAAK+zF,WAAY/zF,MACxFA,KAAKigC,OAAOi0D,oBAAoB5/E,SAChC,OAAazM,IAAI7H,KAAKigC,OAAO63B,cAAcoF,eAAgB,OAAQ9kC,gBAAiBp4B,KAAKm0F,YAAan0F,MACtG,OAAa6H,IAAI7H,KAAKigC,OAAOp5B,QAAQqxD,cAAe,YAAal4D,KAAK+rE,gBAAiB/rE,MACvF,OAAa6H,IAAI7H,KAAK83D,cAAcoF,eAAgB,MAAOl9D,KAAKo0F,aAAcp0F,OAElF,IAAIy4D,EAAcz4D,KAAKigC,OAAOg4B,eAAerwC,OAAS5nB,KAAKigC,OAAOE,aAAa+3B,cAC3El4D,KAAKigC,OAAOE,aAChBs4B,EAAY3sD,iBAAiB,OAAQ9L,KAAK2zF,SAAS1rF,KAAKjI,OAAO,GAC/Dy4D,EAAY3sD,iBAAiB,YAAa9L,KAAK4zF,UAAU3rF,KAAKjI,OAAO,GACrEy4D,EAAY3sD,iBAAiB,YAAa9L,KAAK8zF,SAAS7rF,KAAKjI,OAAO,GACpEy4D,EAAY3sD,iBAAiB,WAAY9L,KAAK8zF,SAAS7rF,KAAKjI,OAAO,IAEvE8yF,EAAMjuF,UAAUovF,UAAY,SAAUvrE,GAClC,GAAsC,SAAlCA,EAAK0vC,WAAWr6C,eAA8D,SAAlC2K,EAAK0vC,WAAWr6C,cAC5D,IAAK,IAAItY,EAAI,EAAGA,EAAIzF,KAAKigC,OAAOy3B,UAAU+C,mBAAmBr1D,OAAQK,IAAK,CACtE,IAAI4uF,EAAOr0F,KAAKigC,OAAOt3B,cAAc,OACjC0hE,EAAc,eAAUrqE,KAAKigC,OAAOy3B,UAAU+C,mBAAmBh1D,GAAGwV,MACxEo5E,EAAKlrF,YAAYkhE,GACjB,IAAIiqB,EAAMD,EAAK7+E,iBAAiB,OAChC,GAAI6+E,EAAKxnF,cAAc,kBAAoBynF,EAAIlvF,OAAS,EAAG,CACvD,IAAK,IAAI+oB,EAAI,EAAGA,EAAImmE,EAAIlvF,OAAQ+oB,IAC5BmmE,EAAInmE,GAAG1mB,MAAM8sF,QAAU,GAE3B,eAAOF,EAAKxnF,cAAc,kBAC1B7M,KAAKigC,OAAOy3B,UAAU+C,mBAAmBh1D,GAAGwV,KAAOo5E,EAAKnqE,aAKxE4oE,EAAMjuF,UAAU2vF,UAAY,SAAU7xF,GAClC3C,KAAKy0F,gBACLz0F,KAAK00F,OAAOj6E,cAAchT,MAAMq2C,OAAS,OACrC,OAAQ32C,UACR,eAAY,CAACxE,EAAElB,OAAOgZ,eAAgB,cAE1C,IAAIiO,EAAO,iBAAa,CAAEisE,YAAa,UAAa,CAAE5jF,MAAOpO,EAAGgyF,YAAa,UAC7E30F,KAAKigC,OAAOxpB,QAAQ,QAAmBiS,GAC3B1oB,KAAK40F,UAAUjyF,GACd3C,KAAKigC,OAAOg4B,eAAqB,QAAI3sD,OAAO0gD,YACrDhsD,KAAKigC,OAAOp5B,QAAQoc,wBAAwBjJ,IAAMrX,EAAEkvC,SAAUlvC,EAAEo6B,MACpE/8B,KAAKigC,OAAOy3B,UAAUC,cAAcq8B,SAASxzF,GAAG,OAAkBR,KAAKi0F,UAAWj0F,MAClFA,KAAKigC,OAAOy3B,UAAUgD,YAE1Bo4B,EAAMjuF,UAAUsvF,YAAc,SAAUxxF,EAAGoG,GACvC,IAAIkC,EAAQjL,KACZ,IAAIA,KAAKigC,OAAOyB,SAAhB,CAGA,IAAIjgC,EAASsH,GAAYpG,EAAElB,OAC3B,GAAuB,QAAnBA,EAAOgW,QAAmB,CAC1BzX,KAAKigC,OAAO40D,qBAAqBlyF,GACjC,IAAI2xF,EAAM7yF,EACNzB,KAAK80F,cAAgB90F,KAAK83D,cAAcoF,eAAe5wD,SAAStM,KAAK80F,eACrE,eAAO90F,KAAK80F,cAEhB90F,KAAK+0F,YAAYT,GAErB,GAAI7yF,EAAOmG,UAAU0E,SAAS,sBAAuB,CAwBjD,GAvBwD,IAApDtM,KAAKigC,OAAOy3B,UAAU+C,mBAAmBr1D,QACzCpF,KAAKigC,OAAOy3B,UAAUgD,WAE1B16D,KAAK88B,MAAQ98B,KAAK40F,UAAUjyF,GAC5B3C,KAAK+8B,MAAQ/8B,KAAKg1F,UAAUryF,GAC5BA,EAAEqJ,iBACFrJ,EAAEsyF,2BACFj1F,KAAKy0F,gBACDz0F,KAAK+nE,cACL/nE,KAAK+nE,aAAamtB,WAAWxsB,YAE7BjnE,EAAOmG,UAAU0E,SAAS,mBAC1BtM,KAAKm1F,cAAcC,SAAU,GAE7B3zF,EAAOmG,UAAU0E,SAAS,oBAC1BtM,KAAKm1F,cAAcE,UAAW,GAE9B5zF,EAAOmG,UAAU0E,SAAS,mBAC1BtM,KAAKm1F,cAAcG,SAAU,GAE7B7zF,EAAOmG,UAAU0E,SAAS,oBAC1BtM,KAAKm1F,cAAcI,UAAW,GAE9B,OAAQpuF,UAAYnH,KAAK83D,cAAcoF,eAAe5wD,SAAStM,KAAK80F,gBACnE90F,KAAK80F,aAAaltF,UAAU0E,SAAS,cACtC,eAAS,CAACtM,KAAK80F,cAAe,kBAE7B,CACD,IAAIpsE,EAAO,iBAAa,CAAEisE,YAAa,UAAa,CAAE5jF,MAAOpO,EAAGgyF,YAAa,UAC7E30F,KAAKigC,OAAOxpB,QAAQ,QAAoBiS,GAAM,SAAU8sE,GAChDA,EAAgBz5E,QAChB9Q,EAAMwqF,wBAIlB,OAAa5tF,IAAI7H,KAAK83D,cAAcC,cAAe,OAAQv6B,cAAex9B,KAAKw0F,UAAWx0F,SAGlG8yF,EAAMjuF,UAAUkvF,WAAa,SAAUpxF,GAC/B,OAAQwE,WACkB,QAArBxE,EAAElB,OAAOgW,SACyB,MAAnC9U,EAAElB,OAAOgZ,cAAchD,SACD,QAArB9U,EAAElB,OAAOgW,SACVzX,KAAK83D,cAAcoF,eAAep0D,aAAa,kBAAmB,SAClEnG,EAAElB,OAAOwX,SAGJjZ,KAAKigC,OAAOyB,UACb1hC,KAAK83D,cAAcoF,eAAep0D,aAAa,kBAAmB,SAIrD,QAArBnG,EAAElB,OAAOgW,SAC0B,MAAnC9U,EAAElB,OAAOgZ,cAAchD,SACvB9U,EAAEqJ,kBAGV8mF,EAAMjuF,UAAUuvF,aAAe,WACvBp0F,KAAK80F,cAAgB90F,KAAK83D,cAAcoF,eAAe5wD,SAAStM,KAAK80F,eACrE90F,KAAKy1F,sBAGb3C,EAAMjuF,UAAUkwF,YAAc,SAAUpyF,GACpC3C,KAAKy0F,gBACLz0F,KAAK00F,OAAS/xF,EACd,eAAS,CAAC3C,KAAK00F,QAAS,YACxB10F,KAAK80F,aAAe90F,KAAKigC,OAAOt3B,cAAc,OAAQ,CAAEC,UAAW,eAAgBrB,GAAIvH,KAAKgnE,MAAQ,eACpGhnE,KAAK80F,aAAa3rF,YAAYnJ,KAAKigC,OAAOt3B,cAAc,OAAQ,CAC5DC,UAAW,mCAAoCyxB,OAAQ,yBAE3Dr6B,KAAK80F,aAAa3rF,YAAYnJ,KAAKigC,OAAOt3B,cAAc,OAAQ,CAC5DC,UAAW,oCAAqCyxB,OAAQ,yBAE5Dr6B,KAAK80F,aAAa3rF,YAAYnJ,KAAKigC,OAAOt3B,cAAc,OAAQ,CAC5DC,UAAW,mCAAoCyxB,OAAQ,yBAE3Dr6B,KAAK80F,aAAa3rF,YAAYnJ,KAAKigC,OAAOt3B,cAAc,OAAQ,CAC5DC,UAAW,oCAAqCyxB,OAAQ,yBAExD,OAAQlzB,UACR,eAAS,CAACnH,KAAK80F,cAAe,aAElCnyF,EAAE8E,MAAM8sF,QAAU,oBAClBv0F,KAAK01F,aAAa/yF,EAAG3C,KAAK80F,cAC1B90F,KAAK21F,gBAAgBhzF,GACrB3C,KAAK83D,cAAcoF,eAAe/zD,YAAYnJ,KAAK80F,cACnD,OAAajtF,IAAI7H,KAAK83D,cAAcC,cAAe,OAAQzrB,eAAgBtsC,KAAK41F,SAAU51F,OAE9F8yF,EAAMjuF,UAAU+vF,UAAY,SAAUjyF,GAClC,OAAIA,EAAEk6B,SAAWl6B,EAAEk6B,QAAQz3B,OAChBzC,EAAEk6B,QAAQ,GAAGC,MAGbn6B,EAAEm6B,OAGjBg2D,EAAMjuF,UAAUmwF,UAAY,SAAUryF,GAClC,OAAIA,EAAEk6B,SAAWl6B,EAAEk6B,QAAQz3B,OAChBzC,EAAEk6B,QAAQ,GAAGE,MAGbp6B,EAAEo6B,OAGjB+1D,EAAMjuF,UAAU6wF,aAAe,SAAU/yF,EAAGmyF,GACxC,IAAIx6E,EAAMta,KAAK61F,QAAQlzF,GACnBqX,EAAMM,EAAIN,IACV+M,EAAOzM,EAAIyM,KACX+uE,EAASnzF,EAAE2L,MACXynF,EAASpzF,EAAE2O,OACX0kF,EAAU,OAAgB,SAAK,EAAIrtE,SAAUhmB,EAAE8E,MAAM8sF,QAAQxwF,OAAO,GAAK,IAAO,EAC/E,EAAI4kB,SAAUhmB,EAAE8E,MAAM8sF,QAAQxwF,OAAO,GAAK,IAAO,EAClDkyF,EAAW,OAAgB,SAAI,EAAI,EACvCnB,EAAajoF,cAAc,kBAAkBpF,MAAMsf,KAAQA,EAAOivE,EAAU,KAC5ElB,EAAajoF,cAAc,kBAAkBpF,MAAMuS,IAAQ+7E,EAASC,EAAUh8E,EAAO,KACrF86E,EAAajoF,cAAc,mBAAmBpF,MAAMsf,KAAS+uE,GAAUE,EAASC,GAAWlvE,EAAQ,KACnG+tE,EAAajoF,cAAc,mBAAmBpF,MAAMuS,IAAQ+7E,EAASC,EAAUh8E,EAAO,KACtF86E,EAAajoF,cAAc,mBAAmBpF,MAAMsf,KAAS+uE,GAAUE,EAASC,GAAWlvE,EAAQ,KACnG+tE,EAAajoF,cAAc,mBAAmBpF,MAAMuS,IAAOA,EAAM,EAAY,KAC7E86E,EAAajoF,cAAc,kBAAkBpF,MAAMsf,KAAQA,EAAOivE,EAAU,KAC5ElB,EAAajoF,cAAc,kBAAkBpF,MAAMuS,IAAOA,EAAMg8E,EAAU,MAE9ElD,EAAMjuF,UAAUgxF,QAAU,SAAU7rF,GAChC,IAAIksF,EAAe,CAAC,KAAM,KAAM,QAAS,KACrCC,EAAe,CAAEn8E,IAAK,EAAG+M,KAAM,GAC/BmsD,EAASlpE,EAAKiZ,wBACdmzE,EAAMpsF,EAAKkuD,cACXoL,GAAiBt5D,EAAKs5D,eAAiBt5D,EAAKs5D,aAAa17D,UAAU0E,SAAS,kBAC5E4pF,EAAal7E,QAAQhR,EAAKs5D,aAAa7rD,UAAY,GACnD,eAAQzN,EAAM,IAAMhK,KAAKigC,OAAO42B,QAAU,kBAAoB7sD,EAAKs5D,eAAiB8yB,EAAIla,gBAC5F,MAAO5Y,IACFA,IAAiB8yB,EAAIhhF,MAAQkuD,IAAiB8yB,EAAIla,kBACnB,WAAhC5Y,EAAa77D,MAAMyU,SACnBonD,EAAeA,EAAa96C,WAKhC,OAHI86C,GAAgBA,IAAiBt5D,GAAkC,IAA1Bs5D,EAAa+yB,WACtDF,EAAe7yB,EAAargD,yBAEzB,CACHjJ,IAAKk5D,EAAOl5D,IAAMm8E,EAAan8E,IAC/B+M,KAAMmsD,EAAOnsD,KAAOovE,EAAapvE,OAGzC+rE,EAAMjuF,UAAUyxF,eAAiB,SAAUhC,EAAKiC,EAAWC,GACvD,IAAI,eAAkBlC,EAAIhmF,OAA1B,CAGA,IAAIA,EAA4B,KAApBgmF,EAAI7sF,MAAM6G,MAAeqa,SAAS2rE,EAAI7sF,MAAM6G,MAAO,IAAMgmF,EAAIhmF,MACrEgD,EAA8B,KAArBgjF,EAAI7sF,MAAM6J,OAAgBqX,SAAS2rE,EAAI7sF,MAAM6J,OAAQ,IAAMgjF,EAAIhjF,OACxEhD,EAAQgD,EACJtR,KAAKigC,OAAOi0D,oBAAoBuC,iBAChCnC,EAAI7sF,MAAM6G,MAAQtO,KAAK02F,UAAWpoF,EAAQgD,EAASklF,EAAalC,EAAI/uE,wBAA0B+uE,EAAI75E,eAAkB,IACpH65E,EAAI7sF,MAAM6J,OAAS,KACnBgjF,EAAIrqF,gBAAgB,WAEK,KAApBqqF,EAAI7sF,MAAM6G,OACfgmF,EAAI7sF,MAAM6G,MAASA,EAAQgD,EAASklF,EAAa,KACjDlC,EAAI7sF,MAAM6J,OAASklF,EAAY,OAG/BlC,EAAIxrF,aAAa,SAAUwF,EAAQgD,EAASklF,GAAW5tE,YACvD0rE,EAAIxrF,aAAa,SAAU0tF,EAAU5tE,aAGpCtX,EAAShD,EACVtO,KAAKigC,OAAOi0D,oBAAoBuC,iBAChCnC,EAAI7sF,MAAM6G,MAAQtO,KAAK02F,UAAUH,EAAYjC,EAAI/uE,wBAA0B+uE,EAAI75E,eAAkB,IACjG65E,EAAI7sF,MAAM6J,OAAS,KACnBgjF,EAAIrqF,gBAAgB,WAEK,KAApBqqF,EAAI7sF,MAAM6G,OACfgmF,EAAI7sF,MAAM6G,MAAQioF,EAAY,KAC9BjC,EAAI7sF,MAAM6J,OAAUA,EAAShD,EAAQioF,EAAa,OAGlDjC,EAAIxrF,aAAa,QAASytF,EAAU3tE,YACpC0rE,EAAIxrF,aAAa,UAAWwI,EAAShD,EAAQioF,GAAW3tE,aAIxD5oB,KAAKigC,OAAOi0D,oBAAoBuC,iBAChCnC,EAAI7sF,MAAM6G,MAAQtO,KAAK02F,UAAUH,EAAYjC,EAAI/uE,wBAA0B+uE,EAAI75E,eAAkB,IACjG65E,EAAI7sF,MAAM6J,OAAS,KACnBgjF,EAAIrqF,gBAAgB,WAEK,KAApBqqF,EAAI7sF,MAAM6G,OACfgmF,EAAI7sF,MAAM6G,MAAQioF,EAAY,KAC9BjC,EAAI7sF,MAAM6J,OAASilF,EAAY,OAG/BjC,EAAIxrF,aAAa,QAASytF,EAAU3tE,YACpC0rE,EAAIxrF,aAAa,SAAUytF,EAAU3tE,eAIjDkqE,EAAMjuF,UAAU6xF,UAAY,SAAUC,EAAUtyD,GAC5C,OAAOsyD,EAAWh4E,WAAWD,iBAAiB2lB,GAAW/1B,OAAS,KAEtEwkF,EAAMjuF,UAAU+xF,gBAAkB,SAAUtoF,EAAOgD,EAAQ3O,GACvD,IAAIsI,EAAQjL,KACR0oB,EAAO,iBAAa,CAAEisE,YAAa,UAAa,CAAE5jF,MAAOpO,EAAGgyF,YAAa,UAC7E30F,KAAKigC,OAAOxpB,QAAQ,QAAiBiS,GAAM,SAAUmuE,GACjD,GAAIA,EAAa96E,OACb9Q,EAAMwqF,yBAEL,CACD,GAAK9sE,SAAS1d,EAAMg1B,OAAOi0D,oBAAoB7vE,SAAU,KAAOsE,SAASra,EAAO,KAC5Eqa,SAAS1d,EAAMg1B,OAAOi0D,oBAAoBv5D,SAAU,KAAOhS,SAASra,EAAO,IAC3E,OAEJ,IAAKrD,EAAMg1B,OAAOi0D,oBAAoBuC,kBACjC9tE,SAAS1d,EAAMg1B,OAAOi0D,oBAAoBz3E,UAAW,KAAOkM,SAASrX,EAAQ,KAC1EqX,SAAS1d,EAAMg1B,OAAOi0D,oBAAoBtyE,UAAW,KAAO+G,SAASrX,EAAQ,KACjF,OAEJrG,EAAMypF,OAAOj6E,cAAchT,MAAMq2C,OAAS,UAC1C7yC,EAAMqrF,eAAerrF,EAAMypF,OAAQ/rE,SAASra,EAAO,IAAKqa,SAASrX,EAAQ,KACzErG,EAAM0qF,gBAAgB1qF,EAAMypF,QAC5BzpF,EAAMyqF,aAAazqF,EAAMypF,OAAQzpF,EAAM6pF,cACvC7pF,EAAMg1B,OAAOgkC,iBAAiB,IAAI,QAI9C6uB,EAAMjuF,UAAU+wF,SAAW,SAAUjzF,GACjC,IAAIm6B,EAAQ98B,KAAK40F,UAAUjyF,GACvBo6B,EAAQ/8B,KAAKg1F,UAAUryF,GACvBm0F,EAAU92F,KAAKm1F,cAAcG,SAAWt1F,KAAKm1F,cAAcC,UAAat4D,EAAQ98B,KAAK88B,OAAUA,EAAQ98B,KAAK88B,MAC5Gi6D,EAAU/2F,KAAKm1F,cAAcC,SAAWp1F,KAAKm1F,cAAcE,WAAct4D,EAAQ/8B,KAAK+8B,OAAUA,EAAQ/8B,KAAK+8B,MAC7GzuB,EAAQqa,SAAS3oB,KAAKg3F,UAAU1oF,MAAO,IAAMwoF,EAC7CxlF,EAASqX,SAAS3oB,KAAKg3F,UAAU1lF,OAAQ,IAAMylF,EACnD/2F,KAAK88B,MAAQA,EACb98B,KAAK+8B,MAAQA,GACT/8B,KAAKm1F,cAAcI,UAGdv1F,KAAKm1F,cAAcG,SAGnBt1F,KAAKm1F,cAAcE,UAGnBr1F,KAAKm1F,cAAcC,UARxBp1F,KAAK42F,gBAAgBtoF,EAAQ,KAAMgD,EAAS,KAAM3O,IAY1DmwF,EAAMjuF,UAAU4wF,mBAAqB,WACjC,OAAa9rF,OAAO3J,KAAK83D,cAAcC,cAAe,OAAQzrB,eAAgBtsC,KAAK41F,UACnF,OAAajsF,OAAO3J,KAAK83D,cAAcC,cAAe,OAAQv6B,cAAex9B,KAAKw0F,WAC9Ex0F,KAAK00F,QAAU10F,KAAK80F,cAAgB90F,KAAK83D,cAAcoF,eAAe5wD,SAAStM,KAAK80F,gBACpF,eAAO90F,KAAK80F,cACZ90F,KAAK00F,OAAOjtF,MAAM8sF,QAAU,GAC5Bv0F,KAAK80F,aAAe,KACpB90F,KAAK88B,MAAQ,KACb98B,KAAK+8B,MAAQ,OAGrB+1D,EAAMjuF,UAAU8wF,gBAAkB,SAAUhzF,GACxC3C,KAAKg3F,UAAY,CACb1oF,MAA2B,KAAnB3L,EAAE8E,MAAM6J,OAAiBtR,KAAK00F,OAAOjtF,MAAM6G,MAAQ3L,EAAE2L,MAAQ,KACrEgD,OAA4B,KAAnB3O,EAAE8E,MAAM6J,OAAiBtR,KAAK00F,OAAOjtF,MAAM6J,OAAS3O,EAAE2O,OAAS,OAGhFwhF,EAAMjuF,UAAU4vF,cAAgB,WAC5B,OAAOz0F,KAAKm1F,cAAgB,CAAEG,SAAS,EAAOC,UAAU,EAAOF,UAAU,EAAOD,SAAS,IAE7FtC,EAAMjuF,UAAU0iE,gBAAkB,SAAU7+C,GACpCw9C,MACAlmE,KAAKigC,OAAOnV,OAAO,QAAyB,IAEhD,IAAIhP,EAAO4M,EAAKA,KAAK5M,KACrB,OAAQA,EAAKs8C,YACT,IAAK,UACDp4D,KAAKigC,OAAOnV,OAAO,OAAoBpC,GACvC,MACJ,IAAK,UACD1oB,KAAKigC,OAAOnV,OAAO,OAAqBpC,GACxC,MACJ,IAAK,aACD1oB,KAAKigC,OAAOnV,OAAO,OAAkBpC,GACrC,MACJ,IAAK,UACD1oB,KAAKigC,OAAOnV,OAAO,OAAiBpC,GACpC,MACJ,IAAK,SACD1oB,KAAKigC,OAAOnV,OAAO,OAAoBpC,GACvC,MACJ,IAAK,YACD1oB,KAAKigC,OAAOnV,OAAO,OAAkBpC,GACrC,MACJ,IAAK,gBACD1oB,KAAKi3F,YAAYvuE,GACjB,MACJ,IAAK,gBACD1oB,KAAKk3F,YAAYxuE,GACjB,MACJ,IAAK,kBACD1oB,KAAKm3F,cAAczuE,GACnB,QAGZoqE,EAAMjuF,UAAUoyF,YAAc,SAAUt0F,GACpC,IAAIlB,EAAiD,KAAxCkB,EAAE2mE,aAAa,GAAG9gD,WAAW/mB,OAAgB,QAAU,SACpEzB,KAAKigC,OAAOy3B,UAAU2G,QAAQr+D,KAAKigC,OAAQt9B,EAAE+lB,KAAM/lB,EAAE+lB,KAAM,CACvDuG,IAAKtsB,EAAE2mE,aAAa,GAAG9gD,WAAWikD,KAAMhrE,OAAQA,EAAQ2nE,WAAYzmE,EAAEymE,WACtEhR,WAAYz1D,EAAE+lB,KAAK5M,KAAKs8C,cAGhC06B,EAAMjuF,UAAUqyF,YAAc,SAAUv0F,GACpC,IAAIumE,EAAkBvmE,EAAE2mE,aAAa,GAAG9gD,WACpCmkD,EAAa3sE,KAAKinE,KAAKjgC,YAAY,gBACnC2iC,EAAe,CACf16C,IAAKi6C,EAAgBuD,KAAMhrE,OAAQynE,EAAgBznE,OACnDwpE,OAAQ,YAAa7kD,QAASumD,GAElC3sE,KAAKqzF,cAAc1wF,EAAGgnE,IAE1BmpB,EAAMjuF,UAAUsyF,cAAgB,SAAUx0F,GAClC,OAAQypE,MACRpsE,KAAK83D,cAAcoF,eAAejkD,QAEtCtW,EAAE0mE,UAAUsC,UACZ,IAAIyrB,KAAap3F,KAAK83D,cAAcoF,eAAe5wD,SAAStM,KAAKq3F,cAAe,eAAO,IAAKr3F,KAAKq3F,aAE7F/tB,EAAe8tB,EAAY,CAACp3F,KAAKq3F,YAAc,CAAC10F,EAAEymE,WAAW,GAAG3uD,eACpEza,KAAKigC,OAAOy3B,UAAU2G,QAAQr+D,KAAKigC,OAAQt9B,EAAE+lB,KAAM/lB,EAAE+lB,KAAM,CACvD4uE,cAAe30F,EAAEymE,WAAW,GAAIE,aAAcA,EAAcD,UAAW1mE,EAAE0mE,UACzEjR,WAAYz1D,EAAE+lB,KAAK5M,KAAKs8C,aAExBp4D,KAAK+nE,cAAgB5yD,SAASC,KAAK9I,SAAStM,KAAK+nE,aAAamtB,WAAWruF,WACzE7G,KAAK+nE,aAAamtB,WAAWxsB,YACxB,eAAkB/lE,EAAE2mE,eACrB,eAAY,CAAC3mE,EAAE2mE,aAAa,IAAK,gBAGrC8tB,GACA,eAAO,eAAgBp3F,KAAKq3F,YAAYp+E,SAGhD65E,EAAMjuF,UAAUwiE,UAAY,SAAUt2D,GAClC,IACIupC,EACAyuB,EACAC,EACAE,EAEAquB,EANAlrF,EAAgB0E,EAAM2X,KAK1B1oB,KAAKgzF,WAAa,GAElB,IAAIwE,EAAgB,CAAC,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC5E,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,KAK9F,GAJ+B,SAA3Bx3F,KAAKigC,OAAO4oC,aACZvuB,EAAQt6C,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAcC,SAAS73D,KAAKigC,OAAO63B,cAAcC,eAC7Fw/B,EAAWj9C,EAAM0d,iBAAmB1d,EAAMkuB,cAAgBluB,EAAMuxB,cAAgBvxB,EAAMwxB,YAErFyrB,GAAuC,SAA3Bv3F,KAAKigC,OAAO4oC,YAAyB2uB,EAAcx8E,QAAQ3O,EAAc+jC,OAAS,EAE/F,IADA,IAAIz2B,EAAQ3Z,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAcqR,kBAAkB3uB,GACvE70C,EAAI,EAAGA,EAAIkU,EAAMvU,OAAQK,IACJ,QAAtBkU,EAAMlU,GAAG8rB,UACTvxB,KAAKgzF,WAAWn1E,KAAKlE,EAAMlU,IAIvC,GAA+B,SAA3BzF,KAAKigC,OAAO4oC,aAAmD,IAAxBx8D,EAAc+jC,OAAsC,cAAvB/jC,EAAcigE,MACzD,KAAxBjgE,EAAc+jC,OAAuC,WAAvB/jC,EAAcigE,MAAqB,CAClE,IAAImrB,EAAan9C,EAAM0d,iBAAmB1d,EAAMkuB,cAAgBluB,EAAMuxB,cAAgBvxB,EAAMwxB,UAC/D,IAAxBz/D,EAAc+jC,OAAsC,cAAvB/jC,EAAcigE,MAAwBmrB,EACpEz3F,KAAK03F,eAAep9C,GAEU,KAAxBjuC,EAAc+jC,OAAuC,WAAvB/jC,EAAcigE,MAAqBmrB,GACvEz3F,KAAK23F,cAAcr9C,GAG3B,IAAK,eAAkBt6C,KAAKigC,OAAOy3B,UAAUC,cAAcC,gBAChC,SAAvBvrD,EAAcigE,OACdhyB,EAAQt6C,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAcC,SAAS73D,KAAKigC,OAAO63B,cAAcC,eAC7FgR,EAAO/oE,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAcmR,KAAKzuB,EAAOt6C,KAAKigC,OAAO63B,cAAcC,eAC/FiR,EAAgBhpE,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAcqR,kBAAkB3uB,GACpF4uB,EAAkBlpE,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAcuR,wBAAwB7uB,IACvFjuC,EAAcikC,SAAWjkC,EAAcvL,MAAqC,IAA7BuL,EAAcvL,IAAIsE,QAAyC,UAAzBiH,EAAcyB,SAChE,QAA/Bo7D,EAAgB,GAAGzxD,SAAsByxD,EAAgB,GAAGzuD,eAAe,CAC5E,IAAIm9E,EAAO1uB,EAAgB,GAAGzuD,cAAc2G,WAAW,GACnDphB,KAAK83D,cAAcoF,eAAerwD,cAAc,kBAChD7M,KAAK63F,iBAET73F,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAckgC,iBAAiB93F,KAAK83D,cAAcC,cAAe6/B,EAAMA,EAAMA,EAAKptE,YAAYplB,OAAQwyF,EAAKptE,YAAYplB,QAC3J,eAAY,CAAC8jE,EAAgB,IAAK,eAClClpE,KAAK+nE,aAAamtB,WAAWxsB,YAMrC,IAHIr8D,EAAcikC,SAAsC,KAA1BjkC,EAAcuL,SAA4C,KAA1BvL,EAAcuL,SACxE5X,KAAKi0F,UAAU,CAAE77B,WAAuC,KAA1B/rD,EAAcuL,QAAiB,OAAS,SAE5C,IAA1BvL,EAAcuL,SAA2C,KAA1BvL,EAAcuL,QAAgB,CAC7D,GAAIoxD,GAA+C,QAA9BA,EAAc,GAAGz3C,UAAsBy3C,EAAc5jE,OAAS,EAAG,CAClFiH,EAAcL,iBACd,IAAI+rF,EAAU,CACV3uB,WAAYJ,EAAeK,UAAWN,EAAMO,aAAcJ,EAC1DxgD,KAAM,CACF5M,KAAM,CAAEu8C,QAAS,SAAUD,WAAY,UACvC/rD,cAAeA,IAGvBrM,KAAKozF,UAAU2E,EAAS1rF,EAAcuL,SAEtC5X,KAAKigC,OAAO63B,cAAcoF,eAAerwD,cAAc,kBACvD7M,KAAK63F,iBAGb,OAAQxrF,EAAcyB,QAClB,IAAK,SACI,eAAkB9N,KAAK4nE,YACxB5nE,KAAK4nE,UAAU1lD,QAEnB,MACJ,IAAK,eAC8B,SAA3BliB,KAAKigC,OAAO4oC,WACZ7oE,KAAKizF,YAAY,CACbvqE,KAAM,CACF5M,KAAM,CAAEu8C,QAAS,SAAUD,WAAY,SACvC/rD,cAAeA,GAEnB+8D,WAAYJ,EACZK,UAAWN,EACXO,aAAcJ,IAIlBlpE,KAAKizF,YAAY,CACbvqE,KAAM,CACF5M,KAAM,CAAEu8C,QAAS,SAAUD,WAAY,SACvC/rD,cAAeA,GAEnBo9D,OAAQ,QACRxuD,KAAMjb,KAAKigC,OAAOy3B,UAAUC,cAAc6R,kBAAkBE,gBAAgB1pE,KAAKigC,OAAO63B,cAAcoF,gBACtGmH,OAAQ,WACRljE,KAAM,gBAGdkL,EAAcL,iBACd,QAGZ8mF,EAAMjuF,UAAU2G,QAAU,SAAUuF,GAChC,IAAK,eAAM/Q,KAAKgzF,aAAehzF,KAAKgzF,WAAW5tF,OAAS,EACpD,IAAK,IAAIK,EAAI,EAAGA,EAAIzF,KAAKgzF,WAAW5tF,OAAQK,IAAK,CAC7C,IAAIijB,EAAO,CACP7hB,QAAS7G,KAAKgzF,WAAWvtF,GACzBuyF,IAAKh4F,KAAKgzF,WAAWvtF,GAAG2U,aAAa,QAEzCpa,KAAKigC,OAAOxpB,QAAQ,OAAyBiS,KAIzDoqE,EAAMjuF,UAAU6yF,eAAiB,SAAUp9C,GACD,UAAlCA,EAAM0d,eAAezmC,UAA8C,IAAtB+oB,EAAMuxB,aAClD,eAAMvxB,EAAM0d,eAAeigC,kBAAsE,QAAlD39C,EAAM0d,eAAeigC,gBAAgB1mE,SAG9C,UAAlC+oB,EAAM0d,eAAezmC,UAAyB,eAAM+oB,EAAM0d,eAAe52C,WAAWk5B,EAAMuxB,YAAc,KACzC,QAApEvxB,EAAM0d,eAAe52C,WAAWk5B,EAAMuxB,YAAc,GAAGt6C,UACvDvxB,KAAKgzF,WAAWn1E,KAAKy8B,EAAM0d,eAAe52C,WAAWk5B,EAAMuxB,YAAc,IAJzE7rE,KAAKgzF,WAAWn1E,KAAKy8B,EAAM0d,eAAeigC,kBAOlDnF,EAAMjuF,UAAU8yF,cAAgB,SAAUr9C,GACA,UAAlCA,EAAM0d,eAAezmC,UAAwB+oB,EAAMuxB,cAAgBvxB,EAAM0d,eAAextC,YAAYplB,QACnG,eAAMk1C,EAAM0d,eAAe/B,cAA8D,QAA9C3b,EAAM0d,eAAe/B,YAAY1kC,SAGtC,UAAlC+oB,EAAM0d,eAAezmC,UAAyB,eAAM+oB,EAAM0d,eAAe52C,WAAWk5B,EAAMuxB,eAC/B,QAAhEvxB,EAAM0d,eAAe52C,WAAWk5B,EAAMuxB,aAAat6C,UACnDvxB,KAAKgzF,WAAWn1E,KAAKy8B,EAAM0d,eAAe52C,WAAWk5B,EAAMuxB,cAJ3D7rE,KAAKgzF,WAAWn1E,KAAKy8B,EAAM0d,eAAe/B,cAOlD68B,EAAMjuF,UAAU2uF,gBAAkB,SAAU7wF,GACxC,IAAImZ,EAAOnZ,EAAEmZ,KACb,GAAK3G,SAASC,KAAK9I,SAAS6I,SAASC,KAAKvI,cAAc,0BAA6C,WAAjBiP,EAAKu8C,QAAzF,CAGA,IAAI/d,EAAQt6C,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAcC,SAAS73D,KAAKigC,OAAO63B,cAAcC,eAC7FiR,EAAgBhpE,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAcqR,kBAAkB3uB,GACxF0uB,EAA+C,QAA9BA,EAAc,GAAGz3C,SAAsBy3C,EAAgB,CAAChpE,KAAK00F,QAC9E,IAAIhsE,EAAO,CAAEA,KAAM/lB,EAAGymE,WAAYJ,GAIlC,OAHwD,IAApDhpE,KAAKigC,OAAOy3B,UAAU+C,mBAAmBr1D,QACzCpF,KAAKigC,OAAOy3B,UAAUgD,WAElB5+C,EAAKs8C,YACT,IAAK,cACDp4D,KAAKk4F,iBAAiBxvE,GACtB,MACJ,IAAK,gBACD1oB,KAAKm4F,mBAAmBzvE,GACxB,MACJ,IAAK,eACD1oB,KAAKo4F,kBAAkB1vE,GACvB,MACJ,IAAK,SACD1oB,KAAKgqD,OAAOthC,GACZ,MACJ,IAAK,QACD1oB,KAAKq4F,MAAM3vE,GACX,MAEJ1oB,KAAK+nE,cAAgB5yD,SAASC,KAAK9I,SAAStM,KAAK+nE,aAAamtB,WAAWruF,WACzE7G,KAAK+nE,aAAamtB,WAAWxsB,YAC7B,eAAY,CAACM,EAAc,IAAK,gBAEpChpE,KAAKy1F,uBAET3C,EAAMjuF,UAAUyzF,6BAA+B,WAG3C,IAFA,IACI1hF,EAAQ5W,KAAK+nE,aAAamtB,WAAWqD,eAAe/iF,iBAAiB,mBAChE/P,EAAI,EAAGA,EAAImR,EAAMxR,OAAQK,IAC1BmR,EAAMnR,GAAG2U,aAAa,WAAapa,KAAKinE,KAAKjgC,YAAY,aACzDpwB,EAAMnR,GAAG2U,aAAa,WAAapa,KAAKinE,KAAKjgC,YAAY,aACzDpwB,EAAMnR,GAAG2U,aAAa,WAAapa,KAAKinE,KAAKjgC,YAAY,eACzD,eAAS,CAACpwB,EAAMnR,IAAK,iBACrBmR,EAAMnR,GAAGgC,MAAMC,QAAU,QAEe,gBAAnCkP,EAAMnR,GAAG2U,aAAa,SAC3BxD,EAAMnR,GAAGgC,MAAMC,QAAU,GAEpBkP,EAAMnR,GAAGmC,UAAU0E,SAAS,gCACrBsK,EAAMnR,GAClB,eAAOmR,EAAMnR,KAGrB,IAAI+yF,EAAWx4F,KAAK+nE,aAAamtB,WAAWqD,eAAe/iF,iBAAiB,uCAC5ExV,KAAK+nE,aAAamtB,WAAWuD,aAAa,CAAC,KAAMlrF,KAAK2hC,MAAMspD,EAASpzF,OAAS,KAElF0tF,EAAMjuF,UAAUquF,sBAAwB,SAAUvwF,GAC9C,IAAIsI,EAAQjL,KACZ,GAAe,WAAX2C,EAAE8Y,OAAqB,eAAkBzb,KAAKigC,OAAOk+B,sBAClD,eAAkBn+D,KAAKigC,OAAOk+B,mBAAmB+2B,YADxD,CAIAl1F,KAAK+nE,aAAe/nE,KAAKigC,OAAOk+B,mBAChC,IAAIz1C,EAAO/lB,EAAE+lB,KACTjnB,EAASkB,EAAEglB,SACf,GAAG7d,QAAQhD,KAAKnE,EAAEglB,UAAU,SAAU9gB,EAAStE,GAC7B,IAAVA,IACAd,EAASoF,MAGbpF,IAAW,eAAQA,EAAQ,MAC3BzB,KAAKs4F,+BAEe,QAApB72F,EAAO8vB,UACP,eAAS,CAAC9vB,GAAS,CAAC,gBAExB,IAAIs7B,EAAS/8B,KAAKigC,OAAOg4B,eAAqB,OAAI3sD,OAAO0gD,YACrDhsD,KAAKigC,OAAOp5B,QAAQoc,wBAAwBjJ,IAAM0O,EAAKmpB,QAAUnpB,EAAKqU,MACtE/8B,KAAKigC,OAAOk+B,mBAAmB+2B,aAC3BvyF,EAAEulE,SACF38D,YAAW,WAAcN,EAAM88D,aAAamtB,WAAW3sB,UAAU7/C,EAAKoU,MAAOC,EAAOt7B,KAAY,KAGhGzB,KAAK+nE,aAAamtB,WAAW3sB,UAAU7/C,EAAKoU,MAAOC,EAAOt7B,MAItEqxF,EAAMjuF,UAAU6zF,sBAAwB,WAC/B,eAAkB14F,KAAK83D,cAAcoF,eAAerwD,cAAc,mBACnE,eAAY,CAAC7M,KAAK83D,cAAcoF,eAAerwD,cAAc,iBAAkB,eAC3E7M,KAAK+nE,cAAgB/nE,KAAK+nE,aAAamtB,YAAc//E,SAASC,KAAK9I,SAAStM,KAAK+nE,aAAamtB,WAAWruF,UACzG7G,KAAK+nE,aAAamtB,WAAWxsB,cAIzCoqB,EAAMjuF,UAAU8iE,qBAAuB,SAAUhlE,GAC7C,GAAI3C,KAAKigC,OAAOyB,SACZ1hC,KAAK04F,4BADT,CAIA,IAAIhwE,EAAO/lB,EAAE+lB,KACTigD,EAAmB3oE,KAAKigC,OAAO2oC,qBAAqBD,iBACxD,GAAmB,IAAfjgD,EAAK0nB,OAAgBu4B,GAAmC,IAAfjgD,EAAK0nB,QAAkBu4B,GAAmC,IAAfjgD,EAAK0nB,MACpFu4B,GAAmC,IAAfjgD,EAAK0nB,QAAiB,eAAkB1nB,EAAKjnB,SAC1C,QAAxBinB,EAAKjnB,OAAOgW,UACZzX,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAcyiB,MAAMr6E,KAAK83D,cAAcC,eAC3E/3D,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAc+gC,qBAAqB34F,KAAK83D,cAAcC,cAAervC,EAAKjnB,cAItH,GAA+B,SAA3BzB,KAAKigC,OAAO4oC,YAAyB7oE,KAAKigC,OAAOk+B,oBAAsBn+D,KAAKigC,OAAOk+B,mBAAmB+2B,WAAY,CAClHl1F,KAAK+nE,aAAe/nE,KAAKigC,OAAOk+B,mBAChC,IAAI18D,EAASinB,EAAKjnB,OAClBzB,KAAK83D,cAAgB93D,KAAKknE,gBAAgBpM,YAAY,OAAW6D,SACjE,IAAIvL,EAAcpzD,KAAK+nE,aAAamtB,WAAWruF,QAAQe,UAAU0E,SAAS,aAC1E,GAAwB,QAApB7K,EAAO8vB,UAAsBvxB,KAAKigC,OAAOk+B,mBAAoB,CAC7D,GAAI/K,EACA,OAEJpzD,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAcyiB,MAAMr6E,KAAK83D,cAAcC,eAC3E/3D,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAc+gC,qBAAqB34F,KAAK83D,cAAcC,cAAet2D,GACrGykE,MACAlmE,KAAKigC,OAAOnV,OAAO,QAAsBnoB,GAE7C,eAAS,CAAClB,GAAS,eACnB,IAAImV,EAAQ5W,KAAK+nE,aAAamtB,WAAWqD,eAAe/iF,iBAAiB,mBAEzE,GAAI,eAAQ/T,EAAQ,KAAM,CACtB,IAAK,IAAIgE,EAAI,EAAGA,EAAImR,EAAMxR,OAAQK,IAC1BmR,EAAMnR,GAAG2U,aAAa,WAAapa,KAAKinE,KAAKjgC,YAAY,aACzDpwB,EAAMnR,GAAG2U,aAAa,WAAapa,KAAKinE,KAAKjgC,YAAY,aACzDpwB,EAAMnR,GAAG2U,aAAa,WAAapa,KAAKinE,KAAKjgC,YAAY,eACzDpwB,EAAMnR,GAAGgC,MAAMC,QAAU,GACzB,eAAY,CAACkP,EAAMnR,IAAK,kBAEgB,gBAAnCmR,EAAMnR,GAAG2U,aAAa,SAC3BxD,EAAMnR,GAAGgC,MAAMC,QAAU,OAEpBkP,EAAMnR,GAAGmC,UAAU0E,SAAS,gCACrBsK,EAAMnR,GAClB,eAAOmR,EAAMnR,KAGrB,IAAI+yF,EAAWx4F,KAAK+nE,aAAamtB,WAAWqD,eAAe/iF,iBAAiB,uCAC5ExV,KAAK+nE,aAAamtB,WAAWuD,aAAa,CAAC,KAAMlrF,KAAK2hC,MAAMspD,EAASpzF,OAAS,SAExE,eAAQ3D,EAAQ,MACtBzB,KAAKs4F,+BAETt4F,KAAKkzF,sBAAsB,CAAExqE,KAAMA,EAAMjN,KAAM,SAAUkM,SAAU,CAACe,EAAKjnB,eAGzEzB,KAAK04F,2BAIjB5F,EAAMjuF,UAAUwuF,cAAgB,SAAU1wF,EAAGgnE,GACzC,IAAI1+D,EAAQjL,KACZ,GAAiC,QAA7B2C,EAAEymE,WAAW,GAAG73C,WAGpBvxB,KAAK44F,WAAWj2F,IACX,eAAkB3C,KAAK4nE,YAAY,CACpC,IAAIixB,EAAW74F,KAAKigC,OAAOt3B,cAAc,MAAO,CAAEC,UAAW,mBACzD2hE,EAAUvqE,KAAKinE,KAAKjgC,YAAY,WAChCvY,EAAU,4HAC2F87C,EAD3F,6IAIVF,EAAc,eAAU57C,GAC5BoqE,EAAS1vF,YAAYkhE,GACrB,IAAIC,EAAauuB,EAAShsF,cAAc,qBACpCisF,EAAYD,EAAShsF,cAAc,eACnC69D,EAAgB1qE,KAAKinE,KAAKjgC,YAAY,uBAC1ChnC,KAAK2qE,YAAc,IAAI,GAAS,CAC5BrqC,MAAOoqC,EAAe/mE,SAAS,EAAMgE,UAAW3H,KAAKigC,OAAOt4B,UAAW+mD,OAAQ,SAAU/rD,GAEjF22B,EADA32B,EAAEgB,QACS,SAGA,QAIvB3D,KAAK2qE,YAAYhhD,kBAAmB,EACpC3pB,KAAK2qE,YAAYhiE,cAAgB3I,KAAKigC,OAAOt3B,cAC7C3I,KAAK2qE,YAAYvoD,SAASkoD,GAC1B,IAAIhxC,EAAWt5B,KAAK2qE,YAAYhnE,QAAU,SAAW,KACjDgpE,EAAa3sE,KAAKinE,KAAKjgC,YAAY,gBACnC+xD,EAAa,CACbrwE,KAAM/lB,EAAE+lB,KACRswE,UAAWh5F,KAAMqpE,UAAW1mE,EAAE0mE,UAC9BD,WAAYzmE,EAAEymE,WAAYE,aAAc3mE,EAAE2mE,aAAc2vB,KAAMH,EAAWr3F,OAAQ63B,GAErFt5B,KAAK4nE,UAAU72C,cAAc,CACzBzf,OAAQ,UACRhD,MAAO,QACP28D,OAAQjrE,KAAKigC,OAAOi5D,UAAUlyD,YAAY,yBAC1CvY,QAASoqE,EACT38E,SAAU,CAAEC,EAAG,SAAUC,EAAG,UAC5BijB,QAAS,CAAC,CACF5zB,MAAO,SAAU9I,GAAKsI,EAAMogE,WAAW0tB,IACvCztB,YAAa,CACT78C,QAASk+C,EAAYv2D,SAAU,uBAAwBm1D,WAAW,OAI7E,eAAkB5B,KACnBmvB,EAAUz3F,MAAQsoE,EAAa16C,IAC9B06C,EAAmB,OAAI3pE,KAAK2qE,YAAYhnE,SAAU,EAAO3D,KAAK2qE,YAAYhnE,SAAU,EACrF3D,KAAK4nE,UAAUqD,OAAStB,EAAasB,QAEzCjrE,KAAK4nE,UAAU/gE,QAAQY,MAAMma,UAAY,UACzC5hB,KAAK4nE,UAAUn5C,QAAQ5hB,cAAc,SAASoM,UAGtD65E,EAAMjuF,UAAUyuF,cAAgB,SAAU3wF,GACtC,IAAIsI,EAAQjL,KACZ,GAAiC,QAA7B2C,EAAEymE,WAAW,GAAG73C,SAApB,CAGAvxB,KAAK44F,WAAWj2F,GAChB,IAAIw2F,EAAUn5F,KAAKinE,KAAKjgC,YAAY,WACpC,IAAK,eAAkBhnC,KAAK4nE,WAAY,CACpC,IAAIwxB,EAAUp5F,KAAKigC,OAAOt3B,cAAc,MAAO,CAAEC,UAAW,kBACxDywF,EAAYr5F,KAAKinE,KAAKjgC,YAAY,mBAClC2lC,EAAa3sE,KAAKinE,KAAKjgC,YAAY,gBACnCsyD,EAAkD,OAAxC32F,EAAEymE,WAAW,GAAGhvD,aAAa,OAAmB,GAC1DzX,EAAEymE,WAAW,GAAGhvD,aAAa,OAC7BqU,EAAU,yEACwC6qE,EAAS,4CAA8CH,EAD/F,YAGV9uB,EAAc,eAAU57C,GAC5B2qE,EAAQjwF,YAAYkhE,GACpB,IAAIkvB,EAAWH,EAAQvsF,cAAc,cACjC2sF,EAAY,CACZ9wE,KAAM/lB,EAAE+lB,KAAMswE,UAAWh5F,KAAMqpE,UAAW1mE,EAAE0mE,UAAWD,WAAYzmE,EAAEymE,WACrEqwB,IAAKF,GAETv5F,KAAK4nE,UAAU72C,cAAc,CACzBzf,OAAQ,UAAWhD,MAAO,QAAS28D,OAAQouB,EAAW5qE,QAAS2qE,EAASl9E,SAAU,CAAEC,EAAG,SAAUC,EAAG,UACpGijB,QAAS,CAAC,CACF5zB,MAAO,SAAU9I,GAAKsI,EAAMyuF,UAAUF,IACtCluB,YAAa,CACT78C,QAASk+C,EAAYv2D,SAAU,sBAAuBm1D,WAAW,OAIjFvrE,KAAK4nE,UAAU/gE,QAAQY,MAAMma,UAAY,UACzC5hB,KAAK4nE,UAAUn5C,QAAQ5hB,cAAc,SAASoM,WAGtD65E,EAAMjuF,UAAU60F,UAAY,SAAU/2F,GAClC,IAAK,eAAkBA,EAAE82F,KAAM,CAC3B92F,EAAE0mE,UAAUsC,UAC4C,IAApD3rE,KAAKigC,OAAOy3B,UAAU+C,mBAAmBr1D,QACzCpF,KAAKigC,OAAOy3B,UAAUgD,WAE1B,IAAIy+B,EAAUx2F,EAAE82F,IAAIp4F,MACpBrB,KAAKigC,OAAOy3B,UAAU2G,QAAQr+D,KAAKigC,OAAQt9B,EAAE+lB,KAAM/lB,EAAE+lB,KAAM,CACvDywE,QAASA,EAAS/vB,WAAYzmE,EAAEymE,WAChChR,WAAYz1D,EAAE+lB,KAAK5M,KAAKs8C,aAE5Bp4D,KAAK4nE,UAAU/vD,KAAK,CAAEgwD,aAAa,MAG3CirB,EAAMjuF,UAAUwmE,WAAa,SAAU1oE,GACnC,GAAiC,QAA7BA,EAAEymE,WAAW,GAAG73C,SAApB,CAGA,IAAItC,EAAMtsB,EAAEs2F,KAAK53F,MACjB,GAAY,KAAR4tB,EAIA,OAHA,eAAS,CAACtsB,EAAEs2F,MAAO,WACnBt2F,EAAEs2F,KAAKprD,kBAAkB,EAAG5e,EAAI7pB,aAChCzC,EAAEs2F,KAAKhgF,QAGNjZ,KAAKksE,MAAMj9C,GAIZ,eAAY,CAACtsB,EAAEs2F,MAAO,WAHtBhqE,EAAM,UAAYA,EAKtB,IAAI+M,EAAQr5B,EAAEq2F,UAOd,GANgC,SAA5Bh9D,EAAMiE,OAAO4oC,YACblmE,EAAE0mE,UAAUsC,UAEyC,IAArD3vC,EAAMiE,OAAOy3B,UAAU+C,mBAAmBr1D,QAC1C42B,EAAMiE,OAAOy3B,UAAUgD,WAEoB,MAA3C/3D,EAAEymE,WAAW,GAAG3uD,cAAc8W,SAM9B,OALAyK,EAAMiE,OAAOy3B,UAAU2G,QAAQriC,EAAMiE,OAAQt9B,EAAE+lB,KAAM/lB,EAAE+lB,KAAM,CACzDuG,IAAKA,EAAKxtB,OAAQu6B,EAAM2uC,YAAYhnE,QAAU,SAAW,KAAMylE,WAAYzmE,EAAEymE,WAC7EhR,WAAYz1D,EAAE+lB,KAAK5M,KAAKs8C,kBAE5Bp8B,EAAM4rC,UAAU/vD,KAAK,CAAEgwD,aAAa,IAGxC7rC,EAAMiE,OAAOy3B,UAAU2G,QAAQriC,EAAMiE,OAAQt9B,EAAE+lB,KAAM/lB,EAAE+lB,KAAM,CACzDuG,IAAKA,EAAKxtB,OAAQu6B,EAAM2uC,YAAYhnE,QAAU,SAAW,KAAMylE,WAAYzmE,EAAEymE,WAC7EhR,WAAYz1D,EAAE+lB,KAAK5M,KAAKs8C,WAAYiR,UAAW1mE,EAAE0mE,YAErD,IAAIguB,EAAa,eAAQ10F,EAAEymE,WAAW,GAAI,kBACtCiuB,GACA,eAAO,eAAgBA,GAAYp+E,QAEvC+iB,EAAM4rC,UAAU/vD,KAAK,CAAEgwD,aAAa,MAExCirB,EAAMjuF,UAAUqnE,MAAQ,SAAUj9C,GAC9B,IAAIu9C,EAAS,sFACb,OAAOA,EAAOx/B,KAAK/d,IAEvB6jE,EAAMjuF,UAAUuuF,UAAY,SAAUzwF,EAAGiV,GACrC,GAAiC,QAA7BjV,EAAEymE,WAAW,GAAG73C,SAApB,CAGA,IAAI7I,EAAO,CACP7hB,QAASlE,EAAEymE,WAAW,GACtB4uB,IAAKr1F,EAAEymE,WAAW,GAAGhvD,aAAa,QAEkB,IAApDpa,KAAKigC,OAAOy3B,UAAU+C,mBAAmBr1D,QACzCpF,KAAKigC,OAAOy3B,UAAUgD,WAE1B/3D,EAAE0mE,UAAUsC,UACR3rE,KAAK83D,cAAcoF,eAAerwD,cAAc,kBAChD7M,KAAK63F,iBAET73F,KAAKigC,OAAOy3B,UAAU2G,QAAQr+D,KAAKigC,OAAQt9B,EAAE+lB,KAAM/lB,EAAE+lB,KAAM,CACvD0gD,WAAYzmE,EAAEymE,WACduwB,aAAc9jC,EAAA,KACduC,WAAYz1D,EAAE+lB,KAAK5M,KAAKs8C,aAExBp4D,KAAK+nE,cAAgB5yD,SAASC,KAAK9I,SAAStM,KAAK+nE,aAAamtB,WAAWruF,UACzE7G,KAAK+nE,aAAamtB,WAAWxsB,YAEjC1oE,KAAKy1F,qBACD,eAAkB79E,IAClB5X,KAAKigC,OAAOxpB,QAAQ,OAAyBiS,KAGrDoqE,EAAMjuF,UAAUsuF,QAAU,SAAUxwF,GAChC,IAAIymE,EAAazmE,EAAEymE,WAAW,GAC9B,GAA4B,QAAxBA,EAAW73C,SAAf,CAGA5uB,EAAE0mE,UAAUsC,UAC4C,IAApD3rE,KAAKigC,OAAOy3B,UAAU+C,mBAAmBr1D,QACzCpF,KAAKigC,OAAOy3B,UAAUgD,WAE1B16D,KAAKy1F,qBACL,eAAS,CAACrsB,GAAa,eACvB,IAAIhR,EAAcz1D,EAAE+lB,KAAS,KACzB/lB,EAAE+lB,KAAK5M,KAAKs8C,WAAa,UAC7B,GAAK,eAAkB,eAAQgR,EAAY,IAAMvT,EAAA,OAa5C,CACD71D,KAAKq3F,WAAar3F,KAAKigC,OAAOt3B,cAAc,OAAQ,CAChDC,UAAWitD,EAAA,KAAsB,IAAMA,EAAA,KACvCv1D,MAAO,CAAEs5F,gBAAiB,QAASC,UAAW,WAElD,IAAIC,EAAU95F,KAAKigC,OAAOt3B,cAAc,OAAQ,CAAEC,UAAW,eACzDmxF,EAAW/5F,KAAKigC,OAAOt3B,cAAc,OAAQ,CAAEC,UAAW,cAAetI,MAAO,CAAEs5F,gBAAiB,UACnGx4B,EAAWz+D,EAAEymE,WAAW,GAAG3uD,cACN,MAArB2mD,EAAS3pD,SACT2pD,EAASt4D,aAAa,kBAAmB,QAE7CgxF,EAAQ3wF,YAAiC,MAArBi4D,EAAS3pD,QAAkB2pD,EAAWz+D,EAAEymE,WAAW,IACvE0wB,EAAQ3wF,YAAY4wF,GACpB,IAAIC,EAAah6F,KAAKinE,KAAKjgC,YAAY,gBACvC+yD,EAAS7vE,UAAY8vE,EACrBh6F,KAAKq3F,WAAWluF,YAAY2wF,GACxB1wB,EAAWxhE,UAAU0E,SAASupD,EAAA,OAC9B,eAAS,CAAC71D,KAAKq3F,YAAaxhC,EAAA,MAE5BuT,EAAWxhE,UAAU0E,SAASupD,EAAA,OAC9B,eAAS,CAAC71D,KAAKq3F,YAAaxhC,EAAA,MAE5BuT,EAAWxhE,UAAU0E,SAASupD,EAAA,OAC9B,eAAS,CAAC71D,KAAKq3F,YAAaxhC,EAAA,MAE5BuT,EAAWxhE,UAAU0E,SAASupD,EAAA,OAC9B,eAAS,CAAC71D,KAAKq3F,YAAaxhC,EAAA,MAE5BuT,EAAWxhE,UAAU0E,SAASupD,EAAA,OAC9B,eAAS,CAAC71D,KAAKq3F,YAAaxhC,EAAA,MAEhC71D,KAAKigC,OAAOy3B,UAAU2G,QAAQr+D,KAAKigC,OAAQt9B,EAAE+lB,KAAM/lB,EAAE+lB,KAAM,CAAE4uE,cAAet3F,KAAKq3F,WAAYjuB,WAAYzmE,EAAEymE,WAAYhR,WAAYA,IACnIp4D,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAckgC,iBAAiB93F,KAAK83D,cAAcC,cAAegiC,EAAS34E,WAAW,GAAI24E,EAAS34E,WAAW,GAAI,EAAG24E,EAAS34E,WAAW,GAAGoJ,YAAYplB,aA5C3L,eAAO,eAAQgkE,EAAY,IAAMvT,EAAA,OAC7B,OAAQuW,OACRpsE,KAAK83D,cAAcoF,eAAejkD,QAClCtW,EAAE0mE,UAAUsC,WAEyB,MAArCvC,EAAW3uD,cAAchD,QACzBzX,KAAKigC,OAAOy3B,UAAU2G,QAAQr+D,KAAKigC,OAAQt9B,EAAE+lB,KAAM/lB,EAAE+lB,KAAM,CAAE4uE,cAAeluB,EAAW3uD,cAAe2uD,WAAYzmE,EAAEymE,WAAYhR,WAAYA,IAG5Ip4D,KAAKigC,OAAOy3B,UAAU2G,QAAQr+D,KAAKigC,OAAQt9B,EAAE+lB,KAAM/lB,EAAE+lB,KAAM,CAAE4uE,cAAeluB,EAAYA,WAAYzmE,EAAEymE,WAAYhR,WAAYA,IAqClIp4D,KAAK+nE,cAAgB5yD,SAASC,KAAK9I,SAAStM,KAAK+nE,aAAamtB,WAAWruF,WACzE7G,KAAK+nE,aAAamtB,WAAWxsB,YAC7B,eAAY,CAACU,GAAa,kBAGlC0pB,EAAMjuF,UAAU0uF,UAAY,SAAU5wF,GAClC,IAAIsI,EAAQjL,KACZ,GAAiC,QAA7B2C,EAAEymE,WAAW,GAAG73C,WAGpBvxB,KAAK44F,WAAWj2F,IACX,eAAkB3C,KAAK4nE,YAAY,CACpC,IAAIqyB,EAAgBj6F,KAAKinE,KAAKjgC,YAAY,mBACtC2lC,EAAa3sE,KAAKinE,KAAKjgC,YAAY,gBACnCkzD,EAAgBl6F,KAAKm6F,aAAax3F,GAClCy3F,EAAc,CAAE1xE,KAAM/lB,EAAE+lB,KAAMswE,UAAWh5F,KAAMqpE,UAAW1mE,EAAE0mE,UAAWD,WAAYzmE,EAAEymE,YACzFppE,KAAK4nE,UAAU72C,cAAc,CACzBzf,OAAQ,UAAWhD,MAAO,QAAS28D,OAAQgvB,EAAexrE,QAASyrE,EAAeh+E,SAAU,CAAEC,EAAG,SAAUC,EAAG,UAC9GijB,QAAS,CAAC,CACF5zB,MAAO,SAAU9I,GAAKsI,EAAMovF,WAAWD,IACvC9uB,YAAa,CACT78C,QAASk+C,EAAYv2D,SAAU,uBAAwBm1D,WAAW,OAIlFvrE,KAAK4nE,UAAU/gE,QAAQY,MAAMma,UAAY,UACzC5hB,KAAK4nE,UAAUn5C,QAAQ5hB,cAAc,SAASoM,UAGtD65E,EAAMjuF,UAAUwzF,MAAQ,SAAU11F,GAC9B,GAAiC,QAA7BA,EAAEymE,WAAW,GAAG73C,SAApB,CAGA,IAAI6mC,EAAcz1D,EAAE+lB,KAAS,KACzB/lB,EAAE+lB,KAAK5M,KAAKs8C,WAAa,QAC7Bp4D,KAAKigC,OAAOy3B,UAAU2G,QAAQr+D,KAAKigC,OAAQt9B,EAAE+lB,KAAM/lB,EAAE+lB,KAAM,CAAE0gD,WAAYzmE,EAAEymE,WAAYhR,WAAYA,MAEvG06B,EAAMjuF,UAAUmlD,OAAS,SAAUrnD,GAC/B,GAAiC,QAA7BA,EAAEymE,WAAW,GAAG73C,SAApB,CAGA,IAAI6mC,EAAcz1D,EAAE+lB,KAAS,KACzB/lB,EAAE+lB,KAAK5M,KAAKs8C,WAAa,SAC7Bp4D,KAAKigC,OAAOy3B,UAAU2G,QAAQr+D,KAAKigC,OAAQt9B,EAAE+lB,KAAM/lB,EAAE+lB,KAAM,CAAE0gD,WAAYzmE,EAAEymE,WAAYhR,WAAYA,MAEvG06B,EAAMjuF,UAAUqzF,iBAAmB,SAAUv1F,GACzC,IAAIy1D,EAAcz1D,EAAE+lB,KAAS,KACzB/lB,EAAE+lB,KAAK5M,KAAKs8C,WAAa,cAC7Bp4D,KAAKigC,OAAOy3B,UAAU2G,QAAQr+D,KAAKigC,OAAQt9B,EAAE+lB,KAAM/lB,EAAE+lB,KAAM,CAAE0gD,WAAYzmE,EAAEymE,WAAYhR,WAAYA,KAEvG06B,EAAMjuF,UAAUuzF,kBAAoB,SAAUz1F,GAC1C,IAAIy1D,EAAcz1D,EAAE+lB,KAAS,KACzB/lB,EAAE+lB,KAAK5M,KAAKs8C,WAAa,eAC7Bp4D,KAAKigC,OAAOy3B,UAAU2G,QAAQr+D,KAAKigC,OAAQt9B,EAAE+lB,KAAM/lB,EAAE+lB,KAAM,CAAE0gD,WAAYzmE,EAAEymE,WAAYhR,WAAYA,KAEvG06B,EAAMjuF,UAAUszF,mBAAqB,SAAUx1F,GAC3C,IAAIy1D,EAAcz1D,EAAE+lB,KAAS,KACzB/lB,EAAE+lB,KAAK5M,KAAKs8C,WAAa,gBAC7Bp4D,KAAKigC,OAAOy3B,UAAU2G,QAAQr+D,KAAKigC,OAAQt9B,EAAE+lB,KAAM/lB,EAAE+lB,KAAM,CAAE0gD,WAAYzmE,EAAEymE,WAAYhR,WAAYA,KAEvG06B,EAAMjuF,UAAU+zF,WAAa,SAAUj2F,GACnC,IAAIsI,EAAQjL,KACZ,GAAIA,KAAK4nE,UACL5nE,KAAK4nE,UAAU/vD,KAAK,CAAEgwD,aAAa,QADvC,CAIA,IAAIyyB,EAAYt6F,KAAKigC,OAAOt3B,cAAc,MAAO,CAAEC,UAAW,mBAAoBrB,GAAIvH,KAAKgnE,MAAQ,WACnGhnE,KAAKigC,OAAOp5B,QAAQsC,YAAYmxF,GAChC,IAAIC,EAAYv6F,KAAKinE,KAAKjgC,YAAY,gBAClCwzD,EAAgBx6F,KAAKinE,KAAKjgC,YAAY,gBACtCyzD,EAAYz6F,KAAKinE,KAAKjgC,YAAY,eAClCqiC,EAAY1mE,EAAE0mE,UACdyB,EAAY,CAAEkuB,UAAWh5F,KAAMqpE,UAAW1mE,EAAE0mE,UAAW3gD,KAAM/lB,EAAE+lB,KAAM4gD,aAAc3mE,EAAE2mE,cACrF0B,EAAc,CACdC,OAAQwvB,EACRrkF,SAAUy/C,EAAA,MACVluD,UAAW3H,KAAKigC,OAAOt4B,UACvBo/B,OAAQ/mC,KAAKigC,OAAO8G,OACpBmkC,eAAe,EAAMC,eAAe,EAAM78D,MAAQ,OAAgB,SAAI,QAAU,QAASgD,OAAQ,UACjG4K,SAAU,CAAEC,EAAG,SAAUC,EAAI,OAAgB,SAAI,SAAW,OAC5DgvD,QAAS,OAAQjkE,SACjBk4B,QAAS,CAAC,CACF5zB,MAAOzL,KAAK06F,eAAezyF,KAAK6iE,GAChCQ,YAAa,CAAE78C,QAAS8rE,EAAWnkF,SAAU,uBAAwBm1D,WAAW,IAEpF,CACI9/D,MAAO,SAAU9I,GAAKsI,EAAMugE,aAAa7oE,IACzC2oE,YAAa,CAAEl1D,SAAU,kBAAmBqY,QAAS+rE,KAE7D/4F,OAAS,OAAgB,SAAI0T,SAASC,KAAOpV,KAAKigC,OAAOp5B,QACzD4kE,kBAAmB,CAAEj3C,OAAQ,QAC7BtS,MAAO,SAAUnR,GACT9F,EAAM8nF,eACN9nF,EAAM0vF,UAAUC,WAEpB3vF,EAAMg1B,OAAOyrC,QAAS,EAClB36D,GAASA,EAAMA,MAAM82D,cACW,SAA5B58D,EAAMg1B,OAAO4oC,WACbQ,EAAUsC,UAGV1gE,EAAMg1B,OAAOy3B,UAAUC,cAAc6R,kBAAkBmC,QAAQ1gE,EAAMg1B,OAAO63B,cAAcoF,iBAGlGjyD,EAAM28D,UAAUl+D,UAChB,eAAOuB,EAAM28D,UAAU/gE,SACvBoE,EAAMk8D,gBAAgBjlD,MAAMnR,GAC5B9F,EAAM28D,UAAY,OAGtBsyB,EAAgBl6F,KAAKigC,OAAOt3B,cAAc,MAAO,CAAEC,UAAW,oBAC5D,eAAkB5I,KAAKigC,OAAOi0D,oBAAoBthB,OAAoC,aAA3B5yE,KAAKigC,OAAO4oC,YAC3C,SAA3B7oE,KAAKigC,OAAO4oC,aACfqxB,EAAc/wF,YAAYnJ,KAAK66F,UAAUl4F,IAE7C,IAAIm4F,EAAa96F,KAAKigC,OAAOt3B,cAAc,MAAO,CAAEC,UAAW,iBAC3DmyF,EAAiB/6F,KAAKinE,KAAKjgC,YAAY,mBACZ,SAA3BhnC,KAAKigC,OAAO4oC,WACZiyB,EAAW5wE,UAAY6wE,EAGvBD,EAAW5wE,UAAYlqB,KAAKinE,KAAKjgC,YAAY,eAEjDkzD,EAAc/wF,YAAY2xF,GAC1BZ,EAAc/wF,YAAYnJ,KAAKg7F,cAAcr4F,IACzCA,EAAEymE,YAA2C,QAA7BzmE,EAAEymE,WAAW,GAAG73C,UAChCy5C,EAAYC,OAASjrE,KAAKigC,OAAOi5D,UAAUlyD,YAAY,mBACvDgkC,EAAYv8C,QAAUyrE,GAGtBlvB,EAAYv8C,QAAUyrE,EAE1Bl6F,KAAK4nE,UAAY5nE,KAAKmnE,gBAAgBrnE,OAAOkrE,GAC7ChrE,KAAK4nE,UAAUj/D,cAAgB3I,KAAKigC,OAAOt3B,cAC3C3I,KAAK4nE,UAAUxlD,SAASk4E,GACpB33F,EAAEymE,YAA2C,QAA7BzmE,EAAEymE,WAAW,GAAG73C,UAAkC,gBAAX5uB,EAAExB,OACzDnB,KAAK4nE,UAAU/gE,QAAQgG,cAAc,kBAAkB2d,YAAcxqB,KAAKigC,OAAOi5D,UAAUlyD,YAAY,iBAE3GszD,EAAU7yF,MAAMma,UAAY,UACxB5hB,KAAK+nE,eACD/nE,KAAK+nE,aAAamtB,YAAc//E,SAASC,KAAK9I,SAAStM,KAAK+nE,aAAamtB,WAAWruF,WACpF7G,KAAK+nE,aAAamtB,WAAWxsB,YACxB,eAAkB/lE,EAAE2mE,eACrB,eAAY,CAAC3mE,EAAE2mE,aAAa,IAAK,gBAGrCtpE,KAAK+nE,aAAaiE,aAAe72D,SAASC,KAAK9I,SAAStM,KAAK+nE,aAAaiE,YAAYnlE,UACtF7G,KAAK+nE,aAAaiE,YAAYtD,eAI1CoqB,EAAMjuF,UAAU2mE,aAAe,SAAU7oE,GACrC3C,KAAKigC,OAAOyrC,QAAS,EACrB1rE,KAAK4nE,UAAU/vD,KAAK,CAAEgwD,aAAa,IAC/B7nE,KAAK+yF,eACL/yF,KAAK26F,UAAUC,YAGvB9H,EAAMjuF,UAAUknE,gBAAkB,SAAUppE,GACxC,IAAIlB,EAASkB,EAAElB,OACS,QAApBA,EAAO8vB,WACPvxB,KAAK00F,OAASjzF,IAEb,eAAkBzB,KAAK4nE,cAAiB,eAAQnmE,EAAQ,IAAMzB,KAAK4nE,UAAU/gE,QAAQU,KAAOvH,KAAKigC,OAAO45B,gBAAgBjyC,QAAU5nB,KAAKigC,OAAO++B,sBAC9Ih/D,KAAKigC,OAAO++B,oBAAoB1yD,SAAS3J,EAAElB,SAC3CzB,KAAKigC,OAAO++B,qBAAuBh/D,KAAKigC,OAAO++B,oBAAoB1yD,SAAS3J,EAAElB,UAC1E,eAAQA,EAAQ,IAAMzB,KAAKigC,OAAO42B,QAAU,oBAC5Cp1D,EAAOoL,cAAc,IAAM7M,KAAKigC,OAAO42B,QAAU,qBACtD72D,KAAK4nE,UAAU/vD,KAAK,CAAEgwD,aAAa,IACnC7nE,KAAKigC,OAAOyrC,QAAS,EACrB,eAAc1rE,KAAKigC,OAAOp5B,QAAS,aAEd,QAArBlE,EAAElB,OAAOgW,UAAqBzX,KAAK80F,cAAkB90F,KAAK+nE,cAC1D/nE,KAAK+nE,aAAamtB,YAAcl1F,KAAK+nE,aAAamtB,WAAWruF,QAAQyF,SAAS3J,EAAElB,UAChFzB,KAAK83D,cAAcoF,eAAe5wD,SAAStM,KAAK80F,eAChD90F,KAAKy1F,qBAEc,QAAnBh0F,EAAOgW,SAAqBzX,KAAK83D,cAAcoF,eAAerwD,cAAc,mBAC5E7M,KAAK63F,iBACL73F,KAAK83D,cAAcoF,eAAerwD,cAAc,OAAOpF,MAAM8sF,QAAU,KAG/EzB,EAAMjuF,UAAUgzF,eAAiB,WAC7B,OAAaluF,OAAO3J,KAAK83D,cAAcC,cAAe,OAAQzrB,eAAgBtsC,KAAK41F,UACnF,OAAajsF,OAAO3J,KAAK83D,cAAcC,cAAe,OAAQv6B,cAAex9B,KAAKw0F,WAClF,eAAOx0F,KAAK83D,cAAcoF,eAAerwD,cAAc,mBAE3DimF,EAAMjuF,UAAUm2F,cAAgB,SAAUr4F,GACtC,IAAIs4F,EAASj7F,KAAKigC,OAAOt3B,cAAc,MAAO,CAAEC,UAAW,WACvDsyF,EAAWl7F,KAAKinE,KAAKjgC,YAAY,YAMrC,OALAhnC,KAAKm7F,SAAWn7F,KAAKigC,OAAOt3B,cAAc,QAAS,CAC/CC,UAAW,oBACXtI,MAAO,CAAEw9B,YAAao9D,EAAUE,WAAY,WAEhDH,EAAO9xF,YAAYnJ,KAAKm7F,UACjBF,GAEXnI,EAAMjuF,UAAU61F,eAAiB,SAAU/3F,GACvC,IAAIq5B,EAAQh8B,KAAKg5F,UACjBh9D,EAAM+2D,eAAgB,EACtB,IAAI9jE,EAAM+M,EAAMm/D,SAAS95F,MAIzB,GAHyD,IAArD26B,EAAMiE,OAAOy3B,UAAU+C,mBAAmBr1D,QAC1C42B,EAAMiE,OAAOy3B,UAAUgD,WAEtB,eAAkB1+B,EAAMq/D,YAAsC,KAAxBr/D,EAAMq/D,UAAUpsE,KAWtD,GAAY,KAARA,EAAY,CACjB,GAAgC,SAA5B+M,EAAMiE,OAAO4oC,YAAyB,eAAkB,eAAQ7oE,KAAKqpE,UAAU/uB,MAAM0d,eAAexvC,WAAY,IAAMwT,EAAM87B,cAAcsB,WAAW7xD,KAAM,CAC3Jy0B,EAAM87B,cAAcoF,eAAejkD,QACnC,IAAIqhC,EAAQte,EAAMiE,OAAOy3B,UAAUC,cAAcC,cAAcC,SAAS77B,EAAM87B,cAAcC,eAC5F/3D,KAAKqpE,UAAYrtC,EAAMiE,OAAOy3B,UAAUC,cAAcC,cAAcmR,KAAKzuB,EAAOte,EAAM87B,cAAcC,eACpG/3D,KAAKspE,aAAettC,EAAMiE,OAAOy3B,UAAUC,cAAcC,cAAcuR,wBAAwB7uB,GAEnG,IAAIghD,EAAQ,6BACRC,EAAa,eAAkBtsE,EAAI2T,MAAM04D,KAAuC,SAA5Bt/D,EAAMiE,OAAO4oC,WAA+C,GAAtB55C,EAAI2T,MAAM04D,GAAO,GAC3Gj6F,EAAQ,CACR+U,SAAwD,WAA7C4lB,EAAMiE,OAAOi0D,oBAAoBxsF,QAAuBmuD,EAAA,KAAwBA,EAAA,KAC3F5mC,IAAKA,EAAKo6C,UAAWrpE,KAAKqpE,UAAW8vB,QAASoC,EAC9CjyB,aAActpE,KAAKspE,aAAch7D,MAAO,CACpCA,MAAO0tB,EAAMiE,OAAOi0D,oBAAoB5lF,MAAO+V,SAAU2X,EAAMiE,OAAOi0D,oBAAoB7vE,SAC1FsW,SAAUqB,EAAMiE,OAAOi0D,oBAAoBv5D,UAE/CrpB,OAAQ,CACJA,OAAQ0qB,EAAMiE,OAAOi0D,oBAAoB5iF,OAAQmL,UAAWuf,EAAMiE,OAAOi0D,oBAAoBz3E,UAC7FmF,UAAWoa,EAAMiE,OAAOi0D,oBAAoBtyE,YAGpDoa,EAAMiE,OAAOy3B,UAAU2G,QAAQriC,EAAMiE,OAAQjgC,KAAK0oB,KAAM1oB,KAAK0oB,KAAKrc,cAAehL,GACjF26B,EAAM4rC,UAAU/vD,KAAK,CAAEgwD,aAAa,UAhCpC7rC,EAAMq/D,UAAUjlF,SAAyD,WAA7C4lB,EAAMiE,OAAOi0D,oBAAoBxsF,QACzDmuD,EAAA,KAAwBA,EAAA,KAC5B75B,EAAM4rC,UAAU/vD,KAAK,CAAEgwD,aAAa,IACpC7rC,EAAMiE,OAAOy3B,UAAU2G,QAAQriC,EAAMiE,OAAQjgC,KAAK0oB,KAAM1oB,KAAK0oB,KAAKrc,cAAe2vB,EAAMq/D,WACvFr/D,EAAMq/D,UAAUpsE,IAAM,GAClB+M,EAAM87B,cAAcoF,eAAerwD,cAAc,mBACjDmvB,EAAM04D,OAAOjtF,MAAM8sF,QAAU,GAC7Bv4D,EAAM67D,mBA4BlB/E,EAAMjuF,UAAUs1F,aAAe,SAAUx3F,GACrC,IAAIymE,EAAazmE,EAAEymE,WAAW,GAC1BoyB,EAAYx7F,KAAKinE,KAAKjgC,YAAY,eAClCy0D,EAAWz7F,KAAKinE,KAAKjgC,YAAY,cACjC00D,EAAc17F,KAAKigC,OAAOt3B,cAAc,MAAO,CAAEC,UAAW,mBAC5D+yF,EAAiD,SAArCvyB,EAAWhvD,aAAa,UACpC,eAAkBgvD,EAAWhvD,aAAa,UAAagvD,EAAW96D,MAAQ86D,EAAWwyB,iBAAiB,GAAGttF,MACzGutF,EAAmD,SAAtCzyB,EAAWhvD,aAAa,WACrC,eAAkBgvD,EAAWhvD,aAAa,WAAcgvD,EAAW93D,OAAS83D,EAAWwyB,iBAAiB,GAAGtqF,OAC3Gmd,EAAU,mCAAqCgtE,EAC/C,uHACAE,EAFU,4CAIgCH,EAJhC,0HAMVK,EACE,YACFxxB,EAAc,eAAU57C,GAC5BitE,EAAYvyF,YAAYkhE,GACxB,IAAIyxB,EAAW,IAAI,GAAe,CAC9B7yD,OAAQ,aAAcgB,IAAKjqC,KAAKigC,OAAOi0D,oBAAoB7vE,SAC3D8lB,IAAKnqC,KAAKigC,OAAOi0D,oBAAoBv5D,SACrChzB,UAAW3H,KAAKigC,OAAOt4B,UAAWo/B,OAAQ/mC,KAAKigC,OAAO8G,SAE1D+0D,EAASnyE,kBAAmB,EAC5BmyE,EAASnzF,cAAgB3I,KAAKigC,OAAOt3B,cACrCmzF,EAAS15E,SAASs5E,EAAY7uF,cAAc,cAC5C,IAAIkvF,EAAY,IAAI,GAAe,CAC/B9yD,OAAQ,aAAcgB,IAAKjqC,KAAKigC,OAAOi0D,oBAAoBz3E,UAC3D0tB,IAAKnqC,KAAKigC,OAAOi0D,oBAAoBtyE,UACrCja,UAAW3H,KAAKigC,OAAOt4B,UAAWo/B,OAAQ/mC,KAAKigC,OAAO8G,SAK1D,OAHAg1D,EAAUpyE,kBAAmB,EAC7BoyE,EAAUpzF,cAAgB3I,KAAKigC,OAAOt3B,cACtCozF,EAAU35E,SAASs5E,EAAY7uF,cAAc,eACtC6uF,GAEX5I,EAAMjuF,UAAUw1F,WAAa,SAAU13F,GACnCA,EAAE0mE,UAAUsC,UACZ,IAAI3vC,EAAQr5B,EAAEq2F,UAC2C,IAArDh9D,EAAMiE,OAAOy3B,UAAU+C,mBAAmBr1D,QAC1C42B,EAAMiE,OAAOy3B,UAAUgD,WAE3B,IAAIshC,EAAYhgE,EAAM4rC,UAAU/gE,QAC5ByH,EAAQqQ,WAAWq9E,EAAUnvF,cAAc,gBAAgBxL,OAC3DiQ,EAASqN,WAAWq9E,EAAUvhF,cAAc5N,cAAc,iBAAiBxL,OAC/E26B,EAAMiE,OAAOy3B,UAAU2G,QAAQr+D,KAAKigC,OAAQt9B,EAAE+lB,KAAM/lB,EAAE+lB,KAAM,CACxDpa,MAAOA,EAAOgD,OAAQA,EAAQ83D,WAAYzmE,EAAEymE,WAC5ChR,WAAYz1D,EAAE+lB,KAAK5M,KAAKs8C,aAExBp4D,KAAK80F,cACL94D,EAAM05D,aAAa/yF,EAAEymE,WAAW,GAAIppE,KAAK80F,cAE7C94D,EAAM4rC,UAAU/vD,KAAK,CAAEgwD,aAAa,KAExCirB,EAAMjuF,UAAUouF,YAAc,SAAUtwF,GAEpC,GADA3C,KAAK44F,WAAWj2F,IACX,eAAkB3C,KAAK4nE,WAAY,CACpC5nE,KAAK4nE,UAAU/gE,QAAQY,MAAMma,UAAY,UACzC,IAAIs4E,EAAgBl6F,KAAK4nE,UAAU/gE,QAAQgG,cAAc,mBACnD,eAAkB7M,KAAKigC,OAAOi0D,oBAAoBthB,OAAoC,aAA3B5yE,KAAKigC,OAAO4oC,YAC3C,SAA3B7oE,KAAKigC,OAAO4oC,WACfqxB,EAAcrtF,cAAc,IAAM7M,KAAKgnE,MAAQ,gBAAgB/tD,QAG/DihF,EAAcrtF,cAAc,cAAcoM,UAItD65E,EAAMjuF,UAAUg2F,UAAY,SAAUl4F,GAClC,IACIomE,EACAO,EAFAr+D,EAAQjL,KAGRg8B,EAAQh8B,KACRomE,EAASpqC,EAAMiE,OAAOg4B,eAAerwC,OACzC,GAAgC,SAA5BoU,EAAMiE,OAAO4oC,cAA2BzC,GAAU,eAAkB,eAAQzjE,EAAE0mE,UAAU/uB,MAAM0d,eAAexvC,WAAY,IACzHxoB,KAAKigC,OAAO63B,cAAcsB,WAAW7xD,MACjC6+D,IAAW,eAASzjE,EAAE0mE,UAAU/uB,MAAM0d,eAAexvC,WAAW0vC,cAAcrrD,cAAc,QAAS,UAAY,CACrH7M,KAAK83D,cAAcoF,eAAejkD,QAClC,IAAIqhC,EAAQt6C,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAcC,SAAS73D,KAAKigC,OAAO63B,cAAcC,eACjGgR,EAAO/oE,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAcmR,KAAKzuB,EAAOt6C,KAAKigC,OAAO63B,cAAcC,eAC/FuR,EAAetpE,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAcuR,wBAAwB7uB,QAGzFyuB,EAAOpmE,EAAE0mE,UACTC,EAAe3mE,EAAE2mE,aAErB,IAAI2yB,EAAkBj8F,KAAKigC,OAAOt3B,cAAc,MAAO,CAAEC,UAAW,gCAChEszF,EAAiBl8F,KAAKinE,KAAKjgC,YAAY,4BACvCm1D,EAAWn8F,KAAKinE,KAAKjgC,YAAY,sBACjCnY,EAAO7uB,KAAKigC,OAAOt3B,cAAc,OAAQ,CAAEC,UAAW,eACtDwzF,EAAUp8F,KAAKigC,OAAOt3B,cAAc,OAAQ,CAC5CC,UAAW,oBAAqBshB,UAAa,OAAgB,SAAIgyE,EAAiBC,IAEtFttE,EAAK1lB,YAAYizF,GACjB,IAAIC,EAASr8F,KAAKigC,OAAOt3B,cAAc,SAAU,CAC7CC,UAAW,cAAerB,GAAIvH,KAAKgnE,MAAQ,eAAgB1mE,MAAO,CAAEg8F,UAAW,OAAQ7gF,KAAM,YAEjGoT,EAAK1lB,YAAYkzF,GACjBJ,EAAgB9yF,YAAY0lB,GAC5B,IAAI0tE,EAAav8F,KAAKinE,KAAKjgC,YAAY,UACnC5X,EAAS,IAAI,OAAO,CAAEX,QAAS8tE,EAAY50F,UAAW3H,KAAKigC,OAAOt4B,YACtEynB,EAAOzF,kBAAmB,EAC1ByF,EAAOzmB,cAAgB3I,KAAKigC,OAAOt3B,cACnCymB,EAAOhN,SAASi6E,GAChB,IAAIG,EAAY,OAAgB,SAAI3tE,EAAOwtE,EAC3C,OAAax0F,IAAI20F,EAAU,QAASx8F,KAAKy8F,WAAYz8F,MACrD,IAIIm5F,EACA5b,EACAmf,EACAzkB,EACA0kB,EARAC,EAAY58F,KAAKigC,OAAOt3B,cAAc,QAAS,CAC/CpB,GAAIvH,KAAKgnE,MAAQ,UAAW1mE,MAAO,CAAEmb,KAAM,OAAQta,KAAM,iBA8G7D,OA5GA86F,EAAgB9yF,YAAYyzF,GAM5B58F,KAAK26F,UAAY,IAAI,GAAS,CAC1Bhf,cAAe,CAAEC,QAAS57E,KAAKigC,OAAOi0D,oBAAoBtY,SAC1DoC,SAAUnvD,EAAMooD,UAAU,EAAOtvE,UAAW3H,KAAKigC,OAAOt4B,UACxDywE,kBAAmBp4E,KAAKigC,OAAOi0D,oBAAoB2I,aAAaj0E,WAChEk0E,SAAU,SAAUn6F,GAChBq5B,EAAM+2D,eAAgB,EACtB2J,EAAa/5F,EACbs1E,EAAYt1E,EAAEs1E,UACVhtE,EAAMg1B,OAAO5qB,mBACbqnF,EAAaK,KAAKC,MAAMD,KAAKE,UAAUt6F,IACvCA,EAAEoZ,QAAS,EACXwhE,EAAU56E,EAAEs1E,UACZykB,EAAWzkB,UAAYsF,GAE3BtyE,EAAMg1B,OAAOxpB,QAAQ,OAAsBimF,GAAY,SAAUA,GAG7D,GAFAzxF,EAAM46E,eAAe6W,EAAWzkB,UAAU,IAC1CkhB,EAAUuD,EAAWzkB,UAAU,GAAG92E,KACF,SAA5B8J,EAAMg1B,OAAO4oC,YAAyB,eAAkB59D,EAAMg1B,OAAOi0D,oBAAoBthB,MAAO,CAChG,IAAIsqB,EAAW,IAAIjY,WACnBiY,EAASpxF,iBAAiB,QAAQ,SAAUnJ,GACxC,IAAIssB,EAAsD,WAAhDhkB,EAAMg1B,OAAOi0D,oBAAoBiJ,WAA0BD,EAAS56D,OAC1E86D,IAAIC,gBAAgB,eAAcH,EAAS56D,SAC/CtG,EAAMq/D,UAAY,CACdpsE,IAAKA,EAAKo6C,UAAWN,EAAMowB,QAASA,EACpC7vB,aAAcA,EACdh7D,MAAO,CACHA,MAAO0tB,EAAMiE,OAAOi0D,oBAAoB5lF,MAAO+V,SAAU2X,EAAMiE,OAAOi0D,oBAAoB7vE,SAC1FsW,SAAUqB,EAAMiE,OAAOi0D,oBAAoBv5D,UAC5CrpB,OAAQ,CACPA,OAAQ0qB,EAAMiE,OAAOi0D,oBAAoB5iF,OAAQmL,UAAWuf,EAAMiE,OAAOi0D,oBAAoBz3E,UAC7FmF,UAAWoa,EAAMiE,OAAOi0D,oBAAoBtyE,YAGpDoa,EAAMm/D,SAASryF,aAAa,WAAY,WAE5Co0F,EAAShY,cAAcwX,EAAWzkB,UAAU,GAAGsF,SAE/CtyE,EAAMg1B,OAAO5qB,kBAEbpK,EAAM0vF,UAAU7U,sBAAsB4W,EAAYnf,OAK9D+f,aAAc,SAAU50E,GAChBzd,EAAMg1B,OAAO5qB,kBACbsnF,EAAmBI,KAAKC,MAAMD,KAAKE,UAAUv0E,IAC7Ci0E,EAAiB1kB,UAAYA,EAC7BhtE,EAAMg1B,OAAOxpB,QAAQ,OAAuBkmF,GAAkB,SAAUA,GAChEA,EAAiB5gF,QAIrB9Q,EAAM0vF,UAAUhK,YAAYpT,EAAS,UAKzCtyE,EAAMg1B,OAAOxpB,QAAQ,OAA0BiS,IAGvD60E,UAAW,SAAU56F,GACZsI,EAAMg1B,OAAO5qB,kBACdpK,EAAMg1B,OAAOxpB,QAAQ,OAAuB9T,IAGpD66F,QAAS,SAAU76F,GACfsI,EAAMg1B,OAAOxpB,QAAQ,OAA2B9T,GAAG,SAAUA,GACzD,IAAK,eAAkBsI,EAAMg1B,OAAOi0D,oBAAoBthB,MAAO,CAC3D,IAAI3jD,EAAMhkB,EAAMg1B,OAAOi0D,oBAAoBthB,KAAOjwE,EAAE08E,KAAKl+E,KAEzD66B,EAAMq/D,UAAY,CACdpsE,IAAKA,EAAKo6C,UAAWN,EAAMowB,QAASA,EAAS7vB,aAAcA,EAC3Dh7D,MAAO,CACHA,MAAO0tB,EAAMiE,OAAOi0D,oBAAoB5lF,MAAO+V,SAAU2X,EAAMiE,OAAOi0D,oBAAoB7vE,SAC1FsW,SAAUqB,EAAMiE,OAAOi0D,oBAAoBv5D,UAC5CrpB,OAAQ,CACPA,OAAQ0qB,EAAMiE,OAAOi0D,oBAAoB5iF,OAAQmL,UAAWuf,EAAMiE,OAAOi0D,oBAAoBz3E,UAC7FmF,UAAWoa,EAAMiE,OAAOi0D,oBAAoBtyE,YAGpDoa,EAAMm/D,SAASryF,aAAa,WAAY,aAIpD20F,QAAS,SAAU96F,GACfsI,EAAMg1B,OAAOxpB,QAAQ,OAA0B9T,IAEnDi4F,SAAU,WACN3vF,EAAMg1B,OAAOxpB,QAAQ,OAAsB9T,GAAG,SAAUA,GACpDq5B,EAAM+2D,eAAgB,EACtB/2D,EAAMm/D,SAASlxF,gBAAgB,YAC3B+xB,EAAMq/D,YACNr/D,EAAMq/D,UAAUpsE,IAAM,IAE1BhkB,EAAM28D,UAAU81B,WAAW,GAAG72F,QAAQoD,gBAAgB,kBAIlEjK,KAAK26F,UAAUhxE,kBAAmB,EAClC3pB,KAAK26F,UAAUhyF,cAAgB3I,KAAKigC,OAAOt3B,cAC3C3I,KAAK26F,UAAUv4E,SAASw6E,GACjBX,GAEXnJ,EAAMjuF,UAAUghF,eAAiB,SAAUljF,GACnC3C,KAAK26F,UAAUviB,qBAC2F,IAAtGp4E,KAAK26F,UAAUviB,kBAAkBle,oBAAoBl/C,SAAS,IAAMrY,EAAE8Y,MAAMy+C,qBAC5El6D,KAAK4nE,UAAU81B,WAAW,GAAG72F,QAAQiC,aAAa,WAAY,YAG9D9I,KAAK4nE,UAAU81B,WAAW,GAAG72F,QAAQoD,gBAAgB,cAIjE6oF,EAAMjuF,UAAU43F,WAAa,WAEzB,OADAz8F,KAAK4nE,UAAU/gE,QAAQ6Y,uBAAuB,sBAAsB,GAAG7S,cAAc,UAAUpB,SACxF,GAEXqnF,EAAMjuF,UAAU+uF,UAAY,SAAUjxF,GAClC,GAA0B,QAAtBA,EAAElB,OAAO8vB,SAYT,OAAO,EAXPvxB,KAAKigC,OAAOxpB,QAAQ,OAAoB9T,GAAG,SAAUg7F,GAC7CA,EAAgB5hF,OAChBpZ,EAAEqJ,kBAGFrJ,EAAEq9E,aAAa4d,cAAgB,WAC/Bj7F,EAAElB,OAAOmG,UAAUC,IAAIguD,EAAA,YASvCi9B,EAAMjuF,UAAUgvF,UAAY,SAAUlxF,GAClCA,EAAEq9E,aAAaD,WAAa,OAC5Bp9E,EAAEqJ,kBAGN8mF,EAAMjuF,UAAUivF,SAAW,SAAUnxF,GACjC,KAA2B,SAAtB,OAAQsE,KAAK9F,MAAmBwB,EAAEq9E,aAAappE,MAAM,GAAG6E,KAAKpF,MAAM,KAAK,GAAG2E,QAAQ,UAAY,GAC/F,OAAQoxD,MAAoC,UAA5BzpE,EAAEq9E,aAAazkB,MAAM,IAItC,OAAO,EAHP54D,EAAEqJ,kBAUV8mF,EAAMjuF,UAAU8uF,SAAW,SAAUhxF,GACjC,IAAIsI,EAAQjL,KACR69F,EAAa79F,KAAKigC,OAAOE,aAAa+3B,cAAcrrD,cAAc,IAAMgpD,EAAA,OAC5E,KAAKgoC,GAAqC,QAAvBA,EAAWpmF,SAAsB9U,EAAEq9E,aAAa9C,MAAM93E,OAAS,GAoC9E,OAAO,EAnCPpF,KAAKigC,OAAOxpB,QAAQ,OAAoB9T,GAAG,SAAUg7F,GACjD,GAAIA,EAAgB5hF,OAChBpZ,EAAEqJ,qBAED,CACD,GAAI,eAAQrJ,EAAElB,OAAQ,IAAMwJ,EAAMg1B,OAAO42B,QAAU,aACD,UAA9C5rD,EAAMg1B,OAAOE,aAAa29D,gBAE1B,YADAn7F,EAAEqJ,iBAGFf,EAAMg1B,OAAOp5B,QAAQgG,cAAc,IAAMgpD,EAAA,OACzC,eAAO5qD,EAAM6pF,cAEjBnyF,EAAEqJ,iBACF,IAAIsuC,OAAQ,EACRrvC,EAAM6sD,cAAcC,cAAcgmC,oBAClCzjD,EAAQrvC,EAAM6sD,cAAcC,cAAcgmC,oBAAoBp7F,EAAEivC,QAASjvC,EAAEkvC,SAErElvC,EAAa,aACnB23C,EAAQrvC,EAAM6sD,cAAcC,cAAcimC,cAC1C1jD,EAAM2jD,SAASt7F,EAAEu7F,YAAav7F,EAAEw7F,cAGhC7jD,EAAQrvC,EAAMmzF,aAAaz7F,EAAEivC,QAASjvC,EAAEkvC,SAE5C5mC,EAAMg1B,OAAOnV,OAAO,QAAoB,CAAEwvB,MAAOA,IACjD,IAAI+jD,EAAapzF,EAAMg1B,OAAOp5B,QAAQgG,cAAc,IAAMgpD,EAAA,MAC1D,GAAIwoC,EACA,OAEJpzF,EAAMqzF,gBAAgB37F,QAWtCmwF,EAAMjuF,UAAUu5F,aAAe,SAAU/iE,EAAGC,GACxC,IAAIijE,EAAav+F,KAAK83D,cAAcC,cAAcimC,cAClDh+F,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAc4mC,SAASx+F,KAAK83D,cAAcC,cAAewmC,GAC7F,IAAIv0F,EAAOhK,KAAK83D,cAAcC,cAAcpmB,iBAAiBtW,EAAGC,GAC5DmjE,EAAaz0F,EAAKoX,WAAWhc,OAAS,EAAI4E,EAAKoX,WAAW,GAAKpX,EAC/D00F,EAA0B,EAC9B,GAAsD,SAAlD1+F,KAAKigC,OAAOE,aAAax1B,WAAWuf,UACpCq0E,EAAWN,SAASQ,EAAWC,GAC/BH,EAAWI,OAAOF,EAAWC,OAE5B,CACD,IAAIE,OAAY,EAChB,GACIF,IACAH,EAAWN,SAASQ,EAAWC,GAC/BH,EAAWI,OAAOF,EAAWC,EAA0B,GACvDE,EAAYL,EAAWt7E,8BAClB27E,EAAU73E,KAAOsU,GAAKqjE,EAA0BD,EAAUr5F,OAAS,GAEhF,OAAOm5F,GAEXzL,EAAMjuF,UAAUy5F,gBAAkB,SAAU37F,GACxC,IAAIsI,EAAQjL,KACZ2C,EAAEqJ,iBACF,IAAI6yF,EAAqB7+F,KAAKigC,OAAOp5B,QAAQgG,cAAc,GAAKgpD,EAAA,MAKhE,GAJA71D,KAAKigC,OAAOnV,OAAO,OAAa,CAAEpC,KAAM/lB,IACpCk8F,GACAA,EAAmBj3F,UAAUC,IAAIguD,EAAA,MAEjClzD,EAAEq9E,aAAa9C,MAAM93E,OAAS,EAAG,CACjC,GAAIzC,EAAEq9E,aAAa9C,MAAM93E,OAAS,EAC9B,OAMJ,IAJA,IAAI05F,EAAWn8F,EAAEq9E,aAAa9C,MAC1B6I,EAAW+Y,EAAS,GAAG39F,KACvB49F,EAAUhZ,EAASh4C,UAAUg4C,EAASj4C,YAAY,MAClD+uD,EAAe78F,KAAKigC,OAAOi0D,oBAAoB2I,aAC1Cp3F,EAAI,EAAGA,EAAIo3F,EAAaz3F,OAAQK,IACrC,GAAIs5F,EAAQ7kC,sBAAwB2iC,EAAap3F,GAAGsY,cAChD,GAAI/d,KAAKigC,OAAOi0D,oBAAoBtY,QAChC57E,KAAKg/F,SAASr8F,OAEb,CACD,IAAI+lB,EAAO,CAAEA,KAAM/lB,EAAGsY,KAAM,GAAIokE,KAAMyf,EAAS,IAC/Cn8F,EAAEqJ,iBACFhM,KAAK0zF,WAAWhrE,QAK3B,CACD,IAAI4xB,EAAQt6C,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAcC,SAAS73D,KAAKigC,OAAO63B,cAAcC,eAC7F8lC,EAAa79F,KAAKigC,OAAOE,aAAa+3B,cAAcrrD,cAAc,IAAMgpD,EAAA,OAC5E,GAAIgoC,GAAqC,QAAvBA,EAAWpmF,QAAmB,CACxComF,EAAWzyD,oBACPyyD,EAAWzyD,mBAAmBxjC,UAAU0E,SAASupD,EAAA,MACjDvb,EAAM2kD,WAAWpB,EAAWpjF,cAAcA,eAO9C6/B,EAAM2kD,WAAWpB,GAErBA,EAAWj2F,UAAU+B,OAAOksD,EAAA,OAC5B,IAAIqpC,EAAY,CAAEv3E,SAAU,CAACk2E,IAC7BA,EAAW/xF,iBAAiB,QAAQ,WAChCb,EAAMg1B,OAAOxpB,QAAQ,OAAuByoF,MAEhDl/F,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAcyiB,MAAMr6E,KAAK83D,cAAcC,eACvErvC,EAAO/lB,EACX3C,KAAKm0F,YAAYzrE,EAAMm1E,GACvB79F,KAAK04F,2BAIjB5F,EAAMjuF,UAAUm6F,SAAW,SAAUt2E,GACjC,IAAIzd,EAAQjL,KACRg8B,EAAQh8B,KACRs6C,EAAQt6C,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAcC,SAAS73D,KAAKigC,OAAO63B,cAAcC,eAC7Ft9C,EAAgBza,KAAKigC,OAAOt3B,cAAc,KAAM,CAAEC,UAAWitD,EAAA,QACjE71D,KAAKigC,OAAOp5B,QAAQsC,YAAYsR,GAChC,IAAI0kF,EAAa,CACbh+F,KAAM,GACN8rB,KAAM,EACN0sD,OAAQ,GACRgE,WAAY,GACZliE,KAAM,GACN8hE,QAAS70D,EAAKs3D,aAAa9C,MAAM,GACjCM,mBAAoB,IAEpB4hB,EAAWp/F,KAAKigC,OAAOt3B,cAAc,OACzCy2F,EAAS33F,MAAM+rD,QAAU,MACzB4rC,EAASx3F,UAAUC,IAAIguD,EAAA,OACvBupC,EAASx3F,UAAUC,IAAIguD,EAAA,MACvBupC,EAASx3F,UAAUC,IAAIguD,EAAA,MACvB,IAAIwpB,EAAO8f,EAAW5hB,QAClBuT,EAAS,IAAI7L,WACjB6L,EAAOhlF,iBAAiB,QAAQ,WAC5B,IAAImjB,EAAMmuE,IAAIC,gBAAgB,eAAcvM,EAAOxuD,SACnD88D,EAASpH,IAAsD,SAAhDh8D,EAAMiE,OAAOi0D,oBAAoBiJ,WAAwBluE,EAAM6hE,EAAOxuD,UAErF+8C,GACAyR,EAAO5L,cAAc7F,GAEzB/kC,EAAM2kD,WAAWG,GACjBp/F,KAAKq/F,aAAa32E,EAAM02E,GACxB,IAAIz8F,EAAI,CAAEglB,SAAU,CAACy3E,IACrBA,EAAStzF,iBAAiB,QAAQ,WAC9Bb,EAAMg1B,OAAOxpB,QAAQ,OAAuB9T,OAMpDmwF,EAAMjuF,UAAUw6F,aAAe,SAAUC,EAAWC,GAChD,IAAIt0F,EAAQjL,KACRw/F,GAAc,EACdxjE,EAAQh8B,KACRwhB,EAAWxhB,KAAKigC,OAAOt3B,cAAc,OACzC3I,KAAKigC,OAAOp5B,QAAQsC,YAAYqY,GAChC,IAAIo7E,EAAY58F,KAAKigC,OAAOt3B,cAAc,QAAS,CAC/CpB,GAAIvH,KAAKgnE,MAAQ,UAAW1mE,MAAO,CAAEmb,KAAM,OAAQta,KAAM,iBAEzD6gB,EAAUhiB,KAAKigC,OAAOg4B,eAAerwC,QAAU,IAAM,GACzD5nB,KAAK61B,SAAW,IAAI,OAAMrU,EAAU,CAChCO,SAAUw9E,EACVjuF,OAAQ,OACRhD,MAAO,QACP0T,QAASA,EACTyM,QAASmuE,EACT6C,gBAAiBz/F,KAAKigC,OAAOp5B,QAC7BqV,SAAU,CAAEC,EAAG,SAAUC,EAAG,OAC5BzU,UAAW3H,KAAKigC,OAAOt4B,UACvBk4C,OAAQ,MACR39B,MAAO,SAAUnR,GACb9F,EAAMg1B,OAAOyrC,QAAS,EACtBzgE,EAAM4qB,SAASnsB,UACf,eAAOuB,EAAM4qB,SAAShvB,SACtBoE,EAAM4qB,SAAW,QAGzB71B,KAAK61B,SAAShvB,QAAQY,MAAMC,QAAU,OACtC,eAAS,CAAC1H,KAAK61B,SAAShvB,SAAUgvD,EAAA,MAClC,eAAS,CAAC71D,KAAK61B,SAAShvB,SAAUgvD,EAAA,OAClC,IAAInkB,EAAU4tD,EAAUtf,aAAa9C,MAAM,GAAGjwD,KAAO,IAAU,IAAM,IACrE1hB,YAAW,WAAcywB,EAAM0jE,aAAaH,KAAkB7tD,GAC9D,IACI6rC,EACAof,EAFAriD,EAAQt6C,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAcC,SAAS73D,KAAKigC,OAAO63B,cAAcC,eAGjG/3D,KAAK26F,UAAY,IAAI,GAAS,CAC1Bhf,cAAe,CACXC,QAAS57E,KAAKigC,OAAOi0D,oBAAoBtY,SAE7CxlE,SAAUy/C,EAAA,MACVmoB,SAAUh+E,KAAKigC,OAAOp5B,QACtBuxE,kBAAmBp4E,KAAKigC,OAAOi0D,oBAAoB2I,aAAaj0E,WAChEgyE,SAAU,WACN3vF,EAAMg1B,OAAOE,aAAa29D,gBAAkB,OAC5C0B,GAAc,EACd,eAAOD,GACPt0F,EAAM4qB,SAAS3T,SAEnBy9E,UAAW,WACP10F,EAAMg1B,OAAOE,aAAa29D,gBAAkB,OAC5C0B,GAAc,EACd,eAAOD,GACPt0F,EAAM4qB,SAAS3T,SAEnBo7E,aAAc,SAAU50E,GAChBzd,EAAMg1B,OAAO5qB,kBACbsnF,EAAmBI,KAAKC,MAAMD,KAAKE,UAAUv0E,IAC7Ci0E,EAAiB1kB,UAAYsF,EAC7BiiB,GAAc,EACdv0F,EAAMg1B,OAAOxpB,QAAQ,OAAuBkmF,GAAkB,SAAUA,GAChEA,EAAiB5gF,SAIrB9Q,EAAM0vF,UAAUhK,YAAYpT,EAAS,MACrCtyE,EAAMg1B,OAAOE,aAAa29D,gBAAkB,aAKhD7yF,EAAMg1B,OAAOxpB,QAAQ,OAA0BiS,IAGvD60E,UAAW,SAAU56F,GACZsI,EAAMg1B,OAAO5qB,mBACdmqF,GAAc,EACdv0F,EAAMg1B,OAAOxpB,QAAQ,OAAuB9T,GAC5CsI,EAAMg1B,OAAOE,aAAa29D,gBAAkB,UAGpDhB,SAAU,SAAUn6F,GACZ68F,IACA78F,EAAEoZ,QAAS,GAEX9Q,EAAMg1B,OAAO5qB,mBACbkoE,EAAU56E,EAAEs1E,YAGpBwlB,QAAS,SAAU96F,GACf68F,GAAc,EACdv0F,EAAMg1B,OAAOE,aAAa29D,gBAAkB,OAC5C,IAAIp1E,EAAO,CACPA,KAAM42E,EACN7jF,KAAM,SACNysD,cAAUntC,EACVpT,SAAU43E,GAEdh0F,YAAW,WAAcN,EAAM20F,cAAcL,EAAc72E,EAAM/lB,KAAO,MAE5E66F,QAAS,SAAU76F,GACf68F,GAAc,EACdv0F,EAAMg1B,OAAOE,aAAa29D,gBAAkB,OAC5C,IAAIp1E,EAAO,CACPA,KAAM42E,EACN7jF,KAAM,SACNysD,cAAUntC,EACVpT,SAAU43E,GAEdh0F,YAAW,WAAcN,EAAM40F,cAAcN,EAAcD,EAAW52E,EAAM/lB,KAAO,QAG3F3C,KAAK26F,UAAUv4E,SAASpiB,KAAK61B,SAAShvB,QAAQua,WAAW,IACzD,eAAOphB,KAAK61B,SAAShvB,QAAQgG,cAAc,6CAC3CytC,EAAMwlD,mBAAmBP,GACzBv/F,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAc4mC,SAASx+F,KAAK83D,cAAcC,cAAezd,IAEjGw4C,EAAMjuF,UAAU66F,aAAe,SAAUH,GACrC,IAAIQ,EAAc//F,KAAKigC,OAAOg4B,eAAerwC,OAAS5nB,KAAKigC,OAAOp5B,QAAQ8b,UACtE48E,EAAa58E,UAAY48E,EAAa58E,UACtCq9E,EAAchgG,KAAKigC,OAAOp5B,QAAQ8b,UAAY3iB,KAAKigC,OAAOp5B,QAAQmJ,aAClE+vF,EAAcC,GACdhgG,KAAK61B,SAAS9T,SAAW/hB,KAAKigC,OAAOE,aACrCngC,KAAK61B,SAAS7T,QAAUhiB,KAAKigC,OAAOg4B,eAAerwC,QAAU,IAAM,GACnE5nB,KAAK61B,SAAShvB,QAAQY,MAAMC,QAAU,SAGlC1H,KAAK61B,WACL71B,KAAK61B,SAAStZ,gBAAgBgjF,GAC9Bv/F,KAAK61B,SAAShvB,QAAQY,MAAMC,QAAU,UAOlDorF,EAAMjuF,UAAU+6F,cAAgB,SAAUlL,EAAQhsE,EAAM/lB,GACpD,eAAO+xF,GACH10F,KAAK61B,UACL71B,KAAK61B,SAAS3T,QAElBliB,KAAKigC,OAAOxpB,QAAQ,OAA0B9T,GAC9C3C,KAAK26F,UAAUjxF,WAKnBopF,EAAMjuF,UAAUg7F,cAAgB,SAAUN,EAAcD,EAAW52E,EAAM/lB,GACrE,IAAIsI,EAAQjL,KACZu/F,EAAa93F,MAAM+rD,QAAU,IAC7B+rC,EAAa33F,UAAUC,IAAIguD,EAAA,MAC3B71D,KAAKigC,OAAOxpB,QAAQ,OAA2B9T,GAAG,SAAUA,GACxD,IAAK,eAAkBsI,EAAMg1B,OAAOi0D,oBAAoBthB,MAAO,CAC3D,IAAI3jD,EAAMhkB,EAAMg1B,OAAOi0D,oBAAoBthB,KAAOjwE,EAAE08E,KAAKl+E,KACzDo+F,EAAavH,IAAM/oE,EACnBswE,EAAaz2F,aAAa,MAAOnG,EAAE08E,KAAKl+E,UAGhDnB,KAAK61B,SAAS3T,QACdliB,KAAKkzF,sBAAsBxqE,GAC3B1oB,KAAKm0F,YAAYmL,EAAWC,GAC5Bv/F,KAAK26F,UAAUjxF,WAEnBopF,EAAMjuF,UAAU6uF,WAAa,SAAUhrE,GACnC,IAAIzd,EAAQjL,KACZ,GAAyB,IAArB0oB,EAAKzN,KAAK7V,SAAiB,eAAkBsjB,EAAK22D,MAAO,CACzD,IAAI/kB,EAAUt6D,KACVigG,EAAW,IAAIhb,WACnBv8D,EAAKA,KAAK1c,iBACVi0F,EAASn0F,iBAAiB,QAAQ,SAAUnJ,GACxC,IAAIssB,EAAM,CACN7Y,SAA0D,WAA/CkkD,EAAQr6B,OAAOi0D,oBAAoBxsF,QAAuBmuD,EAAA,KAAwBA,EAAA,KAC7F5mC,IAAqD,WAAhDhkB,EAAMg1B,OAAOi0D,oBAAoBiJ,YAA4B,eAAkBz0E,EAAKw3E,UACnE9C,IAAIC,gBAAgB,eAAc4C,EAAS39D,SAA7D29D,EAAS39D,OACbh0B,MAAO,CACHA,MAAOgsD,EAAQr6B,OAAOi0D,oBAAoB5lF,MAAO+V,SAAUi2C,EAAQr6B,OAAOi0D,oBAAoB7vE,SAC9FsW,SAAU2/B,EAAQr6B,OAAOi0D,oBAAoBv5D,UAEjDrpB,OAAQ,CACJA,OAAQgpD,EAAQr6B,OAAOi0D,oBAAoB5iF,OAAQmL,UAAW69C,EAAQr6B,OAAOi0D,oBAAoBz3E,UACjGmF,UAAW04C,EAAQr6B,OAAOi0D,oBAAoBtyE,YAGjD,eAAkB8G,EAAKw3E,WAKxB5lC,EAAQr6B,OAAOy3B,UAAU2G,QAAQ/D,EAAQr6B,OAAQ,CAAEnkB,KAAM,CAAEu8C,QAAS,SAAUD,WAAY,UAAa1vC,EAAKA,KAAMuG,GAClHhkB,EAAMk1F,iBAAiBz3E,EAAMuG,IAL7BvG,EAAKw3E,SAASjxE,MAQtBgxE,EAAS/a,cAAcx8D,EAAK22D,QAGpCyT,EAAMjuF,UAAUs7F,iBAAmB,SAAUx9F,EAAGssB,GAC5C,IAAIhkB,EAAQjL,KACRogG,EAAW,YAAcnxE,EAAIA,IAAM,KACnCswE,EAAev/F,KAAKigC,OAAOE,aAAatzB,cAAcuzF,GAC1DpgG,KAAKigC,OAAOk+B,mBAAmBkiC,YAAY,QAAS,WAAYrgG,KAAKigC,OAAO2oC,qBAAqB03B,MAAO,OAAWC,cACnH,IAAI73E,EAAO,CACPA,KAAM/lB,EAAE+lB,KACRjN,KAAM,SACNysD,cAAUntC,EACVpT,SAAU43E,GAEVA,GACAh0F,YAAW,WAAcN,EAAMioF,sBAAsBxqE,GAAOzd,EAAMkpF,YAAYxxF,EAAE+lB,KAAM62E,KAAkB,IAUhHzM,EAAMjuF,UAAU6E,QAAU,WACtB1J,KAAKiY,uBAKT66E,EAAMjuF,UAAU4E,cAAgB,WAC5B,MAAO,SAEJqpF,EA92De,GCNtB,GAAuB,WACvB,SAAS0N,EAAMvgE,EAAQu5B,GACnBx5D,KAAKigC,OAASA,EACdjgC,KAAK05D,QAAUF,EACfx5D,KAAK25D,cAAgB35D,KAAK05D,QAAQE,WAAW,mBAC7C55D,KAAK8L,mBAuGT,OArGA00F,EAAM37F,UAAUm2D,mBAAqB,WACjCh7D,KAAK0+D,gBAAkB1+D,KAAK25D,cAAcmB,YAAY,OAAW6D,SACjE3+D,KAAK6+D,UAAY7+D,KAAK0+D,gBAAgBxB,eACtCl9D,KAAK8L,oBAOT00F,EAAM37F,UAAU47F,YAAc,WAC1BzgG,KAAKg7D,qBACLh7D,KAAK6G,QAAU7G,KAAKigC,OAAOt3B,cAAc,OAAQ,CAAEC,UAAW,SAC9D5I,KAAK0+D,gBAAgBtF,WAAW3+C,cAActR,YAAYnJ,KAAK6G,SAC/D7G,KAAK0gG,eAC0B,IAA3B1gG,KAAKigC,OAAO0gE,WACZ3gG,KAAK4gG,oBAAoB5gG,KAAK6gG,aAGtCL,EAAM37F,UAAU67F,YAAc,WAC1B,IAAII,EAAsC,aAA3B9gG,KAAKigC,OAAO4oC,WAA4B7oE,KAAK6+D,UAAUx9D,MAAMioB,OACxEtpB,KAAK6+D,UAAUr0C,YAAYlB,OAC/BtpB,KAAK6gG,WAAaC,EAAS17F,OAC3B,IAAI27F,GAAoC,IAA3B/gG,KAAKigC,OAAO0gE,UAAmB3gG,KAAK6gG,WAAa7gG,KAAK6gG,WAAa,MAAQ7gG,KAAKigC,OAAO0gE,UACpG3gG,KAAK6G,QAAQqjB,UAAY62E,GAE7BP,EAAM37F,UAAU+7F,oBAAsB,SAAUC,GAC5C,IAAIG,EAAcH,EAAa7gG,KAAKigC,OAAO0gE,UAAa,IACpDK,EAAa,IACbhhG,KAAK6G,QAAQe,UAAU+B,OAAO,SAC9B3J,KAAK6G,QAAQe,UAAU+B,OAAO,SAEzBq3F,EAAa,IAAMA,GAAc,IACtChhG,KAAK6G,QAAQe,UAAU+B,OAAO,QAC9B3J,KAAK6G,QAAQe,UAAUC,IAAI,UAEtBm5F,EAAa,KAClBhhG,KAAK6G,QAAQe,UAAU+B,OAAO,SAC9B3J,KAAK6G,QAAQe,UAAUC,IAAI,UAOnC24F,EAAM37F,UAAUqmB,QAAU,WACjB,eAAkBlrB,KAAK6+D,aACxB7+D,KAAK0gG,eAC0B,IAA3B1gG,KAAKigC,OAAO0gE,WACZ3gG,KAAK4gG,oBAAoB5gG,KAAK6gG,cAW1CL,EAAM37F,UAAU6E,QAAU,WAClB1J,KAAK6G,UAAY,eAAkB7G,KAAKigC,OAAOp5B,QAAQgG,cAAc,IAAM,UAC3E,eAAO7M,KAAK6G,SAEhB7G,KAAKiY,uBAETuoF,EAAM37F,UAAUgpB,OAAS,SAAUlrB,GAC/B3C,KAAK6G,QAAQY,MAAMC,QAAwB,eAAb/E,EAAE8mE,OAA2B,OAAS,SAExE+2B,EAAM37F,UAAUiH,iBAAmB,WAC3B9L,KAAKigC,OAAO09B,cAGhB39D,KAAKigC,OAAOz/B,GAAG,OAAmBR,KAAKygG,YAAazgG,MACpDA,KAAKigC,OAAOz/B,GAAG,OAAcR,KAAKkrB,QAASlrB,MAC3CA,KAAKigC,OAAOz/B,GAAG,OAAcR,KAAKkrB,QAASlrB,MAC3CA,KAAKigC,OAAOz/B,GAAG,QAAqBR,KAAKkrB,QAASlrB,MAClDA,KAAKigC,OAAOz/B,GAAG,QAAkBR,KAAKkrB,QAASlrB,MAC/CA,KAAKigC,OAAOz/B,GAAG,OAAgBR,KAAK0J,QAAS1J,MAC7CA,KAAKigC,OAAOz/B,GAAG,QAAmBR,KAAK6tB,OAAQ7tB,MAC/CA,KAAKigC,OAAOz/B,GAAG,QAAqBR,KAAK6tB,OAAQ7tB,QAErDwgG,EAAM37F,UAAUoT,oBAAsB,WAC9BjY,KAAKigC,OAAO09B,cAGhB39D,KAAKigC,OAAOk1B,IAAI,OAAmBn1D,KAAKygG,aACxCzgG,KAAKigC,OAAOk1B,IAAI,OAAcn1D,KAAKkrB,SACnClrB,KAAKigC,OAAOk1B,IAAI,QAAqBn1D,KAAKkrB,SAC1ClrB,KAAKigC,OAAOk1B,IAAI,OAAcn1D,KAAKkrB,SACnClrB,KAAKigC,OAAOk1B,IAAI,QAAkBn1D,KAAKkrB,SACvClrB,KAAKigC,OAAOk1B,IAAI,OAAgBn1D,KAAK0J,SACrC1J,KAAKigC,OAAOk1B,IAAI,QAAmBn1D,KAAK6tB,QACxC7tB,KAAKigC,OAAOk1B,IAAI,QAAqBn1D,KAAK6tB,UAK9C2yE,EAAM37F,UAAU4E,cAAgB,WAC5B,MAAO,SAEJ+2F,EA5Ge,G,aCEtB,GAA2B,WAC3B,SAASS,KA8LT,OAnLAA,EAAUp8F,UAAUw5D,QAAU,SAAU6iC,EAAMx4E,EAAM3X,EAAO1P,GACvD,IAGI8/F,EAHAl2F,EAAQjL,KACRqpE,EAAY63B,EAAKppC,cAAcC,cAAcqpC,eAC7C9mD,EAAS+uB,EAAUg4B,WAAa,EAAKh4B,EAAUi4B,WAAWj4B,EAAUg4B,WAAa,GAAK,KAK1F,GAHwB,SAApBH,EAAKr4B,aACLs4B,EAAgBnhG,KAAK23D,cAAcC,cAAcmR,KAAKzuB,EAAO4mD,EAAKppC,cAAcC,gBAE/E,eAAkBrvC,KAChBA,EAAK5M,KAAKu8C,SACY,UAAtB3vC,EAAK5M,KAAKu8C,SACY,YAAtB3vC,EAAK5M,KAAKu8C,SACY,UAAtB3vC,EAAK5M,KAAKu8C,SACY,WAAtB3vC,EAAK5M,KAAKu8C,UACV/d,GACE4mD,EAAKppC,cAAcoF,eAAe5wD,SAAStM,KAAKuhG,gBAAgBjnD,EAAMknD,2BACpEN,EAAKppC,cAAcoF,iBAAmB5iB,EAAMknD,yBAC5CN,EAAKppC,cAAcsB,aAAe9e,EAAMknD,wBATnD,CAYA,GAAI,eAAkB94E,GAAO,CACzB,IAAI+4E,EAAW1wF,EAAMjD,OACrB,GAAiB,QAAb2zF,GAAmC,UAAbA,GAAqC,UAAbA,GAAqC,WAAbA,EAAuB,CAC7F/4E,EAAO,GACiB,aAApBw4E,EAAKr4B,YAA0C,iBAAb44B,IAClCpgG,EAAQ,CACJ,YAAe6/F,EAAKhI,UAAUlyD,YAAY,oBAC1C,QAAWk6D,EAAKhI,UAAUlyD,YAAY,kBAG9C,IAAIpwB,EAAQ,CACRvK,cAAe0E,EAAOgL,QAAQ,EAC9B44E,YAAa8M,GAAa1wF,EAAMjQ,IAAM,MACtC4gG,eAAgBrgG,GAEpB,eAAOqnB,EAAMA,EAAM9R,GAAO,GACtB,0BACO8R,EAAK5M,YACL4M,EAAKg5E,gBAEhBR,EAAKzqF,QAAQ,OAAsBiS,GAAM,SAAUi1E,GAC3CA,EAAgB5hF,SACC,UAAb0lF,GAAqC,QAAbA,GAAmC,SAAbA,GAC9C1wF,EAAM/E,qBAKtB,IAAI21F,IAAgB,eAAkBT,EAAKU,gBAAsBV,EAAKU,aAClEV,EAAKU,YAAYC,uBACA,IAAhB9wF,EAAMq/B,OAAeuxD,GAAkC,IAAhB5wF,EAAMq/B,QAC9CpwC,KAAK23D,cAAcq8B,SAASlpE,OAAuB,YAAf/Z,EAAM0K,KAAqB,QAAW,QAAS,CAC/E1K,MAAOA,EACPmvF,SAAUlgG,KAAK8hG,UAAU75F,KAAKjI,KAAMkhG,GACpC7/F,MAAOA,SAIT,eAAkBqnB,IAASA,EAAK5M,KAAKu8C,SAAW3vC,EAAK5M,KAAKs8C,aAAgB1vC,EAAK5M,KAAKu8C,UAAY3vC,EAAK5M,KAAKs8C,YACvF,SAAtB1vC,EAAK5M,KAAKu8C,UACiB,aAAzB3vC,EAAK5M,KAAKs8C,YAAsD,aAAzB1vC,EAAK5M,KAAKs8C,aAA4C,mBAAd1vC,EAAKvnB,OAC3D,oBAAzBunB,EAAK5M,KAAKs8C,YAA6D,cAAzB1vC,EAAK5M,KAAKs8C,aACxC,uBAAd1vC,EAAKvnB,QACZ,eAAOunB,EAAMA,EAAM,CAAEisE,YAAajsE,EAAK5M,KAAKs8C,WAAYr8C,QAAQ,EAAO2lF,eAAgBrgG,IAAS,GAChG6/F,EAAKzqF,QAAQ,OAAsBiS,GAAM,SAAUi1E,GAC/C,IAAKA,EAAgB5hF,OAAQ,CACe,IAApC9Q,EAAMwvD,mBAAmBr1D,QAAiD,UAAjCu4F,EAAgB7hF,KAAKu8C,SAC1B,WAAjCslC,EAAgB7hF,KAAKu8C,SACxBptD,EAAMyvD,WAEVwmC,EAAKx1B,QAAS,EACdw1B,EAAKppC,cAAcoF,eAAejkD,QACV,SAApBioF,EAAKr4B,YACLs4B,EAAcx1B,UAElB,IAAItT,EAAUslC,EAAgB7hF,KAAKs8C,WAAW8B,oBAC9B,UAAZ7B,GAAmC,QAAZA,GAAiC,SAAZA,EAC5C6oC,EAAKa,gBAAgB1pC,EAAStnD,IAG9B9F,EAAM0sD,cAAcq8B,SAASlpE,OAAO,OAAoB,CAAEstC,WAAYulC,EAAgB7hF,KAAKs8C,aAC3FntD,EAAM0sD,cAAcqqC,YAAYrE,EAAgB7hF,KAAKu8C,QAASslC,EAAgB7hF,KAAKs8C,WAAYrnD,EAAO9F,EAAM62F,UAAU75F,KAAKgD,EAAOi2F,GAAOvD,EAAgB7hF,KAAKza,MAA2C,QAApCs8F,EAAgB7hF,KAAKs8C,YAAsC,mBAAd1vC,EAAKvnB,KACnN,CAAEA,KAAMunB,EAAKvnB,MAASE,EAAQ,IAAM6/F,EAAKrqC,QAAU,kBAKnE,eAAkB9lD,IAAUA,GAA0B,SAAjBA,EAAMjD,SAC3C9N,KAAKiiG,WAAWf,KAGxBD,EAAUp8F,UAAU08F,gBAAkB,SAAU9rF,GAE5C,OADAA,EAAyB,IAAlBA,EAAK4gF,SAAiB5gF,EAAK+S,WAAa/S,EACxCA,GAOXwrF,EAAUp8F,UAAUq9F,aAAe,SAAUhB,EAAMv+F,GAC/C,IAAIsI,EAAQjL,KACZA,KAAK23D,cAAcq8B,SAASlpE,OAAO,QAAQ,CACvC/Z,MAAOpO,EAAGu9F,SAAU,WAChBgB,EAAKp2E,OAAO,OAAyB,IACrC7f,EAAMg3F,WAAWf,OAS7BD,EAAUp8F,UAAUi9F,UAAY,SAAUZ,EAAMiB,GAC5CjB,EAAKp2E,OAAO,OAAyB,IACjCq3E,IAAW,eAAkBA,EAAOpxF,QAAkC,SAAxBoxF,EAAOpxF,MAAMjD,UAC3D9N,KAAKiiG,WAAWf,GAChBA,EAAKp2E,OAAO,OAA8Bq3E,IAE9CjB,EAAKzqF,QAAQ,OAAyB0rF,GAAQ,SAAUC,GAEpD,GADAlB,EAAKmB,iBAC4B,WAA7BD,EAAazN,aAAyD,UAA7ByN,EAAazN,aAA+C,SAApBuM,EAAKr4B,WAAuB,CAC7G,IAAIngD,EAAO05E,EACX,GAAiC,UAA7BA,EAAazN,aAA2ByN,EAAarxF,OACzB,YAA5BqxF,EAAarxF,MAAM0K,MACY,KAA/B2mF,EAAarxF,MAAM6G,QACnB,OAEJspF,EAAKp2E,OAAO,OAA0B,CAClCpC,KAAMA,EAAK3X,MAAO0K,KAAM2mF,EAAazN,YAAazsB,UAAU,EAC5DvgD,SAAUe,EAAKf,WAGvBu5E,EAAKoB,iBAQbrB,EAAUp8F,UAAU61D,SAAW,SAAU/3D,GACrC3C,KAAK23D,cAAckL,gBAAgBnI,SAAS/3D,IAOhDs+F,EAAUp8F,UAAUi+D,cAAgB,WAChC,OAAO9iE,KAAK23D,cAAckL,gBAAgBC,iBAO9Cm+B,EAAUp8F,UAAU41D,iBAAmB,WACnC,OAAOz6D,KAAK23D,cAAckL,gBAAgB0/B,eAO9CtB,EAAUp8F,UAAUo9F,WAAa,SAAUf,GACvC,IAAIvnB,EAAS35E,KAAK8iE,iBACdo+B,EAAKvqC,WAAW/uC,QAAY,OAAQzgB,WAAY,iBAK5C+5F,EAAK/4B,gBACL,eAAqB+4B,EAAK/4B,cAAc1J,YAAakb,GACrDunB,EAAKzqF,QAAQ,QAA8BkjE,KAN/C,eAAqBunB,EAAK/iC,mBAAmB6N,YAAYw2B,aAAc7oB,GACvEunB,EAAKzqF,QAAQ,QAA8BkjE,KAS5CsnB,EA/LmB,GCFnBwB,GAAQ,eACRC,GAAQ,eACRC,GAAO,cACPC,GAAa,aACbC,GAAgB,gBAChBC,GAAY,aACZC,GAAe,gBACfC,GAAc,eACdC,GAAc,eACdC,GAAuB,uBAKvBC,GAAiB,iBAKjBC,GAAc,cAIdC,GAAc,IAIdC,GAAa,CAAC,UAAW,UAAW,QAAS,QAAS,aAC7D,SAAU,UAAW,KAAM,MAAO,KAAM,KAAM,WAAY,aAAc,SAAU,SAClF,OAAQ,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,SAAU,SAAU,KAAM,KAAM,OAAQ,MACpF,WAAY,KAAM,SAAU,IAAK,MAAO,UAAW,QAAS,QAAS,KAAM,QAAS,KACpF,QAAS,KAAM,KAAM,SAIdC,GAAoB,CAAC,KAAM,MAI3BC,GAAmB,CAAC,QAAS,QAAS,KAAM,QAAS,KAC5D,QAAS,MAKFC,GAAiB,iBAKjBC,GAAkB,kBAKlBC,GAAmB,mBAKnBC,GAAa,aChEpBC,GAA+B,WAC/B,SAASA,IACL7jG,KAAK8jG,cAAgB,GACrB9jG,KAAK+jG,YAAc,GAoVvB,OAlVAF,EAAch/F,UAAUm/F,aAAe,SAAU1pD,EAAOllC,GASpD,OARApV,KAAKs6C,MAAQA,EAAM2pD,aACnBjkG,KAAKkkG,SAAWlkG,KAAKmkG,kBAAkB7pD,GACvCt6C,KAAKoV,KAAOA,EACZpV,KAAKg4D,eAAiBh4D,KAAKokG,aAAa9pD,EAAM0d,gBAAgB,GAC9Dh4D,KAAKwoE,aAAexoE,KAAKokG,aAAa9pD,EAAMkuB,cAAc,GAC1DxoE,KAAK6rE,YAAcvxB,EAAMuxB,YACzB7rE,KAAK8rE,UAAYxxB,EAAMwxB,UACvB9rE,KAAKqkG,KAAOrkG,KAAKoV,KAAK8U,UACflqB,MAEX6jG,EAAch/F,UAAUs/F,kBAAoB,SAAU7pD,GAClD,OAAQ,IAAMA,EAAM0d,eAAeq+B,SAAY/7C,EAAM0d,eAAiB1d,EAAM0d,eAAeE,eAE/F2rC,EAAch/F,UAAUgzD,SAAW,SAAUysC,GACzC,IAAIpyE,EAASlyB,KAAKukG,IAAID,GAClBhqD,EAAQpoB,GAAUA,EAAOmvE,WAAa,EAAInvE,EAAOovE,WAAWpvE,EAAOmvE,WAAa,GAAKiD,EAAWtG,cACpG,OAAQ1jD,EAAM0d,iBAAmBssC,GAAchqD,EAAMkuB,eAAiB87B,GAC/DhqD,EAAMuxB,aAAevxB,EAAMwxB,YAAcxxB,EAAM2jD,SAASqG,EAAWlvF,KAAM,GAC5EklC,EAAMkqD,UAAS,IACflqD,GAORupD,EAAch/F,UAAU0/F,IAAM,SAAUD,GACpC,OAAOA,EAAWG,YAAYrD,gBAOlCyC,EAAch/F,UAAUkkE,KAAO,SAAUzuB,EAAOgqD,GAE5C,OADAhqD,EAAQ,EAAUA,EAAM2pD,aAAejkG,KAAK63D,SAASysC,GAC9CtkG,KAAKgkG,aAAa1pD,EAAOgqD,EAAWlvF,OAO/CyuF,EAAch/F,UAAU6/F,SAAW,SAAUjvF,GACzC,IAAIlT,EACAkiD,EAAM,EAEV,GADAhvC,EAAQA,EAAKwiF,iBAAoC,OAAjBxiF,EAAKgC,QAA0BhC,EAAKwiF,gBAAZxiF,EACpDA,EACA,IAAgBA,EAAK4gF,SAAU5gF,EAAM,KACjClT,EAAQkT,EAAK4gF,SACb5xC,IACOliD,EACPkT,EAAOA,EAAKwiF,gBAGpB,OAAOxzC,GAEXo/C,EAAch/F,UAAU8/F,YAAc,SAAUC,EAAgBp8E,GAC5D,IAAK,IAAIjmB,EAAQ,EAAGA,EAAQimB,EAAWpH,WAAWhc,OAAQ7C,IACtD,GAAIqiG,EAAe5pF,QAAQwN,EAAWpH,WAAW7e,KAAW,EACxD,OAAO,EAGf,OAAO,GAEXshG,EAAch/F,UAAUggG,QAAU,SAAUpG,EAAWqG,EAASF,GAC5D,OAAIE,IAAYrG,GACY,IAAvBA,EAAUpI,UAAmBoI,EAAU9zF,aAAgE,IAAlDi6F,EAAe5pF,QAAQyjF,EAAU9zF,cAChF3K,KAAK2kG,YAAYC,EAAgBnG,IAGU,IAAlDmG,EAAe5pF,QAAQyjF,EAAU9zF,aAAsB8zF,EAAU9zF,aAAe3K,KAAK2kG,YAAYC,EAAgBnG,GAC1GA,EAAU9zF,WAEjB8zF,EAAUxoC,YACHwoC,EAAUxoC,YAEhBwoC,EAAUj2E,WAIJi2E,EAAUj2E,WAHV,KATA,MAoBfq7E,EAAch/F,UAAUokE,kBAAoB,SAAU3uB,GAClD,IAAImkD,EAAYnkD,EAAM0d,eAAe52C,WAAWk5B,EAAMuxB,cAC/CvxB,EAAM0d,eACT8sC,EAAUxqD,EAAMkuB,aAAapnD,WAAYk5B,EAAMwxB,UAAY,EAAMxxB,EAAMwxB,UAAY,EAAKxxB,EAAMwxB,YAC3FxxB,EAAMkuB,aACb,GAAIi2B,IAAcqG,GAA2C,IAAhCrG,EAAUr9E,WAAWhc,OAC9C,MAAO,CAACq5F,GAEZ,GAAInkD,EAAMuxB,cAAgBvxB,EAAMwxB,WAAmC,IAAtBxxB,EAAMuxB,aAAuD,QAAlCvxB,EAAM0d,eAAezmC,SACzF,MAAO,CAAwB,OAAvBktE,EAAUltE,UAA4C,UAAvBktE,EAAUltE,SAAuBktE,EAAYA,EAAUr9E,WAAW,IAE7G,IAAIwjF,EAAiB,GACrB,IAC+C,IAAvCA,EAAe5pF,QAAQyjF,IACvBmG,EAAe/mF,KAAK4gF,GAExBA,EAAYz+F,KAAK6kG,QAAQpG,EAAWqG,EAASF,SACxCnG,GACT,OAAOmG,GAOXf,EAAch/F,UAAUskE,wBAA0B,SAAU7uB,GACxD,OAAOt6C,KAAK+kG,eAAe/kG,KAAKipE,kBAAkB3uB,GAAQA,IAO9DupD,EAAch/F,UAAUkgG,eAAiB,SAAUH,EAAgBtqD,GAC/DsqD,EAAiBA,EAAeI,UAChC,IAAK,IAAIziG,EAAQ,EAAGA,EAAQqiG,EAAex/F,OAAQ7C,KACoB,IAA9DqiG,EAAe5pF,QAAQ4pF,EAAeriG,GAAOimB,aACP,IAAnCo8E,EAAeriG,GAAO8zF,UACtB/7C,EAAM0d,iBAAmB1d,EAAMkuB,cAC/BluB,EAAM0d,eAAexvC,aAAe8xB,EAAMkuB,aAAahgD,YAC3Do8E,EAAer8E,OAAOhmB,EAAO,GAC7BA,KAEwC,IAAnCqiG,EAAeriG,GAAO8zF,WAC3BuO,EAAeriG,GAASqiG,EAAeriG,GAAOimB,YAGtD,OAAOo8E,GAOXf,EAAch/F,UAAUogG,2BAA6B,SAAU3qD,GAC3D,OAAOt6C,KAAKklG,kBAAkBllG,KAAKipE,kBAAkB3uB,KAOzDupD,EAAch/F,UAAUsgG,6BAA+B,SAAU7qD,GAC7D,OAAOt6C,KAAKolG,oBAAoBplG,KAAKipE,kBAAkB3uB,KAO3DupD,EAAch/F,UAAUqgG,kBAAoB,SAAUN,GAClDA,EAAiBA,EAAeI,UAEhC,IADA,IAAIK,EAAQ,IAAI9/D,OAAOiL,OAAOC,aAAa,MAAO,KACzCluC,EAAQ,EAAGA,EAAQqiG,EAAex/F,OAAQ7C,KACR,IAAnCqiG,EAAeriG,GAAO8zF,UAAgE,KAA7CuO,EAAeriG,GAAOioB,YAAYlB,QAC7B,IAA7Cs7E,EAAeriG,GAAOioB,YAAYplB,QAAgBw/F,EAAeriG,GAAOioB,YAAYoY,MAAMyiE,MAC3FT,EAAer8E,OAAOhmB,EAAO,GAC7BA,KAGR,OAAOqiG,EAAeI,WAO1BnB,EAAch/F,UAAUugG,oBAAsB,SAAUR,GACpDA,EAAiBA,EAAeI,UAEhC,IADA,IAAIK,EAAQ,IAAI9/D,OAAOiL,OAAOC,aAAa,MAAO,KACzCluC,EAAQ,EAAGA,EAAQqiG,EAAex/F,OAAQ7C,IACR,OAAnCqiG,EAAeriG,GAAOgvB,WACc,IAAnCqzE,EAAeriG,GAAO8zF,UAAgE,KAA7CuO,EAAeriG,GAAOioB,YAAYlB,QAC1B,IAA7Cs7E,EAAeriG,GAAOioB,YAAYplB,QAAgBw/F,EAAeriG,GAAOioB,YAAYoY,MAAMyiE,MAC/FT,EAAer8E,OAAOhmB,EAAO,GAC7BA,KAGR,OAAOqiG,EAAeI,WAO1BnB,EAAch/F,UAAUygG,wBAA0B,SAAUhrD,GACxD,OAAOt6C,KAAKulG,eAAevlG,KAAKipE,kBAAkB3uB,KAOtDupD,EAAch/F,UAAU0gG,eAAiB,SAAUX,GAC/CA,EAAiBA,EAAeI,UAChC,IAAK,IAAIziG,EAAQ,EAAGA,EAAQqiG,EAAex/F,OAAQ7C,KACE,IAA5CqiG,EAAeriG,GAAO6e,WAAWhc,QACC,IAAnCw/F,EAAeriG,GAAO8zF,UACc,IAAnCuO,EAAeriG,GAAO8zF,UACmB,KAAtCuO,EAAeriG,GAAOioB,eAC1Bo6E,EAAer8E,OAAOhmB,EAAO,GAC7BA,KAGR,OAAOqiG,EAAeI,WAO1BnB,EAAch/F,UAAUu/F,aAAe,SAAU3uF,EAAM+vF,EAASx/E,GAC5D,IAAIy/E,EAAQ,GAEZ,IADC,EAAazlG,KAAK8jG,cAAgB,GAAO9jG,KAAK+jG,YAAc,GACtDtuF,KAAUuQ,GAAchmB,KAAKkkG,UAAW,KAC3C,EAAYlkG,KAAK8jG,cAAcjmF,KAAKpI,EAAK8b,SAASxT,eAAiB/d,KAAK+jG,YAAYlmF,KAAKpI,EAAK8b,SAASxT,eACvG0nF,EAAM5nF,KAAK7d,KAAK0kG,SAASjvF,IACzBA,EAAOA,EAAK+S,WAEhB,OAAOi9E,GAEX5B,EAAch/F,UAAU6gG,cAAgB,SAAUprD,EAAOqrD,EAASlhD,EAAKx3B,GAInE,IAHA,IAAIxX,EAAOzV,KAAKkkG,SACZ3hG,EAAQkiD,EAAIr/C,OACZwgG,EAAW34E,EACR1qB,IAAS,KACZkT,EAAOA,GAAQA,EAAK2L,WAAWqjC,EAAIliD,IAKvC,OAHIkT,GAAQmwF,GAAY,GACpBtrD,EAAMqrD,EAAU,WAAa,UAAUlwF,EAAMmwF,GAE1CtrD,GAOXupD,EAAch/F,UAAU8mE,QAAU,WAC9B,IAAIrxB,EAAQt6C,KAAKs6C,MAAM2pD,aAIvB,OAHA3pD,EAAQt6C,KAAK0lG,cAAcprD,GAAO,EAAMt6C,KAAKg4D,eAAgBh4D,KAAK6rE,aAClEvxB,EAAQt6C,KAAK0lG,cAAcprD,GAAO,EAAOt6C,KAAKwoE,aAAcxoE,KAAK8rE,WACjE9rE,KAAK6lG,YAAY7lG,KAAKkkG,SAAU5pD,GACzBA,GAEXupD,EAAch/F,UAAUghG,YAAc,SAAUvB,EAAYhqD,GACxDt6C,KAAKw+F,SAAS8F,EAAYhqD,GAC1Bt6C,KAAK+oE,KAAKzuB,EAAOgqD,IAOrBT,EAAch/F,UAAU25F,SAAW,SAAU8F,EAAYhqD,GACrD,IAAI+uB,EAAYrpE,KAAKukG,IAAID,GACzBj7B,EAAUy8B,kBACVz8B,EAAU08B,SAASzrD,IAOvBupD,EAAch/F,UAAUizF,iBAAmB,SAAUwM,EAAY7F,EAAWqG,EAASpkB,EAAYoR,GAC7F,IAAIx3C,EAAQgqD,EAAWtG,cACvB1jD,EAAM2jD,SAASQ,EAAW/d,GAC1BpmC,EAAMqkD,OAAOmG,EAAShT,GACtB9xF,KAAKw+F,SAAS8F,EAAYhqD,IAO9BupD,EAAch/F,UAAU8zF,qBAAuB,SAAU2L,EAAYz9F,GACjE,IAAIyzC,EAAQgqD,EAAWtG,cACvB1jD,EAAM8uB,WAAWviE,GACjB7G,KAAKw+F,SAAS8F,EAAYhqD,IAO9BupD,EAAch/F,UAAUmhG,iBAAmB,SAAU1B,EAAYz9F,GAC7D,IAAIyzC,EAAQgqD,EAAWtG,cACvB1jD,EAAMwlD,mBAAmBj5F,GACzB7G,KAAKw+F,SAAS8F,EAAYhqD,IAO9BupD,EAAch/F,UAAUohG,iBAAmB,SAAU3B,GACjD,OAAOtkG,KAAKipE,kBAAkBjpE,KAAK63D,SAASysC,KAOhDT,EAAch/F,UAAUw1E,MAAQ,SAAUiqB,GACtCtkG,KAAKukG,IAAID,GAAYwB,mBAOzBjC,EAAch/F,UAAUqhG,iBAAmB,SAAU5B,EAAY6B,EAAS7rD,GACtEA,EAAM8rD,iBAAiBD,GACvBnmG,KAAK6lG,YAAYvB,EAAYhqD,IAOjCupD,EAAch/F,UAAUwhG,eAAiB,SAAU/B,EAAYz9F,EAASy/F,GACpE,IAAIhsD,EAAQgqD,EAAWtG,cACnB30B,EAAYi7B,EAAWG,YAAYrD,eACvC9mD,EAAM2jD,SAASp3F,EAASy/F,GACxBhsD,EAAMkqD,UAAS,GACfn7B,EAAUy8B,kBACVz8B,EAAU08B,SAASzrD,IAEhBupD,EAvVuB,GCkCvB0C,GAAgB,CACvB,gBAAiB,UACjB,OAAU,KACV,cAAe,SACf,eAAgB,eAChB,eAAgB,eAChB,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,IAAO,SACP,MAAS,SACT,KAAQ,SACR,OAAU,SACV,UAAa,SACb,cAAiB,eACjB,UAAa,eACb,UAAa,eACb,YAAe,eACf,UAAa,SACb,QAAW,SACX,SAAY,SACZ,cAAe,eACf,cAAe,eACf,oBAAqB,eACrB,oBAAqB,eACrB,iBAAkB,SAClB,eAAgB,SAChB,eAAgB,SAChB,gBAAiB,SACjB,eAAgB,eAChB,eAAgB,eAChB,iBAAkB,aAClB,MAAS,KACT,MAAS,KACT,IAAO,MACP,OAAU,MAiDHC,GAAkB,CACzB,KACA,OCvHOC,GAAkB,CACzBC,eAAgB,wBAChBC,aAAc,uBAOd,GAAyB,WAMzB,SAASC,EAAQ3mE,EAAQ4mE,GACrB7mG,KAAKigC,OAASA,EACdjgC,KAAK43D,cAAgB,IAAIisC,GACzB7jG,KAAK6mG,gBAAkBA,EA8nB3B,OAvnBAD,EAAQ/hG,UAAUksF,SAAW,SAAUlqF,GACnC,OAAQA,GAAW,WAAaA,EAAQ4Q,QAAUrU,MAAMyB,UAAUd,MAAM+C,KAAKD,EAAQua,YAAc,IAAM,IAO7GwlF,EAAQ/hG,UAAUiiG,YAAc,SAAUjgG,GACtC,QAAUA,GAAYA,EAAQwvF,WAAa0Q,KAAKC,cAAgB,GAAoBhsF,QAAQnU,EAAQ4Q,QAAQsG,gBAAkB,GAOlI6oF,EAAQ/hG,UAAUoiG,OAAS,SAAUpgG,GACjC,QAAUA,GAAYA,EAAQwvF,WAAa0Q,KAAKC,cAAgB,MAAQngG,EAAQ4Q,QAAQsG,eAO5F6oF,EAAQ/hG,UAAUqiG,gBAAkB,SAAUrgG,GAC1C,KAAOA,GAAWA,EAAQ2hB,aAAexoB,KAAKigC,UAAap5B,EAAQ2hB,aAC9DxoB,KAAKmnG,SAAStgG,EAAQ2hB,WAAY,iBAAmB,KAEtD,GADA3hB,EAAUA,EAAQ2hB,WACdxoB,KAAK8mG,YAAYjgG,GACjB,OAAOA,EAGf,OAAOA,GAOX+/F,EAAQ/hG,UAAUuiG,cAAgB,SAAUvgG,GACxC,IAAIwgG,EAAU,GACV/1E,EAAazqB,EAAQyqB,WACzB,GAAIA,EAAWlsB,OAAS,EACpB,IAAK,IAAIhB,EAAI,EAAGA,EAAIktB,EAAWlsB,OAAQhB,IAAK,CACxC,IAAIzB,EAAI2uB,EAAWltB,GACnBijG,EAAQ1kG,EAAE4uB,UAAY5uB,EAAEtB,MAGhC,OAAOgmG,GAOXT,EAAQ/hG,UAAUysB,WAAa,SAAUzqB,GACrC,IAAKA,EACD,MAAO,GAKX,IAHA,IAAI0gB,EAAO,GACP8/E,EAAUrnG,KAAKonG,cAAcvgG,GAC7BygG,EAAehjG,OAAO2K,KAAKo4F,GAAShX,OAC/B1tF,EAAI,EAAGA,EAAI2kG,EAAaliG,OAAQzC,IAAK,CAC1C,IAAI4kG,EAAUD,EAAa3kG,GACvB6kG,EAAYH,EAAQE,GAEpBC,EAAUxsF,QAAQ,KAAO,GAAKwsF,EAAUxsF,QAAQ,MAAQ,EACxDuM,GAAQ,IAAMggF,EAAU,KAAOC,EAAY,IAEtCA,EAAUxsF,QAAQ,MAAQ,GAAKwsF,EAAUxsF,QAAQ,MAAQ,GAE9DwsF,EAAYA,EAAU1mE,QAAQ,KAAM,UACpCvZ,GAAQ,IAAMggF,EAAU,KAAOC,EAAY,KAG3CjgF,GAAQ,IAAMggF,EAAU,KAAOC,EAAY,IAGnD,OAAOjgF,GAOXq/E,EAAQ/hG,UAAU4iG,gBAAkB,SAAU5gG,GAC1C,IAAK,IAAI0gB,EAAO1gB,EAAQyqB,WAAYpsB,EAAIqiB,EAAKniB,OAAS,EAAGF,GAAK,EAAGA,IAAK,CAClE,IAAIpE,EAAMymB,EAAKriB,GACf2B,EAAQoD,gBAAgBnJ,EAAIywB,YAQpCq1E,EAAQ/hG,UAAU6iG,cAAgB,SAAU7gG,GACxC,MAAO,IAAMA,EAAQ4Q,QAAQsG,cAAgB/d,KAAKsxB,WAAWzqB,GAAW,KAO5E+/F,EAAQ/hG,UAAU8iG,eAAiB,SAAU9gG,GACzC,MAAO,KAAOA,EAAQ4Q,QAAQsG,cAAgB,KAOlD6oF,EAAQ/hG,UAAU+iG,gBAAkB,SAAUnwF,EAASowF,EAAiB39E,GACpE,MAAO,IAAMzS,EAAQsG,cAAgB/d,KAAKsxB,WAAWu2E,GAAmB,IAAM39E,EAAY,KAAOzS,EAAQsG,cAAgB,KAO7H6oF,EAAQ/hG,UAAUijG,OAAS,SAAUjhG,GACjC,QAASA,GAAW,CAAC,KAAM,MAAMmU,QAAQnU,EAAQ4Q,UAAY,GAOjEmvF,EAAQ/hG,UAAU2mB,UAAY,SAAU3kB,GACpC,OAAOA,IAAY7G,KAAKigC,QAO5B2mE,EAAQ/hG,UAAUkjG,WAAa,SAAUlhG,GACrC,QAAUA,EAAQuT,cAA4D,SAA5CvT,EAAQuT,aAAa,qBAChD,CAAC,QAAS,UAAUY,QAAQnU,EAAQ4Q,SAAW,GAO1DmvF,EAAQ/hG,UAAUsiG,SAAW,SAAUtgG,EAAS+B,GAC5C,OAAO/B,GAAWA,EAAQe,WAAaf,EAAQe,UAAU0E,SAAS1D,IAOtEg+F,EAAQ/hG,UAAUmjG,YAAc,SAAUnhG,EAASxF,GAC/C,IAAImnB,EAAa3hB,EAAQ2hB,WACzBA,EAAW9d,aAAa1K,KAAKioG,kBAAkB5mG,GAAQwF,GACvD,eAAOA,IAOX+/F,EAAQ/hG,UAAUojG,kBAAoB,SAAU5mG,GAE5C,IAAIgzF,EAAO,eAAc,YAEzB,OADAA,EAAKnqE,UAAY7oB,EACbgzF,EAAK5lE,mBAAmBy5E,iBACjB7T,EAAK5lE,QAGLtZ,SAAS6oF,cAAcmK,yBAAyB9mG,IAS/DulG,EAAQ/hG,UAAUkgC,KAAO,SAAUl+B,EAASwqB,GAIxC,OAHAxqB,EAAQ2hB,WAAW9d,aAAa2mB,EAASxqB,GACzCwqB,EAAUxqB,EAAQoxF,gBAClB5mE,EAAQloB,YAAYtC,GACbwqB,GAOXu1E,EAAQ/hG,UAAUujG,YAAc,SAAUjC,EAASkC,GAC/CA,EAAc7/E,WAAW9d,aAAay7F,EAASkC,EAAcpyC,cAOjE2wC,EAAQ/hG,UAAUyjG,UAAY,SAAUroE,EAAQ5O,GAC5C4O,EAAO92B,YAAYkoB,GACnBA,EAAU4O,EAAOpzB,cAAc,qBAC/BwkB,EAAQzpB,UAAU+B,OAAO,oBACQ,IAA7B0nB,EAAQzpB,UAAUxC,QAClBisB,EAAQpnB,gBAAgB,SAE5B,MAAOg2B,EAAOt1B,aAAe0mB,EACzBA,EAAQloB,YAAY82B,EAAOt1B,YAE/B,OAAO0mB,GAOXu1E,EAAQ/hG,UAAU0jG,OAAS,SAAU1hG,GACjC,IAAIo5B,EAASp5B,EAAQ2hB,WACjBggF,EAAa,GACjB,MAAO3hG,EAAQ8D,WACX69F,EAAW3qF,KAAKhX,EAAQ8D,YACxBs1B,EAAOv1B,aAAa7D,EAAQ8D,WAAY9D,GAI5C,OAFA2hG,EAAaA,EAAWpjG,OAAS,EAAIojG,EAAa,CAAC3hG,EAAQ2hB,YAC3DyX,EAAOnqB,YAAYjP,GACZ2hG,GAOX5B,EAAQ/hG,UAAU4jG,gBAAkB,SAAU5hG,EAAStE,GAanD,OAZIsE,EAAQwvF,WAAa0Q,KAAKC,cAAgBngG,EAAQua,WAAWhc,OAAS,GACtEyB,EAAQua,WAAW7e,EAAQ,IAAMsE,EAAQua,WAAW7e,EAAQ,GAAG8zF,WAAa0Q,KAAKC,eAChFngG,EAAQua,WAAW7e,EAAQ,GAAGqF,UAAU0E,SAASm6F,GAAgBC,iBAC9D7/F,EAAQua,WAAW7e,EAAQ,GAAGqF,UAAU0E,SAASm6F,GAAgBE,eACrE9/F,EAAUA,EAAQua,WAAW7e,EAAQ,GAEhCsE,EAAQwvF,WAAa0Q,KAAKC,cAAgBngG,EAAQua,WAAWhc,OAAS,GAAKyB,EAAQua,WAAW7e,KACnGsE,EAAUA,EAAQua,WAAW7e,IAE7BsE,EAAQwvF,WAAa0Q,KAAK2B,YAC1B7hG,EAAUA,EAAQ2hB,YAEf3hB,GAOX+/F,EAAQ/hG,UAAU8jG,UAAY,SAAU9hG,EAAS8gB,GAE7C,IADA,IAAIihF,EAAa,GACRnjG,EAAI,EAAGA,EAAIkiB,EAASviB,OAAQK,IAC7BoB,EAAQyF,SAASqb,EAASliB,KAAOoB,IAAY8gB,EAASliB,IACtDmjG,EAAW/qF,KAAK8J,EAASliB,IAGjC,OAAOmjG,GAOXhC,EAAQ/hG,UAAUgkG,aAAe,WAC7B,IACIhiG,EADAyzC,EAAQt6C,KAAK8oG,cAAc,GAE/B,IAAKjiG,EAAUyzC,EAAMknD,wBAAyB36F,IAAY7G,KAAKwrB,UAAU3kB,GAAU,KAC/EA,EAAUA,EAAQ2hB,WAEtB,QAASxoB,KAAKwrB,UAAU3kB,IAO5B+/F,EAAQ/hG,UAAUikG,cAAgB,SAAUxC,GACxC,IAAIj9B,EAAYrpE,KAAKohG,eACjB2H,EAAS,GACb,GAAI1/B,GAAaA,EAAUi4B,YAAcj4B,EAAUg4B,WAAY,CAC3D0H,EAAS,GACT,IAAK,IAAIl1C,EAAI,EAAGA,EAAIwV,EAAUg4B,WAAYxtC,IACtCk1C,EAAOlrF,KAAKwrD,EAAUi4B,WAAWztC,SAIrCk1C,EAAS,CAAC/oG,KAAK6mG,gBAAgB7I,eAEnC,MAAO,qBAAuBsI,EAAQyC,EAAOzC,GAASyC,GAE1DnC,EAAQ/hG,UAAUu8F,aAAe,WAC7B,OAAOphG,KAAK43D,cAAc2sC,IAAIvkG,KAAK6mG,kBAOvCD,EAAQ/hG,UAAUmkG,gBAAkB,SAAUniG,GAE1C,IADAA,EAAUA,EAAQ0e,uBACX1e,GAAmC,OAAxBA,EAAQ2jB,YAAsB,KAC5C3jB,EAAUA,EAAQ0e,uBAEtB,OAAO1e,GAOX+/F,EAAQ/hG,UAAUokG,OAAS,SAAU5nG,GACjC,IAAIu1D,EAAUzhD,SAASxM,cAAc,OAErC,OADAiuD,EAAQ71B,UAAY1/B,EACbu1D,EAAQ1sC,UAAU4W,QAAQ,iBAAkB,OAOvD8lE,EAAQ/hG,UAAUqkG,WAAa,SAAUngC,EAAMj7D,GAC3C,IAEIq7F,EACAC,EAHAh8F,EAAQpN,KAAKigC,OAAOpzB,cAAc,IAAM45F,GAAgBC,gBACxD1xF,EAAMhV,KAAKigC,OAAOpzB,cAAc,IAAM45F,GAAgBE,cAW1D,GAR0B,KAAtBv5F,EAAMod,aAAsB,eAAkBxV,IAAmB,QAAXlH,IACtB,IAA5BV,EAAMgU,WAAWhc,QAAiD,OAAjCgI,EAAMgU,WAAW,GAAGmQ,SACrDnkB,EAAM8c,UAAY,uBAGlB9c,EAAM8c,UAAY,oBAGtBlqB,KAAKmnG,SAAS/5F,EAAOq5F,GAAgBC,iBAAmBt5F,EAAMxF,UAAUxC,OAAS,EAAG,CACpF,IAAI07B,EAAU9gC,KAAK4nG,gBAAgB,GAAsBx6F,EAAOpN,KAAKipG,OAAO77F,EAAMod,cAClFxqB,KAAKgoG,YAAY56F,EAAO0zB,GACxB1zB,EAAQpN,KAAKigC,OAAOpzB,cAAc,IAAM45F,GAAgBC,gBACxDt5F,EAAMxF,UAAU+B,OAAO88F,GAAgBC,gBACvCyC,EAAgB/7F,EAAMgU,WAAW,QAGjC+nF,EAAgBnpG,KAAKuoG,OAAOn7F,GAAO,GAEvC,GAAIpN,KAAKmnG,SAASnyF,EAAKyxF,GAAgBE,eAAiB3xF,EAAIpN,UAAUxC,OAAS,EAAG,CAC1E07B,EAAU9gC,KAAK4nG,gBAAgB,GAAsB5yF,EAAKhV,KAAKipG,OAAOj0F,EAAIwV,cAC9ExqB,KAAKgoG,YAAYhzF,EAAK8rB,GACtB9rB,EAAMhV,KAAKigC,OAAOpzB,cAAc,IAAM45F,GAAgBE,cACtD3xF,EAAIpN,UAAU+B,OAAO88F,GAAgBE,cACrCyC,EAAcp0F,EAAIoM,WAAW,QAG7BgoF,EAAcp0F,EAAMhV,KAAKuoG,OAAOvzF,GAAK,GAAKm0F,EAI9C,OAFApgC,EAAK/Q,eAAiB+Q,EAAKq7B,aAAa+E,GAAe,GACvDpgC,EAAKP,aAAeO,EAAKq7B,aAAagF,GAAa,GAC5CrgC,GAEX69B,EAAQ/hG,UAAUwkG,OAAS,SAAUzgG,EAAW4hB,GAC5C,MAAO,gBAAkB5hB,EAAY,KAAO4hB,EAAc,WAO9Do8E,EAAQ/hG,UAAUykG,UAAY,SAAUvgC,GACpC,IAAIzuB,EAAQyuB,EAAKzuB,MACbltC,EAASktC,EAAM0d,eAAe52C,WAAWk5B,EAAMuxB,cAC5CvxB,EAAM0d,eACThjD,EAAOslC,EAAMkuB,aAAapnD,WAAYk5B,EAAMwxB,UAAY,EAAMxxB,EAAMwxB,UAAY,EAAKxxB,EAAMwxB,YACxFxxB,EAAMkuB,aACb,GAAKp7D,EAAMipF,WAAa0Q,KAAKC,cAAgBhyF,EAAIqhF,WAAa0Q,KAAKC,eAAkB55F,EAAMd,SAAS0I,IAAQA,EAAI1I,SAASc,IAAS,CAC9H,IAAIm8F,EAAYn8F,EAAMd,SAAS0I,GAAO5H,EAAQ4H,EAC1CwW,EAAY+9E,EAAUlT,WAAa0Q,KAAK2B,UAC5C,GAAIl9E,EAAW,CAGX,IAFA,IAAI7R,EAAQ,GACR6vF,EAAY,GACP/zF,EAAO8zF,EAAWA,EAAUj9F,SAASmJ,GAAO,KAC7CkE,EAAMqB,QAAQvF,GAAQ,GAAKA,EAAK2L,YAAc3L,EAAK2L,WAAWhc,QAC9DuU,EAAMkE,KAAKpI,GACXA,EAAOA,EAAK2L,WAAW,IAElB3L,EAAKwgD,YACVxgD,EAAOA,EAAKwgD,YAEPxgD,EAAK+S,aACV/S,EAAOA,EAAK+S,WACZ7O,EAAMkE,KAAKpI,IAEX+zF,EAAUxuF,QAAQvF,GAAQ,IAAMA,EAAK4gF,WAAa0Q,KAAK2B,WACtD,GAA2B1tF,QAAQvF,EAAK+S,WAAW/Q,QAAQyiD,sBAAwB,IAC3D,OAAjBzkD,EAAKgC,SAAqC,QAAjBhC,EAAKgC,WACtC+xF,EAAU3rF,KAAKpI,GAGnB+zF,EAAUpkG,SACVgI,EAAQA,EAAMd,SAAS0I,GAAOw0F,EAAU,GAAKp8F,EAC7C4H,EAAMw0F,EAAUA,EAAUpkG,OAAS,KAI/C,GAAIgI,IAAU4H,EAAK,CACf,GAAI5H,EAAMipF,WAAa0Q,KAAK2B,YAAiC,OAAlBt7F,EAAMqK,SAC7C,GAA2BuD,QAAQ5N,EAAMob,WAAW/Q,QAAQyiD,sBAAwB,GAClE,QAAlB9sD,EAAMqK,SAAoB,CAC1BzX,KAAKgoG,YAAY56F,EAAOpN,KAAKqpG,OAAO5C,GAAgBC,eAAgB1mG,KAAKipG,OAAO77F,EAAMod,eACtF,IAAIi/E,EAAcnvD,EAAM0d,eAAenrD,cAAc,IAAM45F,GAAgBC,gBAC3E+C,EAAYtgG,YAAYiE,QAGxBpN,KAAKgoG,YAAY56F,EAAOpN,KAAKqpG,OAAO5C,GAAgBC,eAAgB1mG,KAAKipG,OAAO77F,EAAMod,eAE1F,GAAIxV,EAAIqhF,WAAa0Q,KAAK2B,WAA6B,OAAhB1zF,EAAIyC,SACvC,GAA2BuD,QAAQhG,EAAIwT,WAAW/Q,QAAQyiD,sBAAwB,EAAG,CACrFl6D,KAAKgoG,YAAYhzF,EAAKhV,KAAKqpG,OAAO5C,GAAgBE,aAAc3mG,KAAKipG,OAAOj0F,EAAIwV,eAChF,IAAIk/E,EAAYpvD,EAAMkuB,aAAa37D,cAAc,IAAM45F,GAAgBE,cACvE+C,EAAUvgG,YAAY6L,QAGtBhV,KAAK2pG,qBAAqB30F,EAAKyxF,GAAgBE,aAAcrsD,QAIjEt6C,KAAK2pG,qBAAqBv8F,EAAOq5F,GAAgBC,eAAgBpsD,IAQzEssD,EAAQ/hG,UAAU8kG,qBAAuB,SAAUv8F,EAAOxE,EAAW0xC,GACjE,IAAIsvD,GAAU,EACd,GAAuB,IAAnBx8F,EAAMipF,SACNr2F,KAAKgoG,YAAY56F,EAAOpN,KAAKqpG,OAAOzgG,EAAW5I,KAAKipG,OAAO77F,EAAMod,oBAEhE,GAAsB,OAAlBpd,EAAMqK,QAAkB,CAC7BzX,KAAKgoG,YAAY56F,EAAOpN,KAAKqpG,OAAO5C,GAAgBC,eAAgB1mG,KAAKipG,OAAO77F,EAAMod,eACtF,IAAIi/E,EAAcnvD,EAAM0d,eAAenrD,cAAc,IAAM45F,GAAgBC,gBAC3E+C,EAAYtgG,YAAYiE,OAEvB,CACD,GAAsB,QAAlBA,EAAMqK,QAAmB,CACzB,IAAIoyF,EAAU10F,SAASxM,cAAc,KACrCyE,EAAMqN,cAAc/P,aAAam/F,EAASz8F,GAC1Cy8F,EAAQ1gG,YAAYiE,GACpBA,EAAQy8F,EAAQpnG,SAAS,GAE7B,GAAsB,UAAlB2K,EAAMqK,QAEN,GADAmyF,GAAU,EACgB,KAAtBx8F,EAAMod,YAAoB,CAC1B,IAAIs/E,EAAS18F,EAAMoI,iBAAiB,MACpCpI,EAAQ08F,EAAOA,EAAO1kG,OAAS,GAC/BgI,EAAS,eAAkBA,EAAMgU,WAAW,IAA4BhU,EAAtBA,EAAMgU,WAAW,OAElE,CACD,IAAI2oF,EAAW38F,EAAMi0C,UACrB,MAA6B,IAAtB0oD,EAAS1T,UAAwC,UAAtB0T,EAASx4E,UACjB,OAAtBw4E,EAASx4E,SACTw4E,EAAWA,EAAS1oD,UAExBj0C,EAAQ28F,EAGhB,IAAK,IAAItkG,EAAI,EAAGA,EAAI+gG,GAAgBphG,OAAQK,IACxC2H,EAASA,EAAMqK,UAAY+uF,GAAgB/gG,IAAOmkG,EAA8Bx8F,EAAnBA,EAAMob,WAEvE,GAAuB,IAAnBpb,EAAMipF,UAAqC,UAAnBjpF,EAAMmkB,SAC9BvxB,KAAKgoG,YAAY56F,EAAOpN,KAAKqpG,OAAOzgG,EAAW5I,KAAKipG,OAAO77F,EAAMod,oBAEhE,GAAuB,OAAnBpd,EAAMmkB,SAAmB,CAC9BvxB,KAAKgoG,YAAY56F,EAAOpN,KAAKqpG,OAAO5C,GAAgBE,aAAc3mG,KAAKipG,OAAO77F,EAAMod,eACpF,IAAIk/E,EAAYpvD,EAAMkuB,aAAa37D,cAAc,IAAM45F,GAAgBE,cACvE+C,EAAUvgG,YAAYiE,OAErB,CACD,IAAIi8F,EAASrpG,KAAKqpG,OAAOzgG,EAAW,IACpC,eAAO,CAAC5I,KAAKioG,kBAAkBoB,IAAUj8F,MASrDw5F,EAAQ/hG,UAAUmlG,eAAiB,SAAUnjG,GACzC,IAAI2jB,EAAc3jB,EAAQ2jB,YAC1B,GAAwB,OAApB3jB,EAAQ4Q,QAAkB,CAC1B,IAAI4Z,EAAU,IAAM,GAAuB,MAAQ,GAAuB,IACtE5b,EAAO5O,EAAQ2hB,WACf,GAA2BxN,QAAQvF,EAAKgC,QAAQyiD,sBAAwB,IACxErzD,EAAU7G,KAAK+kC,KAAKl+B,EAAS7G,KAAKioG,kBAAkB52E,UAGvD,GAAMxqB,EAAQwvF,WAAa0Q,KAAK2B,YAChC7hG,EAAQe,UAAU0E,SAASm6F,GAAgBC,iBACxC7/F,EAAQe,UAAU0E,SAASm6F,GAAgBE,gBAC/Cn8E,EAAYsW,QAAQ,MAAO,IAAIA,QAAQ,eAAgB,IAAI17B,OAAS,GACpEolB,EAAYplB,QAAUolB,EAAYxP,QAAQ,MAAQ,EAAI,CAClDqW,EAAU,IAAM,GAAuB,MAAQ,GAAuB,IAA1E,IACI5vB,EAASoF,EACbA,EAAU7G,KAAK+kC,KAAKl+B,EAAS7G,KAAKioG,kBAAkB52E,IACpD,IAAI44E,EAAWxoG,EAAO40F,WAAa0Q,KAAKC,cAAgBvlG,EAAOkJ,YAA6C,OAA/BlJ,EAAOkJ,WAAW4mB,WACvF9vB,EAAOmG,UAAU0E,SAASm6F,GAAgBC,iBAC1CjlG,EAAOmG,UAAU0E,SAASm6F,GAAgBE,gBAC7CsD,GAAYpjG,EAAQukC,oBAA6D,OAAvCvkC,EAAQukC,mBAAmB3zB,SACtE5Q,EAAQsC,YAAYtC,EAAQukC,oBAGpC,OAAOvkC,GAOX+/F,EAAQ/hG,UAAUqlG,uBAAyB,WACvC,IAAI7gC,EAAYrpE,KAAKohG,eACrB,OAAIphG,KAAK6oG,gBAAkBx/B,EAAUg4B,WAC1Bh4B,EAAU8gC,UAAU30F,iBAAiB,OAEzC,MAOXoxF,EAAQ/hG,UAAUulG,WAAa,WAC3B,IAAIC,EAAkB,GAClBhhC,EAAYrpE,KAAKohG,eACrB,GAAIphG,KAAK6oG,gBAAkBx/B,EAAUg4B,WAEjC,IADA,IAAI0H,EAAS/oG,KAAK8oG,gBACT36E,EAAI,EAAGA,EAAI46E,EAAO3jG,OAAQ+oB,IAAK,CACpC,IAAI3F,OAAa,EACb8xB,EAAQyuD,EAAO56E,GACfswE,EAAYz+F,KAAKyoG,gBAAgBnuD,EAAM0d,eAAgB1d,EAAMuxB,aAC7Di5B,EAAU9kG,KAAKyoG,gBAAgBnuD,EAAMkuB,aAAcluB,EAAMwxB,WAK7D,GAJI9rE,KAAK8mG,YAAYrI,IAAc4L,EAAgBrvF,QAAQyjF,GAAa,GACpE4L,EAAgBxsF,KAAK4gF,GAEzBj2E,EAAaxoB,KAAKknG,gBAAgBzI,GAC9Bj2E,GAAc6hF,EAAgBrvF,QAAQwN,GAAc,EACpD,GAAI,GAA2BxN,QAAQwN,EAAW/Q,QAAQyiD,sBAAwB,IAA4B,OAAtBukC,EAAUhnF,SAC9FgnF,EAAUpI,WAAa0Q,KAAK2B,WAC5BjK,EAAU72F,UAAU0E,SAASm6F,GAAgBC,iBAC7CjI,EAAU72F,UAAU0E,SAASm6F,GAAgBE,eAAgB,CAC7D,IAAIpgC,EAAWk4B,EAAUxG,iBACrBwG,EAAUxG,gBAAgB5B,WAAa0Q,KAAK2B,UAC5CjK,EAAUxG,gBAAkBwG,EAC3BA,EAAUxoC,aAAgBwoC,EAAUxG,iBAAyC,OAAtBwG,EAAUhnF,QAIlE4yF,EAAgBxsF,KAAK7d,KAAKgqG,eAAezjC,IAHzC8jC,EAAgBxsF,KAAK0oD,QAOzB8jC,EAAgBxsF,KAAK2K,GAI7B,IADA,IAAI7O,EAAQ,GACHlE,EAAOgpF,EAAWhpF,IAASqvF,GAAWrvF,IAASzV,KAAKigC,OAAQ,KAC7DtmB,EAAMqB,QAAQvF,GAAQ,GAAKA,EAAK2L,YAAc3L,EAAK2L,WAAWhc,QAC9DuU,EAAMkE,KAAKpI,GACXA,EAAOA,EAAK2L,WAAW,IAElB3L,GAA0B,IAAlBA,EAAK4gF,WAAoC,OAAjB5gF,EAAKgC,SAAqBhC,EAAK4gF,WAAa0Q,KAAK2B,WAC1D,KAA5BjzF,EAAK+U,YAAYlB,QAAmB7T,EAAK4gF,WAAa0Q,KAAK2B,YAC1DjzF,EAAK7N,UAAU0E,SAASm6F,GAAgBC,iBACrCjxF,EAAK7N,UAAU0E,SAASm6F,GAAgBE,iBAC5C,GAA2B3rF,QAAQvF,EAAK+S,WAAW/Q,QAAQyiD,sBAAwB,EACnFzkD,EAAOzV,KAAKgqG,eAAev0F,GAEtBA,EAAKwgD,aAA6C,IAA9BxgD,EAAKwgD,YAAYogC,WACZ,OAA7B5gF,EAAKwgD,YAAYx+C,SACdhC,EAAKwgD,YAAYogC,WAAa0Q,KAAK2B,WACnCjzF,EAAKwgD,YAAYruD,UAAU0E,SAASm6F,GAAgBC,iBACpDjxF,EAAKwgD,YAAYruD,UAAU0E,SAASm6F,GAAgBE,gBACxD,GAA2B3rF,QAAQvF,EAAKwgD,YAAYztC,WAAW/Q,QAAQyiD,sBAAwB,EAC/FzkD,EAAOzV,KAAKgqG,eAAev0F,EAAKwgD,aAE3BxgD,EAAKwgD,YACVxgD,EAAOA,EAAKwgD,YAEPxgD,EAAK+S,aACV/S,EAAOA,EAAK+S,WACZ7O,EAAMkE,KAAKpI,IAEX40F,EAAgBrvF,QAAQvF,GAAQ,GAAKA,EAAK4gF,WAAa0Q,KAAKC,cAC5D,GAA2BhsF,QAAQvF,EAAK+S,WAAW/Q,QAAQyiD,sBAAwB,IAClFzkD,EAAK7N,UAAU0E,SAASm6F,GAAgBC,iBACrCjxF,EAAK7N,UAAU0E,SAASm6F,GAAgBE,gBAC5C0D,EAAgBxsF,KAAK7d,KAAKgqG,eAAev0F,IAEzCzV,KAAK8mG,YAAYrxF,IAASzV,KAAKsqG,eAAe70F,IAASkE,EAAMqB,QAAQvF,GAAQ,GAC7E40F,EAAgBrvF,QAAQvF,GAAQ,IAAMA,IAASqvF,GAAWxqD,EAAMwxB,UAAY,IAC5Eu+B,EAAgBxsF,KAAKpI,GAEH,QAAlBA,EAAK8b,UAA6D,SAAvC9b,EAAKgF,cAAcqjF,iBAC9CuM,EAAgBxsF,KAAKpI,GAG7B+S,EAAaxoB,KAAKknG,gBAAgBpC,GAC9Bt8E,GAAcxoB,KAAKsqG,eAAe9hF,IAAe6hF,EAAgBrvF,QAAQwN,GAAc,IACrF,eAAkBA,EAAWjD,yBAAyE,QAA9CiD,EAAWjD,uBAAuB9N,SAC5F4yF,EAAgBxsF,KAAK2K,GAIjC,IAAK,IAAI/iB,EAAI4kG,EAAgBjlG,OAAS,EAAGK,EAAI,EAAGA,IAAK,CAC7CkU,EAAQ3Z,KAAK2oG,UAAU0B,EAAgB5kG,GAAI4kG,GAC/C,GAAI1wF,EAAMvU,OAAQ,CACd,IAAImlG,EAAYF,EAAgB5kG,GAAG+P,iBAAiB,UACpD,GAAmC,OAA/B60F,EAAgB5kG,GAAGgS,SAAoB8yF,EAAUnlG,OAAS,EAC1D,SAGAilG,EAAgB9hF,OAAO9iB,EAAG,IAItC,OAAO4kG,GAEXzD,EAAQ/hG,UAAUylG,eAAiB,SAAUzjG,GACzC,QAAS,GAA0BmU,QAAQnU,EAAQ4Q,QAAQyiD,sBAAwB,IAEhF0sC,EAvoBiB,GCDxB,GAAuB,WAMvB,SAAS4D,EAAMvqE,GACXjgC,KAAKigC,OAASA,EACdjgC,KAAKyqG,QAAUzqG,KAAKigC,OAAOwqE,QAC3BzqG,KAAK8L,mBA8jBT,OA5jBA0+F,EAAM3lG,UAAUiH,iBAAmB,WAC/B9L,KAAKigC,OAAO+zD,SAASxzF,GAAG,QAAkBR,KAAK0qG,kBAAmB1qG,MAClEA,KAAKigC,OAAO+zD,SAASxzF,GAAG,QAAyBR,KAAK8rC,eAAgB9rC,OAE1EwqG,EAAM3lG,UAAU8lG,SAAW,SAAU3gG,GACjC,IAAI4gG,EAAc,CAAC,cACf,yEACA,kBACAC,EAAgB,eAAkB7gG,GAAoD,KAA5CA,EAAK+2B,UAAUzX,OAAOjT,MAAM,KAAK,GAAK,IACpF,IAAK,eAAkBw0F,GACnB,IAAK,IAAIplG,EAAI,EAAGA,EAAImlG,EAAYxlG,OAAQK,IACpC,GAAImlG,EAAYnlG,GAAGunC,KAAK69D,GACpB,OAAO,EAInB,OAAO,GAEXL,EAAM3lG,UAAUimG,gBAAkB,SAAUxwD,GACxC,IAAIywD,EAAmB,CAAC,aAAc,aAAc,cACpD,IAAK,eAAkBzwD,EAAM0d,eAAextC,YAAYzmB,MAAM,EAAGu2C,EAAMuxB,cACnE,IAAK,IAAIpmE,EAAI,EAAGA,EAAIslG,EAAiB3lG,OAAQK,IACzC,GAAIslG,EAAiBtlG,GAAGunC,KAAKsN,EAAM0d,eAAextC,YAAYzmB,MAAM,EAAGu2C,EAAMuxB,cACzE,OAAO,EAInB,OAAO,GAEX2+B,EAAM3lG,UAAUmmG,UAAY,SAAUroG,GAClC,IAAI23C,EAAQt6C,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBAC3D7mG,KAAKmhG,cAAgBnhG,KAAKigC,OAAO23B,cAAcmR,KAAKzuB,EAAOt6C,KAAKigC,OAAO4mE,iBACvE,IAAIpI,EAAYz+F,KAAKigC,OAAOwqE,QAAQhC,gBAAgBnuD,EAAM0d,eAAgB1d,EAAMuxB,aAE5Eo/B,GADUjrG,KAAKigC,OAAOwqE,QAAQhC,gBAAgBnuD,EAAMkuB,aAAcluB,EAAMwxB,WAC3D2yB,EAAUl5E,wBACvB2lF,EAAczM,EAAUrzD,mBACxB+/D,EAAkB,eAAkBF,GACU,KAA9CA,EAAWlqE,UAAUzX,OAAOykB,UAAU,EAAG,GACzCq9D,EAAmB,eAAkBF,GACU,KAA/CA,EAAYnqE,UAAUzX,OAAOykB,UAAU,EAAG,GAC1Cs9D,EAAqBrrG,KAAK8qG,gBAAgBxwD,GAC1CgxD,EAAmBtrG,KAAK2qG,SAASM,GACjCM,EAAoBvrG,KAAK2qG,SAASO,GACjCI,GAAqBC,GAAwC,MAAnBJ,GAA8C,MAApBC,IACjEC,GACA/wD,EAAM0d,eAAextC,YAAc8vB,EAAM0d,eAAextC,YAAYzmB,MAAMu2C,EAAMuxB,YAAavxB,EAAM0d,eAAextC,YAAYplB,QAC9HpF,KAAK0qG,kBAAkB,CAAEtyC,WAAY,KAAM8nC,SAAUv9F,EAAEu9F,WACvDv9F,EAAEoO,MAAM/E,kBAE8D,MAAjEsuC,EAAM0d,eAAextC,YAAYzmB,MAAM,EAAGu2C,EAAMuxB,eACrDvxB,EAAM0d,eAAextC,YAAc8vB,EAAM0d,eAAextC,YAAYzmB,MAAMu2C,EAAMuxB,YAAavxB,EAAM0d,eAAextC,YAAYplB,QAC9HpF,KAAK0qG,kBAAkB,CAAEtyC,WAAY,KAAM8nC,SAAUv9F,EAAEu9F,WACvDv9F,EAAEoO,MAAM/E,oBAIpBw+F,EAAM3lG,UAAU2mG,UAAY,SAAU7oG,GAClC,IAAI23C,EAAQt6C,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBACvDpI,EAAYz+F,KAAKigC,OAAOwqE,QAAQhC,gBAAgBnuD,EAAM0d,eAAgB1d,EAAMuxB,aAC5Ei5B,EAAU9kG,KAAKigC,OAAOwqE,QAAQhC,gBAAgBnuD,EAAMkuB,aAAcluB,EAAMwxB,WACxE2yB,IAAcqG,GAAiC,OAAtBrG,EAAUhnF,SAAqD,KAAjCgnF,EAAUj0E,YAAYlB,QACrC,QAAxCm1E,EAAUj0E,YAAYmjB,WAAW,KACjC8wD,EAAUj0E,YAAc,KAGhCggF,EAAM3lG,UAAU4mG,cAAgB,SAAU9oG,GACtC,IAAI23C,EAAQt6C,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBACvDpI,EAAYz+F,KAAKigC,OAAOwqE,QAAQhC,gBAAgBnuD,EAAM0d,eAAgB1d,EAAMuxB,aAC5Ei5B,EAAU9kG,KAAKigC,OAAOwqE,QAAQhC,gBAAgBnuD,EAAMkuB,aAAcluB,EAAMwxB,WAO5E,GANA2yB,EAAmC,OAAvBA,EAAUltE,SAAoBktE,EAAUhkF,cAAgBgkF,EACpEqG,EAA+B,OAArBA,EAAQvzE,SAAoBuzE,EAAQrqF,cAAgBqqF,EAC1DrG,IAAcqG,GAAY,eAAkB,eAAQrG,EAAW,QAC9B,KAAjCA,EAAUj0E,YAAYlB,QAAyD,QAAxCm1E,EAAUj0E,YAAYmjB,WAAW,KACxE8wD,EAAUj0E,YAAc,IAExBi0E,IAAcqG,GAAqC,KAA1BrG,EAAUj0E,aACnC,GAAIi0E,EAAUpkF,QAAQ,OAASokF,EAAUpkF,QAAQ,MAAO,CACpD,IAAIqxF,EAAc,eAAMjN,EAAUpkF,QAAQ,OAAmCokF,EAAUpkF,QAAQ,MAA5CokF,EAAUpkF,QAAQ,MACrE,GAAIqxF,EAAWn/F,oBAAsBkyF,IAAiD,OAAnCiN,EAAWjpG,SAAS,GAAGgV,SACnC,OAAnCi0F,EAAWjpG,SAAS,GAAGgV,SACvB,GAAIi0F,EAAWj0F,UAAYi0F,EAAWjpG,SAAS,GAAGgV,QAAS,CACvD,MAAOi0F,EAAWjpG,SAAS,GAAG4+C,UAC1BrhD,KAAKigC,OAAOwqE,QAAQrC,YAAYsD,EAAWjpG,SAAS,GAAG4+C,UAAWqqD,EAAWjpG,SAAS,IAE1F,eAAOipG,EAAWjpG,SAAS,SAG3BipG,EAAWjxF,cAAc/P,aAAaghG,EAAWjpG,SAAS,GAAIipG,SAKzE,IAAK,eAAMjN,EAAU9zF,aAAiD,OAAlC8zF,EAAU9zF,WAAW4mB,WACpB,OAArCktE,EAAUr9E,WAAW,GAAGmQ,UAA0D,OAArCktE,EAAUr9E,WAAW,GAAGmQ,UAAoB,CACtFm6E,EAAc,eAAMjN,EAAUpkF,QAAQ,OAAmCokF,EAAUpkF,QAAQ,MAA5CokF,EAAUpkF,QAAQ,MACrE,GAAIqxF,EAAWj0F,UAAYgnF,EAAUr9E,WAAW,GAAGmQ,SAAU,CACzD,MAAOktE,EAAUr9E,WAAW,GAAGigC,UAC3BrhD,KAAKigC,OAAOwqE,QAAQrC,YAAY3J,EAAUh8F,SAAS,GAAG4+C,UAAWo9C,GAErE,eAAOA,EAAUr9E,WAAW,SAG5BsqF,EAAWjxF,cAAc/P,aAAa+zF,EAAUh8F,SAAS,GAAIipG,KAIzElB,EAAM3lG,UAAUinC,eAAiB,SAAUnpC,GAUvC,GATsB,KAAlBA,EAAEoO,MAAMq/B,OACRpwC,KAAKwrG,UAAU7oG,GAEG,KAAlBA,EAAEoO,MAAMq/B,OACRpwC,KAAKgrG,UAAUroG,GAEG,IAAlBA,EAAEoO,MAAMq/B,OACRpwC,KAAKyrG,cAAc9oG,GAED,IAAlBA,EAAEoO,MAAMq/B,MAAa,CACrB,IAAIkK,EAAQt6C,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBACrDlkG,EAAEoO,MAAMjD,QAA6B,WAAnBnL,EAAEoO,MAAMjD,SAC5B9N,KAAKmhG,cAAgBnhG,KAAKigC,OAAO23B,cAAcmR,KAAKzuB,EAAOt6C,KAAKigC,OAAO4mE,kBAE3E,IAAIuD,OAAa,EACbv+B,EAAcvxB,EAAMuxB,YACpBC,EAAYxxB,EAAMwxB,UAClB2yB,EAAYz+F,KAAKigC,OAAOwqE,QAAQhC,gBAAgBnuD,EAAM0d,eAAgB1d,EAAMuxB,aAC5Ei5B,EAAU9kG,KAAKigC,OAAOwqE,QAAQhC,gBAAgBnuD,EAAMkuB,aAAcluB,EAAMwxB,WAC5E,GAAK2yB,IAAcqG,IAAmC,OAAvBrG,EAAUltE,UAA4C,UAAvBktE,EAAUltE,WACpE,GAA2BvW,QAAQyjF,EAAUj2E,WAAW/Q,QAAQyiD,sBAAwB,EACxF,OAGMv3D,EAAEoO,MAAMjD,QAA6B,WAAnBnL,EAAEoO,MAAMjD,QAC5B9N,KAAKyqG,QAAQnB,UAAUtpG,KAAKmhG,eAEhCiJ,EAAapqG,KAAKyqG,QAAQL,aAI9B,IAFA,IAAIzwF,EAAQ,GACRgyF,GAAW,EACNlmG,EAAI,EAAGA,EAAI2kG,EAAWhlG,OAAQK,IACM,OAArC2kG,EAAW3kG,GAAG+iB,WAAW/Q,QACzBkC,EAAMkE,KAAKusF,EAAW3kG,GAAG+iB,YAEM,OAA1B4hF,EAAW3kG,GAAGgS,SAA4D,MAAxC2yF,EAAW3kG,GAAG2b,WAAW,GAAG3J,SAC1B,OAAxC2yF,EAAW3kG,GAAG2b,WAAW,GAAG3J,SACe,OAAxC2yF,EAAW3kG,GAAG2b,WAAW,GAAG3J,SAChCkC,EAAMkE,KAAKusF,EAAW3kG,IAG1BkU,EAAMvU,OAAS,GAAKuU,EAAMvU,SAA4B,IAAhBymE,GAAmC,IAAdC,GAAoBnpE,EAAEipG,gBACjFjpG,EAAEoO,MAAM/E,iBACRrJ,EAAEoO,MAAM07B,kBACRzsC,KAAK6rG,cAAgB7rG,KAAK8rG,UAAUnyF,EAAM,IACtChX,EAAEoO,MAAMg7F,UACR/rG,KAAKgsG,WAAWryF,GAChB3Z,KAAKisG,eAGLN,EAAW3rG,KAAKksG,WAAWvyF,GAE3BgyF,IACA3rG,KAAKmsG,YACLnsG,KAAKigC,OAAO2+B,gBAAgB3lD,SAE1BtW,EAAEoO,MAAMjD,QAA6B,WAAnBnL,EAAEoO,MAAMjD,SAC5B9N,KAAKmhG,cAAgBnhG,KAAKyqG,QAAQvB,WAAWlpG,KAAKmhG,eAClDnhG,KAAKmhG,cAAcx1B,UACfhpE,EAAEu9F,UACFv9F,EAAEu9F,SAAS,CACPvL,YAAa30F,KAAK6rG,cAClBhjC,WAAY,OACZvuB,MAAOt6C,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBACtDl/E,SAAU3nB,KAAKigC,OAAOwqE,QAAQL,aAC9Br5F,MAAOpO,EAAEoO,UAMfpO,EAAEoO,MAAMjD,QAA6B,WAAnBnL,EAAEoO,MAAMjD,SACxBnL,EAAEoO,OAASpO,EAAEoO,MAAMg7F,UAA4B,QAAhBppG,EAAEoO,MAAMjQ,MACvC6B,EAAEoO,MAAMjD,OAAS,OAErB9N,KAAKmhG,cAAgBnhG,KAAKyqG,QAAQvB,WAAWlpG,KAAKmhG,cAAex+F,EAAEoO,MAAMjD,QACzE9N,KAAKmhG,cAAcx1B,gBAK3B,OAAQhpE,EAAEoO,MAAMjD,QACZ,IAAK,eACD9N,KAAK0qG,kBAAkB,CAAEtyC,WAAY,KAAM8nC,SAAUv9F,EAAEu9F,WACvDv9F,EAAEoO,MAAM/E,iBACR,MACJ,IAAK,iBACDhM,KAAK0qG,kBAAkB,CAAEtyC,WAAY,KAAM8nC,SAAUv9F,EAAEu9F,WACvDv9F,EAAEoO,MAAM/E,iBACR,QAIhBw+F,EAAM3lG,UAAUinG,UAAY,SAAUjlG,GAClC,IAAI2hB,EAAa3hB,EAAQ2hB,WACzB,MAAgC,OAAxBA,EAAW+I,SAAoB,KAAO,MAElDi5E,EAAM3lG,UAAUonG,YAAc,WAE1B,IADA,IAAI5B,EAAkBrqG,KAAKigC,OAAO2+B,gBAAgBppD,iBAAiB,UAC1D/P,EAAI,EAAGA,EAAI4kG,EAAgBjlG,OAAQK,IAAK,CAC7C,IAAI8kG,EAAYF,EAAgB5kG,GAAG+P,iBAAiB,UACpD,GAAI+0F,EAAUnlG,OAAS,EACnB,IAAK,IAAI+oB,EAAI,EAAGA,EAAIo8E,EAAUnlG,OAAQ+oB,IAAK,CACvC,IAAIi+E,EAAc7B,EAAUp8E,GAAG8pE,gBAC3BmU,GAAuC,OAAxBA,EAAY30F,SAC3B20F,EAAYjjG,YAAYohG,EAAUp8E,OAMtDq8E,EAAM3lG,UAAUwnG,kBAAoB,SAAU1kF,GAC1C,IAAI2kF,EACAC,EACAC,EAAgB7kF,EAASnS,iBAAiB,UAC1Ci3F,EAAgB9kF,EACfnS,iBAAiB,MAClBk3F,EAAqB1sG,KAAKyqG,QAAQ1Z,SAAS0b,EAAc,IAAI,GAOjE,GANIA,EAAcrnG,OAAS,IAAsC,OAAhCsnG,EAAmBn7E,UAAqD,OAAhCm7E,EAAmBn7E,UACxF+6E,EAAYG,EAAc,GAG1BF,EAAcC,EAAc,GAE5BF,EACA,IAAK,IAAIr+C,EAAIjuD,KAAKyqG,QAAQ1Z,SAASppE,GAAU,GAAIsmC,IAAMjuD,KAAKyqG,QAAQ3C,OAAO75C,GAAI,KAAM,CACjF,IAAIgI,EAAchI,EAAEgI,YACpB,eAAQ,CAAChI,GAAIq+C,GACb,eAAkB3kF,EAAU,CAAE,kBAAmB,SACjD,eAAkB2kF,EAAW,CAAE,kBAAmB,KAClDr+C,EAAIgI,OAGP,GAAIs2C,EAAa,CAClB,IAAII,EAAgB,eAAc,MAClC,eAAQ,CAACA,GAAgBJ,GACzB,IAASt+C,EAAIjuD,KAAKyqG,QAAQ1Z,SAASppE,GAAU,GAAIsmC,IAAMjuD,KAAKyqG,QAAQ3C,OAAO75C,GAAI,KAAM,CAC7EgI,EAAchI,EAAEgI,YACpB02C,EAAcxjG,YAAY8kD,GAC1BA,EAAIgI,EAER,eAAQ,CAACs2C,GAAc5kF,EAASa,YAChC,eAAOb,GACP,IAAIilF,EAAkB,eAAc,KAAM,CAAEvyE,OAAQ,2BACpD,eAAQ,CAACuyE,GAAkBL,EAAY/jF,YACvC,eAAO,CAAC+jF,GAAcK,OAErB,CACGA,EAAkB,eAAc,KAAM,CAAEvyE,OAAQ,2BACpD,eAAQ,CAACuyE,GAAkBjlF,EAASa,YAChCmkF,EAAgB,eAAchlF,EAASa,WAAW/Q,SACtD,eAAQ,CAACk1F,GAAgBC,GACzB,eAAO,CAACjlF,GAAWglF,KAG3BnC,EAAM3lG,UAAUqnG,WAAa,SAAUvkF,GAEnC,IADA,IAAIgkF,GAAW,EACNlmG,EAAI,EAAGA,EAAIkiB,EAASviB,OAAQK,IAAK,CACtC,IAAI2mG,EAAcpsG,KAAKyqG,QAAQzB,gBAAgBrhF,EAASliB,IACxD,GAAI2mG,EAAa,CACbT,GAAW,EACX,IAAIW,OAAY,EACZO,OAAc,EACdL,EAAgB7kF,EAASliB,GAAG+P,iBAAiB,UAC7Ci3F,EAAgB9kF,EAASliB,GACxB+P,iBAAiB,MAClBk3F,EAAqB1sG,KAAKyqG,QAAQ1Z,SAAS0b,EAAc,IAAI,GAOjE,GANIA,EAAcrnG,OAAS,IAAsC,OAAhCsnG,EAAmBn7E,UAAqD,OAAhCm7E,EAAmBn7E,UACxFs7E,EAAcJ,EAAc,GAG5BH,EAAYE,EAAc,GAE1BF,EAAW,CACX,IAAIK,EAAgB,eAAc,MAClC,eAAQ,CAACA,GAAgBL,GACzB,IAAK,IAAIr+C,EAAIjuD,KAAKyqG,QAAQ1Z,SAASppE,EAASliB,IAAI,GAAIwoD,IAAMjuD,KAAKyqG,QAAQ3C,OAAO75C,GAAI,KAAM,CACpF,IAAIgI,EAAchI,EAAEgI,YACpB02C,EAAcxjG,YAAY8kD,GAC1BA,EAAIgI,EAER,eAAO,CAACq2C,GAAYF,GACpB,eAAOzkF,EAASliB,SAEf,GAAIonG,GACL,GAA4B,OAAxBT,EAAY30F,QAAkB,CAC9B,IAASw2C,EAAIjuD,KAAKyqG,QAAQ1Z,SAASppE,EAASliB,IAAI,GAAIwoD,IAAMjuD,KAAKyqG,QAAQ3C,OAAO75C,GAAI,KAAM,CAChFgI,EAAchI,EAAEgI,YACpB,eAAQ,CAAChI,GAAI4+C,GACb,eAAkBllF,EAASliB,GAAI,CAAE,kBAAmB,SACpD,eAAkBonG,EAAa,CAAE,kBAAmB,KACpD5+C,EAAIgI,EAER,eAAO,CAAC42C,EAAYrkF,YAAa4jF,GACjC,eAAOzkF,EAASliB,UAIpB,GAA4B,OAAxB2mG,EAAY30F,QAAkB,CAC1Bk1F,EAAgB,eAAchlF,EAASliB,GAAG+iB,WAAW/Q,SACzD,eAAO,CAACk1F,GAAgBP,GACxB,eAAO,CAACzkF,EAASliB,IAAKknG,QAI7B,CACD,IAAI9lG,EAAU8gB,EAASliB,GACvBkmG,GAAW,EACX3rG,KAAKqsG,kBAAkBxlG,IAG/B,OAAO8kG,GAEXnB,EAAM3lG,UAAU6lG,kBAAoB,SAAU/nG,GAC1C,IAAI23C,EAAQt6C,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBAC3D7mG,KAAKmhG,cAAgBnhG,KAAKigC,OAAO23B,cAAcmR,KAAKzuB,EAAOt6C,KAAKigC,OAAO4mE,iBACvE7mG,KAAK6rG,cAAgBlpG,EAAEy1D,WACvBp4D,KAAKyqG,QAAQnB,UAAUtpG,KAAKmhG,eAE5B,IADA,IAAI2L,EAAa9sG,KAAKyqG,QAAQL,aACrB3kG,EAAI,EAAGA,EAAIqnG,EAAW1nG,OAAQK,IACL,UAA1BqnG,EAAWrnG,GAAGgS,SACdq1F,EAAWvkF,OAAO9iB,EAAG,GAEK,OAA1BqnG,EAAWrnG,GAAGgS,SAAoB,OAASq1F,EAAWrnG,GAAG+iB,WAAW/Q,UACpEq1F,EAAWrnG,GAAKqnG,EAAWrnG,GAAG+iB,YAGtCxoB,KAAK+sG,WAAWD,EAAY9sG,KAAK6rG,cAAelpG,EAAEutB,UAC9CvtB,EAAEu9F,UACFv9F,EAAEu9F,SAAS,CACPvL,YAAa30F,KAAK6rG,cAClB96F,MAAOpO,EAAEoO,MACT83D,WAAY,OACZvuB,MAAOt6C,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBACtDl/E,SAAU3nB,KAAKigC,OAAOwqE,QAAQL,gBAI1CI,EAAM3lG,UAAUkoG,WAAa,SAAUplF,EAAUlM,EAAMyU,GAEnD,GAAIlwB,KAAKgtG,SAASrlF,EAAUlM,GACxBzb,KAAKgsG,WAAWrkF,GAChB3nB,KAAKitG,8BAEJ,CACDjtG,KAAKktG,WAAWvlF,EAAUlM,GAC1B,IAAK,IAAIhW,EAAI,EAAGA,EAAIkiB,EAASviB,OAAQK,IACjC,GAAI,OAASkiB,EAASliB,GAAGgS,QAAS,EAClB,EACZ,IAAI01F,EAAkC,QAAxBxlF,EAASliB,GAAGgS,QAAoB,GAAKzX,KAAKyqG,QAAQn5E,WAAW3J,EAASliB,IAChF2nG,EAAU,IAAM3xF,EAAO,IACvB4xF,EAAW,KAAO5xF,EAAO,IACzB6xF,EAAS,KAAOH,EAChBI,EAAe5lF,EAASliB,GAAGgS,QAAQsG,gBAAkB,GAAuB4J,EAASliB,GAAGykB,UACxFvC,EAASliB,GAAG+jB,UACZU,EAAYlqB,KAAKyqG,QAAQ7C,gBAAgB0F,EAAQ,KAAMC,GACvDC,EAAmBJ,EAAUljF,EAAYmjF,EAC7CrtG,KAAKyqG,QAAQzC,YAAYrgF,EAASliB,GAAI+nG,IAIlDxtG,KAAKmsG,YACLnsG,KAAKigC,OAAO2+B,gBAAgB3lD,QACxBitD,MACAC,GAAkBnmE,KAAKigC,OAAO2+B,gBAAiB1uC,GAEnDlwB,KAAKmhG,cAAgBnhG,KAAKyqG,QAAQvB,WAAWlpG,KAAKmhG,eAClDnhG,KAAKmhG,cAAcx1B,WAEvB6+B,EAAM3lG,UAAUooG,wBAA0B,WAEtC,IADA,IAAIQ,EAAWztG,KAAKigC,OAAO2+B,gBAAgBppD,iBAAiB,UACnD/P,EAAI,EAAGA,EAAIgoG,EAASroG,OAAQK,IACM,KAAnCgoG,EAAShoG,GAAG+kB,YAAYlB,QACxB,eAAOmkF,EAAShoG,KAI5B+kG,EAAM3lG,UAAUmoG,SAAW,SAAUrzF,EAAOlC,GAExC,IADA,IAAIu1F,GAAW,EACNvnG,EAAI,EAAGA,EAAIkU,EAAMvU,OAAQK,IAAK,CACnC,GAAyB,OAArBkU,EAAMlU,GAAGgS,QACT,OAAO,EAEPkC,EAAMlU,GAAG+iB,WAAW/Q,UAAYA,IAChCu1F,GAAW,GAGnB,OAAOA,GAEXxC,EAAM3lG,UAAUqoG,WAAa,SAAUvzF,EAAOlC,GAE1C,IADA,IAAIi2F,EAAY,GACPjoG,EAAI,EAAGA,EAAIkU,EAAMvU,OAAQK,IAAK,CACnC,IAAIgQ,EAAOkE,EAAMlU,GAAG+iB,WACK,OAArB7O,EAAMlU,GAAGgS,SAAoBhC,EAAKgC,UAAYA,GAAWi2F,EAAU1yF,QAAQvF,GAAQ,GACnFi4F,EAAU7vF,KAAKpI,GAGvB,IAAK,IAAI0Y,EAAIu/E,EAAUtoG,OAAS,EAAG+oB,GAAK,EAAGA,IAAK,CAC5C,IAAI8/B,EAAIy/C,EAAUv/E,GACd2S,EAAU,IAAMrpB,EAAQsG,cAAgB,IACtC/d,KAAKyqG,QAAQn5E,WAAW28B,GAAK,IAAMA,EAAE/jC,UAAY,KAAOzS,EAAQsG,cAAgB,IACtF/d,KAAKyqG,QAAQzC,YAAY0F,EAAUv/E,GAAI2S,KAG/C0pE,EAAM3lG,UAAUsnG,UAAY,WAExB,IADA,IAAIwB,EAAY3tG,KAAKigC,OAAO2+B,gBAAgBppD,iBAAiB,oBACpDtQ,EAAI,EAAGA,EAAIyoG,EAAUvoG,OAAQF,IAAK,CACvC,IAAIuQ,EAAOk4F,EAAUzoG,GACrB,GAAIlF,KAAKyqG,QAAQ3C,OAAOryF,EAAK8P,yBACzBvlB,KAAKyqG,QAAQ/C,cAAcjyF,KAAUzV,KAAKyqG,QAAQ/C,cAAcjyF,EAAK8P,wBAAyB,CAE9F,IADA,IAAIqoF,EAAe5tG,KAAKyqG,QAAQ1Z,SAASt7E,GAChCo+C,EAAI,EAAGA,EAAI+5C,EAAaxoG,OAAQyuD,IACrCp+C,EAAK8P,uBAAuBpc,YAAYykG,EAAa/5C,IAEzDp+C,EAAK+S,WAAW1S,YAAYL,MAIxC+0F,EAAM3lG,UAAUgpG,eAAiB,SAAUxZ,EAAM1sE,GAE7C,GADA0sE,EAAOA,EAAKtwF,QAAQihG,UAChB3Q,EAAKjvF,OAAS,EAAG,CACjB,IAAI0oG,EAAc,GACdC,EAAiB,GACjBC,EAAcrmF,EAASA,EAASviB,OAAS,GACzCyQ,EAAmB,GACnBo4F,EAAgB,GACpBp4F,EAAoBm4F,EAAsB,WAC1C,IAAK,IAAIE,EAAI,EAAGA,EAAIr4F,EAAiBzQ,OAAQ8oG,IACzC,GAAoC,OAAhCr4F,EAAiBq4F,GAAGz2F,SAAoD,OAAhC5B,EAAiBq4F,GAAGz2F,QAAkB,CAC9E,IAAI02F,EAAUt4F,EAAiBq4F,GAC1B14F,iBAAiB,MACtB,GAAI24F,EAAQ/oG,OAAS,EACjB,IAAK,IAAIk2B,EAAI,EAAGA,EAAI6yE,EAAQ/oG,OAAQk2B,IAChC2yE,EAAcpwF,KAAKswF,EAAQ7yE,IAK3C,IAAK,IAAI71B,EAAI,EAAGA,EAAIwoG,EAAc7oG,OAAQK,IAAK,CAE3C,IADA,IAAIsgB,EAAQ,EACHoI,EAAI,EAAGA,EAAIkmE,EAAKjvF,OAAQ+oB,IACxB8/E,EAAcxoG,GAAG6G,SAAU+nF,EAAKlmE,MACjCpI,GAAgB,GAGpBA,IAAUsuE,EAAKjvF,QACf2oG,EAAelwF,KAAKowF,EAAcxoG,IAG1C,GAAIsoG,EAAe3oG,OAAS,EACxB,IAAK,IAAIi2B,EAAI,EAAGA,EAAI0yE,EAAe3oG,OAAQi2B,IACsB,OAAzDr7B,KAAKyqG,QAAQ1Z,SAASgd,EAAe1yE,IAAI,GAAG9J,UACa,OAAzDvxB,KAAKyqG,QAAQ1Z,SAASgd,EAAe1yE,IAAI,GAAG9J,UAC5Cu8E,EAAYjwF,KAAKkwF,EAAe1yE,IAIxCyyE,EAAY1oG,OAAS,GACrBpF,KAAKksG,WAAW4B,KAI5BtD,EAAM3lG,UAAUmnG,WAAa,SAAUrkF,GAEnC,IADA,IAAI0sE,EAAO,GACF5uF,EAAIkiB,EAASviB,OAAS,EAAGK,GAAK,EAAGA,IACtC,IAAK,IAAI0oB,EAAI1oB,EAAI,EAAG0oB,GAAK,EAAGA,IACxB,GAAIxG,EAASwG,GAAG7hB,SAAUqb,EAASliB,KAAQkiB,EAASwG,KAAOxG,EAASliB,GAAI,CACpE4uF,EAAKx2E,KAAK8J,EAASliB,IACnBkiB,EAASY,OAAO9iB,EAAG,GACnB,MAIZzF,KAAK6tG,eAAexZ,EAAM1sE,GAC1B,IAAIymF,EAAW,GACf,IAAS3oG,EAAI,EAAGA,EAAIkiB,EAASviB,OAAQK,IAAK,CACtC,IAAIoB,EAAU8gB,EAASliB,GAC4B,IAA/CzF,KAAKyqG,QAAQ1Z,SAASlqF,GAAS,GAAGwvF,UAAkF,IAAhEr2F,KAAKyqG,QAAQ1Z,SAASlqF,GAAS,GAAG2jB,YAAYlB,OAAOlkB,QACzG,eAAOpF,KAAKyqG,QAAQ1Z,SAASlqF,GAAS,IAE1C,IAAI2hB,EAAab,EAASliB,GAAG+iB,WACzB5f,EAAY/B,EAAQuT,aAAa,SACrC,GAAoB,IAAhBi6E,EAAKjvF,OAAc,CACnB,IAAIipG,EAAc1mF,EAASliB,GAAG+P,iBAAiB,UAC3C82F,EAAY+B,EAAY,GAC5B,GAAI/B,EAAW,CACX,IAAIjlD,EAAQilD,EACP92F,iBAAiB,MACtB,GAAI6xC,EAAO,CACP,IAAIslD,EAAgB,eAAcL,EAAU70F,SAC5C,eAAO,CAACk1F,GAAgBL,EAAU9jF,YAClC,IAAIokF,EAAkB,eAAc,KAAM,CAAEvyE,OAAQ,2BACpD,eAAO,CAACuyE,GAAkBD,GAC1B,eAAO,CAACL,GAAYM,KAIhC,GAAI/lG,EAAQ2hB,WAAW9d,aAAa1K,KAAKqtG,SAAS7kF,EAAW/Q,SAAU5Q,GACnE,OAAS2hB,EAAWA,WAAW/Q,QAC/B5Q,EAAQ2hB,WAAW9d,aAAa1K,KAAKqtG,SAAS,MAAOxmG,OAEpD,CAKD,GAHI+B,GACa,WAAaA,EAAY,IAEtC,IAAwB,IAAM/B,EAAQ2O,iBAAiB,GAAoBgjB,KAAK,OAAOpzB,OAAQ,CAC/F,IAAIkpG,EAAe,eAAkB1lG,GAAa,4BAC9C,WAAaA,EAAY,qBACzByoB,EAAU,IAAM,GAAuBi9E,EACvCtuG,KAAKyqG,QAAQn5E,WAAW9I,GAAc,MAAQ,GAAuB,IACzExoB,KAAKyqG,QAAQnC,UAAUzhG,EAAS7G,KAAKyqG,QAAQxC,kBAAkB52E,SAE9D,GAAmD,IAA/CrxB,KAAKyqG,QAAQ1Z,SAASlqF,GAAS,GAAGwvF,SAAgB,CACvD,IAAIv1D,EAAU9gC,KAAKyqG,QAAQ7C,gBAAgB,GAAsBp/E,EAAYxoB,KAAKigC,OAAOwqE,QAAQxB,OAAOjpG,KAAKyqG,QAAQ1Z,SAASlqF,GAAS,GAAG2jB,cAC1IxqB,KAAKyqG,QAAQzC,YAAYhoG,KAAKyqG,QAAQ1Z,SAASlqF,GAAS,GAAIi6B,QAE3D,GAAI9gC,KAAKyqG,QAAQ1Z,SAASlqF,GAAS,GAAGe,UAAU0E,SAASm6F,GAAgBC,iBAC1E1mG,KAAKyqG,QAAQ1Z,SAASlqF,GAAS,GAAGe,UAAU0E,SAASm6F,GAAgBE,cAAe,CAChF7lE,EAAU9gC,KAAKyqG,QAAQ7C,gBAAgB,GAAsBp/E,EAAYxoB,KAAKyqG,QAAQ1Z,SAASlqF,GAAS,GAAG2iB,WAC/GxpB,KAAKyqG,QAAQzC,YAAYhoG,KAAKyqG,QAAQ1Z,SAASlqF,GAAS,GAAIi6B,OAE3D,CACD,IAAIytE,EAAY1nG,EAAQ8D,WACxB/B,EAAY2lG,EAAUn0F,aAAa,SACnC,eAAWm0F,EAAWvuG,KAAKyqG,QAAQrD,cAAc5+E,IAC7C5f,GAAa2lG,EAAUn0F,aAAa,UACpC,eAAWm0F,EAAW,CAAE,MAAS3lG,EAAY,IAAM2lG,EAAUn0F,aAAa,WAGlF,eAAO,CAACpa,KAAKotG,QAAQ,OAAQvmG,GAC7B,eAAQ,CAAC7G,KAAKqtG,SAAS,OAAQxmG,GAEnC7G,KAAKyqG,QAAQrC,YAAYpoG,KAAKotG,QAAQ5kF,EAAW/Q,SAAU5Q,GACrB,OAAlC2hB,EAAWA,WAAW/Q,UACtB+Q,EAAaA,EAAWA,WAAWA,YAEnC4lF,EAASpzF,QAAQwN,GAAc,GAC/B4lF,EAASvwF,KAAK2K,GAGtB,IAAS/iB,EAAI,EAAGA,EAAI2oG,EAAShpG,OAAQK,IAAK,CACtC,IAAIgQ,EAAO24F,EAAS3oG,GAChB+oG,EAAgB/4F,EAAKyU,UACrBmjF,EAAW,oDACXD,EAAU,mDACdoB,EAAgBA,EAAc1tE,QAAQusE,EAAU,SAChDmB,EAAgBA,EAAc1tE,QAAQssE,EAAS,OAASptG,KAAKyqG,QAAQn5E,WAAW7b,GAAQ,KACxFzV,KAAKyqG,QAAQzC,YAAYvyF,EAAMzV,KAAKyqG,QAAQ/C,cAAcjyF,GAAQ+4F,EAAcllF,OAAStpB,KAAKyqG,QAAQ9C,eAAelyF,IAEzH,IAAIg5F,EAAUzuG,KAAKigC,OAAO2+B,gBAAgBppD,iBAAiB,sBAC3D,IAAS/P,EAAI,EAAGA,EAAIgpG,EAAQrpG,OAAQK,IAChC,eAAOgpG,EAAQhpG,IAEnB,IAAIipG,EAAU1uG,KAAKigC,OAAO2+B,gBAAgBppD,iBAAiB,YAC3D,IAAS/P,EAAI,EAAGA,EAAIipG,EAAQtpG,OAAQK,IAChC,eAAOipG,EAAQjpG,KAGvB+kG,EAAM3lG,UAAUuoG,QAAU,SAAU3xF,GAChC,OAAOzb,KAAKyqG,QAAQxC,kBAAkB,gCAAkCxsF,EAAKsC,cAAgB,cAEjGysF,EAAM3lG,UAAUwoG,SAAW,SAAU5xF,GACjC,OAAOzb,KAAKyqG,QAAQxC,kBAAkB,iCAAmCxsF,EAAKsC,cAAgB,cAE3FysF,EAvkBe,GCRtBmE,GAA+B,WAC/B,SAASA,KAiDT,OA1CAA,EAAcC,WAAa,SAAUC,EAAUrmF,EAAYsmF,GAMvD,OALAtmF,EAAWuY,UAAY8tE,EAASrkF,YAC9BskF,EAAqD9uG,KAAK+uG,aAAavmF,EAAYqmF,GAAU,GAAlF7uG,KAAK+uG,aAAavmF,EAAYqmF,GACvCA,EAASrmF,YACTqmF,EAASrmF,WAAW1S,YAAY+4F,GAE7BrmF,EAAWpH,WAAW,IAOjCutF,EAAcK,KAAO,SAAUT,EAAW/lF,GAGtC,OAFAxoB,KAAK+uG,aAAavmF,EAAY+lF,GAC9B/lF,EAAWrf,YAAYolG,GAChBA,GAOXI,EAAcM,OAAS,SAAUx5F,GAG7B,IAFA,IAAIwqB,EAASxqB,EAAK+S,WACd6+B,EAAQ,GACL5xC,EAAK9K,WAAY,KACpB08C,EAAMxpC,KAAKoiB,EAAOv1B,aAAa+K,EAAK9K,WAAY8K,IAGpD,OADAwqB,EAAOnqB,YAAYL,GACZ4xC,GAOXsnD,EAAcI,aAAe,SAAUF,EAAUrmF,EAAYsmF,GACzD,OAAQtmF,EAAqB,WAAOsmF,EAC9BtmF,EAAWA,WAAW9d,aAAamkG,EAAUrmF,EAAWytC,aADfztC,EAAWA,WAAW9d,aAAamkG,EAAUrmF,GAExFA,GAEDmmF,EAlDuB,GCI9B,GAA4B,WAC5B,SAASO,IACLlvG,KAAKkc,UAAY,EACjBlc,KAAK43D,cAAgB,IAAIisC,GA2K7B,OAnKAqL,EAAWrqG,UAAUsqG,cAAgB,SAAU70D,EAAO7kC,GAGlD,OAFAA,EAAOzV,KAAKovG,UAAU90D,EAAO7kC,GAAM,GACnCA,EAAOzV,KAAKovG,UAAU90D,EAAO7kC,GAAM,GAC5BA,GAMXy5F,EAAWrqG,UAAUuqG,UAAY,SAAU90D,EAAO7kC,EAAM45F,GACpD,GAAI55F,EAAM,CACN,IAAI65F,EAAQh1D,EAAM2pD,aACd7iC,EAAW3rD,EAAK+S,WAChBjmB,EAAQvC,KAAK43D,cAAc8sC,SAASjvF,GACxC65F,EAAM9K,SAAS6K,GACf,EAAgBC,EAAMC,eAAe95F,GAAQ65F,EAAME,YAAY/5F,GAC/D,IAAIg6F,EAAWH,EAAMI,kBACrB,GAAIL,GAGA,GAFA55F,EAAO2rD,EAAShgD,WAAW7e,GAC3BktG,EAAWzvG,KAAK2vG,gBAAgBF,GAAU,GACtCA,GAAYA,EAASruF,WAAWhc,OAAS,EAAG,CAC5C,IAAIwqG,IAA0C,IAA/BH,EAASruF,WAAWhc,QAAoD,QAApCqqG,EAASruF,WAAW,GAAGmQ,WACnEvxB,KAAK6vG,SAASJ,IAAsC,KAAzBA,EAASjlF,aAC3C,IAAKolF,EACD,GAAIn6F,EACAk5F,GAAcI,aAAaU,EAAUh6F,OAEpC,CACD2rD,EAASj4D,YAAYsmG,GACrB,IAAI74C,EAAUzhD,SAASxM,cAAc,OACrCiuD,EAAQ1sC,UAAY,mBACpBzU,EAAOmhD,EAAQjsD,WACfy2D,EAASj4D,YAAYsM,UASjC,GAHAA,EAAO2rD,EAAShgD,WAAWhc,OAAS,EAAIg8D,EAAShgD,WAAW7e,GACxD6+D,EAAShgD,WAAW,GACxBquF,EAAWzvG,KAAK2vG,gBAAgBF,GAAU,GACtCA,GAAYA,EAASruF,WAAWhc,OAAS,EAAG,CACxCwqG,IAA0C,IAA/BH,EAASruF,WAAWhc,QAAoD,QAApCqqG,EAASruF,WAAW,GAAGmQ,WACnEvxB,KAAK6vG,SAASJ,IAAsC,KAAzBA,EAASjlF,aAC3C,IAAKolF,EACD,GAAIn6F,EACAk5F,GAAcI,aAAaU,EAAUh6F,GAAM,OAE1C,CACD2rD,EAASj4D,YAAYsmG,GACjB74C,EAAUzhD,SAASxM,cAAc,OACrCiuD,EAAQ1sC,UAAY,mBACpBk3C,EAAS12D,aAAaksD,EAAQjsD,WAAYy2D,EAASz2D,YACnD8K,EAAO2rD,EAASz2D,YAKhC,OAAO8K,EAGP,OAAO,MAGfy5F,EAAWrqG,UAAUgrG,SAAW,SAAUJ,GACtC,IAAIntE,GAAS,EACb,GAAmC,IAA/BmtE,EAASruF,WAAWhc,QAAoD,QAApCqqG,EAASruF,WAAW,GAAGmQ,SAE3D,IADA,IAAI5mB,EAAa8kG,EAASruF,WAAW,GAC5B3b,EAAI,GAAI,eAAMkF,EAAWyW,aAAe3b,EAAIkF,EAAWyW,WAAWhc,OAAQK,IACrC,QAAtCkF,EAAWyW,WAAW3b,GAAG8rB,WACzB+Q,GAAS,QAKjBA,GAAS,EAEb,OAAOA,GAEX4sE,EAAWrqG,UAAU8qG,gBAAkB,SAAUF,EAAUjK,GACvD,IAAIhiF,EAiBJ,OAdIA,EAF+B,IAA/BisF,EAASruF,WAAWhc,QAAoD,UAApCqqG,EAASruF,WAAW,GAAGmQ,UACpB,KAAvCk+E,EAASruF,WAAW,GAAGoJ,aAA+C,KAAzBilF,EAASjlF,aAC/C,EAGDilF,EAASruF,WAAWhc,OAAS,EAEnCoe,GAAO,IAAMgiF,EACbxlG,KAAK2vG,gBAAgBF,EAASruF,WAAWoC,GAAMgiF,GAE1ChiF,GAAO,EACZxjB,KAAK2vG,gBAAgBF,EAASruF,WAAW,GAAIokF,GAElB,IAAtBiK,EAASpZ,UAAwC,KAAtBoZ,EAASpZ,UACzCoZ,EAASjnF,WAAW1S,YAAY25F,GAE7BA,GAGXP,EAAWrqG,UAAUirG,eAAiB,SAAUC,EAASxtG,EAAOijG,GAC5DuK,EAAU,EAAYA,EAAUA,EAAQ/K,UAExC,IADA,IAAI9oF,EAAW6zF,EAAQ,GACdtrD,EAAM,EAAGA,EAAMsrD,EAAQ3qG,SAAW,EAAa2qG,EAAQtrD,GAAOliD,EAAUwtG,EAAQtrD,IAAQliD,GAASkiD,IACtGvoC,EAAW6zF,EAAQtrD,GAEvB,OAAOvoC,GAOXgzF,EAAWrqG,UAAUmrG,eAAiB,SAAU1L,EAAYhqD,EAAO7kC,GAC/D,IAAIw6F,EAAc3L,EAAWtG,cACzB+R,EAAU,GACdA,EAAQlyF,KAAK,GACb,IAAIopE,EAAMjnF,KAAKkwG,cAAcz6F,EAAK4nE,MAC9B96E,EAAQ0kF,EAAIjsE,QAAQ,IAAK,GAC7B,OAAkB,IAAXzY,EACCwtG,EAAQ/0F,QAAQzY,GAAS,GACzBwtG,EAAQlyF,KAAKtb,GAEb,IAAIgjC,OAAO,OAAOyH,KAAKi6C,EAAI1kF,EAAQ,KAAQwtG,EAAQ/0F,QAAQzY,EAAQ,GAAK,GACxEwtG,EAAQlyF,KAAKtb,EAAQ,GAErB,IAAIgjC,OAAO,OAAOyH,KAAKi6C,EAAI1kF,EAAQ,KACnCwtG,EAAQlyF,KAAKtb,EAAQ,GAEzBA,EAAQ0kF,EAAIjsE,QAAQ,IAAMzY,EAAQ,GAGtC,GADAwtG,EAAQlyF,KAAKopE,EAAI7hF,QACZ2qG,EAAQ/0F,QAAQs/B,EAAMuxB,cAAgB,GAClCkkC,EAAQ/0F,QAAQs/B,EAAMuxB,YAAc,IAAM,IAA6B,IAAtBvxB,EAAMuxB,aAC9B,IAAtBvxB,EAAMuxB,aAAqB,IAAItmC,OAAO,OAAOyH,KAAKi6C,EAAI,MACrD8oB,EAAQA,EAAQ3qG,OAAS,GAAK,IAAOk1C,EAAMuxB,YACpDokC,EAAc31D,EACdt6C,KAAKkc,SAAW,MAEf,CACD,IAAI2vD,EAAc7rE,KAAK8vG,eAAeC,EAASz1D,EAAMuxB,aAAa,GAClE7rE,KAAKkc,SAAWo+B,EAAMuxB,YAAcA,EACpCokC,EAAYhS,SAAS3jD,EAAM0d,eAAgB6T,GAC3CokC,EAAYtR,OAAOrkD,EAAM0d,eAAgBh4D,KAAK8vG,eAAeC,EAASz1D,EAAMuxB,aAAa,IAE7F,OAAOokC,GAOXf,EAAWrqG,UAAUsrG,cAAgB,SAAU7L,EAAYhqD,EAAO7kC,GAC9D,OAAOzV,KAAKmvG,cAAcnvG,KAAKgwG,eAAe1L,EAAYhqD,EAAO7kC,GAAOA,IAO5Ey5F,EAAWrqG,UAAUqrG,cAAgB,SAAUE,GAC3C,OAAOA,EAAKtvE,QAAQ,qBAAsB,MAEvCouE,EA9KoB,GCE3B,GAAyB,WAMzB,SAASmB,EAAQpwE,GACbjgC,KAAKigC,OAASA,EACdjgC,KAAK8L,mBAuPT,OArPAukG,EAAQxrG,UAAUiH,iBAAmB,WACjC9L,KAAKigC,OAAO+zD,SAASxzF,GAAG,QAAoBR,KAAKswG,aAActwG,MAC/DA,KAAKigC,OAAO+zD,SAASxzF,GAAG,QAAyBR,KAAKqnE,UAAWrnE,OAErEqwG,EAAQxrG,UAAUq7B,cAAgB,SAAUzqB,GACxC,KAAOA,EAAK+S,YAAc/S,EAAK+S,aAAexoB,KAAKigC,OAAO2+B,gBAAiB,KACvEnpD,EAAOA,EAAK+S,WAEhB,OAAO/S,GAEX46F,EAAQxrG,UAAUwiE,UAAY,SAAU1kE,GACpC,GAAsB,KAAlBA,EAAEoO,MAAMq/B,MAAc,CACtB,IAAIkK,EAAQt6C,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBACvD0J,EAAwD,IAA5Cj2D,EAAM0d,eAAextC,YAAYplB,QAAkD,QAAlCk1C,EAAM0d,eAAezmC,SAChF+oB,EAAM0d,eAAiB1d,EAAM0d,eAAev9C,cAC9C+1F,EAAoD,IAA1Cl2D,EAAMkuB,aAAah+C,YAAYplB,QAAgD,QAAhCk1C,EAAMkuB,aAAaj3C,SAC1E+oB,EAAMkuB,aAAeluB,EAAMkuB,aAAa/tD,cAC1Cg2F,EAAU,eAAQF,EAAU,OAC5BG,EAAa,eAAQF,EAAQ,OAC7BG,GAAY,eAAMF,KAAa,eAAMA,EAAQh2F,gBAAoD,OAAlCg2F,EAAQh2F,cAAchD,QACzF,GAAIk5F,EACA,OASJ,IAPM,eAAMF,KAAa,eAAMC,KAAkB,eAAMD,IAAY,eAAMC,MACrE/tG,EAAEoO,MAAM/E,iBACRhM,KAAK4wG,cAAct2D,GACnBt6C,KAAK6wG,kBAAkBv2D,GACvBA,EAAQt6C,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBACvD7mG,KAAKigC,OAAO23B,cAAcyuC,eAAermG,KAAKigC,OAAO4mE,gBAAiB2J,EAAQ,IAE5D,KAAlB7tG,EAAEoO,MAAMq/B,QAAiB,eAAMqgE,KAAa,eAAMC,GAAa,CAC/D/tG,EAAEoO,MAAM/E,iBACRhM,KAAK4wG,cAAct2D,GACnBt6C,KAAK6wG,kBAAkBv2D,GACvBA,EAAQt6C,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBACvD,IAAIiK,EAAYx2D,EAAM0d,eAAe52C,WAAWk5B,EAAMwxB,WAClDilC,EAAez2D,EAAM0d,eAAe52C,WAAWk5B,EAAMwxB,UAAY,GACjEklC,EAAc12D,EAAM0d,eACxB,GAAK,eAAM84C,IAAe,eAAMC,KAAiB,eAAMD,EAAU76C,cACtC,OAAvB66C,EAAUv/E,UAA+C,OAA1Bw/E,EAAax/E,SAG3C,GAA+C,OAA1Cy/E,EAAYxmF,YAAYmjB,WAAW,IACN,IAAnCqjE,EAAYxmF,YAAYplB,QAAoD,IAAnC4rG,EAAYxmF,YAAYplB,OAAc,CAE/E,MAA8C,QAAvC4rG,EAAYv2F,cAAc8W,WACO,IAAnCy/E,EAAYxmF,YAAYplB,QAAmD,IAAnC4rG,EAAYxmF,YAAYplB,QACjE4rG,EAAcA,EAAYv2F,eAEzB,eAAMu2F,EAAY/Y,kBAA6D,OAAzC+Y,EAAY/Y,gBAAgB1mE,UACnE,eAAMy/E,EAAY/6C,aAClBj2D,KAAKixG,UAAUD,EAAYv2F,eAG3Bza,KAAKkxG,eAAeT,EAASn2D,QAKjCt6C,KAAKkxG,eAAeT,EAASn2D,QAnB7Bt6C,KAAKixG,UAAU32D,EAAM0d,mBAwBrCq4C,EAAQxrG,UAAUgsG,kBAAoB,SAAUv2D,GAC5C,IAAI+qD,EAAQ,IAAI9/D,OAAOiL,OAAOC,aAAa,OAAQ,KACnD,IAAK,eAAM6J,EAAMkuB,aAAah+C,YAAYoY,MAAMyiE,IAAS,CACrD,IAAI8L,EAA6E,QAAnE72D,EAAMkuB,aAAah+C,YAAYmjB,WAAW2M,EAAMwxB,UAAY,GACtExxB,EAAMwxB,UAAY,EAAIxxB,EAAMwxB,UAChCxxB,EAAMkuB,aAAah+C,YAAc8vB,EAAMkuB,aAAah+C,YAAYsW,QAAQukE,EAAO,IACxC,KAAnC/qD,EAAMkuB,aAAah+C,YACnBxqB,KAAKigC,OAAO23B,cAAcyuC,eAAermG,KAAKigC,OAAO4mE,gBAAiBvsD,EAAMkuB,aAAa/tD,cAAe,GAGxGza,KAAKigC,OAAO23B,cAAcyuC,eAAermG,KAAKigC,OAAO4mE,gBAAiBvsD,EAAMkuB,aAAc2oC,KAItGd,EAAQxrG,UAAU+rG,cAAgB,SAAUt2D,GACpCA,EAAM0d,iBAAmB1d,EAAMkuB,cAAgBluB,EAAMuxB,cAAgBvxB,EAAMwxB,WAC3ExxB,EAAM82D,kBAGdf,EAAQxrG,UAAUosG,UAAY,SAAUI,GACpC,IAAIC,EAAO,eAAc,KACzBA,EAAKpnF,UAAY,OACjBlqB,KAAKigC,OAAOwqE,QAAQrC,YAAYkJ,EAAMD,GACtCrxG,KAAKigC,OAAO23B,cAAcyuC,eAAermG,KAAKigC,OAAO4mE,gBAAiByK,EAAM,GAC5E,eAAOD,EAAUhwD,YAErBgvD,EAAQxrG,UAAUqsG,eAAiB,SAAUT,EAASn2D,GAClD,IAAIi3D,EAAa,IAAI,GACjBC,EAAQl3D,EAAMuxB,cAAgB4kC,EAAQpvD,UAAU72B,YAAYplB,QAC5DqrG,EAAQpvD,UAAU72B,cAAgB8vB,EAAM0d,eAAextC,YAE3D,GAAsE,IAAlEimF,EAAQjmF,YAAYxP,QAAQs/B,EAAM0d,eAAextC,eACzB,IAAtB8vB,EAAMuxB,aAAyC,IAApBvxB,EAAMwxB,WAAsD,QAAlCxxB,EAAM0d,eAAezmC,UAAqB,CACjGvxB,KAAKyxG,aAAahB,EAASn2D,GAC3B,IAAIo3D,EAAQ,eAAc,MAC1BjB,EAAQrvF,WAAWk5B,EAAMwxB,WAAWrxD,cAAc/P,aAAagnG,EAAOjB,EAAQrvF,WAAWk5B,EAAMwxB,gBAE9F,CAED,IAAIxkD,EAAYiqF,EAAWnC,UAAU90D,EAAOm2D,GAAS,GACrDzwG,KAAKyxG,aAAahB,EAASn2D,GAC3B,IAAIq3D,EAAclB,EAAQlrF,uBACE,QAAxBosF,EAAYl6F,UACZk6F,EAAYC,mBAAmB,YAAa,OAAStqF,EAAU4C,WAC/D,eAAOumF,IAIfzwG,KAAK6xG,kBAAkBL,EAAOf,IAElCJ,EAAQxrG,UAAUgtG,kBAAoB,SAAUL,EAAOf,GACnD,IAAIb,GAAU,EACVkC,EAAa9xG,KAAKigC,OAAO2+B,gBAAgB/xD,cAAc,aACvDklG,EAAgBD,EAAWr3F,cAG/B,GAFsC,KAAtCq3F,EAAWtpF,WAAWgC,YAAqBolF,GAAU,EACjD5vG,KAAKigC,OAAO23B,cAAcyuC,eAAermG,KAAKigC,OAAO4mE,gBAAiBiL,EAAY,GAClFN,EACA,GAAI5B,EAEImC,IAAkBtB,GAClBzwG,KAAKigC,OAAO23B,cAAcyuC,eAAermG,KAAKigC,OAAO4mE,gBAAiBiL,EAAY,GAClF,eAAOA,IAGP9xG,KAAKgyG,qBAAqBF,EAAYC,OAGzC,CACD,IAAIE,EAAQ,eAAc,MAC1BjyG,KAAKigC,OAAOwqE,QAAQrC,YAAY6J,EAAOH,GACvC9xG,KAAKigC,OAAO23B,cAAcyuC,eAAermG,KAAKigC,OAAO4mE,gBAAiBiL,EAAY,GAClF,eAAOA,QAIXlC,EAAU5vG,KAAKgyG,qBAAqBF,EAAYC,GAAiB,eAAOD,IAGhFzB,EAAQxrG,UAAUmtG,qBAAuB,SAAUF,EAAYI,GAC3D,eAAOJ,GACPI,EAAchoF,UAAY,IAC1BlqB,KAAKigC,OAAO23B,cAAcyuC,eAAermG,KAAKigC,OAAO4mE,gBAAiBqL,EAAe,IAEzF7B,EAAQxrG,UAAU4sG,aAAe,SAAUhB,EAASn2D,GAChD,IAAI63D,EAAW,eAAc,OAAQ,CAAEvpG,UAAW,aACZ,QAAlC0xC,EAAM0d,eAAezmC,SACrBk/E,EAAQrvF,WAAWk5B,EAAMwxB,WAAWrxD,cAAc/P,aAAaynG,EAAU1B,EAAQrvF,WAAWk5B,EAAMwxB,YAGlGxxB,EAAM0d,eAAev9C,cAAc/P,aAAaynG,EAAU73D,EAAM0d,iBAGxEq4C,EAAQxrG,UAAUyrG,aAAe,SAAU3tG,GACvC,IAAI23C,EAAQt6C,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBACvDuL,GAAc,EACdpyG,KAAKigC,OAAO2+B,kBAAoBtkB,EAAMkuB,cACrC,eAAMxoE,KAAKigC,OAAO2+B,gBAAgBn8D,SAAS63C,EAAMwxB,UAAY,KACQ,UAAtE9rE,KAAKigC,OAAO2+B,gBAAgBn8D,SAAS63C,EAAMwxB,UAAY,GAAGr0D,UAC1D26F,GAAc,GAElB,IAAIrpC,EAAO/oE,KAAKigC,OAAO23B,cAAcmR,KAAKzuB,EAAOt6C,KAAKigC,OAAO4mE,iBAC7D7mG,KAAKigC,OAAOwqE,QAAQnB,UAAUvgC,GAE9B,IADA,IAAIspC,EAAeryG,KAAKigC,OAAOwqE,QAAQL,aAC9B3kG,EAAI,EAAGA,EAAI4sG,EAAajtG,OAAQK,IAAK,CAC1C,IAAI+iB,OAAa,EACb+kF,OAAc,EAUlB,GATmC,eAA/B5qG,EAAEy1D,WAAWr6C,eACbyK,EAAaxoB,KAAKkgC,cAAcmyE,EAAa5sG,IAC7C8nG,EAAcvtG,KAAKigC,OAAOwqE,QAAQ3C,OAAOt/E,IACd,UAAvBA,EAAW/Q,QAAsB+Q,EAAWgB,UAAYhB,EAAW0B,YAGvE1B,EAAa6pF,EAAa5sG,GAC1B8nG,EAAc/kF,EAAW0B,aAExBvnB,EAAEy1D,WAAWr6C,gBAAkByK,EAAW/Q,QAAQsG,gBACnB,QAA/Bpb,EAAEy1D,WAAWr6C,gBACR,eAAMpb,EAAE2vG,WAAiC,mBAApB3vG,EAAE2vG,SAASnxG,OACtC,eAAMqnB,EAAWA,aACO,OAAvBA,EAAW/Q,SAAmD,QAA/B9U,EAAEy1D,WAAWr6C,eACrB,UAAvByK,EAAW/Q,SAAsD,QAA/B9U,EAAEy1D,WAAWr6C,eALpD,CAQA/d,KAAKuyG,aAAa/pF,EAAY7lB,EAAEy1D,YAChC,IAAIo6C,EAA8C,QAA/B7vG,EAAEy1D,WAAWr6C,eAAgE,QAArCyK,EAAW/Q,QAAQsG,cAC1E,IAAMpb,EAAEy1D,WACRq6C,EAAazyG,KAAKigC,OAAOwqE,QAAQ7C,gBAAgB4K,EAAahqF,EAAY+kF,EAAYzsE,QAAQ,SAAU,OACjF,OAAvBtY,EAAW/Q,SACX+Q,EAAW0B,UAAY,GACvB1B,EAAWopF,mBAAmB,YAAaa,IAG3CzyG,KAAKigC,OAAOwqE,QAAQzC,YAAYx/E,EAAYiqF,IAGpDzyG,KAAK0yG,iBACL,IAAIjU,EAAYz+F,KAAKigC,OAAO2+B,gBAAgB/xD,cAAc,IAAM45F,GAAgBC,gBAC5E5B,EAAU9kG,KAAKigC,OAAO2+B,gBAAgB/xD,cAAc,IAAM45F,GAAgBE,cACzE,eAAMlI,IAAe,eAAMqG,KAC5BrG,EAAYA,EAAUp9C,UACtByjD,EAAUA,EAAQzjD,WAEtB0nB,EAAO/oE,KAAKigC,OAAOwqE,QAAQvB,WAAWngC,EAAM,MACxC7C,MACAC,GAAkBnmE,KAAKigC,OAAO2+B,gBAAiBj8D,EAAEutB,UAEjDkiF,EACApyG,KAAKigC,OAAO23B,cAAckgC,iBAAiB93F,KAAKigC,OAAO4mE,gBAAiBpI,EAAWqG,EAAS,EAAGA,EAAQt6E,YAAYplB,QAGnH2jE,EAAK4C,UAELhpE,EAAEu9F,UACFv9F,EAAEu9F,SAAS,CACPvL,YAAahyF,EAAEy1D,WACfyQ,WAAY,OACZ93D,MAAOpO,EAAEoO,MACTupC,MAAOt6C,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBACtDl/E,SAAU3nB,KAAKigC,OAAOwqE,QAAQL,gBAI1CiG,EAAQxrG,UAAU6tG,eAAiB,WAC/B,IAAIC,EAAW3yG,KAAKigC,OAAO2+B,gBAAgBppD,iBAAiB,OAC5D,IAAK,eAAMm9F,GACP,IAAK,IAAIltG,EAAI,EAAGA,EAAIktG,EAASvtG,OAAQK,IAAK,CACtC,IAAIksG,EAAcgB,EAASltG,GAAG8f,uBACzB,eAAMosF,IAAwC,QAAxBA,EAAYl6F,UACnCk6F,EAAYC,mBAAmB,YAAa,OAASe,EAASltG,GAAGykB,WACjE,eAAOyoF,EAASltG,OAKhC4qG,EAAQxrG,UAAU0tG,aAAe,SAAU1rG,EAAS4Q,GAChD,IAAIm7F,EAAa,CAAC,UAAW,YAAa,aAAc,gBAAiB,cAAe,eAAgB,eACxGn7F,EAAUA,EAAQsG,cAClB,IAAK,IAAItY,EAAI,EAAGA,EAAImtG,EAAWxtG,QAAuB,MAAZqS,GAA+B,eAAZA,GAAwC,QAAZA,EAAoBhS,IACzGoB,EAAQY,MAAMgZ,eAAemyF,EAAWntG,KAGzC4qG,EA/PiB,GCCxB,GAA4B,WAC5B,SAASwC,KA0XT,OAxXAA,EAAWC,OAAS,SAAUxO,EAAYrF,EAAY8T,EAAUC,GAC5D,IAAIv9F,EACJ,GAA0B,kBAAfwpF,EAAyB,CAChC,IAAIroC,EAAUzhD,SAASxM,cAAc,OACrCiuD,EAAQ1sC,UAAY+0E,EACpBxpF,EAAOu9F,EAAap8C,EAAUA,EAAQjsD,gBAGtC,GAAIqoG,IAAiB,eAAM/T,IAAgB,eAAMA,EAAWr3F,aACxDq3F,EAAWr3F,UAAU0E,SAAS,iBAAkB,CAC5CsqD,EAAUzhD,SAASxM,cAAc,OACrCiuD,EAAQztD,YAAY81F,GACpBxpF,EAAOmhD,OAGPnhD,EAAOwpF,EAGf,IAAIrnC,EAAgB,IAAIisC,GACpB0N,EAAa,IAAI,GACjBj3D,EAAQsd,EAAcC,SAASysC,GAC/B/M,EAAWj9C,EAAMuxB,cAAgBvxB,EAAMwxB,WAAmC,IAAtBxxB,EAAMuxB,aAC1DvxB,EAAM0d,iBAAmB1d,EAAMkuB,aAC/B6mC,EAAc/0D,EAAM6d,UACpBx+C,EAAQ3Z,KAAKipE,kBAAkB3uB,EAAOsd,GACtCq7C,EAAqD,UAAhCx9F,EAAK8b,SAASxT,cAA6B/d,KAAKkzG,WAAWv5F,EAAM,GAAG6O,WAAYuqF,GAAYp5F,EAAM,GAC3H,GAAIq5F,IAAgB,eAAMv9F,KAAU,eAAMA,EAAK7N,YAC3C6N,EAAK7N,UAAU0E,SAAS,gBACxBtM,KAAKmzG,gBAAgBx5F,EAAOlE,EAAM6kC,EAAOsd,EAAe25C,EAAYjN,EAAY+K,EAAa4D,EAAmBF,QAGpH,GAAIA,IAAaz4D,EAAM0d,kBAAqBq3C,IAAiB4D,EAAkB5c,WAAa0Q,KAAKC,eACP,IAAtF,GAA0BhsF,QAAQi4F,EAAkBx7F,QAAQyiD,uBACxB,UAAhCzkD,EAAK8b,SAASxT,eAA6Bk1F,IAC2C,IAAtF,GAA0Bj4F,QAAQi4F,EAAkBx7F,QAAQyiD,sBAA+B,CAC/F,IAAIk5C,EAAU7B,EAAWpC,cAAc70D,EAAO24D,GAC1CI,EAAUD,EAAQnb,gBAClBzvE,EAAa4qF,EAAQ5qF,WACzB,GAAqB,IAAjB7O,EAAMvU,OACNwyD,EAAc+gC,qBAAqB2L,EAAY8O,GAC/C94D,EAAQsd,EAAcC,SAASysC,OAE9B,CACD,IAAIgP,EAAU/B,EAAWpC,cAAc70D,EAAO3gC,EAAMA,EAAMvU,OAAS,GAAGqV,eACtE64F,EAAU,eAAMA,GAAWF,EAAUE,EACrC17C,EAAckgC,iBAAiBwM,EAAY8O,EAASE,EAAS,EAAyB,IAArBA,EAAQjd,SACrEid,EAAQ9oF,YAAYplB,OAASkuG,EAAQlyF,WAAWhc,QACpDk1C,EAAQsd,EAAcC,SAASysC,GAEnChqD,EAAMo1D,kBACqB,UAAvBzQ,EAAWxnF,SACXzX,KAAKuzG,oBAAoBR,GAE7B,IAAK,IAAIxwG,EAAQ,EAAGA,EAAQoX,EAAMvU,OAAQ7C,IACtC,GAA8B,IAA1BoX,EAAMpX,GAAO8zF,UAA6C,MAA3B18E,EAAMpX,GAAOimB,WAAoB,CAChE,GAA8B,QAA1B7O,EAAMpX,GAAOgvB,SACb,SAEJ5X,EAAMpX,GAAOimB,WAAW1S,YAAY6D,EAAMpX,IAGlD,GAAI8wG,EACA1E,GAAcI,aAAat5F,EAAM49F,GAAS,OAEzC,CACD,IAAIG,EAAe,KACnB,MAAOhrF,IAAeuqF,GAAYvqF,EAAW7d,YACN,KAAlC6d,EAAWgC,YAAYlB,OAAgB,CACxC,IAAImqF,EAAcjrF,EAAWA,WAC7BgrF,EAAehrF,EACfA,EAAairF,EAEI,OAAjBD,IACAhrF,EAAagrF,GAEbhrF,EAAW7d,aAAe6d,IAAeuqF,GACtB,UAAlBt9F,EAAK8b,UAAwBgmE,GAAY/uE,IAAe8xB,EAAM0d,gBAC3DxvC,IAAe8xB,EAAMkuB,cACa,KAAlChgD,EAAWgC,YAAYlB,QAAiBd,IAAeuqF,GACvDpE,GAAcI,aAAat5F,EAAM+S,GAAY,GAC7C,eAAOA,IAGPmmF,GAAcI,aAAat5F,EAAM+S,EAAW7d,YAAY,GAI5D6d,EAAWrf,YAAYsM,GAGT,QAAlBA,EAAK8b,SACLvxB,KAAK0zG,WAAWj+F,EAAMmiD,EAAe0sC,GAEd,IAAlB7uF,EAAK4gF,SACVz+B,EAAckgC,iBAAiBwM,EAAY7uF,EAAMA,EAAM,EAAGA,EAAK2L,WAAWhc,QAG1EwyD,EAAckgC,iBAAiBwM,EAAY7uF,EAAMA,EAAM,EAAGA,EAAK+U,YAAYplB,YAG9E,CAKD,GAJAk1C,EAAM82D,iBACF7Z,GAAiD,KAArCj9C,EAAM0d,eAAextC,cACjC8vB,EAAM0d,eAAe9tC,UAAY,IAEjC,OAAQkiD,KAAM,CACd,IAAIunC,EAAOrP,EAAWsP,yBACtBD,EAAKxqG,YAAYsM,GACjB6kC,EAAM2kD,WAAW0U,QAGjBr5D,EAAM2kD,WAAWxpF,GAEC,IAAlBA,EAAK4gF,UAAkB5gF,EAAK2L,WAAWhc,OAAS,EAChDwyD,EAAckgC,iBAAiBwM,EAAY7uF,EAAMA,EAAM,EAAG,GAEnC,QAAlBA,EAAK8b,SACVvxB,KAAK0zG,WAAWj+F,EAAMmiD,EAAe0sC,GAEd,IAAlB7uF,EAAK4gF,SACVz+B,EAAc+gC,qBAAqB2L,EAAY7uF,GAG/CmiD,EAAckgC,iBAAiBwM,EAAY7uF,EAAMA,EAAMA,EAAK+U,YAAYplB,OAAQqQ,EAAK+U,YAAYplB,UAI7GytG,EAAWM,gBAAkB,SAAUx5F,EAAOlE,EAAM6kC,EAAOsd,EAAe25C,EAAYjN,EAAY+K,EAAa4D,EAAmBF,GAC9H,IAOIO,EACAD,EACAQ,EACAT,EAVA7b,EAAWj9C,EAAMuxB,cAAgBvxB,EAAMwxB,WACvCxxB,EAAM0d,iBAAmB1d,EAAMkuB,aACnC,GAAI+uB,GAAYj9C,EAAM0d,iBAAmB+6C,GAAqC,KAAzBA,EAASvoF,YAAoB,CAC9E,IAAIspF,EAAmB9zG,KAAK+zG,sBAAsBp6F,EAAMA,EAAMvU,OAAS,GAAI2tG,GAC3En7C,EAAckgC,iBAAiBwM,EAAYwP,EAAkBA,EAAkB,EAAG,GAClFx5D,EAAQsd,EAAcC,SAASysC,GAM/ByO,IAAaz4D,EAAM0d,kBAAqBq3C,IAAiB4D,EAAkB5c,WAAa0Q,KAAKC,eACP,IAAtF,GAA0BhsF,QAAQi4F,EAAkBx7F,QAAQyiD,uBACxB,UAAhCzkD,EAAK8b,SAASxT,eAA6Bk1F,IAC2C,IAAtF,GAA0Bj4F,QAAQi4F,EAAkBx7F,QAAQyiD,wBAChEk5C,EAAU7B,EAAWpC,cAAc70D,EAAO24D,GAC1CI,EAAU,eAAMD,EAAQnb,iBAAmBmb,EAAQ5qF,WAAWyvE,gBAAkBmb,EAAQnb,gBACnE,IAAjBt+E,EAAMvU,QACNwyD,EAAc+gC,qBAAqB2L,EAAY8O,GAC/C94D,EAAQsd,EAAcC,SAASysC,GAC/BuP,GAAe,IAGfP,EAAU/B,EAAWpC,cAAc70D,EAAO3gC,EAAMA,EAAMvU,OAAS,GAAGqV,eAClE64F,EAAU,eAAMA,GAAWF,EAAUE,EACrC17C,EAAckgC,iBAAiBwM,EAAY8O,EAASE,EAAS,EAAyB,IAArBA,EAAQjd,SACrEid,EAAQ9oF,YAAYplB,OAASkuG,EAAQlyF,WAAWhc,QACpDk1C,EAAQsd,EAAcC,SAASysC,GAC/BuP,GAAe,IAGvB,IAAIG,GAAoB,EACxBh0G,KAAKi0G,iBAAiBx+F,GAEtB,IADA,IAOIy+F,EAPAC,EAAgB1+F,EAAK2L,WAChB3b,EAAI,EAAGA,EAAI0uG,EAAc/uG,OAAQK,IACtC,GAAI,GAAoBuV,QAAQm5F,EAAc1uG,GAAG8rB,SAAS2oC,sBAAwB,EAAG,CACjF85C,GAAoB,EACpB,MAIR,IAAIvE,EAAWt6F,SAASy+F,yBACxB,GAAKI,EAyBA,CACDh0G,KAAKo0G,eAAe95D,EAAO7kC,EAAMkE,EAAO43F,EAAYwB,GACpD,IAAIsB,GAAkB,EAClB5tC,OAAuB,EACvBE,OAAU,EACVD,OAAiB,EACrBpsB,EAAM82D,iBACN,MAAO37F,EAAK9K,WACR,GAAiC,UAA7B8K,EAAK9K,WAAW4mB,UAA+D,KAAvC9b,EAAK9K,WAAW6f,YAAYlB,OAIxE,GAAiC,UAA7B7T,EAAK9K,WAAW4mB,UAAwB8iF,GACvCr0G,KAAKimE,WAAWjrD,QAAQvF,EAAK9K,WAAW4mB,SAAS2oC,sBAAwB,GAAKm6C,EAAkB,CAEjG,GADAH,EAAoBz+F,EAAK9K,WACrB,eAAM8K,EAAK8P,wBAAyB,CACpC,IAAI+uF,EAAe,eAAc,KACjC7+F,EAAKgF,cAAc/P,aAAa4pG,EAAc7+F,GAElDA,EAAK8P,uBAAuBpc,YAAYsM,EAAK9K,iBAG7CupG,EAAoBz+F,EAAK9K,WACQ,UAA7B8K,EAAK9K,WAAW4mB,UACfvxB,KAAKimE,WAAWjrD,QAAQvF,EAAK9K,WAAW4mB,SAAS2oC,sBAAwB,GACrEuM,GAMDC,EAAev9D,YAAYsM,EAAK9K,YAChC8kG,EAAStmG,YAAYu9D,KANrBC,EAAU,eAAc,KACxBA,EAAQx9D,YAAYsM,EAAK9K,YACzB8kG,EAAStmG,YAAYw9D,IAMzBD,EAAiBC,EACjBF,GAAuB,IAGvBgpC,EAAStmG,YAAYsM,EAAK9K,YAC1B87D,GAAuB,GAE3B4tC,GAAkB,OAhClB,eAAO5+F,EAAK9K,YAmCpB8K,EAAK+S,WAAW+rF,aAAa9E,EAAUh6F,QApEvC,GAAK8hF,EAcA,CACD,IAAI4a,EAAW,eAAc,OAAQ,CAAEvpG,UAAW,aAClD0xC,EAAM2kD,WAAWkT,GACjB,MAAO18F,EAAK9K,WACRupG,EAAoBz+F,EAAK9K,WACzB8kG,EAAStmG,YAAYsM,EAAK9K,YAE9BwnG,EAAS3pF,WAAW+rF,aAAa9E,EAAU0C,OArBhC,CACX,MAAO18F,EAAK9K,WACRupG,EAAoBz+F,EAAK9K,WACzB8kG,EAAStmG,YAAYsM,EAAK9K,YAE1BkpG,EACAT,EAAQ5qF,WAAW+rF,aAAa9E,EAAU2D,IAG1C94D,EAAM82D,iBACN,eAAOkC,GACN,eAAMD,GAAsDN,EAAS5pG,YAAYsmG,GAAhE4D,EAAQ7qF,WAAWrf,YAAYsmG,IA2D1B,UAA/ByE,EAAkB3iF,SAClBvxB,KAAKw0G,eAAeN,EAAmBz+F,EAAMmiD,EAAe0sC,EAAYyO,GAGxE/yG,KAAKy0G,UAAUP,EAAmBz+F,EAAMmiD,EAAe0sC,EAAYyO,IAG3EF,EAAW2B,eAAiB,SAAUN,EAAmBz+F,EAAMmiD,EAAe0sC,EAAYyO,GACtFmB,EAAmD,OAA/BA,EAAkB3iF,SAAoB2iF,EAAkBjc,gBAAkBic,EAC9F,OAAQ,eAAMA,IAAqD,UAA/BA,EAAkB3iF,UAAuD,QAA/B2iF,EAAkB3iF,UAC7D,OAA/B2iF,EAAkB3iF,SAClB2iF,EAAoBA,EAAkB7yD,UAE1C6yD,EAAoB,eAAMA,GAAqBz+F,EAAOy+F,EACnB,QAA/BA,EAAkB3iF,SAClBvxB,KAAK0zG,WAAWQ,EAAmBt8C,EAAe0sC,GAGlD1sC,EAAckgC,iBAAiBwM,EAAY4P,EAAmBA,EAAmBA,EAAkB1pF,YAAYplB,OAAQ8uG,EAAkB1pF,YAAYplB,QAEzJpF,KAAKuzG,oBAAoBR,IAE7BF,EAAW5pC,kBAAoB,SAAU3uB,EAAOsd,GAC5C,IAAIj+C,EAAQ,GAQZ,OAPI2gC,EAAMuxB,cAAgBvxB,EAAMwxB,WAAaxxB,EAAM0d,iBAAmB1d,EAAMkuB,cACtC,OAAlCluB,EAAM0d,eAAezmC,SACrB5X,EAAMkE,KAAKy8B,EAAM0d,eAAe52C,WAAWk5B,EAAMwxB,YAGjDnyD,EAAQi+C,EAAc0tC,wBAAwBhrD,GAE3C3gC,GAEXk5F,EAAWuB,eAAiB,SAAU95D,EAAO7kC,EAAMkE,EAAO43F,EAAYwB,GAClE,GAAIz4D,EAAM0d,iBAAmB+6C,GAAa,eAAMz4D,EAAM0d,eAAe52C,WAAWk5B,EAAMwxB,UAAY,KAC5B,UAAlExxB,EAAM0d,eAAe52C,WAAWk5B,EAAMwxB,UAAY,GAAGv6C,SAQpD,GAAI+oB,EAAM0d,iBAAmB+6C,GAAa,eAAMz4D,EAAM0d,eAAe52C,WAAWk5B,EAAMwxB,aACzB,UAA9DxxB,EAAM0d,eAAe52C,WAAWk5B,EAAMwxB,WAAWv6C,SAGhD,CACD,IAAImjF,EAAY10G,KAAK+zG,sBAAsBp6F,EAAMA,EAAMvU,OAAS,GAAI2tG,GACpE,GAA2B,OAAvB2B,EAAUnjF,UAA4C,OAAvBmjF,EAAUnjF,SAAmB,CAC5D,IAAI4gF,EAAW,eAAc,OAAQ,CAAEvpG,UAAW,aAClD0xC,EAAM2kD,WAAWkT,GACjBA,EAAS3pF,WAAW+rF,aAAa9+F,EAAM08F,OAEtC,CACD,IAAIwC,EAAapD,EAAWpC,cAAc70D,EAAOo6D,GACjDC,EAAWnsF,WAAW+rF,aAAa9+F,EAAMk/F,SAX7Cr6D,EAAM0d,eAAettD,aAAa+K,EAAM6kC,EAAM0d,eAAe52C,WAAWk5B,EAAMwxB,iBAT1E,eAAMxxB,EAAM0d,eAAe52C,WAAWk5B,EAAMwxB,UAAY,GAAG7V,aAC3D3b,EAAM0d,eAAe7uD,YAAYsM,GAGjC6kC,EAAM0d,eAAettD,aAAa+K,EAAM6kC,EAAM0d,eAAe52C,WAAWk5B,EAAMwxB,UAAY,GAAG7V,cAoBzG48C,EAAW4B,UAAY,SAAUP,EAAmBz+F,EAAMmiD,EAAe0sC,EAAYyO,GACjFmB,EAAkBtsG,UAAUC,IAAI,YAChCkrG,EAAS7oF,UAAYo8C,GAAeysC,EAAS7oF,WAC7CgqF,EAAoBnB,EAASlmG,cAAc,aAC3C7M,KAAKw0G,eAAeN,EAAmBz+F,EAAMmiD,EAAe0sC,EAAYyO,GACxEmB,EAAkBtsG,UAAU+B,OAAO,YACQ,IAAvCuqG,EAAkBtsG,UAAUxC,QAC5B8uG,EAAkBjqG,gBAAgB,UAG1C4oG,EAAWa,WAAa,SAAUj+F,EAAMmiD,EAAe0sC,GACnD,IAAI6F,EAAYh1F,SAASy/F,eAAe,KACxCn/F,EAAK+S,WAAW9d,aAAay/F,EAAW10F,EAAKwgD,aAC7C2B,EAAckgC,iBAAiBwM,EAAY7uF,EAAKwgD,YAAaxgD,EAAKwgD,YAAa,EAAG,IAEtF48C,EAAWkB,sBAAwB,SAAUt+F,EAAMs9F,GAC/C,GACIt9F,EAAOA,EAAK+S,iBACP,GAAoBxN,QAAQvF,EAAK8b,SAAS2oC,qBAAuB,GAC1E,OAAOzkD,GAEXo9F,EAAWoB,iBAAmB,SAAUY,GACpC,IAAIC,EAAeD,EAAI3qF,UACvB4qF,EAAeA,EAAah0E,QAAQ,mBAAoB,IACxD+zE,EAAI3qF,UAAY4qF,GAEpBjC,EAAWkC,oBAAsB,SAAUluG,GACvC,IAAImuG,EAYJ,OAFIA,EATC,eAAMnuG,EAAQ4T,eASI,KAR8B,KAA7C5T,EAAQ4T,cAAc+P,YAAYlB,QAA2D,SAA1CziB,EAAQ4T,cAAcqjF,gBACtD99F,KAAK+0G,oBAAoBluG,EAAQ4T,eAGjC5T,EAMpBmuG,GAEXnC,EAAWU,oBAAsB,SAAU1sG,GAEvC,IADA,IAAIouG,EAAgBpuG,EAAQ2O,iBAAiB,UACpC/P,EAAI,EAAGA,EAAIwvG,EAAc7vG,OAAQK,IACtC,GAAiC,QAA7BwvG,EAAcxvG,GAAGgS,SAAkD,OAA7Bw9F,EAAcxvG,GAAGgS,SAC1B,WAA7Bw9F,EAAcxvG,GAAGgS,SAAqD,OAA7Bw9F,EAAcxvG,GAAGgS,QAAkB,CAC5E,IAAIy9F,EAAoBl1G,KAAK+0G,oBAAoBE,EAAcxvG,IAC1D,eAAMyvG,IACP,eAAOA,KAKvBrC,EAAWK,WAAa,SAAUrsG,EAASksG,GACvC,IAAI3oG,EAAKvD,EACT,MAAOuD,GAAsB,IAAhBA,EAAGisF,SAAgB,CAC5B,GAAIjsF,EAAGoe,aAAeuqF,IAChB,eAAM3oG,EAAGoe,WAAW/Q,WACiE,IAAnF,GAA2BuD,QAAQ5Q,EAAGoe,WAAW/Q,QAAQyiD,qBAC7D,OAAO9vD,EAEXA,EAAKA,EAAGoe,WAEZ,OAAO,MAOXqqF,EAAW5sC,WAAa,CAAC,IAAK,OAAQ,UAAW,QAAS,IAAK,MAAO,MAAO,MAAO,KAAM,SACtF,SAAU,OAAQ,OAAQ,OAAQ,WAAY,MAAO,MAAO,KAAM,QAAS,OAAQ,IAAK,SAAU,MAAO,QACzG,MAAO,MAAO,QAAS,MAAO,OAAQ,QAAS,WAAY,SAAU,SAAU,UAAW,WAC1F,IAAK,OAAQ,IAAK,OAAQ,SAAU,SAAU,OAAQ,QAAS,OAAQ,SAAU,MAAO,MAAO,MAC/F,WAAY,WAAY,OAAQ,IAAK,KAAM,MAAO,QAAS,OACxD4sC,EA3XoB,GCD3B,GAA6B,WAM7B,SAASsC,EAAYl1E,GACjBjgC,KAAKigC,OAASA,EACdjgC,KAAK8L,mBA8QT,OA5QAqpG,EAAYtwG,UAAUiH,iBAAmB,WACrC9L,KAAKigC,OAAO+zD,SAASxzF,GAAG,GAAeR,KAAKo1G,YAAap1G,OAE7Dm1G,EAAYtwG,UAAUuwG,YAAc,SAAUzyG,GAC1C,OAAQA,EAAEtB,MAAMunB,WAAWsxC,qBACvB,IAAK,aACL,IAAK,WACDl6D,KAAKq1G,WAAW1yG,GAChB,MACJ,IAAK,WACD3C,KAAK0nE,SAAS/kE,GACd,MACJ,IAAK,aACD3C,KAAKwnE,WAAW7kE,GAChB,QAGZwyG,EAAYtwG,UAAUwwG,WAAa,SAAU1yG,GACzC,IAAI2yG,GAAkB,eAAM3yG,EAAEmZ,KAAKwtD,eAAiB3mE,EAAEmZ,KAAKwtD,aAAalkE,OAAS,GAC7E,eAAQzC,EAAEmZ,KAAKwtD,aAAa,GAAI,KAGpC,GAFAgsC,EAAiB,eAAMA,IACjB,eAAM3yG,EAAEmZ,KAAKwtD,eAAiB3mE,EAAEmZ,KAAKwtD,aAAalkE,OAAS,EAAMzC,EAAEmZ,KAAKwtD,aAAa,GAAM,KADzDgsC,EAEnC,eAAMA,IAA4C,MAA1BA,EAAc79F,QA4BtC,CACD,IAAI89F,EAAe,IAAI1R,GACnBvpD,EAAQi7D,EAAa19C,SAAS73D,KAAKigC,OAAO4mE,iBAC1C5rF,IAAO,eAAMtY,EAAEmZ,KAAKb,OAAetY,EAAEmZ,KAAKb,KAAK6lB,QAAQ,KAAM,IAAI00E,cAAcl7D,EAAM1xB,WACpFkY,QAAQ,MAAO,KAAKA,QAAQ,KAAM,KAAO,EAC9C,GAAIn+B,EAAEoO,OAA0B,YAAjBpO,EAAEoO,MAAM0K,OAA2C,KAApB9Y,EAAEoO,MAAM6G,SAC3B,KAApBjV,EAAEoO,MAAM6G,UAAqC,UAAlBjV,EAAEmZ,KAAKhO,QAAsBwsC,EAAM6d,WAAal9C,EAAM,CACpF,IAAIw6F,EAASz1G,KAAK01G,gBAAgB/yG,GAIlC,GAHA8yG,EAAO10E,UAA4B,KAAhBp+B,EAAEmZ,KAAKb,KAActY,EAAEmZ,KAAKmT,IAAMtsB,EAAEmZ,KAAKb,KAC5DtY,EAAEmZ,KAAKutD,UAAUsC,UACjB,GAAWmnC,OAAO9yG,KAAKigC,OAAO4mE,gBAAiB4O,EAAQz1G,KAAKigC,OAAO2+B,kBAC/Dj8D,EAAEoO,OAA0B,YAAjBpO,EAAEoO,MAAM0K,MAA2C,KAApB9Y,EAAEoO,MAAM6G,SAC3B,KAApBjV,EAAEoO,MAAM6G,QAIV,CACG8oE,EAA+B,UAAlB/9E,EAAEmZ,KAAKhO,OAAqB2nG,EAAOr0F,WAAW,GAAGoJ,YAAYplB,OAAS,EACvFzC,EAAEmZ,KAAKutD,UAAUyuB,iBAAiB93F,KAAKigC,OAAO4mE,gBAAiB4O,EAAOr0F,WAAW,GAAIq0F,EAAOr0F,WAAW,GAAIs/D,EAAY+0B,EAAOr0F,WAAW,GAAGoJ,YAAYplB,YAN5H,CAC5B,IAAI4yD,EAAiBr1D,EAAEmZ,KAAKutD,UAAU/uB,MAAM0d,eAC5CA,EAAextC,YAAcxqB,KAAK21G,WAAW39C,EAAextC,YAAa7nB,EAAEmZ,KAAKb,YAQpFjb,KAAK41G,eAAejzG,OAlDgC,CACxD,IAAIkzG,EAAYP,EACZ9qC,EAAW,GAiBf,GAhBK,eAAM7nE,EAAEmZ,KAAKmT,MACd4mF,EAAU/sG,aAAa,OAAQnG,EAAEmZ,KAAKmT,KAErC,eAAMtsB,EAAEmZ,KAAKna,QACdk0G,EAAU/sG,aAAa,QAASnG,EAAEmZ,KAAKna,OAEtC,eAAMgB,EAAEmZ,KAAKb,OAAyB,KAAhBtY,EAAEmZ,KAAKb,OAC9BuvD,EAAWqrC,EAAU90E,UACrB80E,EAAU90E,UAAYp+B,EAAEmZ,KAAKb,MAE5B,eAAMtY,EAAEmZ,KAAKra,QAIdo0G,EAAU5rG,gBAAgB,UAH1B4rG,EAAU/sG,aAAa,SAAUnG,EAAEmZ,KAAKra,QAKxC+oE,IAAa7nE,EAAEmZ,KAAKb,KACpBtY,EAAEmZ,KAAKutD,UAAUyuB,iBAAiB93F,KAAKigC,OAAO4mE,gBAAiBgP,EAAWA,EAAW,EAAG,GACxFlzG,EAAEmZ,KAAKutD,UAAUsC,cAEhB,CACD,IAAI+U,EAA+B,UAAlB/9E,EAAEmZ,KAAKhO,OAAqB+nG,EAAUz0F,WAAW,GAAGoJ,YAAYplB,OAAS,EAC1FzC,EAAEmZ,KAAKutD,UAAUyuB,iBAAiB93F,KAAKigC,OAAO4mE,gBAAiBgP,EAAUz0F,WAAW,GAAIy0F,EAAUz0F,WAAW,GAAIs/D,EAAYm1B,EAAUz0F,WAAW,GAAGoJ,YAAYplB,SA4BrKzC,EAAEu9F,UACFv9F,EAAEu9F,SAAS,CACPvL,YAAa,QACb9rB,WAAY,OACZ93D,MAAOpO,EAAEoO,MACTupC,MAAOt6C,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBACtDl/E,SAAU3nB,KAAKigC,OAAO23B,cAAcquC,iBAAiBjmG,KAAKigC,OAAO4mE,oBAK7EsO,EAAYtwG,UAAU+wG,eAAiB,SAAUjzG,GAa7C,IAZA,IAOImzG,EAIAxuF,EAXAiuF,EAAe,IAAI1R,GACnB0N,EAAa,IAAI,GACjBj3D,EAAQi7D,EAAa19C,SAAS73D,KAAKigC,OAAO4mE,iBAC1CltF,EAAQ3Z,KAAKklG,kBAAkBqQ,EAAatsC,kBAAkB3uB,IAC9DyuB,EAAOwsC,EAAaxsC,KAAKzuB,EAAOt6C,KAAKigC,OAAO4mE,iBAC5CkP,EAAW,GACXC,EAAc,GAEdC,EAAc,GACdC,EAAc,GACdC,EAAmB,GAEd5zG,EAAQ,EAAGA,EAAQoX,EAAMvU,OAAQ7C,IACtCoX,EAAMpX,GAASgvG,EAAWpC,cAAc70D,EAAO3gC,EAAMpX,IACrDwzG,EAASxzG,GAASoX,EAAMpX,GAE5B,IAAK,IAAIkD,EAAI,EAAGA,EAAIswG,EAAS3wG,OAAQK,IAAK,CACtC,IAAI2wG,GAAQ,EACZN,EAAcC,EAAStwG,GACvB,OAAiB,IAAV2wG,EAAgB,CACnB,GAA2C,MAAvCN,EAAYr7F,cAAc8W,SAAkB,CAC5C,IAAIskF,EAAYC,EAAYr7F,cAC5Bq7F,EAAYr7F,cAAcA,cAAc/P,aAAamrG,EAAUlrG,WAAYkrG,GAC3EC,EAAYr7F,cAAc3E,YAAY+/F,GAEtC71G,KAAK8mG,YAAYgP,EAAYr7F,gBAAsC,IAApBs7F,EAAS3wG,QAAsB,IAANK,GAAWA,IAAMswG,EAAS3wG,OAAS,GAC3G4wG,EAAYvwG,GAAKqwG,EACjBM,GAAQ,GAGRN,EAAcA,EAAYr7F,eAI7BhV,EAAI,EAAb,IAAK,IAAW4wG,EAAM,EAAG5wG,EAAIuwG,EAAY5wG,OAAQK,IAI7C,GAHU,IAANA,IACA0wG,EAAiBE,GAAOL,EAAYvwG,IAEpCuwG,EAAY5wG,OAAS,GAAKK,EAAIuwG,EAAY5wG,OAAS,EAAG,CACtD,GAAK4wG,EAAYvwG,GAAGgV,gBAAkBu7F,EAAYvwG,EAAI,GAAGgV,eAAmBu7F,EAAYvwG,KAAOuwG,EAAYvwG,EAAI,GAC3G,SAGA0wG,EAAiBE,EAAM,GAAKL,EAAYvwG,EAAI,GAC5C4wG,IAIZ,IAAIloF,EAAI,EACR+nF,EAAY/nF,GAAKnuB,KAAK01G,gBAAgB/yG,GACtC,IAAS8C,EAAI,EAAGA,EAAI0wG,EAAiB/wG,OAAQK,IAKzC,GAJU,IAANA,IACA6hB,EAAY6uF,EAAiB1wG,GAAG6hB,WAAU,GAC1C4uF,EAAYzwG,GAAG0D,YAAYme,IAE3B7hB,EAAI0wG,EAAiB/wG,OAAS,EAC9B,GAAI+wG,EAAiB1wG,GAAG+iB,aAAe2tF,EAAiB1wG,EAAI,GAAG+iB,WAAY,CACvE,IAAI8tF,EAAMH,EAAiB1wG,EAAI,GAAG6hB,WAAU,GAC5C4uF,EAAY/nF,GAAGhlB,YAAYmtG,QAG3BnoF,GAAQ,EACR+nF,EAAY/nF,GAAKnuB,KAAK01G,gBAAgB/yG,GACtC2kB,EAAY6uF,EAAiB1wG,EAAI,GAAG6hB,WAAU,GAC9C4uF,EAAY/nF,GAAGhlB,YAAYme,GAIvCtnB,KAAKigC,OAAO23B,cAAc4mC,SAASrpF,SAAU4zD,EAAKzuB,OACzC70C,EAAI,EAAb,IAAK,IAAW8wG,EAAM,EAAGh2D,EAAI,EAAG96C,GAAK0wG,EAAiB/wG,OAAQK,IAChD,IAANA,IACA0wG,EAAiB1wG,GAAG+iB,WAAW9d,aAAawrG,EAAYK,GAAMJ,EAAiB1wG,GAAGwwD,aAClC,IAA5Cj2D,KAAKigC,OAAOwqE,QAAQL,aAAahlG,QACjCpF,KAAKigC,OAAO23B,cAAcouC,iBAAiBhmG,KAAKigC,OAAO4mE,gBAAiBqP,EAAYK,IAExFN,EAAY11D,GAAK41D,EAAiB1wG,GAClC86C,KAEA96C,EAAI0wG,EAAiB/wG,OAAS,IAC1B+wG,EAAiB1wG,GAAG+iB,aAAe2tF,EAAiB1wG,EAAI,GAAG+iB,YAC3DytF,EAAY11D,GAAK41D,EAAiB1wG,EAAI,GACtC86C,MAGAg2D,GAAY,EACZJ,EAAiB1wG,EAAI,GAAG+iB,WAAW9d,aAAawrG,EAAYK,GAAMJ,EAAiB1wG,EAAI,IACvFwwG,EAAY11D,GAAK41D,EAAiB1wG,EAAI,GACtC86C,MAIZ,IAAS96C,EAAI,EAAGA,EAAIwwG,EAAY7wG,OAAQK,IAChCwwG,EAAYxwG,GAAG+iB,YACfytF,EAAYxwG,GAAG+iB,WAAW1S,YAAYmgG,EAAYxwG,KAI9D0vG,EAAYtwG,UAAU6wG,gBAAkB,SAAU/yG,GAC9C,IAAIkzG,EAAY,eAAc,IAAK,CAC/BjtG,UAAW,eACXtI,MAAO,CACHmsE,KAAM9pE,EAAEmZ,KAAKmT,IACbttB,MAAO,eAAMgB,EAAEmZ,KAAKna,QAA2B,KAAjBgB,EAAEmZ,KAAKna,MAAegB,EAAEmZ,KAAKmT,IAAMtsB,EAAEmZ,KAAKna,SAMhF,OAHK,eAAMgB,EAAEmZ,KAAKra,SACdo0G,EAAU/sG,aAAa,SAAUnG,EAAEmZ,KAAKra,QAErCo0G,GAEXV,EAAYtwG,UAAUqgG,kBAAoB,SAAUN,GAChDA,EAAiBA,EAAeI,UAChC,IAAK,IAAIziG,EAAQ,EAAGA,EAAQqiG,EAAex/F,OAAQ7C,IACR,IAAnCqiG,EAAeriG,GAAO8zF,UAA+D,KAA7CuO,EAAeriG,GAAOioB,YAAYlB,QACnC,QAAnCs7E,EAAeriG,GAAOgvB,WACtBqzE,EAAer8E,OAAOhmB,EAAO,GAC7BA,KAIZ,OAAOqiG,EAAeI,WAE1BmQ,EAAYtwG,UAAUiiG,YAAc,SAAUjgG,GAC1C,QAAUA,GAAYA,EAAQwvF,WAAa0Q,KAAKC,cAAgB,GAAoBhsF,QAAQnU,EAAQ4Q,QAAQsG,gBAAkB,GAElIo3F,EAAYtwG,UAAU8wG,WAAa,SAAU16F,EAAMnC,GAE/C,IADA,IAAI09F,EAAMv7F,EAAK5E,MAAM,KACZ5Q,EAAI,EAAGA,EAAI+wG,EAAIpxG,OAAQK,IACxB+wG,EAAI/wG,KAAOqT,IACX09F,EAAIjuF,OAAO9iB,EAAG,GACdA,KAGR,OAAO+wG,EAAIh+E,KAAK,KAAO,KAE3B28E,EAAYtwG,UAAU6iE,SAAW,SAAU/kE,GACvCwS,SAASsvF,YAAYxiF,KAAKtf,EAAEmZ,KAAKmT,IAAKtsB,EAAEmZ,KAAKra,QAC7CzB,KAAKkgG,SAASv9F,IAElBwyG,EAAYtwG,UAAU2iE,WAAa,SAAU7kE,GACzC,IAAIynG,EAAapqG,KAAKigC,OAAOwqE,QAAQL,aACrC,GAAIA,EAAWhlG,OAAS,EAAG,CACvBpF,KAAKigC,OAAOwqE,QAAQnB,UAAU3mG,EAAEmZ,KAAKutD,WAKrC,IAJA,IAAIisC,EAAgB,eAAQ3yG,EAAEmZ,KAAKwtD,aAAa,GAAI,KAChDA,EAAegsC,GAAgC3yG,EAAEmZ,KAAKwtD,aAAa,GACnElI,EAAWkI,EAAa9gD,WACxB6+B,EAAQ,GACLiiB,EAAa3+D,WAAY,KAC5B08C,EAAMxpC,KAAKujD,EAAS12D,aAAa4+D,EAAa3+D,WAAY2+D,IAE9DlI,EAAStrD,YAAYwzD,GACjBjiB,GAA0B,IAAjBA,EAAMjiD,SACfzC,EAAEmZ,KAAKutD,UAAUrR,eAAiBr1D,EAAEmZ,KAAKutD,UAAU+6B,aAAa/8C,EAAMA,EAAMjiD,OAAS,IAAI,GACzFzC,EAAEmZ,KAAKutD,UAAUb,aAAe7lE,EAAEmZ,KAAKutD,UAAUrR,gBAErDr1D,EAAEmZ,KAAKutD,UAAYrpE,KAAKigC,OAAOwqE,QAAQvB,WAAWvmG,EAAEmZ,KAAKutD,gBAGzD,IAAK,IAAI5jE,EAAI,EAAGA,EAAI2kG,EAAWhlG,OAAQK,IAEnC,IADA,IAAIgxG,EAAWrM,EAAW3kG,GAAG+P,iBAAiB,KACrC2Y,EAAI,EAAGA,EAAIsoF,EAASrxG,OAAQ+oB,IAC7BhZ,SAASisF,eAAesV,aAAaD,EAAStoF,IAAI,KAClDsoF,EAAStoF,GAAG3E,UAAYitF,EAAStoF,GAAGjE,WAKpDvnB,EAAEmZ,KAAKutD,UAAUsC,UACjB3rE,KAAKkgG,SAASv9F,IAElBwyG,EAAYtwG,UAAUq7F,SAAW,SAAUv9F,GACnCA,EAAEu9F,UACFv9F,EAAEu9F,SAAS,CACPvL,YAAahyF,EAAEmZ,KAAKs8C,WACpByQ,WAAY,OACZ93D,MAAOpO,EAAEoO,MACTupC,MAAOt6C,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBACtDl/E,SAAU3nB,KAAKigC,OAAO23B,cAAcquC,iBAAiBjmG,KAAKigC,OAAO4mE,oBAItEsO,EAtRqB,GCD5B,GAA4B,WAM5B,SAASwB,EAAW12E,GAChBjgC,KAAK42G,WAAa,CACd,YAAe,OACf,cAAiB,SACjB,aAAgB,QAChB,YAAe,WAEnB52G,KAAKigC,OAASA,EACdjgC,KAAK8L,mBA4ET,OA1EA6qG,EAAW9xG,UAAUiH,iBAAmB,WACpC9L,KAAKigC,OAAO+zD,SAASxzF,GAAG,GAAyBR,KAAK62G,eAAgB72G,MACtEA,KAAKigC,OAAO+zD,SAASxzF,GAAG,QAAyBR,KAAKqnE,UAAWrnE,OAErE22G,EAAW9xG,UAAUwiE,UAAY,SAAU1kE,GACvC,OAAQA,EAAEoO,MAAMjD,QACZ,IAAK,iBACD9N,KAAK62G,eAAe,CAAEz+C,WAAY,gBAAiB8nC,SAAUv9F,EAAEu9F,WAC/Dv9F,EAAEoO,MAAM/E,iBACR,MACJ,IAAK,eACDhM,KAAK62G,eAAe,CAAEz+C,WAAY,cAAe8nC,SAAUv9F,EAAEu9F,WAC7Dv9F,EAAEoO,MAAM/E,iBACR,MACJ,IAAK,eACDhM,KAAK62G,eAAe,CAAEz+C,WAAY,cAAe8nC,SAAUv9F,EAAEu9F,WAC7Dv9F,EAAEoO,MAAM/E,iBACR,MACJ,IAAK,gBACDhM,KAAK62G,eAAe,CAAEz+C,WAAY,eAAgB8nC,SAAUv9F,EAAEu9F,WAC9Dv9F,EAAEoO,MAAM/E,iBACR,QAGZ2qG,EAAW9xG,UAAUiyG,aAAe,SAAUx8D,GAC1C,IAAImkD,EAAYnkD,EAAM0d,eAAeq+B,WAAa0Q,KAAKC,aAAe1sD,EAAM0d,eAAiB1d,EAAM0d,eAAexvC,WAC9GuuF,EAAW,eAAQtY,EAAW,SAClC,MAAO,CAACsY,IAEZJ,EAAW9xG,UAAUgyG,eAAiB,SAAUl0G,GAC5C,IAAIq0G,EAA2B,UAAZr0G,EAAEtB,MACjBi5C,EAAQt6C,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBACvD99B,EAAO/oE,KAAKigC,OAAO23B,cAAcmR,KAAKzuB,EAAOt6C,KAAKigC,OAAO4mE,iBAC7D,GAAKmQ,EA6BD,eAAkBh3G,KAAK82G,aAAax8D,GAAO,GAAI,CAAE,aAAct6C,KAAK42G,WAAWj0G,EAAEy1D,kBA7BlE,CACfp4D,KAAKigC,OAAOwqE,QAAQnB,UAAUvgC,GAE9B,IADA,IAAIkuC,EAAiBj3G,KAAKigC,OAAOwqE,QAAQL,aAChC3kG,EAAI,EAAGA,EAAIwxG,EAAe7xG,OAAQK,IAAK,CAC5C,IAAI+iB,EAAayuF,EAAexxG,GAChC,eAAkB+iB,EAAY,CAAE,aAAcxoB,KAAK42G,WAAWj0G,EAAEy1D,cAEpE,IAAI8+C,EAAYl3G,KAAKigC,OAAOwqE,QAAQP,yBACpC,IAASzkG,EAAI,EAAGA,EAAIyxG,EAAU9xG,OAAQK,IAAK,CACvC,IAAI0xG,EAAc,GAClBA,EAAYt5F,KAAKq5F,EAAUzxG,IAC3BzF,KAAKigC,OAAOm3E,OAAOC,aAAa,CAC5Bv7F,KAAM,CACFstD,WAAY+tC,GAEhB/+C,WAAYz1D,EAAEy1D,WACd/2D,MAAOsB,EAAEy1D,WACT8nC,SAAUv9F,EAAEu9F,SACZhwE,SAAUvtB,EAAEutB,WAGpBlwB,KAAKigC,OAAO2+B,gBAAgB3lD,QAC5B8vD,EAAO/oE,KAAKigC,OAAOwqE,QAAQvB,WAAWngC,GAClC7C,MACAC,GAAkBnmE,KAAKigC,OAAO2+B,gBAAiBj8D,EAAEutB,UAErD64C,EAAK4C,UAKLhpE,EAAEu9F,UACFv9F,EAAEu9F,SAAS,CACPvL,YAAahyF,EAAEy1D,WACfyQ,WAAY,OACZ93D,MAAOpO,EAAEoO,MACTupC,MAAOt6C,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBACtDl/E,SAAWqvF,EAAeh3G,KAAK82G,aAAax8D,GAASt6C,KAAKigC,OAAOwqE,QAAQL,gBAI9EuM,EA1FoB,GCD3B,GAAyB,WAMzB,SAASW,EAAQr3E,GACbjgC,KAAKu3G,YAAc,GACnBv3G,KAAKigC,OAASA,EACdjgC,KAAK8L,mBA4ET,OA1EAwrG,EAAQzyG,UAAUiH,iBAAmB,WACjC9L,KAAKigC,OAAO+zD,SAASxzF,GAAG,GAAsBR,KAAKw3G,aAAcx3G,MACjEA,KAAKigC,OAAO+zD,SAASxzF,GAAG,QAAyBR,KAAKqnE,UAAWrnE,OAErEs3G,EAAQzyG,UAAUwiE,UAAY,SAAU1kE,GACpC,OAAQA,EAAEoO,MAAMjD,QACZ,IAAK,UACD9N,KAAKw3G,aAAa,CAAEp/C,WAAY,SAAU8nC,SAAUv9F,EAAEu9F,WACtDv9F,EAAEoO,MAAM/E,iBACR,MACJ,IAAK,WACDhM,KAAKw3G,aAAa,CAAEp/C,WAAY,UAAW8nC,SAAUv9F,EAAEu9F,WACvDv9F,EAAEoO,MAAM/E,iBACR,QAGZsrG,EAAQzyG,UAAU2yG,aAAe,SAAU70G,GACvC,IAAI23C,EAAQt6C,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBACvD99B,EAAO/oE,KAAKigC,OAAO23B,cAAcmR,KAAKzuB,EAAOt6C,KAAKigC,OAAO4mE,iBAC7D7mG,KAAKigC,OAAOwqE,QAAQnB,UAAUvgC,GAI9B,IAHA,IAAI0uC,EAAez3G,KAAKigC,OAAOwqE,QAAQL,aACnCsN,EAAcD,EAAa1zG,QAC3B+oG,EAAa,GACRrnG,EAAI,EAAGA,EAAIiyG,EAAYtyG,OAAQK,IACL,OAA3BiyG,EAAYjyG,GAAGgS,SAAoB,OAASigG,EAAYjyG,GAAG+iB,WAAW/Q,SACtEggG,EAAalvF,OAAOkvF,EAAaz8F,QAAQ08F,EAAYjyG,IAAK,GAC1DqnG,EAAWjvF,KAAK65F,EAAYjyG,GAAG+iB,aAEC,OAA3BkvF,EAAYjyG,GAAGgS,UACpBggG,EAAalvF,OAAOkvF,EAAaz8F,QAAQ08F,EAAYjyG,IAAK,GAC1DqnG,EAAWjvF,KAAK65F,EAAYjyG,KAGhCqnG,EAAW1nG,OAAS,GACpBpF,KAAKigC,OAAO+zD,SAASlpE,OAAO,QAAyB,CACjD/Z,MAAO,CACH/E,eAAgB,aAChBygC,gBAAiB,aACjBs/D,SAA4B,WAAjBppG,EAAEy1D,WACbhoB,MAAO,EACPtiC,OAAQ,UAEZ89F,eAAe,IAGvB,IAASnmG,EAAI,EAAGA,EAAIgyG,EAAaryG,OAAQK,IAAK,CAC1C,IAAI+iB,EAAaivF,EAAahyG,GAC1BsZ,EAAayJ,EAAW/gB,MAAMsX,WAC9B44F,OAAe,EACE,WAAjBh1G,EAAEy1D,YACFu/C,EAA8B,KAAf54F,EAAoB/e,KAAKu3G,YAAc,KAAO5uF,SAAS5J,EAAY,MAAQ/e,KAAKu3G,YAAc,KAC7G/uF,EAAW/gB,MAAMsX,WAAa44F,IAG9BA,EAA+B,KAAf54F,GAAoC,QAAfA,EAAwB,GAAK4J,SAAS5J,EAAY,MAAQ/e,KAAKu3G,YAAc,KAClH/uF,EAAW/gB,MAAMsX,WAAa44F,GAGtC33G,KAAKigC,OAAO2+B,gBAAgB3lD,QACxBitD,MACAC,GAAkBnmE,KAAKigC,OAAO2+B,gBAAiBj8D,EAAEutB,UAErD64C,EAAO/oE,KAAKigC,OAAOwqE,QAAQvB,WAAWngC,GACtCA,EAAK4C,UACDhpE,EAAEu9F,UACFv9F,EAAEu9F,SAAS,CACPvL,YAAahyF,EAAEy1D,WACfyQ,WAAY,OACZ93D,MAAOpO,EAAEoO,MACTupC,MAAOt6C,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBACtDl/E,SAAU3nB,KAAKigC,OAAOwqE,QAAQL,gBAInCkN,EArFiB,GCDjBM,GAAoB,aACpBC,GAAmB,YACnBC,GAAqB,cACrBC,GAAoB,aACpBC,GAAgB,gBAEhBC,GAAuB,mBACvBC,GAAqB,cCL5B,GAA8B,WAM9B,SAASC,EAAal4E,GAClBjgC,KAAKigC,OAASA,EACdjgC,KAAK8L,mBA2TT,OAzTAqsG,EAAatzG,UAAUiH,iBAAmB,WACtC9L,KAAKigC,OAAO+zD,SAASxzF,GAAG,GAAgBR,KAAKq3G,aAAcr3G,OAO/Dm4G,EAAatzG,UAAUwyG,aAAe,SAAU10G,GAC5C,OAAQA,EAAEtB,MAAMunB,WAAWsxC,qBACvB,IAAK,QACL,IAAK,UACDl6D,KAAKo4G,YAAYz1G,GACjB,MACJ,IAAK,aACD3C,KAAKq4G,gBAAgB11G,GACrB,MACJ,IAAK,gBACD3C,KAAKs4G,cAAc31G,GACnB,MACJ,IAAK,gBACD3C,KAAKu4G,cAAc51G,GACnB,MACJ,IAAK,kBACD3C,KAAKw4G,gBAAgB71G,GACrB,MACJ,IAAK,SACD3C,KAAKy4G,YAAY91G,GACjB,MACJ,IAAK,UACD3C,KAAK04G,mBAAmB/1G,GACxB,MACJ,IAAK,YACD3C,KAAK24G,eAAeh2G,GACpB,MACJ,IAAK,UACD3C,KAAK44G,aAAaj2G,GAClB,MACJ,IAAK,cACD3C,KAAK64G,iBAAiBl2G,GACtB,MACJ,IAAK,gBACD3C,KAAK84G,mBAAmBn2G,GACxB,MACJ,IAAK,eACD3C,KAAK+4G,kBAAkBp2G,GACvB,MACJ,IAAK,SACD3C,KAAKg5G,YAAYr2G,GACjB,MACJ,IAAK,QACD3C,KAAKi5G,WAAWt2G,GAChB,QAGZw1G,EAAatzG,UAAUuzG,YAAc,SAAUz1G,GAC3C,IAAIsI,EAAQjL,KAEZ,GADA2C,EAAEmZ,KAAKmT,IAAM,eAAMtsB,EAAEmZ,KAAKmT,MAAuB,cAAftsB,EAAEmZ,KAAKmT,IAAsBtsB,EAAEmZ,KAAKk8E,IAAMr1F,EAAEmZ,KAAKmT,IAC9E,eAAMtsB,EAAEmZ,KAAKwtD,eAAoD,QAAnC3mE,EAAEmZ,KAAKwtD,aAAa,GAAG7xD,QAIrD,CACD,IAAIomF,EAAa,eAAc,OAC/B79F,KAAKk5G,SAASrb,EAAYl7F,GACrB,eAAMA,EAAEmZ,KAAKutD,YACd1mE,EAAEmZ,KAAKutD,UAAUsC,UAEhB,eAAMhpE,EAAEutB,WAA4B,uBAAfvtB,EAAEutB,SASxB,GAAW4iF,OAAO9yG,KAAKigC,OAAO4mE,gBAAiBhJ,EAAY79F,KAAKigC,OAAO2+B,iBARvEj8D,EAAEu9F,SAAS,CAAEvL,YAAa,QACtB9rB,WAAY,OACZ93D,MAAOpO,EAAEoO,MACTupC,MAAOt6C,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBACtDl/E,SAAU,CAACk2E,SAfsD,CACzE,IAAInJ,EAAS/xF,EAAEmZ,KAAKwtD,aAAa,GACjCtpE,KAAKk5G,SAASxkB,EAAQ/xF,GAoB1B,GAAIA,EAAEu9F,WAAa,eAAMv9F,EAAEutB,YAAc,eAAMvtB,EAAEutB,WAA4B,uBAAfvtB,EAAEutB,UAAoC,CAChG,IAAIipF,EAAuB,YAAZx2G,EAAEtB,MAAsBsB,EAAEmZ,KAAKwtD,aAAa,GACvDtpE,KAAKigC,OAAO23B,cAAcquC,iBAAiBjmG,KAAKigC,OAAO4mE,iBAAiB,GAAGthF,uBAC/E4zF,EAASrtG,iBAAiB,QAAQ,WAC9BnJ,EAAEu9F,SAAS,CACPvL,YAAa,QACb9rB,WAAY,OACZ93D,MAAOpO,EAAEoO,MACTupC,MAAOrvC,EAAMg1B,OAAO23B,cAAcC,SAAS5sD,EAAMg1B,OAAO4mE,iBACxDl/E,SAAU,CAACwxF,UAK3BhB,EAAatzG,UAAUq0G,SAAW,SAAUrb,EAAYl7F,GAC/C,eAAMA,EAAEmZ,KAAKmT,MACd4uE,EAAW/0F,aAAa,MAAOnG,EAAEmZ,KAAKmT,KAE1C4uE,EAAW/0F,aAAa,QAAS,eAAiB,eAAMnG,EAAEmZ,KAAK1F,UAAY,GAAK,IAAMzT,EAAEmZ,KAAK1F,WACxF,eAAMzT,EAAEmZ,KAAKq9E,UACd0E,EAAW/0F,aAAa,MAAOnG,EAAEmZ,KAAKq9E,SAErC,eAAMx2F,EAAEmZ,KAAKxN,QAAW,eAAM3L,EAAEmZ,KAAKxN,MAAMA,QAC5CuvF,EAAW/0F,aAAa,QAAS9I,KAAKo5G,oBAAoBz2G,EAAEmZ,KAAKxN,MAAMA,QAEtE,eAAM3L,EAAEmZ,KAAKxK,SAAY,eAAM3O,EAAEmZ,KAAKxK,OAAOA,SAC9CusF,EAAW/0F,aAAa,SAAU9I,KAAKo5G,oBAAoBz2G,EAAEmZ,KAAKxK,OAAOA,SAExE,eAAM3O,EAAEmZ,KAAKxN,QAAW,eAAM3L,EAAEmZ,KAAKxN,MAAM+V,YAC5Cw5E,EAAWp2F,MAAM4c,SAAWrkB,KAAKo5G,oBAAoBz2G,EAAEmZ,KAAKxN,MAAM+V,WAEjE,eAAM1hB,EAAEmZ,KAAKxN,QAAW,eAAM3L,EAAEmZ,KAAKxN,MAAMqsB,YAC5CkjE,EAAWp2F,MAAMkzB,SAAW36B,KAAKo5G,oBAAoBz2G,EAAEmZ,KAAKxN,MAAMqsB,WAEjE,eAAMh4B,EAAEmZ,KAAKxK,SAAY,eAAM3O,EAAEmZ,KAAKxK,OAAOmL,aAC9CohF,EAAWp2F,MAAMgV,UAAYzc,KAAKo5G,oBAAoBz2G,EAAEmZ,KAAKxK,OAAOmL,YAEnE,eAAM9Z,EAAEmZ,KAAKxK,SAAY,eAAM3O,EAAEmZ,KAAKxK,OAAOsQ,aAC9Ci8E,EAAWp2F,MAAMma,UAAY5hB,KAAKo5G,oBAAoBz2G,EAAEmZ,KAAKxK,OAAOsQ,aAG5Eu2F,EAAatzG,UAAUu0G,oBAAsB,SAAU/3G,GACnD,IAAIg4G,EAYJ,OATQA,EAFe,kBAAZ,IACHh4G,EAAM2Z,QAAQ,OAAS3Z,EAAM2Z,QAAQ,MAAQ3Z,EAAM2Z,QAAQ,SAC9C3Z,EAOJA,EAAQ,KAElBg4G,GAEXlB,EAAatzG,UAAUwzG,gBAAkB,SAAU11G,GAC/C,IAAI8yG,EAAS,eAAc,IAAK,CAC5Bn1G,MAAO,CACHmsE,KAAM9pE,EAAEmZ,KAAKmT,OAGjBtsB,EAAEmZ,KAAKstD,WAAW,GAAG3uD,cAAc7S,UAAU0E,SAAS,gBACtD3J,EAAEmZ,KAAKutD,UAAUsC,UACjB8pC,EAAO3sG,aAAa,kBAAmB,SAE3C2sG,EAAOtsG,YAAYxG,EAAEmZ,KAAKstD,WAAW,IAChC,eAAMzmE,EAAEmZ,KAAKra,SACdg0G,EAAO3sG,aAAa,SAAUnG,EAAEmZ,KAAKra,QAEzC,GAAWqxG,OAAO9yG,KAAKigC,OAAO4mE,gBAAiB4O,EAAQz1G,KAAKigC,OAAO2+B,iBACnE5+D,KAAKkgG,SAASv9F,IAElBw1G,EAAatzG,UAAUyzG,cAAgB,SAAU31G,GAC7CwS,SAASsvF,YAAYxiF,KAAKtf,EAAEmZ,KAAKmT,IAAKtsB,EAAEmZ,KAAKra,QAC7CzB,KAAKkgG,SAASv9F,IAElBw1G,EAAatzG,UAAU2zG,gBAAkB,SAAU71G,GAC/C,IAAI2mE,EAAe3mE,EAAEmZ,KAAKwtD,aAAa,GACvC,GAAIA,EAAa1hE,UAAU0E,SAAS,iBAAkB,CAClD,IAAIgtG,EAAa,eAAO,cAAehwC,GACnCiwC,EAAU,eAAO,eAAgBjwC,GACjCkwC,EAAaD,EAAQjyF,WAAU,GACnC,eAAO,eAAO,IAAKgiD,IACnB,eAAOiwC,GACPD,EAAWnwG,YAAYxG,EAAEmZ,KAAKw7E,eAC9BgiB,EAAWnwG,YAAYqwG,QAGvB,eAAOlwC,GACH,OAAQ8C,MACRzpE,EAAEmZ,KAAKutD,UAAUsC,UAErB,GAAWmnC,OAAO9yG,KAAKigC,OAAO4mE,gBAAiBlkG,EAAEmZ,KAAKw7E,cAAet3F,KAAKigC,OAAO2+B,iBAErF5+D,KAAKkgG,SAASv9F,IAElBw1G,EAAatzG,UAAU0zG,cAAgB,SAAU51G,GAC7CA,EAAEmZ,KAAKstD,WAAW,GAAG3uD,cAAcgyD,KAAO9pE,EAAEmZ,KAAKmT,IAC7C,eAAMtsB,EAAEmZ,KAAKra,QACbkB,EAAEmZ,KAAKstD,WAAW,GAAG3uD,cAAcxQ,gBAAgB,UAGnDtH,EAAEmZ,KAAKstD,WAAW,GAAG3uD,cAAchZ,OAASkB,EAAEmZ,KAAKra,OAEvDzB,KAAKkgG,SAASv9F,IAElBw1G,EAAatzG,UAAU4zG,YAAc,SAAU91G,GACvC,eAAQA,EAAEmZ,KAAKstD,WAAW,GAAI,KACsB,MAAhDzmE,EAAEmZ,KAAKstD,WAAW,GAAG3uD,cAAc8W,UAAqB,eAAM5uB,EAAEmZ,KAAKstD,WAAW,GAAG3uD,cAAcsmB,WAIjG,eAAO,eAAQp+B,EAAEmZ,KAAKstD,WAAW,GAAI,MAHrC,eAAOzmE,EAAEmZ,KAAKstD,WAAW,IAMvB,eAAM,eAAQzmE,EAAEmZ,KAAKstD,WAAW,GAAI,IAAM,KAIhD,eAAOzmE,EAAEmZ,KAAKstD,WAAW,IAHzB,eAAO,eAAQzmE,EAAEmZ,KAAKstD,WAAW,GAAI,IAAM,KAK/CppE,KAAKkgG,SAASv9F,IAElBw1G,EAAatzG,UAAU6zG,mBAAqB,SAAU/1G,GAClDA,EAAEmZ,KAAKstD,WAAW,GAAGtgE,aAAa,MAAOnG,EAAEmZ,KAAKq9E,SAChDn5F,KAAKkgG,SAASv9F,IAElBw1G,EAAatzG,UAAU8zG,eAAiB,SAAUh2G,GAC9C,IAAIymE,EAAazmE,EAAEmZ,KAAKstD,WAAW,GACnCA,EAAW3hE,MAAM6J,OAAS,GAC1B83D,EAAW3hE,MAAM6G,MAAQ,GACzB86D,EAAW96D,MAAQ3L,EAAEmZ,KAAKxN,MAC1B86D,EAAW93D,OAAS3O,EAAEmZ,KAAKxK,OAC3BtR,KAAKkgG,SAASv9F,IAElBw1G,EAAatzG,UAAU+zG,aAAe,SAAUj2G,GAC5C,GAAWmwG,OAAO9yG,KAAKigC,OAAO4mE,gBAAiBlkG,EAAEmZ,KAAKw7E,cAAet3F,KAAKigC,OAAO2+B,iBACjF5+D,KAAKkgG,SAASv9F,IAElBw1G,EAAatzG,UAAUg0G,iBAAmB,SAAUl2G,GAChD,IAAIymE,EAAazmE,EAAEmZ,KAAKstD,WAAW,GACnCA,EAAWn/D,gBAAgB,SAC3B,eAAS,CAACm/D,GAAa,eAClB,eAAM,eAAQA,EAAY,IAAM,OACjC,eAAY,CAAC,eAAQA,EAAY,IAAM,KAAyB,IAChE,eAAS,CAAC,eAAQA,EAAY,IAAM,KAAyB,KAEvB,MAAtCA,EAAW3uD,cAAc8W,UACzB,eAAY,CAAC63C,EAAW3uD,eAAgB,IACxC,eAAS,CAAC2uD,EAAW3uD,eAAgB,KAGrC,eAAS,CAAC2uD,GAAa,IAE3BppE,KAAKkgG,SAASv9F,IAElBw1G,EAAatzG,UAAUi0G,mBAAqB,SAAUn2G,GAClD,IAAIymE,EAAazmE,EAAEmZ,KAAKstD,WAAW,GACnCA,EAAWn/D,gBAAgB,SAC3B,eAAS,CAACm/D,GAAa,eAClB,eAAM,eAAQA,EAAY,IAAM,OACjC,eAAY,CAAC,eAAQA,EAAY,IAAM,KAAyB,IAChE,eAAY,CAAC,eAAQA,EAAY,IAAM,KAAyB,IAChE,eAAS,CAAC,eAAQA,EAAY,IAAM,KAAyB,KAEvB,MAAtCA,EAAW3uD,cAAc8W,UACzB,eAAY,CAAC63C,EAAW3uD,eAAgB,IACxC,eAAY,CAAC2uD,EAAW3uD,eAAgB,IACxC,eAAS,CAAC2uD,EAAW3uD,eAAgB,IACrC,eAAS,CAAC2uD,GAAa,KAGvB,eAAS,CAACA,GAAa,IAE3BppE,KAAKkgG,SAASv9F,IAElBw1G,EAAatzG,UAAUk0G,kBAAoB,SAAUp2G,GACjD,IAAIymE,EAAazmE,EAAEmZ,KAAKstD,WAAW,GACnCA,EAAWn/D,gBAAgB,SAC3B,eAAS,CAACm/D,GAAa,eAClB,eAAM,eAAQA,EAAY,IAAM,OACjC,eAAY,CAAC,eAAQA,EAAY,IAAM,KAAyB,IAChE,eAAS,CAAC,eAAQA,EAAY,IAAM,KAAyB,KAEvB,MAAtCA,EAAW3uD,cAAc8W,UACzB,eAAY,CAAC63C,EAAW3uD,eAAgB,IACxC,eAAS,CAAC2uD,EAAW3uD,eAAgB,KAGrC,eAAS,CAAC2uD,GAAa,IAE3BppE,KAAKkgG,SAASv9F,IAElBw1G,EAAatzG,UAAUm0G,YAAc,SAAUr2G,GAC3C,IAAIymE,EAAazmE,EAAEmZ,KAAKstD,WAAW,GACnCA,EAAWn/D,gBAAgB,SAC3B,eAAS,CAACm/D,GAAa,eACvB,eAAS,CAACA,GAAa,IAClB,eAAM,eAAQA,EAAY,IAAM,OACjC,eAAY,CAAC,eAAQA,EAAY,IAAM,KAAyB,IAChE,eAAY,CAAC,eAAQA,EAAY,IAAM,KAAyB,IAChE,eAAY,CAAC,eAAQA,EAAY,IAAM,KAAyB,IAChE,eAAY,CAAC,eAAQA,EAAY,IAAM,KAAyB,IAChE,eAAS,CAAC,eAAQA,EAAY,IAAM,KAAyB,KAEjEppE,KAAKkgG,SAASv9F,IAElBw1G,EAAatzG,UAAUo0G,WAAa,SAAUt2G,GAC1C,IAAIymE,EAAazmE,EAAEmZ,KAAKstD,WAAW,GACnCA,EAAWn/D,gBAAgB,SAC3B,eAAS,CAACm/D,GAAa,IACvB,eAAS,CAACA,GAAa,eAClB,eAAM,eAAQA,EAAY,IAAM,OACjC,eAAY,CAAC,eAAQA,EAAY,IAAM,KAAyB,IAChE,eAAY,CAAC,eAAQA,EAAY,IAAM,KAAyB,IAChE,eAAY,CAAC,eAAQA,EAAY,IAAM,KAAyB,IAChE,eAAY,CAAC,eAAQA,EAAY,IAAM,KAAyB,IAChE,eAAS,CAAC,eAAQA,EAAY,IAAM,KAAyB,KAEjEppE,KAAKkgG,SAASv9F,IAElBw1G,EAAatzG,UAAUq7F,SAAW,SAAUv9F,GACpCA,EAAEu9F,UACFv9F,EAAEu9F,SAAS,CACPvL,YAAahyF,EAAEmZ,KAAKs8C,WACpByQ,WAAY,OACZ93D,MAAOpO,EAAEoO,MACTupC,MAAOt6C,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBACtDl/E,SAAU3nB,KAAKigC,OAAO23B,cAAcquC,iBAAiBjmG,KAAKigC,OAAO4mE,oBAItEsR,EAnUsB,GCD7B,GAA8B,WAM9B,SAASsB,EAAax5E,GAClBjgC,KAAKigC,OAASA,EACdjgC,KAAK8L,mBAuST,OArSA2tG,EAAa50G,UAAUiH,iBAAmB,WACtC9L,KAAKigC,OAAO+zD,SAASxzF,GAAG,GAAgBR,KAAK05G,YAAa15G,MAC1DA,KAAKigC,OAAO+zD,SAASxzF,GAAG,GAAqBR,KAAK25G,UAAW35G,MAC7DA,KAAKigC,OAAO+zD,SAASxzF,GAAG,GAAwBR,KAAK45G,aAAc55G,MACnEA,KAAKigC,OAAO+zD,SAASxzF,GAAG,GAAoBR,KAAK65G,UAAW75G,MAC5DA,KAAKigC,OAAO+zD,SAASxzF,GAAG,GAAuBR,KAAK85G,aAAc95G,MAClEA,KAAKigC,OAAO+zD,SAASxzF,GAAG,GAAsBR,KAAK+5G,YAAa/5G,MAChEA,KAAKigC,OAAO+zD,SAASxzF,GAAG,GAAsBR,KAAKg6G,YAAah6G,MAChEA,KAAKigC,OAAO+zD,SAASxzF,GAAG,GAA+BR,KAAKi6G,mBAAoBj6G,OAEpFy5G,EAAa50G,UAAU60G,YAAc,SAAU/2G,GAC3C,IAAIu3G,EAAQ,eAAc,QAAS,CAAEtxG,UAAW,gBAC5CuxG,EAAU,eAAc,SACvB,eAAMx3G,EAAEmZ,KAAKxN,MAAMA,SACpB4rG,EAAMzyG,MAAM6G,MAAQtO,KAAKo5G,oBAAoBz2G,EAAEmZ,KAAKxN,MAAMA,QAEzD,eAAM3L,EAAEmZ,KAAKxN,MAAM+V,YACpB61F,EAAMzyG,MAAM4c,SAAWrkB,KAAKo5G,oBAAoBz2G,EAAEmZ,KAAKxN,MAAM+V,WAE5D,eAAM1hB,EAAEmZ,KAAKxN,MAAMqsB,YACpBu/E,EAAMzyG,MAAMkzB,SAAW36B,KAAKo5G,oBAAoBz2G,EAAEmZ,KAAKxN,MAAMqsB,WAGjE,IADA,IAAIy/E,EAAQzxF,SAAShmB,EAAEmZ,KAAKxN,MAAMA,MAAO,IAAM3L,EAAEmZ,KAAKwxC,QAC7C7nD,EAAI,EAAGA,EAAI9C,EAAEmZ,KAAKoxC,IAAKznD,IAAK,CAEjC,IADA,IAAIynD,EAAM,eAAc,MACf/+B,EAAI,EAAGA,EAAIxrB,EAAEmZ,KAAKwxC,QAASn/B,IAAK,CACrC,IAAIksF,EAAO,eAAc,MACzBA,EAAKlxG,YAAY,eAAc,OAC/BkxG,EAAK5yG,MAAM6G,MAAQ8rG,EAAQ,IAC3BltD,EAAI/jD,YAAYkxG,GAEpBF,EAAQhxG,YAAY+jD,GAiBxB,OAfAgtD,EAAM/wG,YAAYgxG,GAClBx3G,EAAEmZ,KAAKutD,UAAUsC,UACjB,GAAWmnC,OAAO9yG,KAAKigC,OAAO4mE,gBAAiBqT,EAAOl6G,KAAKigC,OAAO2+B,iBAClE5+D,KAAKs6G,kBACL33G,EAAEmZ,KAAKutD,UAAUyuB,iBAAiB93F,KAAKigC,OAAO4mE,gBAAiBqT,EAAMrtG,cAAc,MAAOqtG,EAAMrtG,cAAc,MAAO,EAAG,GACxHqtG,EAAMrtG,cAAc,MAAMjF,UAAUC,IAAI,iBACpClF,EAAEu9F,UACFv9F,EAAEu9F,SAAS,CACPvL,YAAa,QACb9rB,WAAY,OACZ93D,MAAOpO,EAAEoO,MACTupC,MAAOt6C,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBACtDl/E,SAAU,CAACuyF,KAGZA,GAEXT,EAAa50G,UAAUu0G,oBAAsB,SAAU/3G,GACnD,IAAIg4G,EAYJ,OATQA,EAFe,kBAAZ,IACHh4G,EAAM2Z,QAAQ,OAAS3Z,EAAM2Z,QAAQ,MAAQ3Z,EAAM2Z,QAAQ,SAC9C3Z,EAOJA,EAAQ,KAElBg4G,GAEXI,EAAa50G,UAAUy1G,gBAAkB,WAErC,IADA,IAAI7L,EAAUzuG,KAAKigC,OAAO2+B,gBAAgBppD,iBAAiB,sBAClD/P,EAAI,EAAGA,EAAIgpG,EAAQrpG,OAAQK,IAChC,eAAOgpG,EAAQhpG,IAEnB,IAAI80G,EAAev6G,KAAKigC,OAAO2+B,gBAAgBppD,iBAAiB,cAChE,IAAS/P,EAAI,EAAGA,EAAI80G,EAAan1G,OAAQK,IACrC,eAAO80G,EAAa90G,IAChB80G,EAAan1G,SAAWK,EAAI,IAC5B80G,EAAev6G,KAAKigC,OAAO2+B,gBAAgBppD,iBAAiB,cAC5D/P,GAAK,GAGb,IAAIipG,EAAU1uG,KAAKigC,OAAO2+B,gBAAgBppD,iBAAiB,YAC3D,IAAS/P,EAAI,EAAGA,EAAIipG,EAAQtpG,OAAQK,IAChC,eAAOipG,EAAQjpG,KAGvBg0G,EAAa50G,UAAUujG,YAAc,SAAUjC,EAASkC,GACpDA,EAAc7/E,WAAW9d,aAAay7F,EAASkC,EAAcpyC,cAEjEwjD,EAAa50G,UAAU80G,UAAY,SAAUh3G,GACzC,IAAI63G,EAAe73G,EAAEmZ,KAAKutD,UAAU/uB,MAAM0d,eAE1C,GADAwiD,EAA0C,IAA1BA,EAAankB,SAAkBmkB,EAAahyF,WAAagyF,EAC7B,OAAxCA,EAAajpF,SAASxT,eAAgD,oBAAtBpb,EAAEmZ,KAAKs8C,WAA3D,CAGA,IACIqiD,EADAC,EAAS,eAAQF,EAAc,MAEnC,GAA4C,OAAxCA,EAAajpF,SAASxT,cAAwB,CAC9C08F,EAAS,eAAQD,EAAc,MAAMlzF,WAAU,GAC/C,IAAIqzF,EAAUv3G,MAAMyB,UAAUd,MAAM+C,KAAK2zG,EAAOjlG,iBAAiB,OACjEpS,MAAMyB,UAAUiF,QAAQhD,KAAK6zG,GAAS,SAAUN,GAC5CA,EAAKnwF,UAAY,GACjBmwF,EAAKlxG,YAAY,eAAc,OAC/BkxG,EAAKpwG,gBAAgB,gBAGxB,CACD,IAAImX,EAAas5F,EAAOt5F,WACxBq5F,EAAS,eAAc,MACvB,IAAK,IAAIh1G,EAAI,EAAGA,EAAI2b,EAAWhc,OAAQK,IAAK,CACxC,IAAIm1G,EAAY,eAAc,MAC9BA,EAAUzxG,YAAY,eAAc,OACpCsxG,EAAOtxG,YAAYyxG,IAGJ,oBAAtBj4G,EAAEmZ,KAAKs8C,WACJsiD,EAAOjgG,cAAc/P,aAAa+vG,EAAQC,GAAU16G,KAAKooG,YAAYqS,EAAQC,GACjF/3G,EAAEmZ,KAAKutD,UAAUyuB,iBAAiB93F,KAAKigC,OAAO4mE,gBAAiBlkG,EAAEmZ,KAAKutD,UAAU/uB,MAAM0d,eAAgBr1D,EAAEmZ,KAAKutD,UAAU/uB,MAAM0d,eAAgB,EAAG,GAC5Ir1D,EAAEu9F,UACFv9F,EAAEu9F,SAAS,CACPvL,YAAahyF,EAAEmZ,KAAKs8C,WACpByQ,WAAY,OACZ93D,MAAOpO,EAAEoO,MACTupC,MAAOt6C,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBACtDl/E,SAAU3nB,KAAKigC,OAAO23B,cAAcquC,iBAAiBjmG,KAAKigC,OAAO4mE,qBAI7E4S,EAAa50G,UAAU+0G,aAAe,SAAUj3G,GAC5C,IAAI63G,EAAe73G,EAAEmZ,KAAKutD,UAAU/uB,MAAM0d,eAC1CwiD,EAA0C,IAA1BA,EAAankB,SAAkBmkB,EAAahyF,WAAagyF,EACzEA,EAA0C,OAA1BA,EAAajpF,SAAqB,eAAQipF,EAAc,SAAWA,EAMnF,IALA,IACIK,EADAH,EAAS,eAAQF,EAAc,MAE/BM,EAAU,eAAQ,EAAU,SAASC,KACrCC,EAAW53G,MAAMyB,UAAUd,MAAM+C,KAAK4zG,EAAOllG,iBAAiB,UAAUwF,QAAQw/F,GAChFlsG,EAAQqa,SAAShmB,EAAEmZ,KAAKxN,MAAO,KAAOosG,EAAOllG,iBAAiB,SAASpQ,OAAS,GAC3E+oB,EAAI,EAAGA,EAAI,eAAQusF,EAAQ,SAASllG,iBAAiB,SAASpQ,OAAQ+oB,IAC3E,eAAQusF,EAAQ,SAASllG,iBAAiB,SAAS2Y,GAAG1mB,MAAM6G,MAAQA,EAAQ,IAEhF,IAAK,IAAI7I,EAAI,EAAGA,EAAIq1G,EAAQ11G,OAAQK,IAAK,CACrCo1G,EAAUC,EAAQr1G,GAAG+P,iBAAiB,SAASwlG,GAC/C,IAAIC,EAAcJ,EAAQvzF,WAAU,GACpC2zF,EAAY/wF,UAAY,GACxB+wF,EAAY9xG,YAAY,eAAc,OACtC8xG,EAAYhxG,gBAAgB,SACL,qBAAtBtH,EAAEmZ,KAAKs8C,WAAqCyiD,EAAQpgG,cAAc/P,aAAauwG,EAAaJ,GACzF76G,KAAKooG,YAAY6S,EAAaJ,GAEtCl4G,EAAEmZ,KAAKutD,UAAUyuB,iBAAiB93F,KAAKigC,OAAO4mE,gBAAiB2T,EAAcA,EAAc,EAAG,GAC1F73G,EAAEu9F,UACFv9F,EAAEu9F,SAAS,CACPvL,YAAahyF,EAAEmZ,KAAKs8C,WACpByQ,WAAY,OACZ93D,MAAOpO,EAAEoO,MACTupC,MAAOt6C,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBACtDl/E,SAAU3nB,KAAKigC,OAAO23B,cAAcquC,iBAAiBjmG,KAAKigC,OAAO4mE,oBAI7E4S,EAAa50G,UAAUi1G,aAAe,SAAUn3G,GAC5C,IAAI63G,EAAe73G,EAAEmZ,KAAKutD,UAAU/uB,MAAM0d,eAC1CwiD,EAA0C,IAA1BA,EAAankB,SAAkBmkB,EAAahyF,WAAagyF,EACzE,IAAIU,EAAoBV,EAAaW,UACjCC,EAAc,eAAQZ,EAAc,SACpCE,EAAS,eAAQF,EAAc,MAC/BM,EAAU,eAAQJ,EAAQ,SAASK,KACvC,GAAgD,IAA5CL,EAAOllG,iBAAiB,SAASpQ,OACjCzC,EAAEmZ,KAAKutD,UAAUsC,UACjB,eAAO,eAAQ6uC,EAAa//F,cAAe,eAG3C,IAAK,IAAIhV,EAAI,EAAGA,EAAIq1G,EAAQ11G,OAAQK,IAChCq1G,EAAQr1G,GAAG41G,WAAWH,GAClB,OAAQ9uC,OACRzpE,EAAEmZ,KAAKutD,UAAUyuB,iBAAiB93F,KAAKigC,OAAO4mE,gBAAiBuU,EAAYvuG,cAAc,MAAOuuG,EAAYvuG,cAAc,MAAO,EAAG,GACpIuuG,EAAYvuG,cAAc,UAAUjF,UAAUC,IAAI,kBAI9D,GAAIlF,EAAEu9F,SAAU,CACZ,IAAIob,EAAat7G,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBAAiB7uC,eACjF,GAA4B,OAAxBsjD,EAAW/pF,SAAmB,CAC9B,IAAIgqF,EAAmBv7G,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBAAiBh7B,YACnFs+B,EAAYmR,EAAW74G,SAAS84G,GACpCv7G,KAAKigC,OAAO23B,cAAcyuC,eAAermG,KAAKigC,OAAO4mE,gBAAiBsD,EAAW,GAErFxnG,EAAEu9F,SAAS,CACPvL,YAAahyF,EAAEmZ,KAAKs8C,WACpByQ,WAAY,OACZ93D,MAAOpO,EAAEoO,MACTupC,MAAOt6C,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBACtDl/E,SAAU3nB,KAAKigC,OAAO23B,cAAcquC,iBAAiBjmG,KAAKigC,OAAO4mE,qBAI7E4S,EAAa50G,UAAUg1G,UAAY,SAAUl3G,GACzC,IAAI63G,EAAe73G,EAAEmZ,KAAKutD,UAAU/uB,MAAM0d,eAC1CwiD,EAA0C,IAA1BA,EAAankB,SAAkBmkB,EAAahyF,WAAagyF,EACzE,IAAIgB,EAAmBhB,EAAahyF,WAAWizF,SAC3CL,EAAc,eAAQZ,EAAc,SACR,IAA5BY,EAAYL,KAAK31G,QACjBzC,EAAEmZ,KAAKutD,UAAUsC,UACjB,eAAO,eAAQ6uC,EAAa//F,cAAe,YAGd,OAAzB+/F,EAAa/iG,QACb,eAAO2jG,EAAYvuG,cAAc,UAGjCuuG,EAAYvB,UAAU2B,GAE1B74G,EAAEmZ,KAAKutD,UAAUyuB,iBAAiB93F,KAAKigC,OAAO4mE,gBAAiBuU,EAAYvuG,cAAc,MAAOuuG,EAAYvuG,cAAc,MAAO,EAAG,GACpIuuG,EAAYvuG,cAAc,UAAUjF,UAAUC,IAAI,kBAElDlF,EAAEu9F,UACFv9F,EAAEu9F,SAAS,CACPvL,YAAahyF,EAAEmZ,KAAKs8C,WACpByQ,WAAY,OACZ93D,MAAOpO,EAAEoO,MACTupC,MAAOt6C,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBACtDl/E,SAAU3nB,KAAKigC,OAAO23B,cAAcquC,iBAAiBjmG,KAAKigC,OAAO4mE,oBAI7E4S,EAAa50G,UAAUk1G,YAAc,SAAUp3G,GAC3C,IAAI63G,EAAe73G,EAAEmZ,KAAKutD,UAAU/uB,MAAM0d,eAC1CwiD,EAA0C,IAA1BA,EAAankB,SAAkBmkB,EAAahyF,WAAagyF,EACzE,IAAIkB,EAAe,eAAQlB,EAAa//F,cAAe,SACnDihG,IACA/4G,EAAEmZ,KAAKutD,UAAUsC,UACjB,eAAO+vC,IAEP/4G,EAAEu9F,UACFv9F,EAAEu9F,SAAS,CACPvL,YAAahyF,EAAEmZ,KAAKs8C,WACpByQ,WAAY,OACZ93D,MAAOpO,EAAEoO,MACTupC,MAAOt6C,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBACtDl/E,SAAU3nB,KAAKigC,OAAO23B,cAAcquC,iBAAiBjmG,KAAKigC,OAAO4mE,oBAI7E4S,EAAa50G,UAAUm1G,YAAc,SAAUr3G,GAC3C,IAAIg5G,GAAa,EACbnB,EAAe73G,EAAEmZ,KAAKutD,UAAU/uB,MAAM0d,eAC1CwiD,EAA0C,IAA1BA,EAAankB,SAAkBmkB,EAAahyF,WAAagyF,EACzE,IAAIN,EAAQ,eAAQM,EAAa//F,cAAe,SAMhD,GALA,GAAG1W,MAAM+C,KAAKozG,EAAM94F,YAAYtX,SAAQ,SAAUM,GAC1B,UAAhBA,EAAGmnB,WACHoqF,GAAa,MAGjBzB,IAAUyB,EAIV,IAHA,IAAIC,EAAY1B,EAAMrtG,cAAc,MAAMoQ,kBACtCguD,EAASivC,EAAM2B,cACf3uD,EAAM+d,EAAO0uC,UAAU,GAClBl0G,EAAI,EAAGA,EAAIm2G,EAAWn2G,IAAK,CAChC,IAAIq2G,EAAK,eAAc,MACvBA,EAAG3yG,YAAY,eAAc,OAC7B+jD,EAAI/jD,YAAY2yG,QAIpB5B,EAAM6B,cAENp5G,EAAEu9F,UACFv9F,EAAEu9F,SAAS,CACPvL,YAAahyF,EAAEmZ,KAAKs8C,WACpByQ,WAAY,OACZ93D,MAAOpO,EAAEoO,MACTupC,MAAOt6C,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBACtDl/E,SAAU3nB,KAAKigC,OAAO23B,cAAcquC,iBAAiBjmG,KAAKigC,OAAO4mE,oBAI7E4S,EAAa50G,UAAUo1G,mBAAqB,SAAUt3G,GACxB,aAAtBA,EAAEmZ,KAAKs8C,WACPz1D,EAAEmZ,KAAKkgG,UAAUv0G,MAAMw0G,cAAgB,MAEZ,gBAAtBt5G,EAAEmZ,KAAKs8C,WACZz1D,EAAEmZ,KAAKkgG,UAAUv0G,MAAMw0G,cAAgB,SAGvCt5G,EAAEmZ,KAAKkgG,UAAUv0G,MAAMw0G,cAAgB,SAEvCt5G,EAAEu9F,UACFv9F,EAAEu9F,SAAS,CACPvL,YAAahyF,EAAEmZ,KAAKs8C,WACpByQ,WAAY,OACZ93D,MAAOpO,EAAEoO,MACTupC,MAAOt6C,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBACtDl/E,SAAU3nB,KAAKigC,OAAO23B,cAAcquC,iBAAiBjmG,KAAKigC,OAAO4mE,oBAItE4S,EA/SsB,GCH7ByC,GAA6B,WAC7B,SAASA,KAoNT,OA7MAA,EAAYr3G,UAAUs3G,iBAAmB,SAAU1mG,EAAMwzB,EAAQ67D,GAC7D,IAAIt8E,EAAaxoB,KAAKo8G,gBAAgB3mG,EAAMwzB,EAAQ67D,GACpD,OAAmB,OAAft8E,GAAuBA,IAAes8E,EAC/Bt8E,EAEJ,MAEX0zF,EAAYr3G,UAAUu3G,gBAAkB,SAAU3mG,EAAMwzB,EAAQ67D,GAC5D,GACIrvF,EAAOA,EAAK+S,iBACP/S,GAASA,IAASqvF,IAAa9kG,KAAKq8G,gBAAgB5mG,EAAMwzB,IACnE,OAAOxzB,GAEXymG,EAAYr3G,UAAUw3G,gBAAkB,SAAU5mG,EAAMwzB,GACpD,OAAQA,GACJ,IAAK,OACD,OAAOizE,EAAYI,OAAO7mG,GAC9B,IAAK,SACD,OAAOymG,EAAYK,SAAS9mG,GAChC,IAAK,YACD,OAAOymG,EAAYM,YAAY/mG,GACnC,IAAK,gBACD,OAAOymG,EAAYO,gBAAgBhnG,GACvC,IAAK,cACD,OAAOymG,EAAYQ,cAAcjnG,GACrC,IAAK,YACD,OAAOymG,EAAYS,YAAYlnG,GACnC,IAAK,YACD,OAAOzV,KAAK48G,YAAYnnG,GAC5B,IAAK,WACD,OAAOzV,KAAK68G,WAAWpnG,GAC3B,IAAK,WACD,OAAOzV,KAAK88G,WAAWrnG,GAC3B,IAAK,kBACD,OAAOzV,KAAK+8G,kBAAkBtnG,GAClC,QACI,OAAO,IAQnBymG,EAAYI,OAAS,SAAU7mG,GAC3B,IAAIunG,EAAY,CAAC,SAAU,KAC3B,OAAwD,IAApDA,EAAUhiG,QAAQvF,EAAK8b,SAASxT,mBAG+B,IAA1D/d,KAAKi9G,WAAWjiG,QAAQvF,EAAK8b,SAASxT,iBAC3CtI,EAAKhO,OAAmC,SAA1BgO,EAAKhO,MAAMy1G,aAYjChB,EAAYK,SAAW,SAAU9mG,GAC7B,IAAIunG,EAAY,CAAC,KAAM,KACvB,OAAwD,IAApDA,EAAUhiG,QAAQvF,EAAK8b,SAASxT,mBAG+B,IAA1D/d,KAAKi9G,WAAWjiG,QAAQvF,EAAK8b,SAASxT,iBAC3CtI,EAAKhO,OAAkC,WAAzBgO,EAAKhO,MAAM01G,YAYjCjB,EAAYM,YAAc,SAAU/mG,GAChC,IAAIunG,EAAY,CAAC,KACjB,OAAwD,IAApDA,EAAUhiG,QAAQvF,EAAK8b,SAASxT,mBAG+B,IAA1D/d,KAAKi9G,WAAWjiG,QAAQvF,EAAK8b,SAASxT,iBAC3CtI,EAAKhO,OAAuC,cAA9BgO,EAAKhO,MAAM21G,iBAYjClB,EAAYO,gBAAkB,SAAUhnG,GACpC,IAAIunG,EAAY,CAAC,MAAO,UACxB,OAAwD,IAApDA,EAAUhiG,QAAQvF,EAAK8b,SAASxT,mBAG+B,IAA1D/d,KAAKi9G,WAAWjiG,QAAQvF,EAAK8b,SAASxT,iBAC3CtI,EAAKhO,OAAuC,iBAA9BgO,EAAKhO,MAAM21G,iBAYjClB,EAAYQ,cAAgB,SAAUjnG,GAClC,IAAIunG,EAAY,CAAC,OACjB,OAAwD,IAApDA,EAAUhiG,QAAQvF,EAAK8b,SAASxT,gBAYxCm+F,EAAYS,YAAc,SAAUlnG,GAChC,IAAIunG,EAAY,CAAC,OACjB,OAAwD,IAApDA,EAAUhiG,QAAQvF,EAAK8b,SAASxT,gBAOxCm+F,EAAYr3G,UAAU+3G,YAAc,SAAUnnG,GAC1C,IAAIkyC,EAAQlyC,EAAKhO,OAASgO,EAAKhO,MAAMkgD,MACrC,OAAqE,IAAjEu0D,EAAYe,WAAWjiG,QAAQvF,EAAK8b,SAASxT,gBACnC,OAAV4pC,GAA4B,KAAVA,QAA0B5sB,IAAV4sB,GAO1Cu0D,EAAYr3G,UAAUk4G,kBAAoB,SAAUtnG,GAChD,IAAI4nG,EAAY5nG,EAAKhO,OAASgO,EAAKhO,MAAMigD,gBACzC,OAAqE,IAAjEw0D,EAAYe,WAAWjiG,QAAQvF,EAAK8b,SAASxT,gBAC/B,OAAds/F,GAAoC,KAAdA,QAAkCtiF,IAAdsiF,GAOlDnB,EAAYr3G,UAAUi4G,WAAa,SAAUrnG,GACzC,IAAIwX,EAAOxX,EAAKhO,OAASgO,EAAKhO,MAAMylB,SACpC,OAAqE,IAAjEgvF,EAAYe,WAAWjiG,QAAQvF,EAAK8b,SAASxT,gBACpC,OAATkP,GAA0B,KAATA,QAAwB8N,IAAT9N,GAOxCivF,EAAYr3G,UAAUg4G,WAAa,SAAUpnG,GACzC,IAAItU,EAAOsU,EAAKhO,OAASgO,EAAKhO,MAAMo0D,WACpC,OAAqE,IAAjEqgD,EAAYe,WAAWjiG,QAAQvF,EAAK8b,SAASxT,gBACpC,OAAT5c,GAA0B,KAATA,QAAwB45B,IAAT55B,GAQxC+6G,EAAYe,WAAa,CACrB,IACA,OACA,UACA,IACA,MACA,MACA,OACA,OACA,MACA,KACA,IACA,MACA,QACA,IACA,OACA,QACA,OACA,SACA,MACA,MACA,KACA,IACA,OAEGf,EArNqB,GCI5B,GAAmC,WACnC,SAASoB,KA0TT,OAnTAA,EAAkBC,YAAc,SAAUjZ,EAAYr7D,EAAQ67D,EAASzjG,EAAO6uB,GAC1E,IAAIstF,EAAe,CAAC,OAAQ,SAAU,YAAa,gBAAiB,cAChE,YAAa,YAAa,YAAa,YAAa,WAAY,WAAY,mBAChF,GAAIA,EAAaxiG,QAAQiuB,IAAW,EAAG,CACpB,oBAAXA,GAA0C,KAAV5nC,IAChCA,EAAQ,eAEZ,IAAIk0G,EAAe,IAAI1R,GACnB0N,EAAa,IAAI,GACjBkM,EAAc,IAAIvB,GAClB5hE,EAAQi7D,EAAa19C,SAASysC,GAC9Bv7B,EAAOwsC,EAAaxsC,KAAKzuB,EAAOgqD,GAChC3qF,EAAQ2gC,EAAM6d,UAAYo9C,EAAatQ,2BAA2B3qD,GAClEi7D,EAAapQ,6BAA6B7qD,GAC1C+0D,GAAc,EACdqO,GAAW,EACXnmB,GAAW,EACXomB,EAAe,CAAC,YAAa,WAAY,WAAY,mBAAmB3iG,QAAQiuB,IAAW,EAC/F,GAAIqR,EAAM6d,UACN,GAAIx+C,EAAMvU,OAAS,EACfiqG,GAAc,EACd/0D,EAAQi3D,EAAWvB,eAAe1L,EAAYhqD,EAAO3gC,EAAM,SAE1D,GAAoD,OAAhD2gC,EAAM0d,eAAezmC,SAASxT,cAAwB,CAC3D,IAAI6/F,EAAa59G,KAAK69G,iBAAiBvZ,EAAYiR,EAAcj7D,EAAOmjE,EAAalM,EAAYtoE,EAAQ5nC,EAAOyjG,GAChHyQ,EAAa/sC,aAAe+sC,EAAav9C,eAAiBu9C,EAAanR,aAAawZ,GAAY,GAChGrI,EAAazpC,UAAYypC,EAAa1pC,YAAc,EAG5D0rB,EAAWj9C,EAAM6d,UACjB,IAAK,IAAI51D,EAAQ,EAAGA,EAAQoX,EAAMvU,OAAQ7C,IAAS,CAC/C,IAAIu7G,EAAaL,EAAYtB,iBAAiBxiG,EAAMpX,GAAQ0mC,EAAQ67D,GACtD,IAAVviG,GAA8B,OAAfu7G,IACfJ,GAAW,GAMX/jG,EAAMpX,GAJS,OAAfu7G,GAAyBJ,IAAYC,EAItB39G,KAAK+9G,aAAazZ,EAAY3qF,EAAOpX,EAAOu7G,EAAYvmB,EAAUmmB,EAAUC,EAAarjE,EAAOi3D,EAAYtoE,EAAQ5nC,GAHpHrB,KAAKg+G,aAAarkG,EAAOpX,EAAOu7G,EAAYvmB,EAAUmmB,EAAUC,EAAarjE,EAAOi3D,EAAYtoE,EAAQ5nC,EAAOk0G,GAKlIA,EAAev1G,KAAKi+G,eAAetkG,EAAO47F,EAAchE,EAAYhvG,EAAO8sG,GAE3EnpC,MACAC,GAAkB2+B,EAAS50E,GAE/B64C,EAAK4C,YAGb2xC,EAAkBO,iBAAmB,SAAUvZ,EAAYiR,EAAcj7D,EAAOmjE,EAAalM,EAAYtoE,EAAQ5nC,EAAOyjG,GACpH,IAAIoZ,EAAc3I,EAAatsC,kBAAkB3uB,GAC7C6jE,EAAgBD,EAAY94G,OAAS,EAAKq4G,EAAYtB,iBAAiB+B,EAAY,GAAIj1E,EAAQ67D,GAAW,KAC1G8Y,EAAa,KAQjB,OAPIO,GACAP,EAAaM,EAAY,GACzBvP,GAAcM,OAAOkP,IAGrBP,EAAa59G,KAAKo+G,cAAc9Z,EAAYhqD,EAAOrR,EAAQ5nC,GAAOsJ,WAE/DizG,GAEXN,EAAkBU,aAAe,SAAUrkG,EAAOpX,EAAOu7G,EAAYvmB,EAAUmmB,EAAUC,EAAarjE,EAAOi3D,EAAYtoE,EAAQ5nC,EAAOk0G,GACpI,IAgDI4H,EAIAkB,EApDAC,EAAY,KAChB,GAAMhkE,EAAM0d,iBAAmB1d,EAAMkuB,cAAsC,IAAtBluB,EAAMuxB,aACpDvxB,EAAMwxB,YAAcxxB,EAAM0d,eAAe5yD,OAAS,CACrD,IAAI4b,EAAY,GACZsG,EAAY3N,EAAMpX,GACtB,GACIye,EAAUnD,KAAK03F,EAAa7Q,SAASp9E,IACrCA,EAAYA,EAAUkB,iBACjBlB,GAAcA,IAAcw2F,GAMrC,GAL8B,OAA1BnkG,EAAMpX,GAAOgvB,WACbjK,EAAYg3F,EAAa/mB,GAAaumB,EAAWtzF,YAAYplB,OAAS,IAAOk1C,EAAMuxB,YAC/E0lC,EAAWnC,UAAU90D,EAAOwjE,GAAY,GACtCvM,EAAWpC,cAAc70D,EAAOwjE,IAErCvmB,EAyBA,CAED,IADA,IAAIwS,EAAWuU,EACgB,OAAxBvU,EAASp/F,YAAwD,IAAjCo/F,EAASp/F,WAAW0rF,SAAgB,KACvE0T,EAAWA,EAASp/F,WAExBo/F,EAAS7/E,UAAY,UACrBvQ,EAAMpX,GAASwnG,EAASp/F,eA/Bb,CACX,MAAO2c,GAAaA,EAAUlG,WAAWhc,OAAS,GAAO4b,EAAU5b,OAAS,GAAM,GAC1EkiB,EAAUlG,WAAWhc,OAAS4b,EAAUA,EAAU5b,OAAS,GAC/DkiB,EAAYA,EAAUlG,WAAWJ,EAAUA,EAAU5b,OAAS,IAC9D4b,EAAU6xC,MAEd,GAA8B,OAA1Bl5C,EAAMpX,GAAOgvB,SACb,GAA2B,IAAvBjK,EAAU+uE,UAAoBkB,GAAoC,KAAxBjwE,EAAUkK,UAGnD,CACD,IAAIolC,EAAUzhD,SAASxM,cAAc,OACrCiuD,EAAQ1sC,UAAY,UACO,IAAvB5C,EAAU+uE,UACV/uE,EAAU5c,aAAaksD,EAAQjsD,WAAY2c,EAAU3c,YACrDgP,EAAMpX,GAAS+kB,EAAU3c,aAGzB2c,EAAUkB,WAAW9d,aAAaksD,EAAQjsD,WAAY2c,GACtD3N,EAAMpX,GAAS+kB,EAAU2wE,gBACzB3wE,EAAUkB,WAAW1S,YAAYwR,SAZrC3N,EAAMpX,GAAS+kB,GA+B/B,GAJe,oBAAX2hB,IACAk0E,EAAYW,EAAWr2G,MAAMylB,UAGlB,aAAX+b,EAAuB,CACvB,IAAIs1E,EAAK,eAAQ5kG,EAAMpX,GAAOkY,cAAe,iCACxC,eAAM8jG,KACPF,EAAUE,EAAG92G,MAAMigD,iBAG3B,IAAI82D,EAAmBV,EAAW1jG,aAAa,SAC3CqkG,EAAoBX,EAAWrmG,QAC/B4vC,EAAQsnD,GAAcM,OAAO6O,GACjC,GAAIz2D,EAAMjiD,OAAS,GAAKu4G,EAAa,CACjC,IAAK,IAAIl5D,EAAM,EAAGA,EAAM4C,EAAMjiD,OAAQq/C,IAClC4C,EAAM5C,GAAOkqD,GAAcK,KAAK3nD,EAAM5C,GAAMzkD,KAAK0+G,cAAcz1E,EAAQ5nC,EAAOo9G,EAAmBD,IAErG,IAAIG,EAAkBhlG,EAAMpX,GAAOkY,cAOnC,GANK,eAAM0iG,IAA4B,KAAdA,IACrBwB,EAAgBl3G,MAAMylB,SAAWiwF,GAEhC,eAAMkB,IAAwB,KAAZA,IACnBM,EAAgBl3G,MAAMigD,gBAAkB22D,GAE5B,oBAAXp1E,IAAiC,eAAMk0E,IAA4B,KAAdA,GACtDwB,EAAgBlkG,cAAcyP,YAAcy0F,EAAgBn1F,UAAW,CACvE,IAAIo1F,EAAgBD,EAAgBlkG,cACpCmkG,EAAcnkG,cAAc/P,aAAai0G,EAAiBC,GAC1D,eAAOA,GAEX,GAAe,aAAX31E,EAAuB,CACvB,IAAI+X,EAAYrnC,EAAMpX,GAAOkY,cACzBA,EAAgBd,EAAMpX,GAAOkY,cACjC,OAAQ,eAAMA,IAA0D,OAAxCA,EAAchD,QAAQsG,cAClDtD,EAAgBA,EAAcA,cAC9BumC,EAAYvmC,EAEX,eAAMumC,IAAkD,OAApCA,EAAUvpC,QAAQsG,eACvCijC,EAAUx2B,YAAYlB,SAAW3P,EAAMpX,GAAOioB,YAAYlB,SAC1D03B,EAAUv5C,MAAMylB,SAAW7rB,IAIvC,OAAOsY,EAAMpX,IAEjB+6G,EAAkBS,aAAe,SAAUzZ,EAAY3qF,EAAOpX,EAAOu7G,EAAYvmB,EAAUmmB,EAAUC,EAAarjE,EAAOi3D,EAAYtoE,EAAQ5nC,GACzI,GAAKk2F,EAuCD,GAAe,cAAXtuD,GAAqC,cAAXA,EAAwB,CAC9CpiC,EAAU7G,KAAKo+G,cAAc9Z,EAAYhqD,EAAOrR,EAAQ5nC,GAC5DsY,EAAMpX,GAASsE,EAAQ8D,WACvB4mG,EAAWr1F,SAAW,OAGtBq1F,EAAWr1F,SAAWo+B,EAAMuxB,iBA5ChC,GAAoB,OAAfiyC,GAAuBJ,GAAaC,GAKrC,GAJ8B,OAA1BhkG,EAAMpX,GAAOgvB,WACb5X,EAAMpX,GAASgvG,EAAWpC,cAAc70D,EAAO3gC,EAAMpX,IACrDoX,EAAMpX,GAAOioB,YAAc+mF,EAAWrB,cAAcv2F,EAAMpX,GAAOioB,cAEtD,cAAXye,GAAqC,cAAXA,EAC1BtvB,EAAMpX,GAAOioB,YAA0B,cAAXye,EAA0BtvB,EAAMpX,GAAOioB,YAAYq0F,oBACzEllG,EAAMpX,GAAOioB,YAAY0vC,yBAE9B,IAAsB,IAAhByjD,GAAkC,KAAVt8G,EAAe,CAC9C,IAAIwF,EAAU7G,KAAK0+G,cAAcz1E,EAAQ5nC,GACzC,GAAe,aAAX4nC,EAAuB,CACvB,IAAI+X,EAAYrnC,EAAMpX,GAAOkY,cACzBA,EAAgBd,EAAMpX,GAAOkY,cACjC,OAAQ,eAAMA,IAA0D,OAAxCA,EAAchD,QAAQsG,cAClDtD,EAAgBA,EAAcA,cAC9BumC,EAAYvmC,EAEX,eAAMumC,IAAkD,OAApCA,EAAUvpC,QAAQsG,eACvCijC,EAAUx2B,YAAYlB,SAAW3P,EAAMpX,GAAOioB,YAAYlB,SAC1D03B,EAAUv5C,MAAMylB,SAAW7rB,GAE/BsY,EAAMpX,GAASvC,KAAK8+G,YAAYnlG,EAAOpX,EAAOsE,GAC9C,IAAI03G,EAAK,eAAQ5kG,EAAMpX,GAAOkY,cAAe,iCACxC,eAAM8jG,KACP5kG,EAAMpX,GAAOkY,cAAchT,MAAMigD,gBAAkB62D,EAAG92G,MAAMigD,sBAIhE/tC,EAAMpX,GAASvC,KAAK8+G,YAAYnlG,EAAOpX,EAAOsE,SAKtD8S,EAAMpX,GAASgvG,EAAWpC,cAAc70D,EAAO3gC,EAAMpX,IAa7D,OAAOoX,EAAMpX,IAEjB+6G,EAAkBwB,YAAc,SAAUnlG,EAAOpX,EAAOsE,GAKpD,OAJA8S,EAAMpX,GAAUA,IAAWoX,EAAMvU,OAAS,GAAiC,OAA1BuU,EAAMpX,GAAOgvB,SAC1Do9E,GAAcK,KAAKr1F,EAAMpX,GAAQsE,GAC/B8nG,GAAcC,WAAWj1F,EAAMpX,GAAQsE,GAAS,GACtD8S,EAAMpX,GAASvC,KAAK++G,aAAaplG,EAAMpX,GAAQsE,GACxC8S,EAAMpX,IAEjB+6G,EAAkBc,cAAgB,SAAU9Z,EAAYhqD,EAAOrR,EAAQ5nC,GACnE,IAAIwF,EAAU7G,KAAK0+G,cAAcz1E,EAAQ5nC,GAEzC,GADAwF,EAAQqjB,UAAY,UAChB,OAAQkiD,KAAM,CACd,IAAIunC,EAAOrP,EAAWsP,yBACtBD,EAAKxqG,YAAYtC,GACjByzC,EAAM2kD,WAAW0U,QAGjBr5D,EAAM2kD,WAAWp4F,GAErB,OAAOA,GAEXy2G,EAAkByB,aAAe,SAAUtpG,EAAM5O,GAK7C,YAJak0B,IAATtlB,GAA+B,OAATA,IACtB5O,EAAQqjB,UAAY,UACpBzU,EAAO5O,EAAQ8D,YAEZ8K,GAEX6nG,EAAkBW,eAAiB,SAAUtkG,EAAO47F,EAAchE,EAAYhvG,EAAO8sG,GAqBjF,OApBqB,IAAjB11F,EAAMvU,QAAiBiqG,EAMD,IAAjB11F,EAAMvU,QAAgBiqG,GAC3BkG,EAAav9C,eAAiBu9C,EAAanR,aAAazqF,EAAMpX,IAAQ,GACtEgzG,EAAa/sC,aAAe+sC,EAAav9C,eACzCu9C,EAAa1pC,YAAc0lC,EAAWr1F,SACtCq5F,EAAazpC,UAAYylC,EAAWr1F,UAErB,IAAV3Z,GACLgzG,EAAav9C,eAAiBu9C,EAAanR,aAAazqF,EAAMpX,IAAQ,GACtEgzG,EAAa1pC,YAAc,GAEtBtpE,IAAUoX,EAAMvU,OAAS,IAC9BmwG,EAAa/sC,aAAe+sC,EAAanR,aAAazqF,EAAMpX,IAAQ,GACpEgzG,EAAazpC,UAAYnyD,EAAMpX,GAAOioB,YAAYplB,SAjBlDmwG,EAAav9C,eAAiBu9C,EAAanR,aAAazqF,EAAMpX,IAAQ,GACtEgzG,EAAa/sC,aAAe+sC,EAAav9C,eACzCu9C,EAAa1pC,YAAc,EAC3B0pC,EAAazpC,UAAYnyD,EAAMpX,GAAOioB,YAAYplB,QAgB/CmwG,GAEX+H,EAAkBoB,cAAgB,SAAUz1E,EAAQ5nC,EAAOoW,EAAS4iB,GAChE,IAAI5kB,EACJ,OAAQwzB,GACJ,IAAK,OACD,OAAO9zB,SAASxM,cAAc,UAClC,IAAK,SACD,OAAOwM,SAASxM,cAAc,MAClC,IAAK,YAID,OAHA8M,EAAON,SAASxM,cAAc,QAC9B3I,KAAKg/G,aAAavpG,EAAMgC,EAAS4iB,GACjC5kB,EAAKhO,MAAM21G,eAAiB,YACrB3nG,EACX,IAAK,gBAID,OAHAA,EAAON,SAASxM,cAAc,QAC9B3I,KAAKg/G,aAAavpG,EAAMgC,EAAS4iB,GACjC5kB,EAAKhO,MAAM21G,eAAiB,eACrB3nG,EACX,IAAK,cACD,OAAON,SAASxM,cAAc,OAClC,IAAK,YACD,OAAOwM,SAASxM,cAAc,OAClC,IAAK,YAKD,OAJA8M,EAAON,SAASxM,cAAc,QAC9B3I,KAAKg/G,aAAavpG,EAAMgC,EAAS4iB,GACjC5kB,EAAKhO,MAAMkgD,MAAQtmD,EACnBoU,EAAKhO,MAAM21G,eAAiB,UACrB3nG,EACX,IAAK,WAID,OAHAA,EAAON,SAASxM,cAAc,QAC9B3I,KAAKg/G,aAAavpG,EAAMgC,EAAS4iB,GACjC5kB,EAAKhO,MAAMo0D,WAAax6D,EACjBoU,EACX,IAAK,WAID,OAHAA,EAAON,SAASxM,cAAc,QAC9B3I,KAAKg/G,aAAavpG,EAAMgC,EAAS4iB,GACjC5kB,EAAKhO,MAAMylB,SAAW7rB,EACfoU,EACX,QAII,OAHAA,EAAON,SAASxM,cAAc,QAC9B3I,KAAKg/G,aAAavpG,EAAMgC,EAAS4iB,GACjC5kB,EAAKhO,MAAMigD,gBAAkBrmD,EACtBoU,IAGnB6nG,EAAkB0B,aAAe,SAAUj2G,EAAKs5B,EAAKhI,GAClC,OAAXA,GAA2B,SAARgI,GACnBt5B,EAAID,aAAa,QAASuxB,IAG3BijF,EA3T2B,GCDlC,GAAoC,WAMpC,SAAS2B,EAAmBh/E,GACxBjgC,KAAKigC,OAASA,EACdjgC,KAAK8L,mBA8BT,OA5BAmzG,EAAmBp6G,UAAUiH,iBAAmB,WAC5C9L,KAAKigC,OAAO+zD,SAASxzF,GAAG,GAAyBR,KAAKi+G,eAAgBj+G,MACtEA,KAAKigC,OAAO+zD,SAASxzF,GAAG,QAAyBR,KAAK8rC,eAAgB9rC,OAE1Ei/G,EAAmBp6G,UAAUinC,eAAiB,SAAUnpC,GACpD,IAAI66G,EAAe,CAAC,OAAQ,SAAU,YAAa,gBAAiB,cAChE,YAAa,YAAa,aAC1B76G,EAAEoO,MAAMu/B,SAAWktE,EAAaxiG,QAAQrY,EAAEoO,MAAMjD,SAAW,IAC3DnL,EAAEoO,MAAM/E,iBACR,GAAkBuxG,YAAYv9G,KAAKigC,OAAO4mE,gBAAiBlkG,EAAEoO,MAAMjD,OAAQ9N,KAAKigC,OAAO2+B,iBACvF5+D,KAAKkgG,SAASv9F,EAAGA,EAAEoO,MAAMjD,UAGjCmxG,EAAmBp6G,UAAUo5G,eAAiB,SAAUt7G,GACpD,GAAkB46G,YAAYv9G,KAAKigC,OAAO4mE,gBAAiBlkG,EAAEy1D,WAAW8B,oBAAqBl6D,KAAKigC,OAAO2+B,gBAAiBj8D,EAAEtB,MAAOsB,EAAEutB,UACrIlwB,KAAKkgG,SAASv9F,EAAGA,EAAEy1D,aAEvB6mD,EAAmBp6G,UAAUq7F,SAAW,SAAUnvF,EAAOjD,GACjDiD,EAAMmvF,UACNnvF,EAAMmvF,SAAS,CACXvL,YAAa7mF,EACbiD,MAAOA,EAAMA,MACb83D,WAAY,OACZvuB,MAAOt6C,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBACtDl/E,SAAU3nB,KAAKigC,OAAO23B,cAAcquC,iBAAiBjmG,KAAKigC,OAAO4mE,oBAItEoY,EAtC4B,GCDnC,GAAgC,WAMhC,SAASC,EAAej/E,GACpBjgC,KAAKigC,OAASA,EACdjgC,KAAK8L,mBA+BT,OA7BAozG,EAAer6G,UAAUiH,iBAAmB,WACxC9L,KAAKigC,OAAO+zD,SAASxzF,GAAG,GAA0BR,KAAKm/G,UAAWn/G,OAEtEk/G,EAAer6G,UAAUs6G,UAAY,SAAUx8G,GAE3C,GADA,GAAWmwG,OAAO9yG,KAAKigC,OAAO4mE,gBAAiBlkG,EAAEtB,MAAOrB,KAAKigC,OAAO2+B,iBAAiB,GAChE,iBAAjBj8D,EAAEy1D,WAA+B,CACjC,IAAIgnD,EAAiBp/G,KAAKigC,OAAO2+B,gBAAgBppD,iBAAiB,qBAC9D6pG,EAAoB,GAAGt7G,MAAM+C,KAAKs4G,GAClCE,EAAct/G,KAAKigC,OAAO2+B,gBAAgBppD,iBAAiB,qBAC3D+pG,EAAY,GAAGx7G,MAAM+C,KAAKw4G,GAC9B38G,EAAEu9F,SAAS,CACPvL,YAAahyF,EAAEy1D,WACfyQ,WAAY,OACZlhD,SAAU03F,EACVG,QAASD,SAIT58G,EAAEu9F,UACFv9F,EAAEu9F,SAAS,CACPvL,YAAahyF,EAAEy1D,WACfyQ,WAAY,OACZ93D,MAAOpO,EAAEoO,MACTupC,MAAOt6C,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBACtDl/E,SAAU3nB,KAAKigC,OAAO23B,cAAcquC,iBAAiBjmG,KAAKigC,OAAO4mE,oBAK1EqY,EAvCwB,GCC/B,GAA6B,WAC7B,SAASO,KAkNT,OA3MAA,EAAYlpF,MAAQ,SAAU+tE,EAAYQ,EAAS50E,GAC/C,IAAI0nC,EAAgB,IAAIisC,GACpB0N,EAAa,IAAI,GACjBj3D,EAAQsd,EAAcC,SAASysC,GAC/B+K,EAAc/0D,EAAM6d,UACpBx+C,EAAQi+C,EAAc0tC,wBAAwBhrD,GAC9CyuB,EAAOnR,EAAcmR,KAAKzuB,EAAOgqD,GACrC,IAAK+K,EAAa,CACd,IAAI+D,EAAU7B,EAAWpC,cAAc70D,EAAO3gC,EAAM,IACpD,GAAqB,IAAjBA,EAAMvU,OACNwyD,EAAc+gC,qBAAqB2L,EAAY8O,GAC/C94D,EAAQsd,EAAcC,SAASysC,OAE9B,CACD,IAAI7+F,EAAI,EACJi6G,EAAW/lG,EAAMA,EAAMvU,OAASK,GACpC,MAA4C,OAArCkU,EAAMA,EAAMvU,OAASK,GAAG8rB,SAC3B9rB,IACAi6G,EAAW/lG,EAAMA,EAAMvU,OAASK,GAEpC,IAAI6tG,EAAU/B,EAAWpC,cAAc70D,EAAOolE,GAC9C9nD,EAAckgC,iBAAiBwM,EAAY8O,EAASE,EAAS,EAAyB,IAArBA,EAAQjd,SACrEid,EAAQ9oF,YAAYplB,OAASkuG,EAAQlyF,WAAWhc,QACpDk1C,EAAQsd,EAAcC,SAASysC,GAEnC,IAAIqb,EAAa/nD,EAAcqR,kBAAkB3uB,GAC7CslE,EAAmBD,EAAW57G,QAClC/D,KAAK6/G,aAAajoD,EAAcstC,kBAAkB0a,GAAmBA,EAAkBhoD,EAAcC,SAASysC,GAAaiN,EAAYzM,GACvI9kG,KAAK8/G,YAAYxb,EAAYv7B,EAAM42C,GACnCrlE,EAAQsd,EAAcC,SAASysC,GAC/Bqb,EAAa/nD,EAAcqR,kBAAkB3uB,GAC7C,IAAIylE,EAAmBJ,EAAW57G,QAClC/D,KAAKggH,YAAY1b,EAAYyb,EAAkBjb,EAASyM,EAAY35C,GAChEsO,MACAC,GAAkB2+B,EAAS50E,GAE/BlwB,KAAK8/G,YAAYxb,EAAYv7B,EAAM42C,KAG3CF,EAAYK,YAAc,SAAUxb,EAAYv7B,EAAM42C,GAClD,IAAIM,EAAiBl3C,EAAKw8B,eAAeoa,GACzC52C,EAAK/Q,eAAiB+Q,EAAKq7B,aAAa6b,EAAe,IAAI,EAAM3b,GACjEv7B,EAAK8C,YAAc,EACnB9C,EAAKP,aAAeO,EAAKq7B,aAAa6b,EAAeA,EAAe76G,OAAS,IAAI,EAAOk/F,GACxF,IAAI4b,EAAeD,EAAeA,EAAe76G,OAAS,GAC1D2jE,EAAK+C,UAAuC,IAA1Bo0C,EAAa7pB,SAAkB6pB,EAAa11F,YAAYplB,OACpE86G,EAAa9+F,WAAWhc,OAC9B2jE,EAAK4C,WAET8zC,EAAYO,YAAc,SAAU1b,EAAY3qF,EAAOmrF,EAASyM,EAAY35C,GAExE,IADA,IAAI8/C,EAAc,GACTn1G,EAAQ,EAAGA,EAAQoX,EAAMvU,OAAQ7C,IAClCvC,KAAKsjG,WAAWtoF,QAAQrB,EAAMpX,GAAOgvB,SAAS2oC,sBAAwB,IAC5B,IAAvCw9C,EAAY18F,QAAQrB,EAAMpX,IAC7Bm1G,EAAY75F,KAAKlE,EAAMpX,IAEjBvC,KAAKsjG,WAAWtoF,QAAQrB,EAAMpX,GAAOimB,WAAW+I,SAAS2oC,sBAAwB,IAClC,IAAlDw9C,EAAY18F,QAAQrB,EAAMpX,GAAOimB,aACjCs8E,IAAYnrF,EAAMpX,GAAOimB,YAC5BkvF,EAAY75F,KAAKlE,EAAMpX,GAAOimB,YAGtCkvF,EAAc13G,KAAKmgH,aAAazI,EAAa/9F,GAAO,GACpD+9F,EAAc13G,KAAKogH,aAAa1I,GAChC13G,KAAKuoG,OAAOjE,EAAYoT,EAAanG,EAAY35C,IAErD6nD,EAAYU,aAAe,SAAUzI,EAAa/9F,GAC9C,IAAK,IAAI0mG,EAAS,EAAGA,EAAS3I,EAAYtyG,OAAQi7G,IAE9C,IADA,IAAI78F,EAAMk0F,EAAY2I,GAAQj/F,WAAWhc,OAChCk7G,EAAS,EAAGA,EAAS98F,EAAK88F,IAK/B,GAJK3mG,EAAMqB,QAAQ08F,EAAY2I,GAAQj/F,WAAWk/F,IAAW,GACrD5I,EAAY2I,GAAQj/F,WAAWk/F,GAAQl/F,WAAWhc,OAAS,IAC/DuU,EAAQ3Z,KAAKmgH,aAAa,CAACzI,EAAY2I,GAAQj/F,WAAWk/F,IAAU3mG,GAAO,IAE1EA,EAAMqB,QAAQ08F,EAAY2I,GAAQj/F,WAAWk/F,MAAa,GACI,KAA9D5I,EAAY2I,GAAQj/F,WAAWk/F,GAAQ91F,YAAYlB,OAAgB,CACpE,IAAK,IAAIi3F,EAAS,EAAGA,EAAS/8F,EAAK+8F,IAC3B5mG,EAAMqB,QAAQ08F,EAAY2I,GAAQj/F,WAAWm/F,KAAY,GACzD5mG,EAAM4O,OAAO5O,EAAMqB,QAAQ08F,EAAY2I,GAAQj/F,WAAWm/F,IAAU,GAG5ED,EAAS5I,EAAY2I,GAAQj/F,WAAWhc,OACxC,IAAIo7G,EAAc9I,EAAY18F,QAAQ08F,EAAY2I,GAAQ73F,YACtDxH,EAAYrH,EAAMqB,QAAQ08F,EAAY2I,GAAQ73F,YAC9Cg4F,GAAe,GACf9I,EAAYnvF,OAAOi4F,EAAa,GAEhCx/F,GAAa,GACbrH,EAAM4O,OAAOvH,EAAW,GAE5B,IAAIy/F,EAAe9mG,EAAMqB,QAAQ08F,EAAY2I,IACzCI,GAAgB,GAChB9mG,EAAM4O,OAAOk4F,EAAc,GAE/B/I,EAAYnvF,OAAO83F,EAAQ,GAC3BA,IAIZ,MAAO,CAAC3I,EAAa/9F,IAEzB8lG,EAAY3pG,YAAc,SAAU4hG,EAAalvF,GAC7C,IAAIzC,EAAQyC,EAAWpH,WAAWhc,OAClC,GAAI2gB,EAAQ,EACR,IAAK,IAAIxjB,EAAQ,EAAGA,EAAQwjB,EAAOxjB,IAC3Bm1G,EAAY18F,QAAQwN,EAAWpH,WAAW7e,KAAW,IACrDm1G,EAAc13G,KAAK8V,YAAY4hG,EAAalvF,EAAWpH,WAAW7e,IAClEm1G,EAAYnvF,OAAOmvF,EAAY18F,QAAQwN,EAAWpH,WAAW7e,IAAS,IAIlF,OAAOm1G,GAEX+H,EAAYW,aAAe,SAAU1I,GACjC,IAAK,IAAIn1G,EAAQ,EAAGA,EAAQm1G,EAAYtyG,OAAQ7C,IACxCm1G,EAAY18F,QAAQ08F,EAAYn1G,GAAOimB,aAAe,IACtDkvF,EAAc13G,KAAK8V,YAAY4hG,EAAaA,EAAYn1G,IACxDm1G,EAAYnvF,OAAOhmB,EAAO,GAC1BA,KAGR,OAAOm1G,GAEX+H,EAAYlX,OAAS,SAAUjE,EAAYoT,EAAanG,EAAY35C,GAChE,IAAK,IAAIyoD,EAAS,EAAGA,EAAS3I,EAAYtyG,OAAQi7G,IAO9C,GANIrgH,KAAK0gH,cAAc1lG,QAAQ08F,EAAY2I,GAAQ9uF,SAASxT,gBAAkB,GACvE25F,EAAY2I,GAAQ73F,YACpBxoB,KAAK2gH,qBAAqB3lG,QAAQ08F,EAAY2I,GAAQ73F,WAAW+I,SAASxT,gBAAkB,IAC/F65C,EAAckgC,iBAAiBwM,EAAYoT,EAAY2I,GAAS3I,EAAY2I,GAAS,EAAG3I,EAAY2I,GAAQj/F,WAAWhc,QACvHupG,GAAcM,OAAOsC,EAAWpC,cAAcv3C,EAAcC,SAASysC,GAAaoT,EAAY2I,GAAQ73F,cAEjD,MAArDkvF,EAAY2I,GAAQ9uF,SAAS2oC,oBAA6B,GACtDl6D,KAAK2gH,qBAAqB3lG,QAAQ08F,EAAY2I,GAAQ9uF,SAASxT,eAAiB,GACb,MAAhE25F,EAAY2I,GAAQ73F,WAAW+I,SAAS2oC,uBACgB,eAArDw9C,EAAY2I,GAAQ9uF,SAAS2oC,qBACyB,OAArDw9C,EAAY2I,GAAQ9uF,SAAS2oC,sBAC7Bl6D,KAAK4gH,mBAAmB5lG,QAAQ08F,EAAY2I,GAAQj/F,WAAW,GAAGmQ,SAAS2oC,sBAAwB,GAC3D,IAA1Cw9C,EAAY2I,GAAQj/F,WAAWhc,QACsC,MAAnEsyG,EAAY2I,GAAQj/F,WAAW,GAAGmQ,SAAS2oC,qBAClDy0C,GAAcK,KAAK0I,EAAY2I,GAAS/b,EAAW37F,cAAc,MAErE,IAAIyY,EAAautF,GAAcM,OAAOyI,EAAY2I,IACxB,IAAtBj/F,EAAWhc,QACkD,MAA1Dgc,EAAW,GAAGoH,WAAW+I,SAAS2oC,sBACrCy0C,GAAcK,KAAK0I,EAAY2I,GAAS/b,EAAW37F,cAAc,MACjEgmG,GAAcM,OAAOyI,EAAY2I,KAErC,IAAK,IAAIC,EAAS,EAAGA,EAASl/F,EAAWhc,OAAQk7G,IAC7C,GAAItgH,KAAK0gH,cAAc1lG,QAAQoG,EAAWk/F,GAAQ/uF,SAASxT,gBAAkB,EACzE/d,KAAKuoG,OAAOjE,EAAY,CAACljF,EAAWk/F,IAAU/O,EAAY35C,QAEzD,GAAI53D,KAAKsjG,WAAWtoF,QAAQoG,EAAWk/F,GAAQ/uF,SAAS2oC,sBAAwB,GAC7B,MAApD94C,EAAWk/F,GAAQ/uF,SAAS2oC,oBAA6B,CACzD,IAAIkwC,EAAapqG,KAAKogH,aAAa,CAACh/F,EAAWk/F,KAC/CtgH,KAAKuoG,OAAOjE,EAAY8F,EAAYmH,EAAY35C,QAE3C53D,KAAKsjG,WAAWtoF,QAAQoG,EAAWk/F,GAAQ/uF,SAAS2oC,sBAAwB,GACjF94C,EAAWk/F,GAAQ93F,WAAW+I,SAAS2oC,sBAAwB94C,EAAWk/F,GAAQ/uF,SAAS2oC,oBAC3Fy0C,GAAcM,OAAO7tF,EAAWk/F,IAE3BtgH,KAAKsjG,WAAWtoF,QAAQoG,EAAWk/F,GAAQ/uF,SAAS2oC,sBAAwB,GAC7B,MAApD94C,EAAWk/F,GAAQ/uF,SAAS2oC,sBAC5By0C,GAAcK,KAAK5tF,EAAWk/F,GAAShc,EAAW37F,cAAc,MAChEgmG,GAAcM,OAAO7tF,EAAWk/F,UAKxC3R,GAAcK,KAAK0I,EAAY2I,GAAS/b,EAAW37F,cAAc,MACjEgmG,GAAcM,OAAOyI,EAAY2I,KAI7CZ,EAAYI,aAAe,SAAUrW,EAAW7vF,EAAO2gC,EAAOi3D,EAAYzM,GACtE,IAAK,IAAIviG,EAAQ,EAAGA,EAAQinG,EAAUpkG,OAAQ7C,IACtCinG,EAAUjnG,GAAOimB,YACjB0zF,GAAYe,WAAWjiG,QAAQwuF,EAAUjnG,GAAOimB,WAAW+I,SAAS2oC,sBAAwB,IAC5Fq3C,EAAWpC,cAAc70D,EAAOkvD,EAAUjnG,GAAOimB,YACjDxoB,KAAK6gH,mBAAmBrX,EAAUjnG,GAAOimB,cAIrDi3F,EAAYoB,mBAAqB,SAAUrX,GAEvC,IADA,IAAI7vF,EAAQg1F,GAAcM,OAAOzF,GACxBjnG,EAAQ,EAAGA,EAAQoX,EAAMvU,OAAQ7C,IACY,IAA9CoX,EAAMpX,GAAOimB,WAAWpH,WAAWhc,QAChC82G,GAAYe,WAAWjiG,QAAQrB,EAAMpX,GAAOimB,WAAW+I,SAAS2oC,sBAAwB,EAC3Fl6D,KAAK6gH,mBAAmBlnG,EAAMpX,GAAOimB,YAEhC0zF,GAAYe,WAAWjiG,QAAQrB,EAAMpX,GAAOgvB,SAAS2oC,sBAAwB,GAClFl6D,KAAK6gH,mBAAmBlnG,EAAMpX,KAI1Ck9G,EAAYnc,WAAa,CAAC,UAAW,UAAW,QAAS,aACrD,UAAW,KAAM,MAAO,KAAM,KAAM,WAAY,aAAc,SAAU,SACxE,OAAQ,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,SAAU,SAAU,KAAM,OAAQ,MAC9E,WAAY,KAAM,IAAK,MAAO,UAAW,QAAS,QAAS,KAAM,QAAS,KAC1E,QAAS,KAAM,MACnBmc,EAAYkB,qBAAuB,CAAC,QAAS,QAAS,KAAM,KAAM,QAAS,QAAS,MACpFlB,EAAYmB,mBAAqB,CAAC,KAAM,KAAM,SAC9CnB,EAAYiB,cAAgB,CAAC,QAAS,QAAS,aAAc,KAAM,KAC/D,KAAM,QAAS,aAAc,MAC1BjB,EAnNqB,GCA5B,GAAiC,WAMjC,SAASqB,EAAgB7gF,GACrBjgC,KAAKigC,OAASA,EACdjgC,KAAK8L,mBA4BT,OA1BAg1G,EAAgBj8G,UAAUiH,iBAAmB,WACzC9L,KAAKigC,OAAO+zD,SAASxzF,GAAG,GAAqBR,KAAK+gH,WAAY/gH,MAC9DA,KAAKigC,OAAO+zD,SAASxzF,GAAG,QAAyBR,KAAKqnE,UAAWrnE,OAErE8gH,EAAgBj8G,UAAUwiE,UAAY,SAAU1kE,GAC5C,OAAQA,EAAEoO,MAAMjD,QACZ,IAAK,eACD9N,KAAK+gH,WAAW,CAAE3oD,WAAY,cAAe8nC,SAAUv9F,EAAEu9F,WACzDv9F,EAAEoO,MAAM/E,iBACR,QAGZ80G,EAAgBj8G,UAAUk8G,WAAa,SAAUp+G,GACxB,gBAAjBA,EAAEy1D,aACF,GAAY7hC,MAAMv2B,KAAKigC,OAAO4mE,gBAAiB7mG,KAAKigC,OAAO2+B,gBAAiBj8D,EAAEutB,UAC1EvtB,EAAEu9F,UACFv9F,EAAEu9F,SAAS,CACPvL,YAAahyF,EAAEy1D,WACfrnD,MAAOpO,EAAEoO,MACT83D,WAAY,OACZvuB,MAAOt6C,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBACtDl/E,SAAU3nB,KAAKigC,OAAO23B,cAAcquC,iBAAiBjmG,KAAKigC,OAAO4mE,qBAK1Eia,EApCyB,GCDhC,GAAiC,WACjC,SAASE,EAAgB/gF,EAAQr5B,GAC7B5G,KAAKuiG,cAAgB,GACrBviG,KAAKigC,OAASA,EACdjgC,KAAKihH,cAAiB,eAAkBr6G,GAAmC,GAAxBA,EAAQq6G,cAC3DjhH,KAAKkhH,cAAiB,eAAkBt6G,GAAmC,IAAxBA,EAAQs6G,cAC3DlhH,KAAK8L,mBA6KT,OA3KAk1G,EAAgBn8G,UAAUiH,iBAAmB,WACzC,IAAIq1G,EAAmB,eAASnhH,KAAKymD,MAAOzmD,KAAKkhH,eACjDlhH,KAAKigC,OAAO+zD,SAASxzF,GAAG,QAAuB2gH,EAAkBnhH,MACjEA,KAAKigC,OAAO+zD,SAASxzF,GAAG,QAAyBR,KAAKi9B,QAASj9B,MAC/DA,KAAKigC,OAAO+zD,SAASxzF,GAAG,QAAeR,KAAKohH,SAAUphH,MACtDA,KAAKigC,OAAO+zD,SAASxzF,GAAG,QAA6BR,KAAK8O,kBAAmB9O,OAEjFghH,EAAgBn8G,UAAUiK,kBAAoB,SAAUmd,GACpD,IAAK,IAAI1oB,EAAK,EAAGwG,EAAKzF,OAAO2K,KAAKgd,EAAMld,SAAUxL,EAAKwG,EAAG3E,OAAQ7B,IAAM,CACpE,IAAI2L,EAAOnF,EAAGxG,GACd,OAAQ2L,GACJ,IAAK,gBACDlP,KAAKihH,cAAgBh1F,EAAMld,QAAQkyG,cACnC,MACJ,IAAK,gBACDjhH,KAAKkhH,cAAgBj1F,EAAMld,QAAQmyG,cACnC,SAIhBF,EAAgBn8G,UAAUoT,oBAAsB,WAC5CjY,KAAKigC,OAAO+zD,SAAS7+B,IAAI,QAAuBn1D,KAAKymD,OACrDzmD,KAAKigC,OAAO+zD,SAAS7+B,IAAI,QAAyBn1D,KAAKi9B,SACvDj9B,KAAKigC,OAAO+zD,SAAS7+B,IAAI,QAAen1D,KAAKohH,WAOjDJ,EAAgBn8G,UAAUu8G,SAAW,SAAUz+G,GACtB,SAAjBA,EAAEy1D,WACFp4D,KAAKw6D,KAAK73D,GAGV3C,KAAKqhH,KAAK1+G,IAUlBq+G,EAAgBn8G,UAAU6E,QAAU,WAChC1J,KAAKiY,uBAET+oG,EAAgBn8G,UAAUo4B,QAAU,SAAUt6B,GAC1C,IAAIoO,EAAQpO,EAAEoO,MACVirB,EAAQh8B,KACZ,OAAQ+Q,EAAMjD,QACV,IAAK,OACDiD,EAAM/E,iBACNgwB,EAAMw+B,KAAK73D,GACX,MACJ,IAAK,OACDoO,EAAM/E,iBACNgwB,EAAMqlF,KAAK1+G,GACX,QAGZq+G,EAAgBn8G,UAAU4hD,MAAQ,SAAU9jD,GAChB,KAApBA,EAAEoO,MAAM6G,SAAmBjV,EAAEoO,MAAMu/B,SACnCtwC,KAAK06D,SAAS/3D,IAUtBq+G,EAAgBn8G,UAAU61D,SAAW,SAAU/3D,GAC3C,IAAI23C,GAAQ,IAAIupD,IAAgBhsC,SAAS73D,KAAKigC,OAAO4mE,iBACjD99B,GAAO,IAAI86B,IAAgB96B,KAAKzuB,EAAOt6C,KAAKigC,OAAO4mE,iBACnD/F,EAAW9gG,KAAKigC,OAAO2+B,gBAAgB10C,UACvCo3F,EAAW,CAAErmG,KAAM6lF,EAAUxmD,MAAOyuB,GACpC/oE,KAAKuiG,cAAcn9F,QAAUpF,KAAKkgD,QAClClgD,KAAKuiG,cAAgBviG,KAAKuiG,cAAcx+F,MAAM,EAAG/D,KAAKkgD,MAAQ,IAE9DlgD,KAAKuiG,cAAcn9F,OAAS,GAAMpF,KAAKuiG,cAAcviG,KAAKuiG,cAAcn9F,OAAS,GAAGk1C,MAAMA,MAAM6d,YAAc7d,EAAM6d,WAChHn4D,KAAKuiG,cAAcviG,KAAKuiG,cAAcn9F,OAAS,GAAGk1C,MAAMuxB,cAAgB9C,EAAKzuB,MAAMuxB,aACtF7rE,KAAKuiG,cAAcviG,KAAKuiG,cAAcn9F,OAAS,GAAGk1C,MAAMwxB,YAAc/C,EAAKzuB,MAAMwxB,WACjF9rE,KAAKuiG,cAAcviG,KAAKuiG,cAAcn9F,OAAS,GAAGk1C,MAAMA,MAAM0d,iBAAmB+Q,EAAKzuB,MAAM0d,gBAC5Fh4D,KAAKuiG,cAAcviG,KAAKuiG,cAAcn9F,OAAS,GAAG6V,KAAKqO,SAAWg4F,EAASrmG,KAAKqO,SAGrFtpB,KAAKuiG,cAAc1kF,KAAKyjG,GACxBthH,KAAKkgD,MAAQlgD,KAAKuiG,cAAcn9F,OAAS,EACrCpF,KAAKkgD,MAAQlgD,KAAKihH,gBAClBjhH,KAAKuiG,cAAcgf,QACnBvhH,KAAKkgD,SAELv9C,GAAKA,EAAEu9F,UACPv9F,EAAEu9F,aAUV8gB,EAAgBn8G,UAAU21D,KAAO,SAAU73D,GACvC,GAAI3C,KAAKkgD,MAAQ,EAAG,CAChB,IAAI5F,EAAQt6C,KAAKuiG,cAAcviG,KAAKkgD,MAAQ,GAAG5F,MAC3CknE,EAAiBxhH,KAAKuiG,cAAcviG,KAAKkgD,MAAQ,GAAGjlC,KACxDjb,KAAKigC,OAAO2+B,gBAAgB10C,UAAYs3F,EACxCxhH,KAAKigC,OAAO2+B,gBAAgB3lD,QACxBitD,MACAC,GAAkBnmE,KAAKigC,OAAO2+B,gBAAiBj8D,EAAEutB,UAErDoqB,EAAMqxB,UACN3rE,KAAKkgD,QACDv9C,EAAEu9F,UACFv9F,EAAEu9F,SAAS,CACPvL,YAAa,OACb9rB,WAAY,OACZvuB,MAAOA,EACP3yB,SAAU3nB,KAAKigC,OAAO23B,cAAcquC,iBAAiBjmG,KAAKigC,OAAO4mE,iBACjE91F,MAAOpO,EAAEoO,UAYzBiwG,EAAgBn8G,UAAUw8G,KAAO,SAAU1+G,GACvC,GAA0C,MAAtC3C,KAAKuiG,cAAcviG,KAAKkgD,MAAQ,GAAY,CAC5C,IAAI5F,EAAQt6C,KAAKuiG,cAAcviG,KAAKkgD,MAAQ,GAAG5F,MAC/Ct6C,KAAKigC,OAAO2+B,gBAAgB10C,UAAYlqB,KAAKuiG,cAAcviG,KAAKkgD,MAAQ,GAAGjlC,KAC3Ejb,KAAKigC,OAAO2+B,gBAAgB3lD,QACxBitD,MACAC,GAAkBnmE,KAAKigC,OAAO2+B,gBAAiBj8D,EAAEutB,UAErDoqB,EAAMqxB,UACN3rE,KAAKkgD,QACDv9C,EAAEu9F,UACFv9F,EAAEu9F,SAAS,CACPvL,YAAa,OACb9rB,WAAY,OACZvuB,MAAOA,EACP3yB,SAAU3nB,KAAKigC,OAAO23B,cAAcquC,iBAAiBjmG,KAAKigC,OAAO4mE,iBACjE91F,MAAOpO,EAAEoO,UAUzBiwG,EAAgBn8G,UAAUi+D,cAAgB,WACtC,IAAI6W,EAAS,CAAEnf,MAAM,EAAO6mD,MAAM,GAOlC,OANIrhH,KAAKkgD,MAAQ,IACby5B,EAAOnf,MAAO,GAEwB,MAAtCx6D,KAAKuiG,cAAcviG,KAAKkgD,MAAQ,KAChCy5B,EAAO0nC,MAAO,GAEX1nC,GAEJqnC,EAnLyB,GCAhC,GAA6B,WAC7B,SAASS,EAAYxhF,GACjBjgC,KAAK0hH,OAAS,CACV,UACA,cACA,cACA,cACA,cACA,eAEJ1hH,KAAK2hH,OAAS,CACV,OACA,SACA,SACA,OACA,SACA,UAEJ3hH,KAAK4hH,eAAiB,CAAC,IAAK,SAAU,IAAK,aAAc,KACrD,SAAU,SAAU,OAAQ,MAAO,WAAY,KAAM,MAAO,MAAO,MAAO,MAC1E,KAAM,KAAM,KAAM,WAAY,OAAQ,OAAQ,QAAS,WAAY,KAAM,KACzE,KAAM,KAAM,KAAM,KAAM,KAAM,IAAK,MAAO,SAAU,QAAS,MAAO,QACpE,KAAM,KAAM,SAAU,IAAK,QAAS,MAAO,IAAK,IAAK,SAAU,OAAQ,SACvE,SAAU,MAAO,MAAO,QAAS,QAAS,KAAM,WAAY,QAAS,KACrE,QAAS,QAAS,KAAM,KAAM,IAAK,MACvC5hH,KAAK00G,UAAY,CAAC,MAAO,IAAK,KAAM,KAAM,KAAM,KAAM,KAAM,KACxD,UAAW,aAAc,SAAU,SAAU,KAAM,MAAO,KAAM,KAAM,WACtE,WAAY,KAAM,SAAU,UAAW,KAAM,MAAO,OAAQ,WAAY,WACxE,SAAU,KAAM,MAAO,QAAS,QAAS,KAAM,QAAS,KAAM,QAAS,KAAM,KAC7E,SAAU,UAAW,MAAO,SAAU,UAAW,QAAS,OAAQ,SAAU,cAChF10G,KAAK6hH,kBAAoB,CAAC,MAAO,SACjC7hH,KAAK8hH,aAAe,GACpB9hH,KAAKigC,OAASA,EACdjgC,KAAK8L,mBAigBT,OA/fA21G,EAAY58G,UAAUiH,iBAAmB,WACrC9L,KAAKigC,OAAO+zD,SAASxzF,GAAG,QAA+BR,KAAK+hH,YAAa/hH,OAE7EyhH,EAAY58G,UAAUk9G,YAAc,SAAUp/G,GAC1C,IAAIq/G,EAAuBr/G,EAAEs/G,4BACzB1X,EAAY,GACZ2X,EAAkBv/G,EAAE+lB,KAAKu3D,cAAckiC,QAAQ,aAC/CC,EAAUz/G,EAAE+lB,KAAKu3D,cAAckiC,QAAQ,YACvCtN,EAAM,eAAc,KACxBA,EAAI/rG,aAAa,KAAM,kBACvB+rG,EAAI3qF,UAAYg4F,EAChB,IAAIG,EAAS,kCACTC,EAAU,kCACVC,EAAU,kHACVF,EAAOr1E,KAAKk1E,IAAoBI,EAAQt1E,KAAKk1E,IAAoBK,EAAQv1E,KAAKk1E,IAC9EliH,KAAKwiH,gBAAgB3N,EAAKuN,GAC1BF,EAAkBA,EAAgBphF,QAAQ,cAAe,IACzDypE,EAAYvqG,KAAKyiH,QAAQ5N,EAAKtK,GACzB,eAAMA,EAAU,KAA8C,OAAvCA,EAAU,GAAG9vF,cAAchD,SACZ,OAAvC8yF,EAAU,GAAG9vF,cAAchD,SAC3BzX,KAAK0iH,cAAcnY,GAEvBvqG,KAAK2iH,gBAAgB9N,EAAKmN,GAC1BhiH,KAAKi0G,iBAAiBY,GACtB70G,KAAK4iH,uBAAuB/N,GAC5B70G,KAAKuzG,oBAAoBsB,GACzB70G,KAAK6iH,kBAAkBhO,GACvB70G,KAAK8iH,gBAAgBjO,GACrBlyG,EAAEu9F,SAAS2U,EAAI3qF,YAGfvnB,EAAEu9F,SAAS2U,EAAI3qF,YAGvBu3F,EAAY58G,UAAU29G,gBAAkB,SAAU3N,EAAKuN,GACnDpiH,KAAK+iH,YAAYlO,GACjB,IAAI2K,EAAU3K,EAAIr/F,iBAAiB,OAC/BwtG,EAAS,GACTC,EAAY,GACZC,EAAU,GACd,GAAI1D,EAAQp6G,OAAS,EAAG,CACpB,IAAK,IAAIK,EAAI,EAAGA,EAAI+5G,EAAQp6G,OAAQK,IAChCu9G,EAAOnlG,KAAK2hG,EAAQ/5G,GAAG2U,aAAa,QACpC8oG,EAAQrlG,KAAK2hG,EAAQ/5G,GAAG2U,aAAa,OAAO/D,MAAM,KAAKmpG,EAAQ/5G,GAAG2U,aAAa,OAAO/D,MAAM,KAAKjR,OAAS,GAAGiR,MAAM,KAAK,IAE5H,IAAI8sG,EAAWnjH,KAAKojH,cAAchB,GAClC,IAAS38G,EAAI,EAAGA,EAAI09G,EAAS/9G,OAAQK,IACjCw9G,EAAUplG,KAAK7d,KAAKqjH,gBAAgBF,EAAS19G,KAEjD,IAASA,EAAI,EAAGA,EAAI+5G,EAAQp6G,OAAQK,IAChC+5G,EAAQ/5G,GAAGqD,aAAa,MAAOm6G,EAAUx9G,IACzC+5G,EAAQ/5G,GAAGqD,aAAa,KAAM,aAAeo6G,EAAQz9G,MAIjEg8G,EAAY58G,UAAUk+G,YAAc,SAAUlO,GAE1C,IADA,IAAIyO,EAAWzO,EAAIr/F,iBAAiB,KAC3B/P,EAAI,EAAGA,EAAI69G,EAASl+G,OAAQK,IACjC,OAAQ69G,EAAS79G,GAAG8rB,UAChB,IAAK,cACD,eAAO+xF,EAAS79G,IAChB,MACJ,IAAK,UACD,GAA+C,gBAA3C69G,EAAS79G,GAAG8G,kBAAkBglB,SAA4B,CAC1D,IAAIymE,EAAMsrB,EAAS79G,GAAG8G,kBAAkB6N,aAAa,OACjDyjF,EAAa,eAAc,OAC/BA,EAAW/0F,aAAa,MAAOkvF,GAC/BsrB,EAAS79G,GAAGgV,cAAc/P,aAAamzF,EAAYylB,EAAS79G,IAC5D,eAAO69G,EAAS79G,IAEpB,QAIhBg8G,EAAY58G,UAAUw+G,gBAAkB,SAAUF,GAC9C,IAAII,EACAC,EAAUxjH,KAAKyjH,oBAAoBN,EAAS73D,KAC5C6rB,EAAen3E,KAAK0jH,iBAAiBF,GAEzC,OADAD,EAASJ,EAAS1nG,KAAO,QAAU0nG,EAAS1nG,KAAO,WAAa07D,EAAe,KACxEosC,GAEX9B,EAAY58G,UAAU6+G,iBAAmB,SAAUF,GAI/C,IAHA,IAAIG,EAAY,GACZC,EAAa,mEACbC,EAAaL,EAAQp+G,OAChBK,EAAI,EAAGA,EAAIo+G,EAAYp+G,GAAK,EAAG,CACpC,IAAIq+G,EAASN,EAAQz/G,MAAM0B,EAAGA,EAAI,GAC9Bs+G,EAAeD,EAAO1+G,OACtB4+G,EAAS,GACb,GAAID,EAAe,EACf,IAAK,IAAI51F,EAAI41F,EAAc51F,EAAI,EAAGA,IAC9B21F,EAAO31F,GAAK,EAGpB61F,EAAO,IAAkB,IAAZF,EAAO,KAAc,EAClCE,EAAO,IAAmB,EAAZF,EAAO,KAAc,EAAMA,EAAO,IAAM,EACtDE,EAAO,IAAmB,GAAZF,EAAO,KAAc,GAAmB,IAAZA,EAAO,KAAc,EAC/DE,EAAO,GAAiB,GAAZF,EAAO,GACnB,IAAS31F,EAAI,EAAGA,EAAI,EAAGA,IAEfw1F,GADAx1F,GAAK41F,EACQH,EAAWrwD,OAAOywD,EAAO71F,IAGzB,IAIzB,OAAOw1F,GAEXlC,EAAY58G,UAAU4+G,oBAAsB,SAAUn4D,GAGlD,IAFA,IAAIk4D,EAAU,GACVK,EAAav4D,EAAIlmD,OAAS,EACrBK,EAAI,EAAGA,EAAIo+G,EAAYp+G,IAC5B+9G,EAAQ3lG,KAAK8K,SAAS2iC,EAAIwF,OAAW,EAAJrrD,EAAO,GAAI,KAEhD,OAAO+9G,GAEX/B,EAAY58G,UAAUu+G,cAAgB,SAAUhB,GAM5C,IALA,IAGIrjB,EAHAklB,EAAU,4FACVC,EAAM,IAAI3+E,OAAO,OAAS0+E,EAAQE,OAAS,yBAA0B,KACrEC,EAAUhC,EAAQx/E,MAAMshF,GAExB5hF,EAAS,GACJ78B,EAAI,EAAGA,EAAI2+G,EAAQh/G,OAAQK,IAChC,GAAIw+G,EAAQj3E,KAAKo3E,EAAQ3+G,IAAK,CAC1B,IAAyC,IAArC2+G,EAAQ3+G,GAAGuV,QAAQ,aACnB+jF,EAAU,gBAET,KAA0C,IAAtCqlB,EAAQ3+G,GAAGuV,QAAQ,cAIxB,SAHA+jF,EAAU,aAKdz8D,EAAOzkB,KAAK,CACRytC,IAAKyzC,EAAUqlB,EAAQ3+G,GAAGq7B,QAAQmjF,EAAS,IAAInjF,QAAQ,eAAgB,IAAM,KAC7ErlB,KAAMsjF,IAIlB,OAAOz8D,GAEXm/E,EAAY58G,UAAUi+G,gBAAkB,SAAUjO,GAE9C,IADA,IAAIwP,EAAexP,EAAIr/F,iBAAiB,YAC/B/P,EAAI,EAAGA,EAAI4+G,EAAaj/G,OAAQK,IACrC4+G,EAAa5+G,GAAGwE,gBAAgB,UAGxCw3G,EAAY58G,UAAUg+G,kBAAoB,SAAUhO,GAEhD,IADA,IAAIyP,EAAczP,EAAIr/F,iBAAiB,KAC9B/P,EAAI,EAAGA,EAAI6+G,EAAYl/G,OAAQK,IACpC,GAAuC,IAAnC6+G,EAAY7+G,GAAGhD,SAAS2C,QAA6C,WAA7Bk/G,EAAY7+G,GAAGykB,WACzB,WAA7Bo6F,EAAY7+G,GAAGykB,YAA2Bo6F,EAAY7+G,GAAG4U,QAAQ,MAAQ,CAC1E,IAAI66F,EAAoBl1G,KAAKukH,eAAeD,EAAY7+G,IACpD++G,EAAY,eAAc,MACzB,eAAMtP,EAAkBz6F,iBACzBy6F,EAAkBz6F,cAAc/P,aAAa85G,EAAWtP,GACxD,eAAOA,MAKvBuM,EAAY58G,UAAU0/G,eAAiB,SAAU19G,GAC7C,IAAImuG,EAQJ,OAFIA,EALC,eAAMnuG,EAAQ4T,gBAC8B,KAA7C5T,EAAQ4T,cAAc+P,YAAYlB,QAAmD,OAAlCziB,EAAQ4T,cAAchD,QAItD5Q,EAHA7G,KAAKukH,eAAe19G,EAAQ4T,eAK5Cu6F,GAEXyM,EAAY58G,UAAU+9G,uBAAyB,SAAU/N,GAErD,IADA,IAAIC,EAAeD,EAAI3qF,UACdzkB,EAAI,EAAGA,EAAIzF,KAAK6hH,kBAAkBz8G,OAAQK,IAAK,CACpD,IAAIg/G,EAAkB,IAAIl/E,OAAO,IAAMvlC,KAAK6hH,kBAAkBp8G,GAAK,IAAK,KACpEi/G,EAAgB,IAAIn/E,OAAO,KAAOvlC,KAAK6hH,kBAAkBp8G,GAAK,IAAK,KACvEqvG,EAAeA,EAAah0E,QAAQ2jF,EAAiB,IACrD3P,EAAeA,EAAah0E,QAAQ4jF,EAAe,IAEvD7P,EAAI3qF,UAAY4qF,EAChBD,EAAIr/F,iBAAiB,WAEzBisG,EAAY58G,UAAUkwG,oBAAsB,SAAUluG,GAClD,IAAImuG,EAcJ,OAFIA,EAXC,eAAMnuG,EAAQ4T,eAWI,KAV8B,KAA7C5T,EAAQ4T,cAAc+P,YAAYlB,QACW,mBAA7CziB,EAAQ4T,cAAcL,aAAa,OACnC,eAAMvT,EAAQ4T,cAAc5N,cAAc,QACvB7M,KAAK+0G,oBAAoBluG,EAAQ4T,eAGjC5T,EAMpBmuG,GAEXyM,EAAY58G,UAAU0uG,oBAAsB,SAAU1sG,GAElD,IADA,IAAIouG,EAAgBpuG,EAAQ2O,iBAAiB,UACpC/P,EAAI,EAAGA,EAAIwvG,EAAc7vG,OAAQK,IACtC,GAAiC,QAA7BwvG,EAAcxvG,GAAGgS,SAAkD,OAA7Bw9F,EAAcxvG,GAAGgS,SAC1B,WAA7Bw9F,EAAcxvG,GAAGgS,SAAqD,OAA7Bw9F,EAAcxvG,GAAGgS,QAAkB,CAC5E,IAAIy9F,EAAoBl1G,KAAK+0G,oBAAoBE,EAAcxvG,IAC1D,eAAMyvG,IACP,eAAOA,KAKvBuM,EAAY58G,UAAU89G,gBAAkB,SAAU9N,EAAKmN,GACnD,IAAI2C,EAAe9P,EAAIr/F,iBAAiB,SACxC,GAAImvG,EAAav/G,OAAS,EAAG,CACzB,IAAIi1B,EAASsqF,EAAa,GAAGz6F,UAAU0Y,MAAM,yBACzCgiF,EAAsB,eAAMvqF,GAAyC,KAA/Br6B,KAAK6kH,gBAAgBxqF,GAC3DprB,EAAO3K,OAAO2K,KAAK21G,GACnBlhE,EAASz0C,EAAKvM,KAAI,SAAU5B,GAAO,OAAO8jH,EAAmB9jH,MACjE4iD,EAAS1jD,KAAK8kH,oBAAoBphE,EAAQs+D,GAC1ChiH,KAAK+kH,aAAalQ,EAAKmN,GAEvB,IADA,IAAIgD,OAAa,EACRv/G,EAAI,EAAGA,EAAIwJ,EAAK7J,OAAQK,IAAK,CAClC,GAA8B,KAA1BwJ,EAAKxJ,GAAG4Q,MAAM,KAAK,GACnB2uG,EAAanQ,EAAIn1F,uBAAuBzQ,EAAKxJ,GAAG4Q,MAAM,KAAK,QAE1D,IAAkC,IAA9BpH,EAAKxJ,GAAG4Q,MAAM,KAAKjR,QAAgB6J,EAAKxJ,GAAG4Q,MAAM,KAAK,GAAG2E,QAAQ,MAAQ,EAC9E,SAGAgqG,EADmC,IAA9B/1G,EAAKxJ,GAAG4Q,MAAM,KAAKjR,QAAgB6J,EAAKxJ,GAAG4Q,MAAM,KAAK,GAAG2E,QAAQ,KAAO,EAChE65F,EAAIr0E,qBAAqBvxB,EAAKxJ,IAG9BovG,EAAIr/F,iBAAiBvG,EAAKxJ,IAE3C,IAAK,IAAI0oB,EAAI,EAAGA,EAAI62F,EAAW5/G,OAAQ+oB,IAAK,CACxC,IAAI82F,EAAgBD,EAAW72F,GAAG/T,aAAa,SAC/C,GAAK,eAAM6qG,IAA2C,KAAzBA,EAAc37F,OAavC07F,EAAW72F,GAAGrlB,aAAa,QAAS46C,EAAOj+C,QAbW,CAEtD,IADA,IAAIy/G,EAAaxhE,EAAOj+C,GAAG4Q,MAAM,KACxBkqC,EAAI,EAAGA,EAAI2kE,EAAW9/G,OAAQm7C,IAC/B0kE,EAAcjqG,QAAQkqG,EAAW3kE,GAAGlqC,MAAM,KAAK,KAAO,IACtD6uG,EAAW38F,OAAOg4B,EAAG,GACrBA,KAGRmD,EAAOj+C,GAAKy/G,EAAW1sF,KAAK,KAAO,IACnC,IAAI2sF,EAAezhE,EAAOj+C,GAAKw/G,EAC/BD,EAAW72F,GAAGrlB,aAAa,QAASq8G,QASxD1D,EAAY58G,UAAUkgH,aAAe,SAAUlQ,EAAKmN,GAEhD,IADA,IAAIoD,EAAgBvQ,EAAIr/F,iBAAiB,YAChC/P,EAAI,EAAGA,EAAI2/G,EAAchgH,OAAQK,IAAK,CAG3C,IAFA,IAAI4/G,EAAoBD,EAAc3/G,GAAG2U,aAAa,SAAS/D,MAAM,KACjEgjG,EAAa,GACRlrF,EAAI,EAAGA,EAAIk3F,EAAkBjgH,OAAQ+oB,IACtC6zF,EAAqBhnG,QAAQqqG,EAAkBl3F,GAAG9X,MAAM,KAAK,GAAGiT,SAAW,IAC3E+vF,GAAcgM,EAAkBl3F,GAAK,KAG7Ci3F,EAAc3/G,GAAGqD,aAAa,QAASuwG,KAG/CoI,EAAY58G,UAAUigH,oBAAsB,SAAUphE,EAAQs+D,GAC1D,IAAK,IAAIv8G,EAAI,EAAGA,EAAIi+C,EAAOt+C,OAAQK,IAAK,CACpC,IAAI6/G,EAAc5hE,EAAOj+C,GAAG4Q,MAAM,KAClCqtC,EAAOj+C,GAAK,GACZ,IAAK,IAAI0oB,EAAI,EAAGA,EAAIm3F,EAAYlgH,OAAQ+oB,IAChC6zF,EAAqBhnG,QAAQsqG,EAAYn3F,GAAG9X,MAAM,KAAK,KAAO,IAC9DqtC,EAAOj+C,IAAM6/G,EAAYn3F,GAAK,KAI1C,OAAOu1B,GAEX+9D,EAAY58G,UAAUggH,gBAAkB,SAAUxqF,GAE9C,IADA,IAAIkrF,EAAmB,GACd9/G,EAAI,EAAGA,EAAI40B,EAAOj1B,OAAQK,IAAK,CACpC,IAAI+/G,EAAYnrF,EAAO50B,GACnBggH,EAAsBD,EAAU1kF,QAAQ,0BAA2B,MACnE4kF,EAAmBF,EAAU1kF,QAAQ,0BAA2B,MACpE2kF,EAAsBA,EAAoB3kF,QAAQ,gBAAiB,IACnE4kF,EAAmBA,EAAiB5kF,QAAQ,gBAAiB,IAC7D2kF,EAAsBA,EAAoB3kF,QAAQ,cAAe,IACjE4kF,EAAmBA,EAAiB5kF,QAAQ,cAAe,IAC3D,IAAK,IAAI6kF,EAAaF,EAAoBpvG,MAAM,MAAO8X,EAAI,EAAGA,EAAIw3F,EAAWvgH,OAAQ+oB,IACjFo3F,EAAiBI,EAAWx3F,IAAMu3F,EAG1C,OAAOH,GAEX9D,EAAY58G,UAAUovG,iBAAmB,SAAUY,GAC/C,IAAIC,EAAeD,EAAI3qF,UACvB4qF,EAAeA,EAAah0E,QAAQ,mBAAoB,IACxD+zE,EAAI3qF,UAAY4qF,GAEpB2M,EAAY58G,UAAU49G,QAAU,SAAUhtG,EAAM80F,GAK5C,IAJA,IAEIqb,EADAC,EAAc,GAEdvC,EAAW7tG,EAAKD,iBAAiB,KAC5BjT,EAAQ,EAAGA,EAAQ+gH,EAASl+G,OAAQ7C,KACsB,IAA3DvC,KAAK4hH,eAAe5mG,QAAQsoG,EAAS/gH,GAAOgvB,WACd,IAA7B+xF,EAAS/gH,GAAO8zF,UAAyD,KAAvCitB,EAAS/gH,GAAOioB,YAAYlB,OAC/Du8F,EAAYhoG,KAAKylG,EAAS/gH,KAGrB+gH,EAAS/gH,GAAOqG,YACoD,IAAzE06G,EAAS/gH,GAAOqG,UAAUmV,cAAc/C,QAAQ,qBAChDuvF,EAAU1sF,KAAKylG,EAAS/gH,KAExBqjH,IAAsF,IAApE5lH,KAAK00G,UAAU15F,QAAQsoG,EAAS/gH,GAAOgvB,SAASxT,gBAChEulG,EAAS/gH,GAAOqG,YAC2D,IAAzE06G,EAAS/gH,GAAOqG,UAAUmV,cAAc/C,QAAQ,qBACpDuvF,EAAU1sF,KAAK,OAEqD,IAApE7d,KAAK00G,UAAU15F,QAAQsoG,EAAS/gH,GAAOgvB,SAASxT,iBAG5C6nG,KAFAtC,EAAS/gH,GAAOqG,YACyD,IAAzE06G,EAAS/gH,GAAOqG,UAAUmV,cAAc/C,QAAQ,uBAW5D,OAHIuvF,EAAUnlG,QAA+C,OAApCmlG,EAAUA,EAAUnlG,OAAS,IAClDmlG,EAAU1sF,KAAK,MAEZ0sF,GAEXkX,EAAY58G,UAAU69G,cAAgB,SAAUnY,GAM5C,IALA,IAAIub,EAIAC,EAHA1oC,EAAO,GACP2oC,EAAa,GACbv3F,EAAU,GAELhpB,EAAI,EAAGA,EAAI8kG,EAAUnlG,OAAQK,IAClC,GAAqB,OAAjB8kG,EAAU9kG,GAAd,CAKAgpB,EAAU87E,EAAU9kG,GAAG2U,aAAa,SAEhC0rG,EADAr3F,IAAyC,IAA9BA,EAAQzT,QAAQ,SACnB2N,SAAS8F,EAAQ8kC,OAAO9kC,EAAQzT,QAAQ,SAAW,GAAI,MAGvD,EAEZhb,KAAK8hH,aAAe,GACpB9hH,KAAKimH,eAAe1b,EAAU9kG,IAC9B,IAAIgW,OAAO,EACX,IAAK,eAAMzb,KAAK8hH,aAAa,IAAK,CAC9BrmG,EAAOzb,KAAK8hH,aAAa,GAAGx4F,OAAOlkB,OAAS,EAAI,KAAO,KAEvD,IADA,IAAImhE,EAAW,GACNp4C,EAAI,EAAGA,EAAInuB,KAAK8hH,aAAa18G,OAAQ+oB,IAC1Co4C,EAAS1oD,KAAK7d,KAAK8hH,aAAa3zF,IAEpC63F,EAAWnoG,KAAK,CAAEqoG,SAAUzqG,EAAMgT,QAAS83C,EAAU4/C,YAAaL,UApBlEzoC,EAAKx/D,KAAK,CAAE4Q,QAASzuB,KAAKomH,eAAeJ,GAAavwG,KAAM80F,EAAU9kG,EAAI,KAC1EugH,EAAa,GAsBrBD,EAASxb,EAAUgX,QACnB,MAAOwE,EAAQ,CAEX,IADA,IAAIM,EAAW,GACNC,EAAQ,EAAGA,EAAQjpC,EAAKj4E,OAAQkhH,IACrC,GAAIjpC,EAAKipC,GAAO7wG,OAASswG,EAAQ,CAC7B,IAAK,IAAIxjH,EAAQ,EAAGA,EAAQ86E,EAAKipC,GAAO73F,QAAQrN,WAAWhc,OAAQ7C,IAC/D8jH,EAASxoG,KAAKw/D,EAAKipC,GAAO73F,QAAQrN,WAAW7e,IAEjD,IAASA,EAAQ,EAAGA,EAAQ8jH,EAASjhH,OAAQ7C,IACzCwjH,EAAOtrG,cAAc/P,aAAa27G,EAAS9jH,GAAQwjH,GAEvD,MAGRA,EAAOp8G,SACPo8G,EAASxb,EAAUgX,QACdwE,IACDA,EAASxb,EAAUgX,WAI/BE,EAAY58G,UAAUuhH,eAAiB,SAAUJ,GAO7C,IANA,IACI3xB,EAEAkyB,EAEAv8G,EALAgc,EAAO,eAAc,OAErBwgG,EAAS,EAETC,EAAY,EAEPlkH,EAAQ,EAAGA,EAAQyjH,EAAW5gH,OAAQ7C,IAAS,CACpD,IAAImkH,EAAW,eAAc,KAE7B,GADAA,EAASx8F,UAAY87F,EAAWzjH,GAAOksB,QAAQ+J,KAAK,KACb,IAAlCwtF,EAAWzjH,GAAO4jH,aAAoC,IAAdM,GAAmBT,EAAWzjH,GAAOksB,QAC9EzI,EAAK7c,YAAYkrF,EAAO,eAAc2xB,EAAWzjH,GAAO2jH,WACxDK,EAAW,eAAc,MACzBA,EAASp9G,YAAYu9G,GACrBryB,EAAKlrF,YAAYo9G,GACjBlyB,EAAKvrF,aAAa,QAASk9G,EAAWzjH,GAAO4jH,YAAYv9F,YACzDyrE,EAAK5sF,MAAMk/G,UAAY3mH,KAAK4mH,aAAaZ,EAAWzjH,GAAO2jH,SAAUF,EAAWzjH,GAAO4jH,kBAEtF,GAAIH,EAAWzjH,GAAO4jH,cAAgBK,EACnCD,EAAS9rG,cAAchD,QAAQsG,gBAAkBioG,EAAWzjH,GAAO2jH,UACnEK,EAAS9rG,cAActR,YAAYo9G,EAAW,eAAc,OAC5DA,EAASp9G,YAAYu9G,KAGrBryB,EAAO,eAAc2xB,EAAWzjH,GAAO2jH,UACvCK,EAAS9rG,cAAcA,cAActR,YAAYkrF,GACjDkyB,EAAW,eAAc,MACzBA,EAASp9G,YAAYu9G,GACrBryB,EAAKlrF,YAAYo9G,GACjBlyB,EAAKvrF,aAAa,QAASk9G,EAAWzjH,GAAO4jH,YAAYv9F,kBAG5D,GAAIo9F,EAAWzjH,GAAO4jH,YAAcK,EACrC,GAAK,eAAMD,GAaPvgG,EAAK7c,YAAYkrF,EAAO,eAAc2xB,EAAWzjH,GAAO2jH,WACxDK,EAAW,eAAc,MACzBA,EAASp9G,YAAYu9G,GACrBryB,EAAKlrF,YAAYo9G,GACjBlyB,EAAKvrF,aAAa,QAASk9G,EAAWzjH,GAAO4jH,YAAYv9F,YACzDyrE,EAAK5sF,MAAMk/G,UAAY3mH,KAAK4mH,aAAaZ,EAAWzjH,GAAO2jH,SAAUF,EAAWzjH,GAAO4jH,iBAlBrE,CAClB,IAAK,IAAIh4F,EAAI,EAAGA,EAAI63F,EAAWzjH,GAAO4jH,YAAcK,EAAQr4F,IACxDo4F,EAASp9G,YAAYkrF,EAAO,eAAc2xB,EAAWzjH,GAAO2jH,WAC5DK,EAAW,eAAc,KAAM,CAAElsF,OAAQ,2BACzCg6D,EAAKlrF,YAAYo9G,GAErBA,EAASp9G,YAAYu9G,GACrBryB,EAAKvrF,aAAa,QAASk9G,EAAWzjH,GAAO4jH,YAAYv9F,YACzDyrE,EAAK5sF,MAAMk/G,UAAY3mH,KAAK4mH,aAAaZ,EAAWzjH,GAAO2jH,SAAUF,EAAWzjH,GAAO4jH,aACvF9xB,EAAKjzE,WAAW,GAAG3Z,MAAMk/G,UACrB3mH,KAAK4mH,aAAaZ,EAAWzjH,GAAO2jH,SAAUF,EAAWzjH,GAAO4jH,kBAWvE,GAAsC,IAAlCH,EAAWzjH,GAAO4jH,YACnBngG,EAAKq7B,UAAU5pC,QAAQsG,gBAAkBioG,EAAWzjH,GAAO2jH,SAC3D7xB,EAAOruE,EAAKq7B,UAGZr7B,EAAK7c,YAAYkrF,EAAO,eAAc2xB,EAAWzjH,GAAO2jH,WAE5DK,EAAW,eAAc,MACzBA,EAASp9G,YAAYu9G,GACrBryB,EAAKlrF,YAAYo9G,GACjBlyB,EAAKvrF,aAAa,QAASk9G,EAAWzjH,GAAO4jH,YAAYv9F,YACzDyrE,EAAK5sF,MAAMk/G,UAAY3mH,KAAK4mH,aAAaZ,EAAWzjH,GAAO2jH,SAAUF,EAAWzjH,GAAO4jH,iBAEtF,CACDn8G,EAAOu8G,EACP,MAAOv8G,EAAKyQ,cAER,GADAzQ,EAAOA,EAAKyQ,cACRzQ,EAAKsnB,WAAWu1F,aAAa,SAAU,CACvC,GAAIl+F,SAAS3e,EAAKsnB,WAAWu1F,aAAa,SAASr8F,YAAa,QAAUw7F,EAAWzjH,GAAO4jH,YAAa,CACrGI,EAAW,eAAc,MACzBA,EAASp9G,YAAYu9G,GACrB18G,EAAKb,YAAYo9G,GACjB,MAEC,GAAIP,EAAWzjH,GAAO4jH,YAAcx9F,SAAS3e,EAAKsnB,WAAWu1F,aAAa,SAASr8F,YAAa,MAAO,CACxGxgB,EAAKb,YAAYkrF,EAAO,eAAc2xB,EAAWzjH,GAAO2jH,WACxDK,EAAW,eAAc,MACzBA,EAASp9G,YAAYu9G,GACrBryB,EAAKlrF,YAAYo9G,GACjBlyB,EAAKvrF,aAAa,QAASk9G,EAAWzjH,GAAO4jH,YAAYv9F,YACzDyrE,EAAK5sF,MAAMk/G,UAAY3mH,KAAK4mH,aAAaZ,EAAWzjH,GAAO2jH,SAAUF,EAAWzjH,GAAO4jH,aACvF,QAMhBK,EAASR,EAAWzjH,GAAO4jH,YAC3BM,IAEJ,OAAOzgG,GAEXy7F,EAAY58G,UAAU+hH,aAAe,SAAUV,EAAUC,GAErD,OADAA,EAAeA,EAAc,EAAKA,EAAc,EAAIA,EACnC,OAAbD,EACQC,EAAcnmH,KAAK0hH,OAAOt8G,OAASpF,KAAK0hH,OAAOyE,GAAenmH,KAAK0hH,OAAO,GAG1EyE,EAAcnmH,KAAK2hH,OAAOv8G,OAASpF,KAAK2hH,OAAOwE,GAAenmH,KAAK2hH,OAAO,IAG1FF,EAAY58G,UAAUohH,eAAiB,SAAUj8G,GAC7C,IAAI88G,EAAc,GACgC,KAA9C98G,EAAKuC,kBAAkBie,YAAYlB,QAClC,eAAMtf,EAAKuC,kBAAkBA,oBACwB,QAAtDvC,EAAKuC,kBAAkBA,kBAAkBglB,UAMzCu1F,EAAc98G,EAAKuC,kBAAkBie,YAAYlB,OACjDtpB,KAAK8hH,aAAajkG,KAAKipG,KANvBA,EAAc98G,EAAKkgB,UAAUZ,OAC7BtpB,KAAK8hH,aAAajkG,KAAK,IACvB7d,KAAK8hH,aAAajkG,KAAKipG,IAM3B,eAAO98G,EAAKuC,mBACZvM,KAAK8hH,aAAajkG,KAAK7T,EAAKkgB,YAEzBu3F,EAliBqB,GCA5B,GAAgC,WAMhC,SAASsF,EAAe9mF,GACpBjgC,KAAKigC,OAASA,EACdjgC,KAAK8L,mBAkBT,OAhBAi7G,EAAeliH,UAAUiH,iBAAmB,WACxC9L,KAAKigC,OAAO+zD,SAASxzF,GAAG,GAA2BR,KAAKgnH,WAAYhnH,OAExE+mH,EAAeliH,UAAUmiH,WAAa,SAAUrkH,GAC5C,IAAI8S,EAAON,SAASy/F,eAAejyG,EAAEtB,OACrC,GAAWyxG,OAAO9yG,KAAKigC,OAAO4mE,gBAAiBpxF,GAC3C9S,EAAEu9F,UACFv9F,EAAEu9F,SAAS,CACPvL,YAAahyF,EAAEy1D,WACfyQ,WAAY,OACZ93D,MAAOpO,EAAEoO,MACTupC,MAAOt6C,KAAKigC,OAAO23B,cAAcC,SAAS73D,KAAKigC,OAAO4mE,iBACtDl/E,SAAU3nB,KAAKigC,OAAO23B,cAAcquC,iBAAiBjmG,KAAKigC,OAAO4mE,oBAItEkgB,EA1BwB,GCgB/B,GAA+B,WAM/B,SAASE,EAAcrgH,GACnB5G,KAAK6mG,gBAAkBjgG,EAAQuO,SAC/BnV,KAAK4+D,gBAAkBh4D,EAAQg4D,gBAC/B5+D,KAAK43D,cAAgB,IAAIisC,GACzB7jG,KAAKyqG,QAAU,IAAI,GAAQzqG,KAAK4+D,gBAAiB5+D,KAAK6mG,iBACtD7mG,KAAKg0F,SAAW,IAAI,OAASh0F,MAC7BA,KAAKknH,QAAU,IAAI,GAAMlnH,MACzBA,KAAKmnH,UAAY,IAAI,GAAQnnH,MAC7BA,KAAKonH,aAAe,IAAI,GAAWpnH,MACnCA,KAAKqnH,WAAa,IAAI,GAAQrnH,MAC9BA,KAAKsnH,QAAU,IAAI,GAAYtnH,MAC/BA,KAAKo3G,OAAS,IAAI,GAAap3G,MAC/BA,KAAKunH,aAAe,IAAI,GAAmBvnH,MAC3CA,KAAKwnH,cAAgB,IAAI,GAAexnH,MACxCA,KAAKynH,cAAgB,IAAI,GAAeznH,MACxCA,KAAK0nH,SAAW,IAAI,GAAgB1nH,MACpCA,KAAK2nH,SAAW,IAAI,GAAa3nH,MACjCA,KAAK6iE,gBAAkB,IAAI,GAAgB7iE,KAAM4G,EAAQA,SACzD5G,KAAK4nH,YAAc,IAAI,GAAY5nH,MACnCA,KAAKgX,aA0GT,OAxGAiwG,EAAcpiH,UAAUmS,WAAa,WACjChX,KAAKg0F,SAASxzF,GAAG,QAAiBR,KAAK6nH,cAAe7nH,MACtDA,KAAKg0F,SAASxzF,GAAG,QAAeR,KAAK8nH,YAAa9nH,MAClDA,KAAKg0F,SAASxzF,GAAG,QAAeR,KAAK8nH,YAAa9nH,MAClDA,KAAKg0F,SAASxzF,GAAG,QAAsBR,KAAK8O,kBAAmB9O,MAC/DA,KAAKg0F,SAASxzF,GAAG,QAAwBR,KAAK+nH,YAAa/nH,OAE/DinH,EAAcpiH,UAAUkjH,YAAc,SAAUplH,GAC5C3C,KAAKg0F,SAASlpE,OAAO,QAA+BnoB,IAExDskH,EAAcpiH,UAAUiK,kBAAoB,SAAUmd,GAClDjsB,KAAKg0F,SAASlpE,OAAO,QAA6BmB,IAEtDg7F,EAAcpiH,UAAUgjH,cAAgB,SAAUllH,GAC9C3C,KAAKg0F,SAASlpE,OAAO,QAAyBnoB,IAElDskH,EAAcpiH,UAAUijH,YAAc,SAAUnlH,GAC5C3C,KAAKg0F,SAASlpE,OAAO,QAAuBnoB,IAOhDskH,EAAcpiH,UAAUm9F,YAAc,SAAU3pC,EAASh3D,EAAO0P,EAAOmvF,EAAUjlF,EAAMq3F,EAAUpiF,GAC7F,OAAQmoC,EAAQ6B,qBACZ,IAAK,QACDl6D,KAAKg0F,SAASlpE,OAAO,QAAkB,CAAEstC,WAAY/2D,EAAO0P,MAAOA,EAAOmvF,SAAUA,EAAUhwE,SAAUA,IACxG,MACJ,IAAK,UACDlwB,KAAKg0F,SAASlpE,OAAO,QAAoB,CAAEstC,WAAY/2D,EAAO0P,MAAOA,EAAOmvF,SAAUA,EAClFhwE,SAAUA,EAAUoiF,SAAUA,IAElC,MACJ,IAAK,aACDtyG,KAAKg0F,SAASlpE,OAAO,GAAyB,CAC1CstC,WAAY/2D,EAAO0P,MAAOA,EAAOmvF,SAAUA,EAC3ChwE,SAAUA,EACV7uB,MAAOixG,IAEX,MACJ,IAAK,UACDtyG,KAAKg0F,SAASlpE,OAAO,GAAsB,CAAEstC,WAAY/2D,EAAO0P,MAAOA,EAAOmvF,SAAUA,EAAUhwE,SAAUA,IAC5G,MACJ,IAAK,QACDlwB,KAAKg0F,SAASlpE,OAAO,GAAe,CAAEutC,QAASA,EAASh3D,MAAOA,EAAOya,KAAMw2F,EAAUvhG,MAAOA,EAAOmvF,SAAUA,IAC9G,MACJ,IAAK,SACDlgG,KAAKg0F,SAASlpE,OAAO,GAAgB,CACjCutC,QAASA,EAASh3D,MAAOA,EAAOya,KAAMw2F,EAAUvhG,MAAOA,EAAOmvF,SAAUA,EAAUhwE,SAAUA,IAEhG,MACJ,IAAK,QACD,OAAQ7uB,EAAMunB,WAAWsxC,qBACrB,IAAK,cACDl6D,KAAKg0F,SAASlpE,OAAO,GAAgB,CAAEhP,KAAMw2F,EAAUvhG,MAAOA,EAAOmvF,SAAUA,IAC/E,MACJ,IAAK,kBACL,IAAK,iBACDlgG,KAAKg0F,SAASlpE,OAAO,GAAqB,CAAEhP,KAAMw2F,EAAUvhG,MAAOA,EAAOmvF,SAAUA,IACpF,MACJ,IAAK,mBACL,IAAK,oBACDlgG,KAAKg0F,SAASlpE,OAAO,GAAwB,CAAEhP,KAAMw2F,EAAUvhG,MAAOA,EAAOmvF,SAAUA,IACvF,MACJ,IAAK,YACDlgG,KAAKg0F,SAASlpE,OAAO,GAAoB,CAAEhP,KAAMw2F,EAAUvhG,MAAOA,EAAOmvF,SAAUA,IACnF,MACJ,IAAK,eACDlgG,KAAKg0F,SAASlpE,OAAO,GAAuB,CAAEhP,KAAMw2F,EAAUvhG,MAAOA,EAAOmvF,SAAUA,IACtF,MACJ,IAAK,cACDlgG,KAAKg0F,SAASlpE,OAAO,GAAsB,CAAEhP,KAAMw2F,EAAUvhG,MAAOA,EAAOmvF,SAAUA,IACrF,MACJ,IAAK,cACDlgG,KAAKg0F,SAASlpE,OAAO,GAAsB,CAAEhP,KAAMw2F,EAAUvhG,MAAOA,EAAOmvF,SAAUA,IACrF,MACJ,IAAK,WACL,IAAK,cACL,IAAK,cACDlgG,KAAKg0F,SAASlpE,OAAO,GAA+B,CAAEhP,KAAMw2F,EAAUvhG,MAAOA,EAAOmvF,SAAUA,IAC9F,MAER,MACJ,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,SACDlgG,KAAKg0F,SAASlpE,OAAO,GAAyB,CAAEstC,WAAY/2D,EAAO0P,MAAOA,EAAOmvF,SAAUA,EAAU7+F,MAAO4Z,EAAMiV,SAAUA,IAC5H,MACJ,IAAK,aACDlwB,KAAKg0F,SAASlpE,OAAO,GAA0B,CAAEstC,WAAY/2D,EAAO6+F,SAAUA,EAAU7+F,MAAO4Z,IAC/F,MACJ,IAAK,aACDjb,KAAKg0F,SAASlpE,OAAO,GAA2B,CAAEstC,WAAY/2D,EAAO6+F,SAAUA,EAAU7+F,MAAO4Z,IAChG,MACJ,IAAK,QACDjb,KAAKg0F,SAASlpE,OAAO,GAAqB,CAAEstC,WAAY/2D,EAAO0P,MAAOA,EAAOmvF,SAAUA,EAAUhwE,SAAUA,IAC3G,MACJ,IAAK,UACDlwB,KAAKg0F,SAASlpE,OAAO,QAAe,CAAEstC,WAAY/2D,EAAO0P,MAAOA,EAAOmvF,SAAUA,EAAUhwE,SAAUA,IACrG,QAGL+2F,EAnIuB,GCvB9B,GAAwC,WACxC,IAAI9iH,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,gBAClB,CAAEC,UAAW,cAAgBpB,OAAS,SAAUgB,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAII,KAAKJ,EAAOA,EAAEK,eAAeD,KAAIL,EAAEK,GAAKJ,EAAEI,KAClEN,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASM,IAAO3E,KAAK4E,YAAcR,EADnCD,EAAcC,EAAGC,GAEjBD,EAAES,UAAkB,OAANR,EAAaC,OAAOQ,OAAOT,IAAMM,EAAGE,UAAYR,EAAEQ,UAAW,IAAIF,IAV3C,GAsBxC,GAA+B,SAAU+B,GAEzC,SAASshH,EAAcphH,GACnB,IAAIqE,EAAQvE,EAAOI,KAAK9G,OAASA,KAMjC,OALAiL,EAAM3D,aACN,eAAO2D,EAAOA,EAAOrE,GAAS,GAC1BqE,EAAM47F,iBAAmB57F,EAAMpE,SAC/BoE,EAAMg9G,gBAAgBh9G,EAAMpE,QAASoE,EAAM47F,gBAAiBjgG,EAAQA,SAEjEqE,EAqBX,OA7BA,GAAU+8G,EAAethH,GAUzBshH,EAAcnjH,UAAUyC,WAAa,WACjCtH,KAAKk/D,UAAYqnC,IASrByhB,EAAcnjH,UAAUojH,gBAAkB,SAAUC,EAAa9xB,EAAKxvF,GAC9DshH,GAAe9xB,IACfp2F,KAAK23D,cAAgB,IAAI,GAAc,CACnCxiD,SAAUihF,EACVx3B,gBAAiBspD,EACjBthH,QAASA,MAIdohH,EA9BuB,CA+BhC,IC7CSG,GAAmB,CAC1BC,MAAM,EACNC,QAAQ,EACRC,WAAW,EACXC,aAAa,EACbC,eAAe,EACfC,aAAa,EACbC,eAAe,EACfC,WAAW,EACX/R,WAAY,KACZgS,gBAAiB,KACjBC,UAAW,KACXC,SAAU,KACV7sD,SAAU,KACV8sD,QAAS,KACTC,YAAY,EACZC,YAAY,GAEZ,GAA+B,WAC/B,SAASC,KAkPT,OA3OAA,EAAc3kB,IAAM,SAAUD,EAAY6kB,EAAYrL,EAAY5wF,EAAUk8F,EAAUC,GAMlF,IALA,IAAIC,EAAmBvsB,KAAKC,MAAMD,KAAKE,UAAUkrB,KAC7CvjB,EAAiB7H,KAAKC,MAAMD,KAAKE,UAAUkrB,KAC3CvwD,EAAgB,IAAIisC,GACpBlqF,EAAQ0vG,EAAe,CAACA,GAAgBzxD,EAAcqR,kBAAkBrR,EAAcC,SAASysC,IAC/FilB,EAAc5vG,EAAMvU,OACf7C,EAAQ,EAAGA,EAAQoX,EAAMvU,OAAQ7C,KACP,OAA1BoX,EAAMpX,GAAOgvB,UAA+C,IAA1B5X,EAAMpX,GAAO8zF,UAC/CkzB,EAAc,GAA+B,IAA1B5vG,EAAMpX,GAAO8zF,UAAsD,KAApC18E,EAAMpX,GAAOioB,YAAYlB,UAC5E3P,EAAM4O,OAAOhmB,EAAO,GACpBA,KAGR,IAASA,EAAQ,EAAGA,EAAQoX,EAAMvU,OAAQ7C,IACtC+mH,EAAmBtpH,KAAKo8G,gBAAgB9X,EAAYglB,EAAkB3vG,EAAMpX,GAAQ4mH,EAAYrL,EAAY5wF,EAAUk8F,IACvG,IAAV7mH,GAAe+mH,EAAiBlB,OAAUkB,EAAiBlB,QAC5DxjB,EAAewjB,KAAOkB,EAAiBlB,OAE5B,IAAV7lH,GAAe+mH,EAAiBL,aAAgBK,EAAiBL,cAClErkB,EAAeqkB,WAAaK,EAAiBL,aAElC,IAAV1mH,GAAe+mH,EAAiBjB,SAAYiB,EAAiBjB,UAC9DzjB,EAAeyjB,OAASiB,EAAiBjB,SAE9B,IAAV9lH,GAAe+mH,EAAiBX,YAAeW,EAAiBX,aACjE/jB,EAAe+jB,UAAYW,EAAiBX,YAEjC,IAAVpmH,GAAe+mH,EAAiBd,gBAAmBc,EAAiBd,iBACrE5jB,EAAe4jB,cAAgBc,EAAiBd,gBAErC,IAAVjmH,GAAe+mH,EAAiBf,cAAiBe,EAAiBf,eACnE3jB,EAAe2jB,YAAce,EAAiBf,cAEnC,IAAVhmH,GAAe+mH,EAAiBhB,YAAegB,EAAiBhB,aACjE1jB,EAAe0jB,UAAYgB,EAAiBhB,YAEjC,IAAV/lH,GAAe+mH,EAAiBT,YAAeS,EAAiBT,aACjEjkB,EAAeikB,UAAYS,EAAiBT,YAEjC,IAAVtmH,GAAe+mH,EAAiBR,WAAcQ,EAAiBR,YAChElkB,EAAekkB,SAAWQ,EAAiBR,WAEhC,IAAVvmH,GAAe+mH,EAAiBrtD,WAAcqtD,EAAiBrtD,YAChE2oC,EAAe3oC,SAAWqtD,EAAiBrtD,WAEhC,IAAV15D,GAAe+mH,EAAiBV,kBAAqBU,EAAiBV,mBACvEhkB,EAAegkB,gBAAkBU,EAAiBV,kBAEvC,IAAVrmH,GAAe+mH,EAAiBb,cAAiBa,EAAiBb,eACnE7jB,EAAe6jB,YAAca,EAAiBb,cAEnC,IAAVlmH,GAAe+mH,EAAiBZ,gBAAmBY,EAAiBZ,iBACrE9jB,EAAe8jB,cAAgBY,EAAiBZ,gBAErC,IAAVnmH,GAAe+mH,EAAiB1S,aAAgB0S,EAAiB1S,cAClEhS,EAAegS,WAAa0S,EAAiB1S,aAElC,IAAVr0G,GAAe+mH,EAAiBP,UAAaO,EAAiBP,WAC/DnkB,EAAemkB,QAAUO,EAAiBP,UAE/B,IAAVxmH,GAAe+mH,EAAiBN,aAAgBM,EAAiBN,cAClEpkB,EAAeokB,WAAaM,EAAiBN,YAEjDM,EAAmBvsB,KAAKC,MAAMD,KAAKE,UAAUkrB,KAEjD,OAAOvjB,GAEXskB,EAAc9M,gBAAkB,SAAU9X,EAAYglB,EAAkB7zG,EAAM0zG,EAAYrL,EAAY5wF,EAAUk8F,GAC5G,GAAID,EAAW78G,SAASmJ,IACD,IAAlBA,EAAK4gF,UAA0C,IAAxB8yB,EAAW9yB,UAAkB8yB,EAAW78G,SAASmJ,EAAK+S,YAC9E,GACI8gG,EAAmBtpH,KAAKq8G,gBAAgB/X,EAAYglB,EAAkB7zG,EAAMqoG,EAAY5wF,EAAUk8F,GAClG3zG,EAAOA,EAAK+S,iBACP/S,GAASA,IAAS0zG,GAE/B,OAAOG,GAEXJ,EAAc7M,gBAAkB,SAAU/X,EAAYglB,EAAkB7zG,EAAMqoG,EAAY5wF,EAAUk8F,GAiDhG,OAhDKE,EAAiBlB,OAClBkB,EAAiBlB,KAAOlM,GAAYI,OAAO7mG,IAE1C6zG,EAAiBjB,SAClBiB,EAAiBjB,OAASnM,GAAYK,SAAS9mG,IAE9C6zG,EAAiBX,YAClBW,EAAiBX,UAAYzM,GAAYM,YAAY/mG,IAEpD6zG,EAAiBd,gBAClBc,EAAiBd,cAAgBtM,GAAYO,gBAAgBhnG,IAE5D6zG,EAAiBf,cAClBe,EAAiBf,YAAcrM,GAAYQ,cAAcjnG,IAExD6zG,EAAiBhB,YAClBgB,EAAiBhB,UAAYpM,GAAYS,YAAYlnG,IAEpD6zG,EAAiBT,YAClBS,EAAiBT,UAAY7oH,KAAK48G,YAAYtY,EAAY7uF,IAEzD6zG,EAAiBR,WAClBQ,EAAiBR,SAAW9oH,KAAK68G,WAAWvY,EAAY7uF,EAAM2zG,IAE7DE,EAAiBrtD,WAClBqtD,EAAiBrtD,SAAWj8D,KAAK88G,WAAWrnG,EAAMyX,IAEjDo8F,EAAiBV,kBAClBU,EAAiBV,gBAAkB5oH,KAAK+8G,kBAAkBtnG,IAEzD6zG,EAAiBb,cAClBa,EAAiBb,YAAczoH,KAAKwpH,cAAc/zG,IAEjD6zG,EAAiBZ,gBAClBY,EAAiBZ,cAAgB1oH,KAAKypH,gBAAgBh0G,IAErD6zG,EAAiB1S,aAClB0S,EAAiB1S,WAAa52G,KAAK0pH,YAAYj0G,IAE9C6zG,EAAiBP,UAClBO,EAAiBP,QAAU/oH,KAAK2pH,UAAUl0G,EAAMqoG,GACf,QAA7BwL,EAAiBP,UACjBO,EAAiBL,YAAa,IAGjCK,EAAiBN,aAClBM,EAAiBN,WAAahpH,KAAKinG,OAAOxxF,IAEvC6zG,GAEXJ,EAActM,YAAc,SAAUtY,EAAY7uF,GAC9C,IAAIkyC,EAAQlyC,EAAKhO,OAASgO,EAAKhO,MAAMkgD,MAIrC,OAHe,OAAVA,QAA4B5sB,IAAV4sB,GAAiC,KAAVA,GAAmC,IAAlBlyC,EAAK4gF,WAChE1uC,EAAQ3nD,KAAK0e,iBAAiB4lF,EAAY7uF,EAAM,UAEtC,OAAVkyC,GAA4B,KAAVA,QAA0B5sB,IAAV4sB,EAC3BA,EAGA,MAGfuhE,EAAcjiB,OAAS,SAAUxxF,GAC7B,MAA0C,MAAtCA,EAAK8b,SAAS2oC,qBAOtBgvD,EAAcnM,kBAAoB,SAAUtnG,GACxC,IAAI4nG,EAAY5nG,EAAKhO,OAASgO,EAAKhO,MAAMigD,gBACzC,OAAkB,OAAd21D,GAAoC,KAAdA,QAAkCtiF,IAAdsiF,EACnCA,EAGA,MAGf6L,EAAcpM,WAAa,SAAUrnG,EAAMyX,GACvC,IAAID,EAAOxX,EAAKhO,OAASgO,EAAKhO,MAAMylB,SACpC,OAAc,OAATD,GAA0B,KAATA,QAAwB8N,IAAT9N,IAChB,OAAbC,QAAkC6N,IAAb7N,GAA2BA,EAASlS,QAAQiS,IAAS,GACvEA,EAGA,MAGfi8F,EAAcrM,WAAa,SAAUvY,EAAY7uF,EAAM2zG,GACnD,IAAIjoH,EAAOsU,EAAKhO,OAASgO,EAAKhO,MAAMo0D,WACtB,OAAT16D,QAA0B45B,IAAT55B,GAA+B,KAATA,GAAkC,IAAlBsU,EAAK4gF,WAC7Dl1F,EAAOnB,KAAK0e,iBAAiB4lF,EAAY7uF,EAAM,gBAEnD,IAAIlT,EAAQ,KACZ,OAAc,OAATpB,GAA0B,KAATA,QAAwB45B,IAAT55B,IAChB,OAAbioH,QAAkCruF,IAAbquF,GAA2BA,EAASnsE,QAAO,SAAU57C,EAAOiZ,GACjF,IAAIsvG,EAAU,IAAIrkF,OAAOpkC,EAAM,MAC1BE,EAAMy/B,QAAQ,KAAM,IAAIA,QAAQ,KAAM,MAAQ3/B,EAAK2/B,QAAQ,KAAM,IAAIA,QAAQ,KAAM,KACnFz/B,EAAMwoH,OAAOD,IAAY,KAC1BrnH,EAAQ+X,OAEC,OAAV/X,GACW,OAAVA,EAAkB6mH,EAAS7mH,GAASpB,EAAK2/B,QAAQ,KAAM,IAGxD,MAGfooF,EAAcM,cAAgB,SAAU/zG,GACpC,MAA0C,OAAtCA,EAAK8b,SAAS2oC,qBAOtBgvD,EAAcO,gBAAkB,SAAUh0G,GACtC,MAA0C,OAAtCA,EAAK8b,SAAS2oC,qBAOtBgvD,EAAcQ,YAAc,SAAUj0G,GAClC,IAAIoG,EAAQpG,EAAKhO,OAASgO,EAAKhO,MAAMqiH,UACrC,MAAc,SAAVjuG,EACO,cAEQ,WAAVA,EACE,gBAEQ,UAAVA,EACE,eAEQ,YAAVA,EACE,cAGA,MAGfqtG,EAAcS,UAAY,SAAUl0G,EAAMqoG,GACtC,YAAqB/iF,IAAf+iF,GAA2C,OAAfA,IAC3B,GAAoB9iG,QAAQvF,EAAK8b,SAAS2oC,sBAAwB,GAClD,OAAf4jD,QAAsC/iF,IAAf+iF,GACpBA,EAAW9iG,QAAQvF,EAAK8b,SAAS2oC,sBAAwB,EACzDzkD,EAAK8b,SAAS2oC,oBAGd,MAGfgvD,EAAcxqG,iBAAmB,SAAU4lF,EAAY7uF,EAAMvG,GACzD,OAAOo1F,EAAWG,YAAY/lF,iBAAiBjJ,EAAM,MAAMiM,iBAAiBxS,IAEzEg6G,EAnPuB,GCrB9B,GAAmC,WACnC,SAASa,EAAkB9pF,GACvBjgC,KAAKigC,OAASA,EACdjgC,KAAK8L,mBAyBT,OAvBAi+G,EAAkBllH,UAAUiH,iBAAmB,WAC3C9L,KAAKigC,OAAOz/B,GAAG,QAAuBR,KAAKgqH,iBAAkBhqH,MAC7DA,KAAKigC,OAAOz/B,GAAG,OAAgBR,KAAKiY,oBAAqBjY,OAE7D+pH,EAAkBllH,UAAUoT,oBAAsB,WAC9CjY,KAAKigC,OAAOk1B,IAAI,QAAuBn1D,KAAKgqH,kBAC5ChqH,KAAKigC,OAAOk1B,IAAI,OAAgBn1D,KAAKiY,sBAEzC8xG,EAAkBllH,UAAUmlH,iBAAmB,SAAUthG,GACrD,IAAI1oB,KAAKigC,OAAOyB,SAAhB,CAGA,IAAIu6B,EAAW,GACXmtD,EAAW,GACXL,EAAU,GACd/oH,KAAKigC,OAAO/S,SAAStW,MAAM9M,SAAQ,SAAUgS,GAAQmgD,EAASp+C,KAAK/B,EAAKza,UACxErB,KAAKigC,OAAO47B,WAAWjlD,MAAM9M,SAAQ,SAAUgS,GAAQstG,EAASvrG,KAAK/B,EAAKza,UAC1ErB,KAAKigC,OAAOgJ,OAAOsyB,MAAMzxD,SAAQ,SAAUgS,GACvCitG,EAAQlrG,KAAK/B,EAAKza,MAAM64D,wBAE5Bl6D,KAAKiqH,cAAgB,GAAc1lB,IAAIvkG,KAAKigC,OAAO63B,cAAcC,cAAe/3D,KAAKigC,OAAO63B,cAAcoF,eAAgB6rD,EAAS9sD,EAAUmtD,EAAU1gG,EAAK2gG,cAC5JrpH,KAAKigC,OAAOnV,OAAO,QAAuB9qB,KAAKiqH,iBAE5CF,EA5B2B,GCClC,GAA+B,WAI/B,SAASG,EAAcjqF,EAAQu5B,GAC3Bx5D,KAAKigC,OAASA,EACdjgC,KAAKw5D,eAAiBA,EAkE1B,OA3DA0wD,EAAcrlH,UAAUuxD,YAAc,WAClC,IAAI+zD,EAASnqH,KAAKigC,OACd3R,EAAMtuB,KAAKigC,OAAOt3B,cAAc,MAAO,CAAEC,UAAW,gBAAiBrB,GAAIvH,KAAKigC,OAAO42B,QAAU,aAC/FuzD,EAAa,eAAaD,EAAO9oH,MAAO8oH,GAC5CnqH,KAAK4+D,gBAAkB5+D,KAAKigC,OAAOt3B,cAAc,MAAO,CACpDC,UAAW,YACXrB,GAAIvH,KAAKigC,OAAO42B,QAAU,iBAC1Bv2D,MAAO,CACH,gBAAmB,QAEvB4pB,UAAWkgG,IAEf97F,EAAInlB,YAAYnJ,KAAK4+D,iBACrB5+D,KAAKm2D,SAAS7nC,GACd67F,EAAOtjH,QAAQsC,YAAYmlB,IAQ/B47F,EAAcrlH,UAAUu0D,SAAW,WAC/B,OAAOp5D,KAAKqqH,cAQhBH,EAAcrlH,UAAUq4D,aAAe,WACnC,OAAOl9D,KAAK4+D,iBAMhBsrD,EAAcrlH,UAAUqtC,QAAU,WAC9B,OAAOlyC,KAAKk9D,eAAe1yC,aAQ/B0/F,EAAcrlH,UAAUsxD,SAAW,SAAUmD,GACzCt5D,KAAKqqH,aAAe/wD,GAQxB4wD,EAAcrlH,UAAUkzD,YAAc,WAClC,OAAO/3D,KAAKk9D,eAAehF,eAExBgyD,EAxEuB,GCN9B,GAAwC,WACxC,IAAI/lH,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,gBAClB,CAAEC,UAAW,cAAgBpB,OAAS,SAAUgB,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAII,KAAKJ,EAAOA,EAAEK,eAAeD,KAAIL,EAAEK,GAAKJ,EAAEI,KAClEN,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASM,IAAO3E,KAAK4E,YAAcR,EADnCD,EAAcC,EAAGC,GAEjBD,EAAES,UAAkB,OAANR,EAAaC,OAAOQ,OAAOT,IAAMM,EAAGE,UAAYR,EAAEQ,UAAW,IAAIF,IAV3C,GAiBxC2lH,GAAe,6gNAOf,GAAqC,SAAU5jH,GAE/C,SAAS6jH,IACL,OAAkB,OAAX7jH,GAAmBA,EAAOyN,MAAMnU,KAAMmF,YAAcnF,KA4D/D,OA9DA,GAAUuqH,EAAqB7jH,GAS/B6jH,EAAoB1lH,UAAUuxD,YAAc,WACxC,IAAI+zD,EAASnqH,KAAKigC,OACdmqF,EAAa,eAAaD,EAAO9oH,MAAO8oH,GACxCK,EAAoB,qEACpBJ,EAAa,iBACbK,EAAgBH,GAAeE,EAC/BpkD,EAASpmE,KAAKigC,OAAOt3B,cAAc,SAAU,CAC7CuhB,UAAWugG,EACXljH,GAAIvH,KAAKigC,OAAO42B,QAAU,YAC1BjuD,UAAW,gBACXyxB,OAAQ,mBAEZr6B,KAAKm2D,SAASiQ,GACd+jD,EAAOtjH,QAAQsC,YAAYi9D,GAC3BA,EAAOskD,gBAAgBt1G,KAAK7N,GAAKvH,KAAKigC,OAAO42B,QAAU,iBACvDuP,EAAOskD,gBAAgBt1G,KAAKtM,aAAa,YAAa9I,KAAKigC,OAAO42B,SAClEuP,EAAOskD,gBAAgBzoG,OACvBwoG,EAAgBzqH,KAAK2qH,cAAcF,EAAe,CAAE9iE,MAAO,SAC3Dye,EAAOskD,gBAAgBE,MAAMH,GAC7BrkD,EAAOskD,gBAAgBxoG,QACnBioG,EAAOxiH,WACP3H,KAAKqqH,aAAaK,gBAAgBt1G,KAAKtM,aAAa,QAAS,UAGrEyhH,EAAoB1lH,UAAU8lH,cAAgB,SAAUl8F,EAAS4L,GAC7D,IAAIk9B,EAAY74C,iBAAiB1e,KAAKigC,OAAOp5B,QAAS,qBAAqB6a,iBAAiB,SAC5F,OAAO+M,EAAQqS,QAAQzG,EAAOstB,MAAO4P,IAQzCgzD,EAAoB1lH,UAAUq4D,aAAe,WACzC,IAAI61C,EAOJ,OAFIA,EAJC,eAAkB/yG,KAAKqqH,aAAaK,iBAI1B1qH,KAAKigC,OAAOE,aAHZngC,KAAKqqH,aAAaK,gBAAgBt1G,KAK1C29F,GAQXwX,EAAoB1lH,UAAUkzD,YAAc,WACxC,OAAO/3D,KAAKk9D,eAAehF,eAExBqyD,EA/D6B,CAgEtC,IC/EE,GAAkC,WAClC,SAASM,EAAiB5qF,EAAQu5B,GAC9Bx5D,KAAKy5D,MAAQ,GACbz5D,KAAKigC,OAASA,EACdjgC,KAAK05D,QAAUF,EACfx5D,KAAK25D,cAAgB35D,KAAK05D,QAAQE,WAAW,mBAC7C55D,KAAK8L,mBACD9L,KAAKigC,OAAO45B,iBAAmBv1D,OAAO2K,KAAKjP,KAAKigC,OAAO45B,gBAAgBC,aAAa10D,OAAS,EAC7F,eAAOpF,KAAKy5D,MAAO,OAAO,eAAkBz5D,KAAKigC,OAAO45B,gBAAgBC,cAAc,GAGtF95D,KAAKy5D,MAAQ,OAmLrB,OAhLAoxD,EAAiBhmH,UAAUm2D,mBAAqB,WAC5Ch7D,KAAK66D,gBAAkB76D,KAAK25D,cAAcmB,YAAY,OAAW1mD,UAOrEy2G,EAAiBhmH,UAAUimH,uBAAyB,SAAUpiG,GAC1D,IAAIzd,EAAQjL,KACZA,KAAKg7D,qBACL,IAEI+vD,EACAnkH,EAHAokH,EAAWtiG,EAAK0yC,cAChBC,EAAY3yC,EAAK0W,UAGrB,OAAct1B,SAAQ,SAAUgS,GAC5B,IAAoC,IAAhC,eAASA,EAAM4M,EAAK9R,OACpB,OAAQkF,GACJ,IAAK,YACDivG,EAAW9/G,EAAMg1B,OAAO42B,QAAU,IAAMm0D,EAAW,oBACnD,IAAIC,EAAWhgH,EAAMg1B,OAAOt3B,cAAc,SAC1CsiH,EAAS1jH,GAAKwjH,EACdE,EAASrjH,UAAUC,IAAIguD,EAAA,MACvB1gD,SAASC,KAAKjM,YAAY8hH,GAC1BrkH,EAAU,CACNwP,SAAUnL,EAAMwuD,MAAM39C,EAAKo+C,qBAAqBntC,KAC1C,IAAM8oC,EAAA,MAA2B,IAAMA,EAAA,KAC7Cx0D,MAAO4J,EAAMwuD,MAAM39C,EAAKo+C,qBAAqB74D,MAC7Cg3D,QAASptD,EAAMwuD,MAAM39C,EAAKo+C,qBAAqB7B,QAC/CD,WAAYntD,EAAMwuD,MAAM39C,EAAKo+C,qBAAqB9B,WAClDvxD,QAAS,eAAO,IAAMoE,EAAMg1B,OAAO42B,QAAU,IAAMm0D,EAAW,aAAc3vD,GAC5E55D,OAAS,IAAMspH,GAEnB9/G,EAAMigH,gBAAkBjgH,EAAM4vD,gBAAgB9B,kBAAkBnyD,EAAS,aACzEqE,EAAMkgH,kBAAoBlgH,EAAM4vD,gBAAgBzD,0BAA0BxwD,EAAS,YAAaqE,EAAMigH,iBACtG,MACJ,IAAK,kBACDH,EAAW9/G,EAAMg1B,OAAO42B,QAAU,IAAMm0D,EAAW,0BACnD,IAAII,EAAWngH,EAAMg1B,OAAOt3B,cAAc,SAC1CyiH,EAAS7jH,GAAKwjH,EACdK,EAASxjH,UAAUC,IAAIguD,EAAA,MACvB1gD,SAASC,KAAKjM,YAAYiiH,GAC1BxkH,EAAU,CACNwP,SAAUnL,EAAMwuD,MAAM39C,EAAKo+C,qBAAqBntC,KAC1C,IAAM8oC,EAAA,MAA2B,IAAMA,EAAA,KAC7Cx0D,MAAO4J,EAAMwuD,MAAM39C,EAAKo+C,qBAAqB74D,MAC7Cg3D,QAASptD,EAAMwuD,MAAM39C,EAAKo+C,qBAAqB7B,QAC/CD,WAAYntD,EAAMwuD,MAAM39C,EAAKo+C,qBAAqB9B,WAClDvxD,QAAS,eAAO,IAAMoE,EAAMg1B,OAAO42B,QAAU,IAAMm0D,EAAW,mBAAoB3vD,GAClF55D,OAAS,IAAMspH,GAEnB9/G,EAAMogH,sBAAwBpgH,EAAM4vD,gBAAgB9B,kBAAkBnyD,EAAS,mBAC/EqE,EAAMqgH,wBAA0BrgH,EAAM4vD,gBAAgBzD,0BAA0BxwD,EAAS,kBAAmBqE,EAAMogH,uBAClH,WAKpBR,EAAiBhmH,UAAU6E,QAAU,WACjC1J,KAAKiY,sBACLjY,KAAKurH,sBAOTV,EAAiBhmH,UAAU0mH,mBAAqB,WAO5C,GANIvrH,KAAKkrH,kBAAoBlrH,KAAKkrH,gBAAgBvtD,aAC9C39D,KAAKkrH,gBAAgBxhH,UAErB1J,KAAKqrH,wBAA0BrrH,KAAKqrH,sBAAsB1tD,aAC1D39D,KAAKqrH,sBAAsB3hH,UAE3B1J,KAAKmrH,oBAAsBnrH,KAAKmrH,kBAAkBxtD,YAAa,CAC/D,IAAI30D,EAAWhJ,KAAKmrH,kBAAkBtkH,QAAQgG,cAAc,wBACxD7D,GACA,eAAOA,GAEXhJ,KAAKmrH,kBAAkBzhH,UAE3B,GAAI1J,KAAKsrH,0BAA4BtrH,KAAKsrH,wBAAwB3tD,YAAa,CACvE30D,EAAWhJ,KAAKsrH,wBAAwBzkH,QAAQgG,cAAc,wBAC9D7D,GACA,eAAOA,GAEXhJ,KAAKsrH,wBAAwB5hH,YAGrCmhH,EAAiBhmH,UAAUk1D,OAAS,SAAUrxC,GACtC1oB,KAAKkrH,kBACLlrH,KAAKkrH,gBAAgBn6F,cAAc,CAAEppB,UAAW+gB,EAAK/gB,YACrD3H,KAAKmrH,kBAAkBp6F,cAAc,CAAEppB,UAAW+gB,EAAK/gB,aAEvD3H,KAAKqrH,wBACLrrH,KAAKqrH,sBAAsBt6F,cAAc,CAAEppB,UAAW+gB,EAAK/gB,YAC3D3H,KAAKsrH,wBAAwBv6F,cAAc,CAAEppB,UAAW+gB,EAAK/gB,cAGrEkjH,EAAiBhmH,UAAUiH,iBAAmB,WAC1C9L,KAAKigC,OAAOz/B,GAAG,QAA8BR,KAAK8qH,uBAAwB9qH,MAC1EA,KAAKigC,OAAOz/B,GAAG,QAAgBR,KAAK+5D,OAAQ/5D,MAC5CA,KAAKigC,OAAOz/B,GAAG,OAAgBR,KAAK0J,QAAS1J,MAC7CA,KAAKigC,OAAOz/B,GAAG,OAA2BR,KAAKurH,mBAAoBvrH,MACnEA,KAAKigC,OAAOz/B,GAAG,QAAqBR,KAAK8O,kBAAmB9O,OAEhE6qH,EAAiBhmH,UAAUiK,kBAAoB,SAAUod,GAGrD,IAFA,IACIrlB,EADAkI,EAAUmd,EAAMnd,QAEXxL,EAAK,EAAGwG,EAAKzF,OAAO2K,KAAKF,GAAUxL,EAAKwG,EAAG3E,OAAQ7B,IAAM,CAC9D,IAAI2L,EAAOnF,EAAGxG,GACd,OAAQ2L,GACJ,IAAK,YACD,GAAIlP,KAAKkrH,gBACL,IAAK,IAAIj2F,EAAK,EAAG90B,EAAKmE,OAAO2K,KAAKF,EAAQwoD,WAAYtiC,EAAK90B,EAAGiF,OAAQ6vB,IAAM,CACxE,IAAIu2F,EAAOrrH,EAAG80B,GACd,OAAQu2F,GACJ,IAAK,UACDxrH,KAAKkrH,gBAAgBn6F,cAAc,CAAE1vB,MAAO0N,EAAQwoD,UAAU5N,UAC9D9iD,EAAU7G,KAAKmrH,kBAAkBtkH,QACjC,IAAI4kH,EAAa5kH,EAAQgG,cAAc,IAAM7M,KAAKy5D,MAAM,aAAa1sC,MACrE0+F,EAAWhkH,MAAM0vD,kBAAoBpoD,EAAQwoD,UAAU5N,QACvD,MACJ,IAAK,OACD3pD,KAAKkrH,gBAAgBn6F,cAAc,CAAEu5B,KAAMv7C,EAAQwoD,UAAUjN,OAC7D,MACJ,IAAK,UACDtqD,KAAKkrH,gBAAgBn6F,cAAc,CAAEu8B,QAASv+C,EAAQwoD,UAAUjK,UAChE,MACJ,IAAK,YACDttD,KAAKkrH,gBAAgBn6F,cAAc,CAAEu7B,aAAcv9C,EAAQwoD,UAAU4B,YACrE,MACJ,IAAK,eACDn5D,KAAKkrH,gBAAgBn6F,cAAc,CAAE27B,aAAc39C,EAAQwoD,UAAU7K,eACrE,OAIhB,MACJ,IAAK,kBACD,GAAI1sD,KAAKqrH,sBACL,IAAK,IAAIvuD,EAAK,EAAGn8D,EAAK2D,OAAO2K,KAAKF,EAAQ24C,iBAAkBoV,EAAKn8D,EAAGyE,OAAQ03D,IAAM,CAC9E,IAAI7N,EAAatuD,EAAGm8D,GACpB,OAAQ7N,GACJ,IAAK,UACDjvD,KAAKqrH,sBAAsBt6F,cAAc,CAAE1vB,MAAO0N,EAAQ24C,gBAAgBiC,UAC1E9iD,EAAU7G,KAAKsrH,wBAAwBzkH,QACvC,IAAI6kH,EAAmB7kH,EAAQgG,cAAc,IAAM7M,KAAKy5D,MAAM,mBAAmB1sC,MACjF2+F,EAAiBjkH,MAAM0vD,kBAAoBpoD,EAAQ24C,gBAAgBiC,QACnE,MACJ,IAAK,OACD3pD,KAAKqrH,sBAAsBt6F,cAAc,CAAEu5B,KAAMv7C,EAAQ24C,gBAAgB4C,OACzE,MACJ,IAAK,UACDtqD,KAAKqrH,sBAAsBt6F,cAAc,CAAEu8B,QAASv+C,EAAQ24C,gBAAgB4F,UAC5E,MACJ,IAAK,YACDttD,KAAKqrH,sBAAsBt6F,cAAc,CAAEu7B,aAAcv9C,EAAQ24C,gBAAgByR,YACjF,MACJ,IAAK,eACDn5D,KAAKqrH,sBAAsBt6F,cAAc,CAAE27B,aAAc39C,EAAQ24C,gBAAgBgF,eACjF,OAIhB,SAIhBm+D,EAAiBhmH,UAAUoT,oBAAsB,WAC7CjY,KAAKigC,OAAOk1B,IAAI,QAA8Bn1D,KAAK8qH,wBACnD9qH,KAAKigC,OAAOk1B,IAAI,OAAgBn1D,KAAK0J,SACrC1J,KAAKigC,OAAOk1B,IAAI,QAAgBn1D,KAAK+5D,QACrC/5D,KAAKigC,OAAOk1B,IAAI,OAA2Bn1D,KAAKurH,oBAChDvrH,KAAKigC,OAAOk1B,IAAI,QAAqBn1D,KAAK8O,oBAEvC+7G,EA9L0B,GCJjC,GAAiC,WACjC,SAASc,EAAgB1rF,GACrBjgC,KAAKigC,OAASA,EACdjgC,KAAK8L,mBAmIT,OAjIA6/G,EAAgB9mH,UAAUiH,iBAAmB,WACzC9L,KAAKigC,OAAOz/B,GAAG,QAAwBR,KAAK4rH,sBAAuB5rH,MACnEA,KAAKigC,OAAOz/B,GAAG,OAAgBR,KAAKiY,oBAAqBjY,OAE7D2rH,EAAgB9mH,UAAUoT,oBAAsB,WAC5CjY,KAAKigC,OAAOk1B,IAAI,QAAwBn1D,KAAK4rH,uBAC7C5rH,KAAKigC,OAAOk1B,IAAI,OAAgBn1D,KAAKiY,sBAEzC0zG,EAAgB9mH,UAAU+mH,sBAAwB,WAC1C5rH,KAAKigC,OAAO4rF,cACZ7rH,KAAK8rH,MAAM9rH,KAAKigC,OAAOE,cACvBngC,KAAK+rH,iBACL/rH,KAAKgsH,YACLhsH,KAAKisH,aACLjsH,KAAKksH,oBACLlsH,KAAKigC,OAAOlP,cAAc,CAAE1vB,MAAOrB,KAAKigC,OAAOE,aAAajW,YAAa,KAGjFyhG,EAAgB9mH,UAAUknH,eAAiB,WACvC,GAAoD,IAA/C/rH,KAAKigC,OAAOE,aAAa/e,WAAWhc,QAAiE,QAAjDpF,KAAKigC,OAAOE,aAAax1B,WAAW4mB,UACzFvxB,KAAKigC,OAAOE,aAAa/e,WAAWhc,OAAS,EAAG,CAChD,IAAIi/B,EAAYrkC,KAAKigC,OAAOt3B,cAAc,OAC1C,MAAO3I,KAAKigC,OAAOE,aAAa/e,WAAWhc,OAAS,EAChDi/B,EAAUl7B,YAAYnJ,KAAKigC,OAAOE,aAAa/e,WAAW,IAE9DphB,KAAKigC,OAAOE,aAAah3B,YAAYk7B,KAI7CsnF,EAAgB9mH,UAAUinH,MAAQ,SAAUr2G,GACxC,IAAK,IAAIy7C,EAAI,EAAGA,EAAIz7C,EAAK2L,WAAWhc,OAAQ8rD,IAAK,CAC7C,IAAI7J,EAAQ5xC,EAAK2L,WAAW8vC,GACL,IAAnB7J,EAAMgvC,UAAqC,YAAnBhvC,EAAM91B,UAC9B9b,EAAKK,YAAYuxC,GACjB6J,KAEwB,IAAnB7J,EAAMgvC,UACXr2F,KAAK8rH,MAAMzkE,GAGnB,OAAOrnD,KAAKigC,OAAOE,aAAajW,WAEpCyhG,EAAgB9mH,UAAUmnH,UAAY,WAElC,IADA,IAAIG,EAAWnsH,KAAKigC,OAAOE,aAAa3qB,iBAAiB,OAChD/P,EAAI0mH,EAAS/mH,OAAS,EAAGK,GAAK,EAAGA,IACtC,IAAK0mH,EAAS1mH,GAAGihC,aAAa,OAAQ,CAClC,IAAI4tD,EAAM63B,EAAS1mH,GACnB6uF,EAAIxrF,aAAa,MAAO,MAKpC6iH,EAAgB9mH,UAAUonH,WAAa,WAEnC,IADA,IAAIhiH,EAAkB,CAAC,CAAC,KAAM,MAAO,CAAC,KAAM,MAAO,CAAC,QAAS,QAAS,CAAC,MAAO,QAAS,CAAC,IAAK,SACpFxE,EAAI,EAAGA,EAAIwE,EAAgB7E,OAAQK,IACxCzF,KAAKosH,kBAAkBniH,EAAgBxE,GAAG,GAAIwE,EAAgBxE,GAAG,KAIzEkmH,EAAgB9mH,UAAUunH,kBAAoB,SAAUC,EAAS7jG,GAE7D,IADA,IAAI8jG,EAActsH,KAAKigC,OAAOE,aAAa3qB,iBAAiBgT,GACnD/iB,EAAI,EAAGA,EAAI6mH,EAAYlnH,OAAQK,IAEpC,IADA,IAAI8mH,EAAWD,EAAY7mH,GAAG+P,iBAAiB62G,GACtCl+F,EAAIo+F,EAASnnH,OAAQ+oB,EAAI,EAAGA,IACjC,eAAOo+F,EAASp+F,EAAI,KAKhCw9F,EAAgB9mH,UAAUqnH,kBAAoB,WAE1C,IADA,IAAIM,EAAexsH,KAAKigC,OAAOE,aAAa3qB,iBAAiB,KACpD/P,EAAI+mH,EAAapnH,OAAS,EAAGK,GAAK,EAAGA,IAAK,CAC/C,IAAI88B,EAAUviC,KAAKigC,OAAOt3B,cAAc,QACxC45B,EAAQ96B,MAAM21G,eAAiB,YAC/B76E,EAAQrY,UAAYsiG,EAAa/mH,GAAGykB,UACpCsiG,EAAa/mH,GAAG+iB,WAAW9d,aAAa63B,EAASiqF,EAAa/mH,IAC9D,eAAO+mH,EAAa/mH,IAExB,IAAIgnH,EAAYzsH,KAAKigC,OAAOE,aAAa3qB,iBAAiB,UAC1D,IAAS/P,EAAIgnH,EAAUrnH,OAAS,EAAGK,GAAK,EAAGA,IAAK,CAC5C,IAAIinH,EAAU1sH,KAAKigC,OAAOt3B,cAAc,KACxC+jH,EAAQxiG,UAAYuiG,EAAUhnH,GAAGykB,UACjCuiG,EAAUhnH,GAAG+iB,WAAW9d,aAAagiH,EAASD,EAAUhnH,IACxD,eAAOgnH,EAAUhnH,IAErB,IAAIwsC,EAAY,CAAC,WAAY,OAAQ,SAAU,kBAAmB,cAC9D,cAAe,SAAU,SAAU,WACvC,IAASxsC,EAAI,EAAGA,GAAKwsC,EAAU7sC,OAAQK,IACnCzF,KAAK2sH,sBAAsB16E,EAAUxsC,KAI7CkmH,EAAgB9mH,UAAU8nH,sBAAwB,SAAUC,GACxD,GAA4C,OAAxC5sH,KAAKigC,OAAOE,aAAax1B,YAC4B,IAAjD3K,KAAKigC,OAAOE,aAAax1B,WAAW0rF,SACpC,IAAK,IAAI5wF,EAAI,EAAGA,EAAIzF,KAAKigC,OAAOE,aAAa/e,WAAWhc,OAAQK,IAAK,CACjE,IAAIsD,EAAM/I,KAAKigC,OAAOE,aAAa/e,WAAW3b,GAC9C,GAAqB,IAAjBsD,EAAIstF,UAAmC,UAAjBttF,EAAIwoB,UAAyC,UAAjBxoB,EAAIwoB,UAAyC,UAAjBxoB,EAAIwoB,UACjE,OAAjBxoB,EAAIwoB,UAAsC,OAAjBxoB,EAAIwoB,UAAsC,OAAjBxoB,EAAIwoB,WAClDxoB,EAAI29B,aAAakmF,IACjB7jH,EAAIkB,gBAAgB2iH,GAEpB7jH,EAAI8jH,iBACJ,IAAK,IAAI1+F,EAAI,EAAGA,EAAIplB,EAAIqY,WAAWhc,OAAQ+oB,IAAK,CAC5C,IAAI2+F,EAAW/jH,EAAIqY,WAAW+M,GAM9B,GAL0B,IAAtB2+F,EAASz2B,UAAwC,UAAtBy2B,EAASv7F,UAA8C,UAAtBu7F,EAASv7F,UAC/C,UAAtBu7F,EAASv7F,UAA8C,OAAtBu7F,EAASv7F,UAA2C,OAAtBu7F,EAASv7F,UAClD,OAAtBu7F,EAASv7F,UAAqBu7F,EAASpmF,aAAakmF,IACpDE,EAAS7iH,gBAAgB2iH,GAEzBE,EAASD,gBACT,IAAK,IAAItsE,EAAI,EAAGA,EAAIusE,EAAS1rG,WAAWhc,OAAQm7C,IACJ,IAApCusE,EAAS1rG,WAAWm/B,GAAG81C,UAAsD,UAApCy2B,EAAS1rG,WAAWm/B,GAAGhvB,UAC5B,UAApCu7F,EAAS1rG,WAAWm/B,GAAGhvB,UAA4D,UAApCu7F,EAAS1rG,WAAWm/B,GAAGhvB,UAClC,OAApCu7F,EAAS1rG,WAAWm/B,GAAGhvB,UAAyD,OAApCu7F,EAAS1rG,WAAWm/B,GAAGhvB,UAC5B,OAApCu7F,EAAS1rG,WAAWm/B,GAAGhvB,UACvBu7F,EAAS1rG,WAAWm/B,GAAG7Z,aAAakmF,IACvCE,EAAS1rG,WAAWm/B,GAAGt2C,gBAAgB2iH,MAYxEjB,EAtIyB,GCYhC,GAA4B,WAC5B,SAASoB,EAAW9sF,EAAQu5B,GACxBx5D,KAAKgtH,gBAAkB,GACvBhtH,KAAKigC,OAASA,EACdjgC,KAAK05D,QAAUF,EACfx5D,KAAK25D,cAAgB35D,KAAK05D,QAAQE,WAAW,mBAC7C55D,KAAKitH,gBAAkB,IAAI,GAAgBhtF,GAC3CjgC,KAAK8L,mBAgWT,OAvVAihH,EAAWloH,UAAU6E,QAAU,WAC3B1J,KAAKiY,uBAMT80G,EAAWloH,UAAUqoH,eAAiB,SAAU7rH,GAE5C,OADAA,EAAQ,eAAeA,EAAOrB,KAAKigC,QAC5B5+B,GAEX0rH,EAAWloH,UAAUiH,iBAAmB,WAChC9L,KAAKigC,OAAO09B,cAGhB39D,KAAKmtH,iBAAmB,IAAItpB,GAC5B7jG,KAAKotH,kBAAoB,IAAI,GAAiBptH,KAAKigC,OAAQjgC,KAAK05D,SAChE15D,KAAKigC,OAAOz/B,GAAG,OAAoBR,KAAKqtH,oBAAqBrtH,MAC7DA,KAAKigC,OAAOz/B,GAAG,OAAyBR,KAAKstH,eAAgBttH,MAC7DA,KAAKigC,OAAOz/B,GAAG,OAAgBR,KAAKqnE,UAAWrnE,MAC/CA,KAAKigC,OAAOz/B,GAAG,QAA0BR,KAAK+4D,kBAAmB/4D,MACjEA,KAAKigC,OAAOz/B,GAAG,OAAmBR,KAAKF,OAAQE,MAC/CA,KAAKigC,OAAOz/B,GAAG,QAAqBR,KAAK8O,kBAAmB9O,MAC5DA,KAAKigC,OAAOz/B,GAAG,OAAgBR,KAAK0J,QAAS1J,MAC7CA,KAAKigC,OAAOz/B,GAAG,QAAkBR,KAAKutH,UAAWvtH,MACjDA,KAAKigC,OAAOz/B,GAAG,QAAoBR,KAAK6lG,YAAa7lG,MACrDA,KAAKigC,OAAOz/B,GAAG,OAAwBR,KAAKwtH,gBAAiBxtH,MAC7DA,KAAKigC,OAAOz/B,GAAG,QAAsBR,KAAKytH,gBAAiBztH,MAC3DA,KAAKigC,OAAOz/B,GAAG,QAAyBR,KAAK0tH,mBAAoB1tH,MACjEA,KAAKigC,OAAOz/B,GAAG,QAAqBR,KAAK2tH,eAAgB3tH,MACzDA,KAAKigC,OAAOz/B,GAAG,QAAcR,KAAK4tH,QAAS5tH,QAE/C+sH,EAAWloH,UAAU8oH,eAAiB,WAC9B3tH,KAAKigC,OAAOyB,UACZ,eAAW1hC,KAAKigC,OAAO63B,cAAcoF,eAAgB,CAAE08B,gBAAiB,UACxE,eAAS,CAAC55F,KAAKigC,OAAOp5B,SAAUgvD,EAAA,SAGhC,eAAW71D,KAAKigC,OAAO63B,cAAcoF,eAAgB,CAAE08B,gBAAiB,SACxE,eAAY,CAAC55F,KAAKigC,OAAOp5B,SAAUgvD,EAAA,SAG3Ck3D,EAAWloH,UAAU4oH,gBAAkB,WACnC,IAAI5mB,EAAkB7mG,KAAK0+D,gBAAgB3G,cACvCzd,EAAQt6C,KAAKmtH,iBAAiBt1D,SAASgvC,GAC3C7mG,KAAKmhG,cAAgBnhG,KAAKmtH,iBAAiBpkD,KAAKzuB,EAAOusD,IAE3DkmB,EAAWloH,UAAU6oH,mBAAqB,SAAU/qH,GAChD3C,KAAKigC,OAAOyrC,QAAS,EACrB1rE,KAAK0+D,gBAAgBxB,eAAejkD,SAChC,eAAkBtW,EAAEiU,QAAUjU,EAAEiU,QAChC5W,KAAKmhG,cAAcx1B,WAG3BohD,EAAWloH,UAAUwiE,UAAY,SAAU1kE,GACvC,GAAuB,IAAnBA,EAAE+lB,KAAK9Q,SAAiB5X,KAAKigC,OAAO4tF,aAAc,CAClD,IAAIvzE,EAAQt6C,KAAKmtH,iBAAiBt1D,SAAS73D,KAAK0+D,gBAAgB3G,eAC5DvvC,EAAaxoB,KAAKmtH,iBAAiBhkD,wBAAwB7uB,GAC/D,GAAkC,OAA3B9xB,EAAW,GAAG+I,WAAqB,eAAQ/I,EAAW,GAAI,QAC7D,eAAQA,EAAW,GAAI,UAAmC,IAAtB8xB,EAAMuxB,YAE1C,GADAlpE,EAAE+lB,KAAK1c,iBACFrJ,EAAE+lB,KAAKqjF,UAIP,GAAI/rG,KAAKgtH,gBAAgB5nH,OAAS,GACyD,IAA5FpF,KAAKgtH,gBAAgBhtH,KAAKgtH,gBAAgB5nH,OAAS,GAAG4yD,eAAextC,YAAYplB,OAAc,CAC/F,IAAI0oH,EAAW9tH,KAAKgtH,gBAAgBhtH,KAAKgtH,gBAAgB5nH,OAAS,GAAG4yD,eACrEh4D,KAAKmtH,iBAAiBr1B,iBAAiB93F,KAAK0+D,gBAAgB3G,cAAe+1D,EAAUA,EAAU,EAAGA,EAAStjG,YAAYplB,QACvH,GAAW0tG,OAAO9yG,KAAK0+D,gBAAgB3G,cAAe5iD,SAASy/F,eAAe,KAC9E50G,KAAKgtH,gBAAgBn6D,YARrB,GAAWigD,OAAO9yG,KAAK0+D,gBAAgB3G,cAAe,4BACtD/3D,KAAKgtH,gBAAgBnvG,KAAK7d,KAAKmtH,iBAAiBt1D,SAAS73D,KAAK0+D,gBAAgB3G,gBAWpE,UAAlBp1D,EAAE+lB,KAAK5a,QACW,UAAlBnL,EAAE+lB,KAAK5a,QACP9N,KAAK+tH,UAAUprH,EAAE+lB,OAGzBqkG,EAAWloH,UAAU+oH,QAAU,SAAUjrH,GACrC,IAAI24F,EAAQ,IAAI/1D,OAAO,8CACvB,GAAI5iC,EAAEsY,KAAK2nB,MAAM04D,GAAQ,CACrB34F,EAAE+lB,KAAK1c,iBAOP,IANA,IAAIsuC,EAAQt6C,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAcC,SAAS73D,KAAKigC,OAAO63B,cAAcC,eAE7Fi2D,GADgBhuH,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAcmR,KAAKzuB,EAAOt6C,KAAKigC,OAAO63B,cAAcC,eAC5F,IAAIxyB,OAAO,kCACvB0oF,EAAW,IAAI1oF,OAAO,+BACtB2oF,EAAiBvrH,EAAEsY,KAAK5E,MAAM,MAC9B83G,EAAmB,GACd1oH,EAAI,EAAGA,EAAIyoH,EAAe9oH,OAAQK,IACvC,GAAiC,KAA7ByoH,EAAezoH,GAAG6jB,OAClB6kG,GAAoB,kBAEnB,CAID,IAHA,IAAIC,EAAmB,GACnBC,GAAsB,EACtBC,EAAaJ,EAAezoH,GAAG4Q,MAAM,KAChC8X,EAAI,EAAGA,EAAImgG,EAAWlpH,OAAQ+oB,IACN,KAAzBmgG,EAAWngG,GAAG7E,OACd8kG,GAAoBC,EAAsB,SAAW,KAGrDA,GAAsB,EACtBD,GAAoBE,EAAWngG,GAAK,KAG5CggG,GAAoB,MAAQC,EAAiB9kG,OAAS,OAG9D,IAAIilG,EAAavuH,KAAKigC,OAAOt3B,cAAc,OAC3C4lH,EAAWrkG,UAAYikG,EACvB,IAAIK,EAAWD,EAAW/4G,iBAAiB,KAC3C,IAAS/P,EAAI,EAAGA,EAAI+oH,EAASppH,OAAQK,IAAK,CACtC,IAAIgpH,EAAmBD,EAAS/oH,GAAGykB,UAAU7T,MAAM,KAC/Cq4G,EAAqB,GACzB,IAASvgG,EAAI,EAAGA,EAAIsgG,EAAiBrpH,OAAQ+oB,IACrCsgG,EAAiBtgG,GAAGyU,MAAMorF,IAAcS,EAAiBtgG,GAAGyU,MAAMqrF,GAClES,GAAsB,qCAAuCD,EAAiBtgG,GAC1E,YAAcsgG,EAAiBtgG,GAAK,KAAOsgG,EAAiBtgG,GAAK,QAGrEugG,GAAsBD,EAAiBtgG,GAAK,IAGpDqgG,EAAS/oH,GAAGykB,UAAYwkG,EAAmBplG,OAE1C,eAAkBtpB,KAAKigC,OAAO0uF,oBAI/B3uH,KAAKigC,OAAO2uF,eAAe,aAAcL,GAHzC5rH,EAAEu9F,SAASquB,EAAWrkG,aAOlC6iG,EAAWloH,UAAUkpH,UAAY,SAAUprH,GACvC,IAAI23C,EAAQt6C,KAAKmtH,iBAAiBt1D,SAAS73D,KAAK0+D,gBAAgB3G,eAC5DiR,EAAgBhpE,KAAKmtH,iBAAiBhkD,wBAAwB7uB,GAC9Dr/B,EAAOq/B,EAAM0d,eAAextC,YAAYsmC,OAAO,EAAGxW,EAAMwxB,WACxD+iD,EAAY5zG,EAAK5E,MAAM,KACvBy4G,EAAUD,EAAUA,EAAUzpH,OAAS,GACvC2pH,EAAez0E,EAAMuxB,aAAe5wD,EAAK7V,OAASypH,EAAUA,EAAUzpH,OAAS,GAAGA,QACtF0pH,EAAUA,EAAQ/qH,MAAM,EAAGgrH,GAC3B,IAAIzzB,EAAQ,IAAI/1D,OAAO,8CACvB,GAAkC,MAA9ByjC,EAAc,GAAGz3C,UAAoBu9F,EAAQlsF,MAAM04D,GAAQ,CAC3D,IAAIjyB,EAAYrpE,KAAKmtH,iBAAiBpkD,KAAKzuB,EAAOt6C,KAAKigC,OAAO63B,cAAcC,eACxE9oC,EAAM6/F,EAAQ9zG,QAAQ,SAAW,EAAI8zG,EAAU,UAAYA,EAC3DxlD,EAAetpE,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAcuR,wBAAwB7uB,GACzFj5C,EAAQ,CACR4tB,IAAKA,EACLo6C,UAAWA,EAAWC,aAAcA,EACpCruD,KAAM6zG,EACNntH,MAAO,GACPF,OAAQ,UAEZzB,KAAKigC,OAAOy3B,UAAU2G,QAAQr+D,KAAKigC,OAAQ,CACvCnkB,KAAM,CACF,QAAW,QACX,WAAc,eAEnBnZ,EAAGtB,KAGd0rH,EAAWloH,UAAUyoH,eAAiB,SAAU5kG,GAC5C,IAAIqgD,EACAC,EACAE,EACAptD,EAAO4M,EAAK5M,KACZkzG,EAAiB,eAAQtmG,EAAKrc,cAAc5K,OAAQ,sBACxD,GAAIutH,IAAmBA,EAAepnH,UAAU0E,SAAS,sBAAuB,CAC5E,GAA0B,eAApBwP,EAAKs8C,YAAmD,YAApBt8C,EAAKs8C,YACvB,cAApBt8C,EAAKs8C,YAAkD,oBAApBt8C,EAAKs8C,WAAmC,CACvE8N,MAAgC,WAAjBpqD,EAAKu8C,SACpBr4D,KAAKmtH,iBAAiBxhD,UAE1B,IAAIrxB,EAAQt6C,KAAKmtH,iBAAiBt1D,SAAS73D,KAAKigC,OAAO63B,cAAcC,eACrEgR,EAAO/oE,KAAKmtH,iBAAiBpkD,KAAKzuB,EAAOt6C,KAAKigC,OAAO63B,cAAcC,eACnEiR,EAAgBhpE,KAAKmtH,iBAAiBlkD,kBAAkB3uB,GACxD4uB,EAAkBlpE,KAAKmtH,iBAAiBhkD,wBAAwB7uB,GAE/C,WAAjBx+B,EAAKu8C,SACLr4D,KAAKigC,OAAOnV,OAAO,OAA2B,CAC1C2+C,OAAQ,QAAS/gD,KAAMA,EAAM0gD,WAAYJ,EAAeK,UAAWN,EAAMO,aAAcJ,IAG1E,UAAjBptD,EAAKu8C,SACLr4D,KAAKigC,OAAOnV,OAAO,OAA0B,CACzC2+C,OAAQ,OAAQ/gD,KAAMA,EAAM0gD,WAAYJ,EAAeK,UAAWN,EAAMO,aAAcJ,IAGzE,UAAjBptD,EAAKu8C,SACLr4D,KAAKigC,OAAOnV,OAAO,QAA2B,CAC1C2+C,OAAQ,QAAS/gD,KAAMA,EAAM0gD,WAAYJ,EAAeK,UAAWN,EAAMO,aAAcJ,QAI9F,CACD,IAAI9B,EAAapnE,KAAKigC,OAAOp5B,QAAQgG,cAAc,IAAM7M,KAAKigC,OAAO42B,QAAU,YAC3Eo4D,EAAcjvH,KAAKigC,OAAOp5B,QAAQgG,cAAc,IAAM7M,KAAKigC,OAAO42B,QAAU,UAChF,GAA0B,eAApB/6C,EAAKs8C,YAAmD,YAApBt8C,EAAKs8C,YACvB,cAApBt8C,EAAKs8C,YAAkD,oBAApBt8C,EAAKs8C,WAAmC,CACvE9d,EAAQt6C,KAAKmtH,iBAAiBt1D,SAAS73D,KAAKigC,OAAO63B,cAAcC,eACjE,eAAkBqP,IAAe,eAAkB6nD,KACnDlmD,EAAO/oE,KAAKmtH,iBAAiBpkD,KAAKzuB,EAAOt6C,KAAKigC,OAAO63B,cAAcC,gBAEvEiR,EAAgBhpE,KAAKmtH,iBAAiBlkD,kBAAkB3uB,GACxD4uB,EAAkBlpE,KAAKmtH,iBAAiBhkD,wBAAwB7uB,GAEpE,OAAQx+B,EAAKs8C,YACT,IAAK,WACDp4D,KAAKigC,OAAOnV,OAAO,OAAyB,CAAEpC,KAAMA,IACpD,MACJ,IAAK,WACD1oB,KAAKigC,OAAOnV,OAAO,OAA0B,CAAEpC,KAAMA,IACrD,MACJ,IAAK,aACD1oB,KAAKigC,OAAOnV,OAAO,OAAmB,CAClC2+C,OAAQ,OAAQ/gD,KAAMA,EAAM0gD,WAAYJ,EAAeK,UAAWN,EAAMO,aAAcJ,IAE1F,MACJ,IAAK,QACDlpE,KAAKigC,OAAOivF,QACZ,MACJ,IAAK,QACDlvH,KAAKigC,OAAOnV,OAAO,OAAoB,CACnC2+C,OAAQ,QAAS/gD,KAAMA,EAAM0gD,WAAYJ,EAAeK,UAAWN,EAAMO,aAAcJ,IAE3F,MACJ,IAAK,cACDlpE,KAAKigC,OAAOnV,OAAO,OAAoB,CACnC2+C,OAAQ,QAAS/gD,KAAMA,EAAM2gD,UAAWN,IAE5C,MACJ,IAAK,aACD/oE,KAAKigC,OAAOnV,OAAO,QAAmB,CAAE2+C,OAAQ,aAAc/gD,KAAMA,IACpE,MACJ,IAAK,UACD1oB,KAAKigC,OAAOnV,OAAO,QAAqB,CAAE2+C,OAAQ,eAAgB/gD,KAAMA,IACxE,MACJ,IAAK,YACL,IAAK,kBACD,MACJ,QACI1oB,KAAKigC,OAAOy3B,UAAU2G,QAAQr+D,KAAKigC,OAAQvX,EAAMA,EAAKrc,cAAe,MACrE,SAIhB0gH,EAAWloH,UAAUk0D,kBAAoB,SAAUrwC,GAC/C1oB,KAAKotH,kBAAkBtC,uBAAuBpiG,IAElDqkG,EAAWloH,UAAUwoH,oBAAsB,WACnCrtH,KAAKigC,OAAOg4B,eAAerwC,OAC3B5nB,KAAK25D,cAAc6E,YAAY,OAAWG,QAAS,IAAI,GAAoB3+D,KAAKigC,OAAQjgC,KAAK05D,UAG7F15D,KAAK25D,cAAc6E,YAAY,OAAWG,QAAS,IAAI,GAAc3+D,KAAKigC,OAAQjgC,KAAK05D,WAG/FqzD,EAAWloH,UAAUoT,oBAAsB,WACnCjY,KAAKigC,OAAO09B,cAGhB39D,KAAKigC,OAAOk1B,IAAI,OAAmBn1D,KAAKF,QACxCE,KAAKigC,OAAOk1B,IAAI,QAAqBn1D,KAAK8O,mBAC1C9O,KAAKigC,OAAOk1B,IAAI,OAAyBn1D,KAAKstH,gBAC9CttH,KAAKigC,OAAOk1B,IAAI,QAA0Bn1D,KAAK+4D,mBAC/C/4D,KAAKigC,OAAOk1B,IAAI,OAAgBn1D,KAAK0J,SACrC1J,KAAKigC,OAAOk1B,IAAI,OAAgBn1D,KAAKqnE,WACrCrnE,KAAKigC,OAAOk1B,IAAI,OAAoBn1D,KAAKqtH,qBACzCrtH,KAAKigC,OAAOk1B,IAAI,QAAkBn1D,KAAKutH,WACvCvtH,KAAKigC,OAAOk1B,IAAI,QAAoBn1D,KAAK6lG,aACzC7lG,KAAKigC,OAAOk1B,IAAI,OAAwBn1D,KAAKwtH,iBAC7CxtH,KAAKigC,OAAOk1B,IAAI,QAAsBn1D,KAAKytH,iBAC3CztH,KAAKigC,OAAOk1B,IAAI,QAAyBn1D,KAAK0tH,oBAC9C1tH,KAAKigC,OAAOk1B,IAAI,QAAqBn1D,KAAK2tH,gBAC1C3tH,KAAKigC,OAAOk1B,IAAI,QAAcn1D,KAAK4tH,WAEvCb,EAAWloH,UAAU/E,OAAS,WAC1BE,KAAK0+D,gBAAkB1+D,KAAK25D,cAAcmB,YAAY,OAAW6D,SACjE,IAAIupD,EAAcloH,KAAK0+D,gBAAgBxB,eACnCiyD,EAAS,CAAElO,cAAejhH,KAAKigC,OAAOghF,cAAeC,cAAelhH,KAAKigC,OAAOihF,eACpF,GAAI,eAAkBlhH,KAAKigC,OAAOy3B,WAAY,CAC1C,IAAI03D,EAAiB,IAAI,GAAc,CACnCvoB,gBAAiB7mG,KAAK0+D,gBAAgB3G,cACtClxD,QAASqhH,EACTthH,QAASuoH,IAEbnvH,KAAKigC,OAAOlP,cAAc,CAAE2mC,UAAW03D,IAAkB,QAGzDpvH,KAAKigC,OAAOy3B,UAAUuwD,gBAAgBC,EAAaloH,KAAK0+D,gBAAgB3G,cAAeo3D,GAEvFnvH,KAAKigC,OAAO4rF,aACZ7rH,KAAKigC,OAAOnV,OAAO,QAAwB,IAE3C9qB,KAAKigC,OAAO45B,gBAAgBjyC,SAC5B5nB,KAAKqvH,cAAgB,IAAI,GAAkBrvH,KAAKigC,SAEpDjgC,KAAKigC,OAAOnV,OAAO,OAAkB,KAOzCiiG,EAAWloH,UAAUiK,kBAAoB,SAAUnM,GAE/C,IAAK,eAAkBA,EAAEoM,QAAQ2oD,WAAY,CACzC,IAAIwwD,EAAcloH,KAAK0+D,gBAAgBxB,eACnCiyD,EAAS,CAAElO,cAAejhH,KAAKigC,OAAOghF,cAAeC,cAAelhH,KAAKigC,OAAOihF,eACpFlhH,KAAKigC,OAAOy3B,UAAUuwD,gBAAgBC,EAAaloH,KAAK0+D,gBAAgB3G,cAAeo3D,KAM/FpC,EAAWloH,UAAU4E,cAAgB,WACjC,MAAO,cAMXsjH,EAAWloH,UAAU0oH,UAAY,WAC7B,IAAI5zG,EAAQ,eAAkB3Z,KAAKigC,OAAO63B,cAAcC,cAAe/3D,KAAKigC,OAAO63B,cAAcoF,gBAC7FvjD,EAAMvU,OAAS,GACfpF,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAckgC,iBAAiB93F,KAAKigC,OAAO63B,cAAcC,cAAep+C,EAAM,GAAIA,EAAMA,EAAMvU,OAAS,GAAI,EAAGuU,EAAMA,EAAMvU,OAAS,GAAGolB,YAAYplB,SAO9L2nH,EAAWloH,UAAUghG,YAAc,SAAUljG,GACzC3C,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAc4mC,SAASx+F,KAAKigC,OAAO63B,cAAcC,cAAep1D,EAAE23C,QAM1GyyE,EAAWloH,UAAU2oH,gBAAkB,SAAU7qH,GAC7CA,EAAEu9F,SAASlgG,KAAKigC,OAAOy3B,UAAUC,cAAcC,cAAcC,SAAS73D,KAAKigC,OAAO63B,cAAcC,eAAenvC,aAE5GmkG,EAvWoB,GCJ3B,GAAkC,WAClC,SAASuC,EAAiBrvF,EAAQy5B,GAC9B15D,KAAKigC,OAASA,EACdjgC,KAAK05D,QAAUA,EACf15D,KAAKuvH,cAAe,EACpBvvH,KAAK25D,cAAgB35D,KAAK05D,QAAQE,WAAW,mBAC7C55D,KAAK0+D,gBAAkB1+D,KAAK25D,cAAcmB,YAAY,OAAW6D,SACjE3+D,KAAKwvH,cAAgBxvH,KAAK25D,cAAcmB,YAAY,OAAW20D,OAC/DzvH,KAAK0vH,gBAAkB,IAAI,GAAgB1vH,KAAKigC,OAAQjgC,KAAK05D,SAC7D15D,KAAK2vH,eAAiB,IAAI,GAAiB3vH,KAAKigC,OAAQjgC,KAAK05D,SAkWjE,OAhWA41D,EAAiBzqH,UAAU+qH,mBAAqB,WAC5C5vH,KAAKu4F,eAAiBv4F,KAAKigC,OAAOt3B,cAAc,MAAO,CAAEC,UAAWitD,EAAA,OACpE71D,KAAK6G,QAAQsC,YAAYnJ,KAAKu4F,iBAOlC+2B,EAAiBzqH,UAAU/E,OAAS,SAAU4oB,GAC1C,IAAI9f,EAEAA,EADmB,UAAnB8f,EAAKmnG,UACOh6D,EAAA,KAEY,WAAnBntC,EAAKmnG,UACEh6D,EAAA,KAGA,GAEhB,IAAIi6D,EAAU,eAAYpnG,EAAKmnG,UAAY,gBAC3C7vH,KAAK+vH,YAAcrnG,EAAKsnG,aACxBhwH,KAAK6G,QAAU7G,KAAKigC,OAAOt3B,cAAc,MAAO,CAAEpB,GAAIuoH,EAASlnH,UAAWA,EAAY,IAAMitD,EAAA,QAC5F71D,KAAK6G,QAAQiC,aAAa,YAAa9I,KAAKigC,OAAO42B,SACnD72D,KAAK4vH,qBACL5vH,KAAKiwH,cAAcvnG,EAAKsnG,aAActnG,EAAK4hC,MAC3CtqD,KAAKwvH,cAAc/5F,YAAYz1B,MAC/BA,KAAK8L,oBAETwjH,EAAiBzqH,UAAUorH,cAAgB,SAAUr5G,EAAO0zC,GACxDtqD,KAAKwiG,aAAe,IAAI,GAAYxiG,KAAKigC,OAAQjgC,KAAK05D,SACtD15D,KAAKwiG,aAAa1iG,OAAO,CACrBs/B,UAAW,QACX39B,OAAQzB,KAAKu4F,eACb3hF,MAAOA,EACP0zC,KAAMA,IAEVtqD,KAAKwiG,aAAalsC,WAAWprC,WAEjCokG,EAAiBzqH,UAAUqrH,YAAc,SAAUvtH,GAC/C,IAAI04B,EACAC,EACA60F,EAAa,eAAQxtH,EAAElB,OAAQ,kBAC/BA,EAAU,eAAM0uH,GAA2BxtH,EAAElB,OAAf0uH,EAClC,eAAS,CAACnwH,KAAKu4F,gBAAiB,CAAC1iC,EAAA,OACjC,IAAIu6D,EAAkB3uH,EAAOkhB,UACzB0tG,EAAkB/kH,OAAO0gD,YAAcrpD,EAAE2tH,WAAWt2G,IAEpDshB,EADC80F,EAAkBztH,EAAE4tH,QAAW5tH,EAAEqgE,UAC9BqtD,EAAkB1tH,EAAE6tH,mBAAqBJ,EAAkBztH,EAAE4tH,SAAW5tH,EAAEqgE,UAAY,EAEnFrgE,EAAE4tH,QAAU5tH,EAAE8tH,YAAeL,EAAkB3uH,EAAOuO,cAAiBrN,EAAEqgE,UAC5EqtD,EAAkB1tH,EAAE6tH,mBAAqBJ,EAAkBztH,EAAE4tH,SAAW9uH,EAAOuO,aAAe,EAG9FrN,EAAE24B,EAGND,EADA55B,EAAOiH,YAAc/F,EAAE+tH,SAClBjvH,EAAOiH,YAAc,EAAM/F,EAAE+tH,SAAW,EAAK/tH,EAAE2tH,WAAWvpG,KAAOtlB,EAAOye,WAGzEvd,EAAE2tH,WAAWvpG,KAAOtlB,EAAOye,WAEnClgB,KAAK61B,SAAS3Z,SAASC,EAAMkf,EAAI14B,EAAE+tH,SAAY/tH,EAAE2tH,WAAWtpG,MAASrkB,EAAE2tH,WAAWtpG,MAAQrkB,EAAE+tH,SAAWr1F,EACvGr7B,KAAK61B,SAAS3Z,SAASE,EAAKkf,GAAK,EAAKA,EAAI34B,EAAE24B,EAAI,EAChDt7B,KAAK61B,SAASvZ,WACd,eAAY,CAACtc,KAAKu4F,gBAAiB,CAAC1iC,EAAA,QAExCy5D,EAAiBzqH,UAAUu2B,eAAiB,SAAUz4B,EAAGguH,EAAUl1G,GAC/D,IAAI4f,EACAC,EACA0sC,EAAYrlE,EAAE2tH,WAAWt2G,IACzB42G,EAAajuH,EAAEkuH,QAAU7oD,EAAYrlE,EAAE6tH,kBACvCruG,EAAY,GAEZA,EADa,aAAbwuG,EACY,gBAAUhuH,EAAEmf,OAGZ,gBAAUnf,EAAEmf,MAAOnf,EAAE8X,eAErC,IAAK,IAAIhV,EAAI,EAAGA,EAAI0c,EAAU/c,OAAQK,IAClC,OAAQ0c,EAAU1c,IACd,IAAK,MAEG61B,EADa,aAAbq1F,EACIhuH,EAAEkuH,QAGDvlH,OAAO0gD,YAAcgc,EAAarlE,EAAE6tH,kBAE7C,MACJ,IAAK,SACD,IAAIM,OAAO,EAGHA,EAFS,aAAbH,EACa,WAATl1G,EACQ9Y,EAAE24B,EAAI34B,EAAEqgE,UAAY,GAGvBrgE,EAAEouH,cAAgB/oD,EAAYrlE,EAAE6tH,mBAAsB7tH,EAAEqgE,UACpD4tD,EAAajuH,EAAEouH,aAAgBpuH,EAAEqgE,UAC1B4tD,GAAcjuH,EAAEouH,aAAe/oD,GAAcrlE,EAAEqgE,UAGhD4tD,EAIJjuH,EAAEkuH,SAAW7oD,EAAYrlE,EAAE6tH,mBAKjB,QAArB7tH,EAAElB,OAAOgW,QACD9U,EAAE2tH,WAAWptG,OAAS5X,OAAO0gD,YAAerpD,EAAEqgE,UAAY,GAG1DrgE,EAAE2tH,WAAWptG,OAAS5X,OAAO0gD,YAAerpD,EAAEqgE,UAAY,EAG1E1nC,EAAIw1F,EACJ,MACJ,IAAK,QAEGz1F,EADS,WAAT5f,EACI9Y,EAAEquH,aAAeruH,EAAE+tH,SAAW/tH,EAAEsuH,eAAiB,IAGjDtuH,EAAE04B,EAAI14B,EAAE+tH,SAEhB,MACJ,IAAK,OAEGr1F,EADS,WAAT5f,EACI,EAGA9Y,EAAE2tH,WAAWvpG,KAErB,MAGZ/mB,KAAK61B,SAAS3Z,SAASC,EAAI,GAAUnc,KAAK61B,SAAS3Z,SAASC,EAC5Dnc,KAAK61B,SAAS3Z,SAASE,EAAI,GAAUpc,KAAK61B,SAAS3Z,SAASE,EAC5Dpc,KAAK61B,SAASvZ,YAOlBgzG,EAAiBzqH,UAAU0jE,UAAY,SAAUltC,EAAGC,EAAG75B,GACnD,IAAIwJ,EAAQjL,KACRuW,EAAY,iBAAa,CAAEwF,QAAQ,EAAO8f,cAAep6B,GACzD,CAAEqgB,MAAO9hB,KAAK61B,SAAU9Z,QAAQ,EAAO8f,cAAep6B,GAC1DzB,KAAKigC,OAAOxpB,QAAQ,OAA+BF,GAAW,SAAU26G,GACpE,IAAKA,EAAuBn1G,OAAQ,CAChC,IAAIo1G,OAAe,EACfC,OAAkB,EAClBxwD,EAAYt1D,OAAOoT,iBAAiBvJ,SAASC,MAC7Ci8G,EAAY1yG,WAAWiiD,EAAU/hD,YAAYxI,MAAM,MAAM,IAAMsI,WAAWiiD,EAAU0wD,aAAaj7G,MAAM,MAAM,IAC7G06G,EAAezlH,OAAOwX,YACtBkuG,EAAc1lH,OAAOimH,WACrBnwD,EAAWn2D,EAAMg1B,OAAOp5B,QACxB2qH,GAAgB,eAAkBvmH,EAAMg1B,OAAOwxF,cAC/ClxD,EAAWixD,GAAgBvmH,EAAMg1B,OAAOkoC,cAAc3H,mBACtDkxD,EAAcF,GAAgBvmH,EAAMg1B,OAAOkoC,cAAc1H,yBACzDkxD,EAAa,EAAkBpxD,EAAWmxD,EAAe,EAK7D,GAJA,eAAS,CAACzmH,EAAMpE,SAAU,CAACgvD,EAAA,OACvB,OAAQ1uD,WAAa,kBACrB,eAAS,CAAC8D,EAAMg1B,OAAOwxF,cAAe,CAAC57D,EAAA,OAEvC5qD,EAAMg1B,OAAOg4B,eAAerwC,OAAQ,CACpC,IAAIgqG,EAAS3mH,EAAMyzD,gBAAgBtF,WAAWiN,cAC9C8qD,EAAeS,EAAO5lE,YACtBolE,EAAkBQ,EAAO9uG,gBAExB,CACG8uG,EAAS,eAAQnwH,EAAQ,IAAMo0D,EAAA,MACnCs7D,EAAe,EAAWS,EAAOzgH,UAAY,EAC7CigH,EAAkB,EAAWQ,EAAO5hH,aAAe,EAElD/E,EAAMg1B,OAAO02B,WAAW/uC,QAAW,eAAQnmB,EAAQ,WACpDwJ,EAAMg1B,OAAO0hC,mBAAmB12D,EAAMg1B,OAAO45B,gBAAgBjjD,OAC7D3L,EAAMg1B,OAAO4xF,kBAAkB,CAAC,OAAQ,UAE5C,eAAO,CAAC5mH,EAAMpE,SAAUsO,SAASC,MACjCnK,EAAM4qB,SAAS3Z,SAASC,EAAIkf,EAAI,GAChCpwB,EAAM4qB,SAAS3Z,SAASE,EAAIkf,GAAMrwB,EAAMg1B,OAAOg4B,eAAqB,OAAI,GAAK,IAC7EhtD,EAAM4qB,SAASvZ,WACfrR,EAAM4qB,SAAShvB,QAAQe,UAAUC,IAAI,gBACrCoD,EAAMykH,gBAAgBv0D,gBAAgB,CAClC/7B,UAAWn0B,EAAMstF,eACjBn9B,cAAe,QACfxkD,MAAO3L,EAAM8kH,cAEjB9kH,EAAM0kH,eAAe7E,uBAAuB,CACxC1rF,UAAWn0B,EAAMstF,eACjBn9B,cAAe,QACfxkD,MAAO3L,EAAM8kH,cAEjB,IAAI+B,EAAgB,CAChBz2F,EAAGA,EAAGC,EAAGA,EACT75B,OAAQA,EACR8uH,QAASY,EACTV,WAAYW,EACZtvG,MAAO7W,EAAM4qB,SAAShvB,QACtBm8D,UAAW/3D,EAAM4qB,SAAShvB,QAAQmJ,aAClC0gH,SAAUzlH,EAAM4qB,SAAShvB,QAAQ6B,YACjC+R,cAAe2mD,EACf6vD,eAAgBI,EAChBR,QAASvlH,OAAO0gD,YAChB+kE,aAAcA,EACdC,YAAaA,EACbV,WAAYlvD,EAASn+C,wBACrButG,kBAAmBmB,GAEA,QAAnBlwH,EAAOgW,SACPxM,EAAMilH,YAAY4B,GAEjB7mH,EAAMg1B,OAAO02B,WAAW/uC,QACzB3c,EAAMmwB,eAAe02F,EAAe,SAAU,IAElD7mH,EAAMmwB,eAAe02F,EAAe,WAAc7mH,EAAMg1B,OAAO02B,WAAiB,OAAI,SAAW,IAC/F1rD,EAAM4qB,SAAShvB,QAAQe,UAAU+B,OAAO,gBACxC,eAAY,CAACsB,EAAMpE,SAAU,CAACgvD,EAAA,OAC9B5qD,EAAM4qB,SAAS5b,KAAK,CAAE9Y,KAAM,SAAU2W,SAAW,OAAQs0D,KAAO,IAAM,MACtE,eAAkBnhE,EAAMpE,QAAS,CAC7B8zB,SAAU1vB,EAAMg1B,OAAOp5B,QAAQ6B,YAAc,OAEjD,eAAS,CAACuC,EAAMpE,SAAU,CAACgvD,EAAA,OAC3B5qD,EAAMskH,cAAe,OASjCD,EAAiBzqH,UAAU6jE,UAAY,WACnC,IAAIqpD,EAAkB/xH,KAAKigC,OAAO+xF,iBAAiBC,eAC/C,OAAQ9qH,WAAa,kBACrB,eAAY,CAACnH,KAAKigC,OAAOwxF,cAAe,CAAC57D,EAAA,OAExC,eAAkB71D,KAAKigC,OAAOwxF,eAAkBzxH,KAAKigC,OAAO02B,WAAW/uC,SACpE,eAAkBmqG,IAAsD,SAAlCA,EAAgBtqH,MAAMC,UAC5D1H,KAAKigC,OAAO4xF,kBAAkB7xH,KAAKigC,OAAO45B,gBAAgBjjD,OAGlE5W,KAAKkyH,mBACLlyH,KAAKuvH,cAAe,GAMxBD,EAAiBzqH,UAAU4zF,aAAe,SAAU38E,EAAMvZ,GACtDvC,KAAKwiG,aAAalsC,WAAWtuC,SAAShoB,KAAKwiG,aAAapoC,SAASt+C,EAAM,WAAYvZ,IAMvF+sH,EAAiBzqH,UAAUstH,gBAAkB,SAAU5vH,GACnDvC,KAAKwiG,aAAalsC,WAAW7tC,YAAYlmB,IAE7C+sH,EAAiBzqH,UAAUqtH,iBAAmB,WAC1C,IAAIrrH,EAAU7G,KAAK61B,SAAShvB,QAC5B,GAAI7G,KAAKuvH,aAAc,CACnBvvH,KAAK0vH,gBAAgBhyD,mBACrB19D,KAAK2vH,eAAepE,qBACpB,eAAY,CAACvrH,KAAK6G,SAAU,CAACgvD,EAAA,OAC7B,eAAOhvD,GACP,IAAI6hB,EAAO,iBAAa,CAAE7hB,QAAS7G,KAAK61B,SAAShvB,SAAY7G,KAAK61B,SAClE71B,KAAKigC,OAAOxpB,QAAQ,QAA0BiS,KAGtD4mG,EAAiBzqH,UAAUw+E,aAAe,SAAU36D,GAChD,IAAI9hB,EAAU,CACV8hB,KAAMA,EACNo3C,eAAgB9/D,KAAK0vH,gBACrBzvF,OAAQjgC,KAAKigC,OACbkiC,WAAY,eAAU,IAAMtM,EAAA,MAAqB71D,KAAK6G,SACtDwzD,QAASr6D,KAAKwiG,aAAalsC,WAAW1/C,OAE1C,eAAiBhQ,GAAS,GACrB,eAAO,qBAAsB5G,KAAKigC,OAAOp5B,UAC1C,eAAqB7G,KAAKigC,OAAOyhC,uBAAwB1hE,KAAKigC,OAAOy3B,UAAUC,cAAckL,gBAAgBC,kBAUrHwsD,EAAiBzqH,UAAU6E,QAAU,WAC7B1J,KAAK61B,WAAa71B,KAAK61B,SAAS8nC,cAChC39D,KAAK61B,SAASnsB,UACd1J,KAAKkyH,oBAETlyH,KAAKiY,uBAOTq3G,EAAiBzqH,UAAUiH,iBAAmB,WACtC9L,KAAKigC,OAAO09B,cAGhB39D,KAAKigC,OAAOz/B,GAAG,OAAgBR,KAAK0J,QAAS1J,MAC7CA,KAAKigC,OAAOz/B,GAAG,QAAqBR,KAAK8O,kBAAmB9O,MACxDA,KAAKigC,OAAO02B,WAAW/uC,QACvB5nB,KAAKigC,OAAOz/B,GAAG,QAAuBR,KAAKqjF,aAAcrjF,QAQjEsvH,EAAiBzqH,UAAUiK,kBAAoB,SAAUnM,GACrD,IAAK,eAAkBA,EAAEoM,QAAQ4nD,YAC7B,IAAK,IAAIpzD,EAAK,EAAGwG,EAAKzF,OAAO2K,KAAKtM,EAAEoM,QAAQ4nD,YAAapzD,EAAKwG,EAAG3E,OAAQ7B,IAAM,CAC3E,IAAI2L,EAAOnF,EAAGxG,GACd,OAAQ2L,GACJ,IAAK,SACGvM,EAAEoM,QAAQ4nD,WAAW/uC,OACrB5nB,KAAKigC,OAAOz/B,GAAG,QAAuBR,KAAKqjF,aAAcrjF,MAGzDA,KAAKigC,OAAOk1B,IAAI,QAAuBn1D,KAAKqjF,cAEhD,SAUpBisC,EAAiBzqH,UAAUoT,oBAAsB,WACzCjY,KAAKigC,OAAO09B,cAGhB39D,KAAKigC,OAAOk1B,IAAI,OAAgBn1D,KAAK0J,SACrC1J,KAAKigC,OAAOk1B,IAAI,QAAqBn1D,KAAK8O,mBACtC9O,KAAKigC,OAAO02B,WAAW/uC,QACvB5nB,KAAKigC,OAAOk1B,IAAI,QAAuBn1D,KAAKqjF,gBAG7CisC,EA3W0B,GCJjC,GAA+B,WAI/B,SAAS8C,EAAcnyF,GACnBjgC,KAAKigC,OAASA,EAgDlB,OA9CAmyF,EAAcvtH,UAAUwtH,iBAAmB,WACvC,IAAI3pG,EAAO,iBAAa,CAAE7hB,QAAS7G,KAAK61B,SAAShvB,SAAY7G,KAAK61B,SAClE71B,KAAKigC,OAAOxpB,QAAQ,QAAyBiS,IAOjD0pG,EAAcvtH,UAAU4wB,YAAc,SAAU/M,GAC5C1oB,KAAKm2D,SAASztC,EAAK7hB,SACnB7G,KAAKo2D,cACL1tC,EAAKmN,SAAW,IAAI,OAAMnN,EAAK7hB,QAAS,CACpC2nB,WAAY,WACZzM,SAAU/hB,KAAKigC,OAAOp5B,QACtBob,KAAMjiB,KAAKqyH,iBAAiBpqH,KAAKjI,QAErCA,KAAK61B,SAAWnN,EAAKmN,SACrBnN,EAAKmN,SAAShe,QAOlBu6G,EAAcvtH,UAAUuxD,YAAc,WAClCp2D,KAAKo5D,WAAWxxD,UAAUC,IAAI,SAQlCuqH,EAAcvtH,UAAUu0D,SAAW,WAC/B,OAAOp5D,KAAKsyH,YAQhBF,EAAcvtH,UAAUsxD,SAAW,SAAUmD,GACzCt5D,KAAKsyH,WAAah5D,GAEf84D,EArDuB,GCC9B,GAA8B,WAC9B,SAASG,EAAatyF,EAAQy5B,GAC1B15D,KAAKigC,OAASA,EACdjgC,KAAK05D,QAAUA,EACf15D,KAAK25D,cAAgB35D,KAAK05D,QAAQE,WAAW,mBAC7C55D,KAAK25D,cAAc6E,YAAY,OAAWixD,MAAO,IAAI,GAAczvH,KAAKigC,SACxEjgC,KAAK8L,mBAqYT,OAnYAymH,EAAa1tH,UAAUo4D,YAAc,SAAUrmD,GAC3C,IAAI47G,EAAiB,GAsBrB,OArBA57G,EAAM9M,SAAQ,SAAUgS,GACpB,GAAoB,kBAATA,EACP,OAAQA,EAAKo+C,qBACT,IAAK,OACDs4D,EAAe30G,KAAK,YACpB,MACJ,IAAK,OACD20G,EAAe30G,KAAK,YACpB,MACJ,IAAK,SACD20G,EAAe30G,KAAK,cACpB,MACJ,QACI20G,EAAe30G,KAAK/B,GACpB,WAIR02G,EAAe30G,KAAK/B,MAGrB02G,GAEXD,EAAa1tH,UAAU4tH,gBAAkB,SAAUC,EAASpoE,EAAM1zC,EAAO6E,GACrE,MAAO,CACHo0G,UAAW6C,EACX1C,aAAcp5G,EACd0zC,KAAMA,EACNqoE,WAAYl3G,IAQpB82G,EAAa1tH,UAAUw7F,YAAc,SAAUwvB,EAAWvlE,EAAM1zC,EAAO6E,GACnE,GAAI7E,EAAMxR,OAAS,EACf,OAAO,KAEX,IAAIwtH,EAAQ,IAAI,GAAiB5yH,KAAKigC,OAAQjgC,KAAK05D,SAEnD,OADAk5D,EAAM9yH,OAAOE,KAAKyyH,gBAAgB5C,EAAWvlE,EAAMtqD,KAAKi9D,YAAYrmD,GAAQ6E,IACrEm3G,GAEXL,EAAa1tH,UAAUguH,wBAA0B,WAC7C7yH,KAAKigC,OAAOk+B,mBAAqBn+D,KACjCA,KAAK0+D,gBAAkB1+D,KAAK25D,cAAcmB,YAAY,OAAW6D,SAC7D3+D,KAAKigC,OAAO02B,WAAW/uC,QAAU5nB,KAAKigC,OAAO02B,WAAWm8D,aAAe,kBACvE,OAAajrH,IAAI7H,KAAK0+D,gBAAgB3G,cAAe,kBAAmB/3D,KAAK+yH,uBAAwB/yH,OAG7GuyH,EAAa1tH,UAAUmuH,YAAc,SAAUrwH,GAC3C3C,KAAKigC,OAAOyrC,QAAS,EACrB1rE,KAAKigC,OAAOgzF,OAAQ,GAExBV,EAAa1tH,UAAUquH,oBAAsB,WACrClzH,KAAK8nE,WAAa9nE,KAAKk1F,YAAcl1F,KAAKmzH,WAAanzH,KAAKo+D,aAGhEp+D,KAAK8nE,UAAY9nE,KAAKqgG,YAAY,OAAQ,aAAcrgG,KAAKigC,OAAO2oC,qBAAqBqwB,KAAM,OAAWm6B,aAC1GpzH,KAAK25D,cAAc6E,YAAY,OAAW40D,YAAapzH,KAAK8nE,WAC5D9nE,KAAKmzH,UAAYnzH,KAAKqgG,YAAY,OAAQ,aAAcrgG,KAAKigC,OAAO2oC,qBAAqB3tD,KAAM,OAAWo4G,aAC1GrzH,KAAK25D,cAAc6E,YAAY,OAAW60D,YAAarzH,KAAKmzH,WAC5DnzH,KAAKk1F,WAAal1F,KAAKqgG,YAAY,QAAS,WAAYrgG,KAAKigC,OAAO2oC,qBAAqB03B,MAAO,OAAWC,cAC3GvgG,KAAK25D,cAAc6E,YAAY,OAAW+hC,aAAcvgG,KAAKk1F,YAC7Dl1F,KAAKo+D,WAAap+D,KAAKqgG,YAAY,QAAS,WAAYrgG,KAAKigC,OAAO2oC,qBAAqBsxC,MAAO,OAAWoZ,cAC3GtzH,KAAK25D,cAAc6E,YAAY,OAAW80D,aAActzH,KAAKo+D,YACzDp+D,KAAK8nE,WACL,OAAajgE,IAAI7H,KAAK8nE,UAAUjhE,QAAS,YAAa7G,KAAKgzH,YAAahzH,MAExEA,KAAKk1F,YACL,OAAartF,IAAI7H,KAAKk1F,WAAWruF,QAAS,YAAa7G,KAAKgzH,YAAahzH,MAEzEA,KAAKmzH,WACL,OAAatrH,IAAI7H,KAAKmzH,UAAUtsH,QAAS,YAAa7G,KAAKgzH,YAAahzH,MAExEA,KAAKo+D,YACL,OAAav2D,IAAI7H,KAAKo+D,WAAWv3D,QAAS,YAAa7G,KAAKgzH,YAAahzH,QAGjFuyH,EAAa1tH,UAAU0uH,yBAA2B,YAC1CvzH,KAAKigC,OAAO02B,WAAW/uC,QAAY,OAAQzgB,WAAY,mBACvD,eAAS,CAACnH,KAAKigC,OAAOp5B,SAAU,CAAC,SACjC7G,KAAKgsE,YAAchsE,KAAKqgG,YAAY,SAAU,WAAYrgG,KAAKigC,OAAO45B,gBAAgBjjD,MAAO,OAAW48G,eACxGxzH,KAAK25D,cAAc6E,YAAY,OAAWg1D,cAAexzH,KAAKgsE,aAC9D,OAAankE,IAAI7H,KAAKgsE,YAAYnlE,QAAS,YAAa7G,KAAKgzH,YAAahzH,QAQlFuyH,EAAa1tH,UAAU4uH,gBAAkB,SAAUp4F,EAAGC,EAAG75B,GACjDzB,KAAKigC,OAAOyB,UAGhB1hC,KAAKgsE,YAAYzD,UAAUltC,EAAGC,EAAG75B,IAOrC8wH,EAAa1tH,UAAU6uH,gBAAkB,WACjC1zH,KAAKgsE,cAAgB,eAAShsE,KAAKgsE,YAAYnlE,QAAS,kBACxD7G,KAAKgsE,YAAYtD,aAQzB6pD,EAAa1tH,UAAU8uH,kBAAoB,WACnC3zH,KAAK8nE,YAAc,eAAS9nE,KAAK8nE,UAAUjhE,QAAS,kBAAoBsO,SAASC,KAAK9I,SAAStM,KAAK8nE,UAAUjhE,UAC9G7G,KAAK8nE,UAAUY,YAEf1oE,KAAKmzH,YAAc,eAASnzH,KAAKmzH,UAAUtsH,QAAS,kBAAoBsO,SAASC,KAAK9I,SAAStM,KAAKmzH,UAAUtsH,UAC9G7G,KAAKmzH,UAAUzqD,YAEf1oE,KAAKk1F,aAAe,eAASl1F,KAAKk1F,WAAWruF,QAAS,kBAAoBsO,SAASC,KAAK9I,SAAStM,KAAKk1F,WAAWruF,UACjH7G,KAAKk1F,WAAWxsB,YAEhB1oE,KAAKo+D,aAAe,eAASp+D,KAAKo+D,WAAWv3D,QAAS,kBAAoBsO,SAASC,KAAK9I,SAAStM,KAAKo+D,WAAWv3D,UACjH7G,KAAKo+D,WAAWsK,aAEhB1oE,KAAKigC,OAAO02B,WAAW/uC,QAAY,OAAQzgB,WAAY,kBACvDnH,KAAK0zH,mBAGbnB,EAAa1tH,UAAU+uH,SAAW,SAAUv4F,EAAGC,EAAG75B,GAC9C,IAAIwJ,EAAQjL,KACZ0L,aAAa1L,KAAK6zH,WAClB7zH,KAAK6zH,UAAYvoH,OAAOC,YAAW,WAAcN,EAAMwoH,gBAAgBp4F,EAAGC,EAAG75B,KAAY,MAE7F8wH,EAAa1tH,UAAUivH,eAAiB,SAAUnxH,GAC9C,GAAI3C,KAAKigC,OAAO02B,WAAW/uC,UAAY,OAAQzgB,UAAY,kBAAc,CACrE,IAAI4sH,OAAc,EAClBA,EAAcpxH,EAAE+lB,KAAKmU,QAAUl6B,EAAE+lB,KAAKw8B,eAAe,GAAKviD,EAAE+lB,KAC5D,IAAI4xB,EAAQt6C,KAAKigC,OAAO43B,WACpBp2D,EAASkB,EAAE+lB,KAAKjnB,OACpB,GAAI,eAAkB,eAAO,IAAM,OAAgB0T,SAASC,OAAQ,CAChE,GAAI,kBAAezS,EAAEqxH,WAAarxH,EAAEqxH,UAAUC,cAAgBtxH,EAAEqxH,UAAUpiF,SACnEjvC,EAAEqxH,UAAUE,cAAgBvxH,EAAEqxH,UAAUniF,QAC3C,OAKJ,GAHA7xC,KAAK0zH,kBACL1zH,KAAKqc,QAAU03G,EAAYj3F,MAC3B98B,KAAKgiB,QAAU,eAAY+xG,EAAa/zH,KAAKigC,OAAOp5B,QAAS7G,KAAKigC,OAAOg4B,eAAerwC,QAChE,aAApBnmB,EAAO8vB,SACPvxB,KAAKyzH,gBAAgBzzH,KAAKqc,QAASrc,KAAKgiB,QAASvgB,OAEhD,CACD,IAAI6zG,EAAgB,eAAQ7zG,EAAQ,KAEpC,GADAA,EAAS6zG,GAAgC7zG,EAClB,QAAnBA,EAAOgW,SAAwC,MAAnBhW,EAAOgW,WAAqB,eAAQhW,EAAQ,WAAa64C,EAAM6d,WAAY,CACvG,GAAIn4D,KAAKigC,OAAO02B,WAAWm8D,aAAex4E,EAAM6d,UAC5C,OAEJn4D,KAAKyB,OAASA,EACdzB,KAAKyzH,gBAAgBzzH,KAAKqc,QAASrc,KAAKgiB,QAASvgB,QAMrE8wH,EAAa1tH,UAAUinC,eAAiB,YAC/B9rC,KAAKigC,OAAO02B,WAAW/uC,QAAY,OAAQzgB,WAAY,kBACpD,eAAkB,eAAO,IAAM,OAAgBgO,YACnDnV,KAAK0zH,mBAGbnB,EAAa1tH,UAAUsvH,4BAA8B,YAC5Cn0H,KAAKigC,OAAO02B,WAAW/uC,QAAY,OAAQzgB,WAAY,kBACpD,eAAkB,eAAO,IAAM,OAAgBgO,YACnDnV,KAAK0zH,mBAGbnB,EAAa1tH,UAAUknC,aAAe,SAAUppC,GAC5C,GAAI3C,KAAKigC,OAAO02B,WAAW/uC,SAAW,OAAQzgB,SAAU,CACpD,GAAInH,KAAKigC,OAAO02B,WAAWm8D,YACvB,OAEJ,IAAIpqG,EAAO/lB,EAAE+lB,KACb1oB,KAAK4zH,SAAS5zH,KAAKqc,QAASrc,KAAKgiB,QAAS0G,EAAKjnB,UAGvD8wH,EAAa1tH,UAAUkuH,uBAAyB,SAAUpwH,GACtD,IAAIsI,EAAQjL,KACZ0L,aAAa1L,KAAK6zH,WAClB7zH,KAAK6zH,UAAYvoH,OAAOC,YAAW,WAAcN,EAAMmpH,kBAAkBzxH,KAAO,MAEpF4vH,EAAa1tH,UAAUuvH,kBAAoB,SAAUzxH,GACjD,GAAK,eAAkB,eAAO,IAAM,OAAgBwS,SAASC,OAA7D,CAGA,IAAIi0D,EAAYrpE,KAAK0+D,gBAAgB3G,cAAcqpC,eAC9C/3B,EAAUgmC,aACXrvG,KAAK8zH,eAAe,CAAEprG,KAAM/lB,MAQpC4vH,EAAa1tH,UAAUwvH,qBAAuB,WAC1C,OAAOr0H,KAAKgsE,aAAehsE,KAAKgsE,YAAYw2B,cAShD+vB,EAAa1tH,UAAU6E,QAAU,WACzB1J,KAAK8nE,YACL,OAAan+D,OAAO3J,KAAK8nE,UAAUjhE,QAAS,YAAa7G,KAAKgzH,aAC9DhzH,KAAK8nE,UAAUp+D,WAEf1J,KAAKmzH,YACL,OAAaxpH,OAAO3J,KAAKmzH,UAAUtsH,QAAS,YAAa7G,KAAKgzH,aAC9DhzH,KAAKmzH,UAAUzpH,WAEf1J,KAAKk1F,aACL,OAAavrF,OAAO3J,KAAKk1F,WAAWruF,QAAS,YAAa7G,KAAKgzH,aAC/DhzH,KAAKk1F,WAAWxrF,WAEhB1J,KAAKo+D,aACL,OAAaz0D,OAAO3J,KAAKo+D,WAAWv3D,QAAS,YAAa7G,KAAKgzH,aAC/DhzH,KAAKo+D,WAAW10D,WAEhB1J,KAAKgsE,cACL,OAAariE,OAAO3J,KAAKgsE,YAAYnlE,QAAS,YAAa7G,KAAKgzH,aAC5D,kBACA,OAAarpH,OAAOwL,SAAU,kBAAmBnV,KAAK+yH,wBAE1D/yH,KAAKgsE,YAAYtiE,WAErB1J,KAAKiY,uBAETs6G,EAAa1tH,UAAUyvH,sBAAwB,WAC3Ct0H,KAAKigC,OAAOz/B,GAAG,QAAgBR,KAAK8zH,eAAgB9zH,MACpDA,KAAKigC,OAAOz/B,GAAG,QAAkBR,KAAKm0H,4BAA6Bn0H,MACnEA,KAAKigC,OAAOz/B,GAAG,OAAgBR,KAAK8rC,eAAgB9rC,MACpDA,KAAKigC,OAAOz/B,GAAG,OAAcR,KAAK+rC,aAAc/rC,MAChDA,KAAKigC,OAAOz/B,GAAG,QAA4BR,KAAK8zH,eAAgB9zH,MAChEA,KAAKigC,OAAOz/B,GAAG,QAA4BR,KAAKuzH,yBAA0BvzH,OAE9EuyH,EAAa1tH,UAAU0vH,wBAA0B,WAC7Cv0H,KAAKigC,OAAOk1B,IAAI,QAAgBn1D,KAAK8zH,gBACrC9zH,KAAKigC,OAAOk1B,IAAI,QAAkBn1D,KAAKm0H,6BACvCn0H,KAAKigC,OAAOk1B,IAAI,OAAgBn1D,KAAK8rC,gBACrC9rC,KAAKigC,OAAOk1B,IAAI,OAAcn1D,KAAK+rC,cACnC/rC,KAAKigC,OAAOk1B,IAAI,QAA4Bn1D,KAAK8zH,gBACjD9zH,KAAKigC,OAAOk1B,IAAI,QAA4Bn1D,KAAKuzH,2BAErDhB,EAAa1tH,UAAU2vH,eAAiB,SAAU9rG,GAC1C1oB,KAAK8nE,YAAc,eAAS9nE,KAAK8nE,UAAUjhE,QAAS,kBACpD7G,KAAK8nE,UAAUY,YAEf1oE,KAAKk1F,aAAe,eAASl1F,KAAKk1F,WAAWruF,QAAS,kBACtD7G,KAAKk1F,WAAWxsB,YAEhB1oE,KAAKo+D,aAAe,eAASp+D,KAAKo+D,WAAWv3D,QAAS,kBACtD7G,KAAKo+D,WAAWsK,aAQxB6pD,EAAa1tH,UAAUiH,iBAAmB,WAClC9L,KAAKigC,OAAO09B,cAGhB39D,KAAKigC,OAAOz/B,GAAG,OAAmBR,KAAK6yH,wBAAyB7yH,MAChEA,KAAKigC,OAAOz/B,GAAG,QAAkBR,KAAKkzH,oBAAqBlzH,MAC3DA,KAAKigC,OAAOz/B,GAAG,QAAuBR,KAAKw0H,eAAgBx0H,MAC3DA,KAAKigC,OAAOz/B,GAAG,OAAaR,KAAKkzH,oBAAqBlzH,MACtDA,KAAKs0H,wBACLt0H,KAAKigC,OAAOz/B,GAAG,QAAqBR,KAAK8O,kBAAmB9O,MACJ,SAApDA,KAAKigC,OAAO2oC,qBAAqB6rD,iBACjCz0H,KAAKigC,OAAOz/B,GAAG,QAAeR,KAAK2zH,kBAAmB3zH,MACtDA,KAAKigC,OAAOz/B,GAAG,OAAsBR,KAAK2zH,kBAAmB3zH,OAEjEA,KAAKigC,OAAOz/B,GAAG,OAAoBR,KAAK2zH,kBAAmB3zH,MAC3DA,KAAKigC,OAAOz/B,GAAG,OAAwBR,KAAK49D,kBAAmB59D,MAC/DA,KAAKigC,OAAOz/B,GAAG,OAAgBR,KAAK0J,QAAS1J,MAC7CA,KAAKigC,OAAOz/B,GAAG,OAAgBR,KAAKqnE,UAAWrnE,MAC/CA,KAAKigC,OAAOz/B,GAAG,QAAgBR,KAAK+5D,OAAQ/5D,QAEhDuyH,EAAa1tH,UAAUwiE,UAAY,SAAU1kE,GACzC,IAAI+lB,EAAO/lB,EAAE+lB,KACM,IAAfA,EAAK0nB,OAA8B,KAAf1nB,EAAK0nB,OACrBpwC,KAAKk1F,aAAe,eAASl1F,KAAKk1F,WAAWruF,QAAS,kBACtD7G,KAAKk1F,WAAWxsB,aAI5B6pD,EAAa1tH,UAAU+4D,kBAAoB,WACvC59D,KAAK2zH,oBACL3zH,KAAK0zH,mBAETnB,EAAa1tH,UAAUk1D,OAAS,SAAUrxC,GAClC1oB,KAAKgsE,aACLhsE,KAAKgsE,YAAYw2B,aAAalsC,WAAWvlC,cAAc,CAAEppB,UAAW+gB,EAAK/gB,YAEzE3H,KAAKk1F,YACLl1F,KAAKk1F,WAAWsN,aAAalsC,WAAWvlC,cAAc,CAAEppB,UAAW+gB,EAAK/gB,YAExE3H,KAAK8nE,WACL9nE,KAAKk1F,WAAWsN,aAAalsC,WAAWvlC,cAAc,CAAEppB,UAAW+gB,EAAK/gB,aAQhF4qH,EAAa1tH,UAAUoT,oBAAsB,WACrCjY,KAAKigC,OAAO09B,cAGhB39D,KAAKigC,OAAOk1B,IAAI,OAAmBn1D,KAAK6yH,yBACxC7yH,KAAKigC,OAAOk1B,IAAI,QAAkBn1D,KAAKkzH,qBACvClzH,KAAKigC,OAAOk1B,IAAI,QAAuBn1D,KAAKw0H,gBAC5Cx0H,KAAKigC,OAAOk1B,IAAI,OAAan1D,KAAKkzH,qBAClClzH,KAAKu0H,0BACLv0H,KAAKigC,OAAOk1B,IAAI,QAAqBn1D,KAAK8O,mBACc,SAApD9O,KAAKigC,OAAO2oC,qBAAqB6rD,iBACjCz0H,KAAKigC,OAAOk1B,IAAI,QAAen1D,KAAK2zH,mBACpC3zH,KAAKigC,OAAOk1B,IAAI,OAAsBn1D,KAAK2zH,oBAE/C3zH,KAAKigC,OAAOk1B,IAAI,OAAoBn1D,KAAK2zH,mBACzC3zH,KAAKigC,OAAOk1B,IAAI,OAAgBn1D,KAAK0J,SACrC1J,KAAKigC,OAAOk1B,IAAI,OAAwBn1D,KAAK49D,mBAC7C59D,KAAKigC,OAAOk1B,IAAI,OAAgBn1D,KAAKqnE,WACrCrnE,KAAKigC,OAAOk1B,IAAI,QAAgBn1D,KAAK+5D,UAOzCw4D,EAAa1tH,UAAUiK,kBAAoB,SAAUnM,GACjD,IAAK,eAAkBA,EAAEoM,QAAQ65D,sBAC7B,IAAK,IAAIrlE,EAAK,EAAGwG,EAAKzF,OAAO2K,KAAKtM,EAAEoM,QAAQ65D,sBAAuBrlE,EAAKwG,EAAG3E,OAAQ7B,IAAM,CACrF,IAAI2L,EAAOnF,EAAGxG,GACd,OAAQ2L,GACJ,IAAK,iBACqD,SAAlDvM,EAAEoM,QAAQ65D,qBAAqB6rD,gBAC/Bz0H,KAAKigC,OAAOk1B,IAAI,QAAen1D,KAAK2zH,mBACpC3zH,KAAKigC,OAAOk1B,IAAI,OAAsBn1D,KAAK2zH,qBAG3C3zH,KAAKigC,OAAOz/B,GAAG,QAAeR,KAAK2zH,kBAAmB3zH,MACtDA,KAAKigC,OAAOz/B,GAAG,OAAsBR,KAAK2zH,kBAAmB3zH,OAEjE,OAIZ2C,EAAE0hE,SAAWrkE,KAAKyJ,kBAGlBzJ,KAAKgsE,cACL,eAAY,CAAChsE,KAAKigC,OAAOp5B,SAAU,CAAC,SACpC7G,KAAKu0H,0BACLv0H,KAAK0zH,oBAEL1zH,KAAKigC,OAAO02B,WAAW/uC,QAAY,OAAQzgB,WAAY,mBACvD,eAAS,CAACnH,KAAKigC,OAAOp5B,SAAU,CAAC,SACjC7G,KAAKs0H,2BAMb/B,EAAa1tH,UAAU4E,cAAgB,WACnC,MAAO,gBAEJ8oH,EA3YsB,G,oBCoGjCmC,OAAQA,IAAIA,QAOG,QACfC,YACAC,eACAC,iBAEAC,SACAC,oCAEA13C,KARA,WASA,OACA23C,0BACAnzH,YACA+lB,WAEAjmB,WACAI,iBACAkzH,oBACA3xH,mBAGA4xH,OACAC,iBACAC,QADA,SACAt8G,GACA,MACA,oBAKAu8G,UACAvzH,OADA,WAEA,wCAEAqzH,gBAJA,WAKA,6CAEAG,aAPA,WAQA,0CAEAC,QAVA,WAWA,yCAGAC,SACA/0H,aADA,WAEA,qBAEAyB,yBAJA,SAIAqF,GACA,8BAAApF,SAEAszH,2BAPA,SAOAluH,GACA,8BAAApF,SAEAuzH,UAVA,WAWA,6BACA,yCACA,8CAEA1xH,wBAfA,SAeAb,GACA,kCAEAX,0BAlBA,SAkBAmzH,GAAA,WACA,2BACA,2EAGA/yH,eAvBA,SAuBAgzH,EAAAn6G,GAAA,WACA,WACAm6G,uBACA,+BACA,2DAEA,8BAGA,aACA,qCACA,oEAEA,mCAIAC,WAxCA,WAyCA,8BAEAC,cA3CA,WA4CA,8BAEAC,UA9CA,WA+CA,6BAAAxuH,4BAEAyuH,YAjDA,WAkDA,+BAGAC,QAhGA,WAiGA,iBACA,qBACA,kBACA,kBAEAC,cAtGA,WAuGA,qBC5NoW,M,yBCQhWC,GAAY,gBACd,GACAr2H,EACAmE,GACA,EACA,KACA,WACA,MAIa,aAAAkyH,G","file":"js/chunk-2ce54541.7cb9ac23.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit_Tender.vue?vue&type=style&index=0&id=19c9febf&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dashboard-body\"},[_c('errorNav'),_c('div',{staticClass:\"row\"},[_c('sidenav',{staticClass:\"col-2\"}),_c('div',{staticClass:\"col-10 content-section admin-dashboard-title\"},[_c('div',{staticClass:\"card title-card\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"d-flex flex-wrap control-nav-btns\"},[_c('button',{staticClass:\"btn btn-primary save\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Save\")]),_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.navigateBack}},[_vm._v(\"Close\")])])])])]),(_vm.tendersIsLoading)?_c('div',{staticClass:\"alert loading-alert\",attrs:{\"role\":\"alert\"}},[_vm._m(0)]):_vm._e(),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-7\"},[_c('div',{staticClass:\"card profile-card\"},[_c('div',{staticClass:\"card-header\"},[_vm._v(\"\\n                            Content\\n                        \")]),_c('div',{staticClass:\"card-body\"},[_c('ValidationProvider',{attrs:{\"name\":\"name\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('label',{attrs:{\"for\":\"title\"}},[_vm._v(\"Title\")]),_c('div',{staticClass:\"input-group mb-3\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.title),expression:\"title\"}],staticClass:\"form-control\",attrs:{\"id\":\"title\",\"rows\":\"3\"},domProps:{\"value\":(_vm.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.title=$event.target.value}}})]),_c('small',{staticClass:\"form-text text-muted\"},[_vm._v(_vm._s(errors[0]))])]}}])}),_c('ValidationProvider',{attrs:{\"name\":\"totalPrice\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('label',{attrs:{\"for\":\"totalPrice\"}},[_vm._v(\"Body\")]),_c('div',{staticClass:\"input-group mb-3\"},[_c('ejs-richtexteditor',{ref:\"rteObj\",attrs:{\"height\":600,\"iframeSettings\":_vm.iframeData}},[_vm._v(\"\\n                                            \"+_vm._s(_vm.tender.description)+\"\\n                                    \")])],1),_c('small',{staticClass:\"form-text text-muted\"},[_vm._v(_vm._s(errors[0]))])]}}])}),_c('br'),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('label',{attrs:{\"for\":\"title\"}},[_vm._v(\"Status\")]),_c('td',[(_vm.tenderIsLoading)?_c('span',{staticClass:\"spinner-border spinner-border-sm\",attrs:{\"role\":\"status\",\"aria-hidden\":\"true\"}}):_c('span',{class:[_vm.tender.isActive ? 'badge-success' : 'badge-secondary', 'badge'],on:{\"click\":function($event){return _vm.changeTenderActiveStatus(_vm.tender._id)}}},[_vm._v(_vm._s(_vm.tender.isActive ? 'ACTIVE' :  'DISABLED'))])])]),_c('div',{staticClass:\"col\"},[_c('label',{attrs:{\"for\":\"title\"}},[_vm._v(\"Featured\")]),_c('td',[(_vm.tenderIsLoading)?_c('span',{staticClass:\"spinner-border spinner-border-sm\",attrs:{\"role\":\"status\",\"aria-hidden\":\"true\"}}):_c('span',{class:[_vm.tender.isFeatured ? 'badge-success' : 'badge-secondary', 'badge'],on:{\"click\":function($event){return _vm.changeTenderActiveStatus(_vm.tender._id)}}},[_vm._v(_vm._s(_vm.tender.isFeatured ? 'YES' :  'NO'))])])])])],1)])]),_c('div',{staticClass:\"col-5\"},[_c('div',{staticClass:\"card profile-card\"},[_c('div',{staticClass:\"card-header\"},[_vm._v(\"\\n                            Classification\\n                        \")]),_c('div',{staticClass:\"card-body\"},[_c('label',{attrs:{\"for\":\"categories\"}},[_vm._v(\"Category\")]),_c('div',{staticClass:\"vue-root\"},[_c('smart-tree',{staticClass:\"categories\",attrs:{\"id\":\"tree\",\"has-three-states\":\"\",\"selection-mode\":\"checkBox\"}},[_vm._l((_vm.categoryList),function(category,index){return [(category.isParent)?_c('smart-tree-items-group',{key:index,attrs:{\"expanded\":_vm.checkIfCategoryIsSelected(category.children.map(function (e) { return e._id; }))}},[_c('strong',{staticClass:\"parent\",on:{\"click\":function($event){_vm.selectCategory(category.children.map(function (e) { return e._id; }), _vm.CATEGORY_SELECTION_MULTIPLE)}}},[_vm._v(_vm._s(category.name.en))]),_vm._l((category.children),function(subCategory,subIndex){return [_c('smart-tree-item',{key:subIndex,attrs:{\"selected\":_vm.checkIfCategoryIsSelected([subCategory._id])},on:{\"click\":function($event){return _vm.selectCategory([subCategory._id], _vm.CATEGORY_SELECTION_SINGLE)}}},[_vm._v(_vm._s(subCategory.name.en))])]})],2):_vm._e(),(!category.isParent)?_c('smart-tree-item',{key:index,attrs:{\"selected\":_vm.checkIfCategoryIsSelected([category._id])},on:{\"click\":function($event){return _vm.selectCategory([category._id], _vm.CATEGORY_SELECTION_SINGLE)}}},[_vm._v(_vm._s(category.name.en))]):_vm._e()]})],2)],1),_c('br'),_c('hr'),_c('br'),_c('label',{attrs:{\"for\":\"regions\"}},[_vm._v(\"Regions\")]),_vm._l((_vm.regions),function(region,index){return [_c('div',{key:index,staticClass:\"region-checkbox custom-control custom-checkbox regions\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tenderRegions),expression:\"tenderRegions\"}],staticClass:\"custom-control-input\",attrs:{\"type\":\"checkbox\",\"id\":(\"region\" + (index+1))},domProps:{\"value\":region._id,\"checked\":true,\"checked\":Array.isArray(_vm.tenderRegions)?_vm._i(_vm.tenderRegions,region._id)>-1:(_vm.tenderRegions)},on:{\"change\":function($event){var $$a=_vm.tenderRegions,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=region._id,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.tenderRegions=$$a.concat([$$v]))}else{$$i>-1&&(_vm.tenderRegions=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.tenderRegions=$$c}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":(\"region\" + (index+1))}},[_vm._v(_vm._s(region.name.en)+\" | \"+_vm._s(_vm.checkIfRegionIsSelected(region._id)))])])]})],2)])])])])],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"spinner-border\",attrs:{\"role\":\"status\"}},[_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Loading...\")])]),_c('div',{staticClass:\"col-3\"},[_vm._v(\"\\n                        Loading...\\n                    \")])])}]\n\nexport { render, staticRenderFns }","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Touch, Component, EventHandler, selectAll, getUniqueID } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, Property, Browser, detach } from '@syncfusion/ej2-base';\nimport { classList, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar CLS_ROOT = 'e-hscroll';\nvar CLS_RTL = 'e-rtl';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_HSCROLLBAR = 'e-hscroll-bar';\nvar CLS_HSCROLLCON = 'e-hscroll-content';\nvar CLS_NAVARROW = 'e-nav-arrow';\nvar CLS_NAVRIGHTARROW = 'e-nav-right-arrow';\nvar CLS_NAVLEFTARROW = 'e-nav-left-arrow';\nvar CLS_HSCROLLNAV = 'e-scroll-nav';\nvar CLS_HSCROLLNAVRIGHT = 'e-scroll-right-nav';\nvar CLS_HSCROLLNAVLEFT = 'e-scroll-left-nav';\nvar CLS_DEVICE = 'e-scroll-device';\nvar CLS_OVERLAY = 'e-scroll-overlay';\nvar CLS_RIGHTOVERLAY = 'e-scroll-right-overlay';\nvar CLS_LEFTOVERLAY = 'e-scroll-left-overlay';\nvar OVERLAY_MAXWID = 40;\n/**\n * HScroll module is introduces horizontal scroller when content exceeds the current viewing area.\n * It can be useful for the components like Toolbar, Tab which needs horizontal scrolling alone.\n * Hidden content can be view by touch moving or icon click.\n * ```html\n * <div id=\"scroll\"/>\n * <script>\n *   var scrollObj = new HScroll();\n *   scrollObj.appendTo(\"#scroll\");\n * </script>\n * ```\n */\nvar HScroll = /** @class */ (function (_super) {\n    __extends(HScroll, _super);\n    /**\n     * Initializes a new instance of the HScroll class.\n     * @param options  - Specifies HScroll model properties as options.\n     * @param element  - Specifies the element for which horizontal scrolling applies.\n     */\n    function HScroll(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    HScroll.prototype.preRender = function () {\n        this.browser = Browser.info.name;\n        this.browserCheck = this.browser === 'mozilla';\n        this.isDevice = Browser.isDevice;\n        this.customStep = true;\n        var element = this.element;\n        this.ieCheck = this.browser === 'edge' || this.browser === 'msie';\n        this.initialize();\n        if (element.id === '') {\n            element.id = getUniqueID('hscroll');\n            this.uniqueId = true;\n        }\n        element.style.display = 'block';\n        if (this.enableRtl) {\n            element.classList.add(CLS_RTL);\n        }\n    };\n    /**\n     * To Initialize the horizontal scroll  rendering\n     * @private\n     */\n    HScroll.prototype.render = function () {\n        this.touchModule = new Touch(this.element, { scroll: this.touchHandler.bind(this), swipe: this.swipeHandler.bind(this) });\n        EventHandler.add(this.scrollEle, 'scroll', this.scrollHandler, this);\n        if (!this.isDevice) {\n            this.createNavIcon(this.element);\n        }\n        else {\n            this.element.classList.add(CLS_DEVICE);\n            this.createOverlay(this.element);\n        }\n        this.setScrollState();\n    };\n    HScroll.prototype.setScrollState = function () {\n        if (isNullOrUndefined(this.scrollStep) || this.scrollStep < 0) {\n            this.scrollStep = this.scrollEle.offsetWidth;\n            this.customStep = false;\n        }\n        else {\n            this.customStep = true;\n        }\n    };\n    HScroll.prototype.initialize = function () {\n        var scrollEle = this.createElement('div', { className: CLS_HSCROLLCON });\n        var scrollDiv = this.createElement('div', { className: CLS_HSCROLLBAR });\n        scrollDiv.setAttribute('tabindex', '-1');\n        var ele = this.element;\n        var innerEle = [].slice.call(ele.children);\n        for (var _i = 0, innerEle_1 = innerEle; _i < innerEle_1.length; _i++) {\n            var ele_1 = innerEle_1[_i];\n            scrollEle.appendChild(ele_1);\n        }\n        scrollDiv.appendChild(scrollEle);\n        ele.appendChild(scrollDiv);\n        scrollDiv.style.overflowX = 'hidden';\n        this.scrollEle = scrollDiv;\n        this.scrollItems = scrollEle;\n    };\n    HScroll.prototype.getPersistData = function () {\n        var keyEntity = ['scrollStep'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    HScroll.prototype.getModuleName = function () {\n        return 'hScroll';\n    };\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     * @returns void\n     */\n    HScroll.prototype.destroy = function () {\n        var ele = this.element;\n        ele.style.display = '';\n        ele.classList.remove(CLS_ROOT);\n        ele.classList.remove(CLS_DEVICE);\n        var nav = selectAll('.e-' + ele.id + '_nav.' + CLS_HSCROLLNAV, ele);\n        var overlay = selectAll('.' + CLS_OVERLAY, ele);\n        [].slice.call(overlay).forEach(function (ele) {\n            detach(ele);\n        });\n        for (var _i = 0, _a = [].slice.call(this.scrollItems.children); _i < _a.length; _i++) {\n            var elem = _a[_i];\n            ele.appendChild(elem);\n        }\n        if (this.uniqueId) {\n            this.element.removeAttribute('id');\n        }\n        detach(this.scrollEle);\n        if (nav.length > 0) {\n            detach(nav[0]);\n            if (!isNullOrUndefined(nav[1])) {\n                detach(nav[1]);\n            }\n        }\n        EventHandler.remove(this.scrollEle, 'scroll', this.scrollHandler);\n        this.touchModule.destroy();\n        this.touchModule = null;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Specifies the value to disable/enable the HScroll component.\n     * When set to `true` , the component will be disabled.\n     * @param  {boolean} value - Based on this Boolean value, HScroll will be enabled (false) or disabled (true).\n     * @returns void.\n     */\n    HScroll.prototype.disable = function (value) {\n        var navEles = selectAll('.e-scroll-nav:not(.' + CLS_DISABLE + ')', this.element);\n        value ? this.element.classList.add(CLS_DISABLE) : this.element.classList.remove(CLS_DISABLE);\n        [].slice.call(navEles).forEach(function (el) {\n            el.setAttribute('tabindex', !value ? '0' : '-1');\n        });\n    };\n    HScroll.prototype.createOverlay = function (element) {\n        var id = element.id.concat('_nav');\n        var rightOverlayEle = this.createElement('div', { className: CLS_OVERLAY + ' ' + CLS_RIGHTOVERLAY });\n        var clsRight = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVRIGHT);\n        var rightEle = this.createElement('div', { id: id.concat('_right'), className: clsRight });\n        var navItem = this.createElement('div', { className: CLS_NAVRIGHTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        rightEle.appendChild(navItem);\n        var leftEle = this.createElement('div', { className: CLS_OVERLAY + ' ' + CLS_LEFTOVERLAY });\n        if (this.ieCheck) {\n            rightEle.classList.add('e-ie-align');\n        }\n        element.appendChild(rightOverlayEle);\n        element.appendChild(rightEle);\n        element.insertBefore(leftEle, element.firstChild);\n        this.eventBinding([rightEle]);\n    };\n    HScroll.prototype.createNavIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var clsRight = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVRIGHT);\n        var nav = this.createElement('div', { id: id.concat('_right'), className: clsRight });\n        nav.setAttribute('aria-disabled', 'false');\n        var navItem = this.createElement('div', { className: CLS_NAVRIGHTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        var clsLeft = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVLEFT);\n        var navEle = this.createElement('div', { id: id.concat('_left'), className: clsLeft + ' ' + CLS_DISABLE });\n        navEle.setAttribute('aria-disabled', 'true');\n        var navLeftItem = this.createElement('div', { className: CLS_NAVLEFTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        navEle.appendChild(navLeftItem);\n        nav.appendChild(navItem);\n        element.appendChild(nav);\n        element.insertBefore(navEle, element.firstChild);\n        if (this.ieCheck) {\n            nav.classList.add('e-ie-align');\n            navEle.classList.add('e-ie-align');\n        }\n        this.eventBinding([nav, navEle]);\n    };\n    HScroll.prototype.onKeyPress = function (e) {\n        var _this = this;\n        if (e.key === 'Enter') {\n            var timeoutFun_1 = function () {\n                _this.keyTimeout = true;\n                _this.eleScrolling(10, e.target, true);\n            };\n            this.keyTimer = window.setTimeout(function () {\n                timeoutFun_1();\n            }, 100);\n        }\n    };\n    HScroll.prototype.onKeyUp = function (e) {\n        if (e.key !== 'Enter') {\n            return;\n        }\n        if (this.keyTimeout) {\n            this.keyTimeout = false;\n        }\n        else {\n            e.target.click();\n        }\n        clearTimeout(this.keyTimer);\n    };\n    HScroll.prototype.eventBinding = function (ele) {\n        var _this = this;\n        [].slice.call(ele).forEach(function (el) {\n            new Touch(el, { tapHold: _this.tabHoldHandler.bind(_this), tapHoldThreshold: 500 });\n            el.addEventListener('keydown', _this.onKeyPress.bind(_this));\n            el.addEventListener('keyup', _this.onKeyUp.bind(_this));\n            el.addEventListener('mouseup', _this.repeatScroll.bind(_this));\n            el.addEventListener('touchend', _this.repeatScroll.bind(_this));\n            el.addEventListener('contextmenu', function (e) {\n                e.preventDefault();\n            });\n            EventHandler.add(el, 'click', _this.clickEventHandler, _this);\n        });\n    };\n    HScroll.prototype.repeatScroll = function () {\n        clearInterval(this.timeout);\n    };\n    HScroll.prototype.tabHoldHandler = function (e) {\n        var _this = this;\n        var trgt = e.originalEvent.target;\n        trgt = this.contains(trgt, CLS_HSCROLLNAV) ? trgt.firstElementChild : trgt;\n        var scrollDis = 10;\n        var timeoutFun = function () {\n            _this.eleScrolling(scrollDis, trgt, true);\n        };\n        this.timeout = window.setInterval(function () {\n            timeoutFun();\n        }, 50);\n    };\n    HScroll.prototype.contains = function (ele, className) {\n        return ele.classList.contains(className);\n    };\n    HScroll.prototype.eleScrolling = function (scrollDis, trgt, isContinuous) {\n        var element = this.scrollEle;\n        var rootEle = this.element;\n        var classList = trgt.classList;\n        if (classList.contains(CLS_HSCROLLNAV)) {\n            classList = trgt.querySelector('.' + CLS_NAVARROW).classList;\n        }\n        if (this.contains(rootEle, CLS_RTL) && this.browserCheck) {\n            scrollDis = -scrollDis;\n        }\n        var scrlLeft = element.scrollLeft;\n        if ((!this.contains(rootEle, CLS_RTL) || this.browserCheck) || this.ieCheck) {\n            if (classList.contains(CLS_NAVRIGHTARROW)) {\n                this.frameScrollRequest(scrollDis, 'add', isContinuous);\n            }\n            else {\n                this.frameScrollRequest(scrollDis, '', isContinuous);\n            }\n        }\n        else {\n            if (classList.contains(CLS_NAVLEFTARROW)) {\n                this.frameScrollRequest(scrollDis, 'add', isContinuous);\n            }\n            else {\n                this.frameScrollRequest(scrollDis, '', isContinuous);\n            }\n        }\n    };\n    HScroll.prototype.clickEventHandler = function (e) {\n        this.eleScrolling(this.scrollStep, e.target, false);\n    };\n    HScroll.prototype.swipeHandler = function (e) {\n        var swipeEle = this.scrollEle;\n        var distance;\n        if (e.velocity <= 1) {\n            distance = e.distanceX / (e.velocity * 10);\n        }\n        else {\n            distance = e.distanceX / e.velocity;\n        }\n        var start = 0.5;\n        var animate = function () {\n            var step = Math.sin(start);\n            if (step <= 0) {\n                window.cancelAnimationFrame(step);\n            }\n            else {\n                if (e.swipeDirection === 'Left') {\n                    swipeEle.scrollLeft += distance * step;\n                }\n                else if (e.swipeDirection === 'Right') {\n                    swipeEle.scrollLeft -= distance * step;\n                }\n                start -= 0.5;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    };\n    HScroll.prototype.scrollUpdating = function (scrollVal, action) {\n        if (action === 'add') {\n            this.scrollEle.scrollLeft += scrollVal;\n        }\n        else {\n            this.scrollEle.scrollLeft -= scrollVal;\n        }\n    };\n    HScroll.prototype.frameScrollRequest = function (scrollVal, action, isContinuous) {\n        var _this = this;\n        var step = 10;\n        if (isContinuous) {\n            this.scrollUpdating(scrollVal, action);\n            return;\n        }\n        if (!this.customStep) {\n            [].slice.call(selectAll('.' + CLS_OVERLAY, this.element)).forEach(function (el) {\n                scrollVal -= el.offsetWidth;\n            });\n        }\n        var animate = function () {\n            var scrollValue;\n            var scrollStep;\n            if (_this.contains(_this.element, CLS_RTL) && _this.browserCheck) {\n                scrollValue = -scrollVal;\n                scrollStep = -step;\n            }\n            else {\n                scrollValue = scrollVal;\n                scrollStep = step;\n            }\n            if (scrollValue < step) {\n                window.cancelAnimationFrame(scrollStep);\n            }\n            else {\n                _this.scrollUpdating(scrollStep, action);\n                scrollVal -= scrollStep;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    };\n    HScroll.prototype.touchHandler = function (e) {\n        var ele = this.scrollEle;\n        var distance;\n        distance = e.distanceX;\n        if ((this.ieCheck) && this.contains(this.element, CLS_RTL)) {\n            distance = -distance;\n        }\n        if (e.scrollDirection === 'Left') {\n            ele.scrollLeft = ele.scrollLeft + distance;\n        }\n        else if (e.scrollDirection === 'Right') {\n            ele.scrollLeft = ele.scrollLeft - distance;\n        }\n    };\n    HScroll.prototype.arrowDisabling = function (addDisable, removeDisable) {\n        if (this.isDevice) {\n            var arrowEle = isNullOrUndefined(addDisable) ? removeDisable : addDisable;\n            var arrowIcon = arrowEle.querySelector('.' + CLS_NAVARROW);\n            if (isNullOrUndefined(addDisable)) {\n                classList(arrowIcon, [CLS_NAVRIGHTARROW], [CLS_NAVLEFTARROW]);\n            }\n            else {\n                classList(arrowIcon, [CLS_NAVLEFTARROW], [CLS_NAVRIGHTARROW]);\n            }\n        }\n        else {\n            addDisable.classList.add(CLS_DISABLE);\n            addDisable.setAttribute('aria-disabled', 'true');\n            addDisable.removeAttribute('tabindex');\n            removeDisable.classList.remove(CLS_DISABLE);\n            removeDisable.setAttribute('aria-disabled', 'false');\n            removeDisable.setAttribute('tabindex', '0');\n        }\n        this.repeatScroll();\n    };\n    HScroll.prototype.scrollHandler = function (e) {\n        var target = e.target;\n        var width = target.offsetWidth;\n        var rootEle = this.element;\n        var navLeftEle = this.element.querySelector('.' + CLS_HSCROLLNAVLEFT);\n        var navRightEle = this.element.querySelector('.' + CLS_HSCROLLNAVRIGHT);\n        var leftOverlay = this.element.querySelector('.' + CLS_LEFTOVERLAY);\n        var rightOverlay = this.element.querySelector('.' + CLS_RIGHTOVERLAY);\n        var scrollLeft = target.scrollLeft;\n        if (scrollLeft <= 0) {\n            scrollLeft = -scrollLeft;\n        }\n        if (this.isDevice) {\n            if (this.enableRtl && !(this.browserCheck || this.ieCheck)) {\n                leftOverlay = this.element.querySelector('.' + CLS_RIGHTOVERLAY);\n                rightOverlay = this.element.querySelector('.' + CLS_LEFTOVERLAY);\n            }\n            if (scrollLeft < OVERLAY_MAXWID) {\n                leftOverlay.style.width = scrollLeft + 'px';\n            }\n            else {\n                leftOverlay.style.width = '40px';\n            }\n            if ((target.scrollWidth - Math.ceil(width + scrollLeft)) < OVERLAY_MAXWID) {\n                rightOverlay.style.width = (target.scrollWidth - Math.ceil(width + scrollLeft)) + 'px';\n            }\n            else {\n                rightOverlay.style.width = '40px';\n            }\n        }\n        if (scrollLeft === 0) {\n            if ((!this.contains(rootEle, CLS_RTL) || this.browserCheck) || this.ieCheck) {\n                this.arrowDisabling(navLeftEle, navRightEle);\n            }\n            else {\n                this.arrowDisabling(navRightEle, navLeftEle);\n            }\n        }\n        else if (Math.ceil(width + scrollLeft + .1) >= target.scrollWidth) {\n            if ((!this.contains(rootEle, CLS_RTL) || this.browserCheck) || this.ieCheck) {\n                this.arrowDisabling(navRightEle, navLeftEle);\n            }\n            else {\n                this.arrowDisabling(navLeftEle, navRightEle);\n            }\n        }\n        else {\n            var disEle = this.element.querySelector('.' + CLS_HSCROLLNAV + '.' + CLS_DISABLE);\n            if (disEle) {\n                disEle.classList.remove(CLS_DISABLE);\n                disEle.setAttribute('aria-disabled', 'false');\n                disEle.setAttribute('tabindex', '0');\n            }\n        }\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of property that changed.\n     * @param  {HScrollModel} newProp\n     * @param  {HScrollModel} oldProp\n     * @returns void\n     * @private\n     */\n    HScroll.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'scrollStep':\n                    this.setScrollState();\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.element.classList.add(CLS_RTL) : this.element.classList.remove(CLS_RTL);\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property(null)\n    ], HScroll.prototype, \"scrollStep\", void 0);\n    HScroll = __decorate([\n        NotifyPropertyChanges\n    ], HScroll);\n    return HScroll;\n}(Component));\nexport { HScroll };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Touch, Component, EventHandler, selectAll, getUniqueID, removeClass } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, Property, Browser, detach, createElement as buildTag } from '@syncfusion/ej2-base';\nimport { classList, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar CLS_ROOT = 'e-vscroll';\nvar CLS_RTL = 'e-rtl';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_VSCROLLBAR = 'e-vscroll-bar';\nvar CLS_VSCROLLCON = 'e-vscroll-content';\nvar CLS_NAVARROW = 'e-nav-arrow';\nvar CLS_NAVUPARROW = 'e-nav-up-arrow';\nvar CLS_NAVDOWNARROW = 'e-nav-down-arrow';\nvar CLS_VSCROLLNAV = 'e-scroll-nav';\nvar CLS_VSCROLLNAVUP = 'e-scroll-up-nav';\nvar CLS_VSCROLLNAVDOWN = 'e-scroll-down-nav';\nvar CLS_DEVICE = 'e-scroll-device';\nvar CLS_OVERLAY = 'e-scroll-overlay';\nvar CLS_UPOVERLAY = 'e-scroll-up-overlay';\nvar CLS_DOWNOVERLAY = 'e-scroll-down-overlay';\nvar OVERLAY_MAXWID = 40;\n/**\n * VScroll module is introduces vertical scroller when content exceeds the current viewing area.\n * It can be useful for the components like Toolbar, Tab which needs vertical scrolling alone.\n * Hidden content can be view by touch moving or icon click.\n * ```html\n * <div id=\"scroll\"/>\n * <script>\n *   var scrollObj = new VScroll();\n *   scrollObj.appendTo(\"#scroll\");\n * </script>\n * ```\n */\nvar VScroll = /** @class */ (function (_super) {\n    __extends(VScroll, _super);\n    /**\n     * Initializes a new instance of the VScroll class.\n     * @param options  - Specifies VScroll model properties as options.\n     * @param element  - Specifies the element for which vertical scrolling applies.\n     */\n    function VScroll(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    VScroll.prototype.preRender = function () {\n        this.browser = Browser.info.name;\n        this.browserCheck = this.browser === 'mozilla';\n        this.isDevice = Browser.isDevice;\n        this.customStep = true;\n        var ele = this.element;\n        this.ieCheck = this.browser === 'edge' || this.browser === 'msie';\n        this.initialize();\n        if (ele.id === '') {\n            ele.id = getUniqueID('vscroll');\n            this.uniqueId = true;\n        }\n        ele.style.display = 'block';\n        if (this.enableRtl) {\n            ele.classList.add(CLS_RTL);\n        }\n    };\n    /**\n     * To Initialize the vertical scroll rendering\n     * @private\n     */\n    VScroll.prototype.render = function () {\n        this.touchModule = new Touch(this.element, { scroll: this.touchHandler.bind(this), swipe: this.swipeHandler.bind(this) });\n        EventHandler.add(this.scrollEle, 'scroll', this.scrollEventHandler, this);\n        if (!this.isDevice) {\n            this.createNavIcon(this.element);\n        }\n        else {\n            this.element.classList.add(CLS_DEVICE);\n            this.createOverlayElement(this.element);\n        }\n        this.setScrollState();\n        EventHandler.add(this.element, 'wheel', this.wheelEventHandler, this);\n    };\n    VScroll.prototype.setScrollState = function () {\n        if (isNullOrUndefined(this.scrollStep) || this.scrollStep < 0) {\n            this.scrollStep = this.scrollEle.offsetHeight;\n            this.customStep = false;\n        }\n        else {\n            this.customStep = true;\n        }\n    };\n    VScroll.prototype.initialize = function () {\n        var scrollCnt = buildTag('div', { className: CLS_VSCROLLCON });\n        var scrollBar = buildTag('div', { className: CLS_VSCROLLBAR });\n        scrollBar.setAttribute('tabindex', '-1');\n        var ele = this.element;\n        var innerEle = [].slice.call(ele.children);\n        for (var _i = 0, innerEle_1 = innerEle; _i < innerEle_1.length; _i++) {\n            var ele_1 = innerEle_1[_i];\n            scrollCnt.appendChild(ele_1);\n        }\n        scrollBar.appendChild(scrollCnt);\n        ele.appendChild(scrollBar);\n        scrollBar.style.overflowY = 'hidden';\n        this.scrollEle = scrollBar;\n        this.scrollItems = scrollCnt;\n    };\n    VScroll.prototype.getPersistData = function () {\n        var keyEntity = ['scrollStep'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    VScroll.prototype.getModuleName = function () {\n        return 'vScroll';\n    };\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     * @returns void\n     */\n    VScroll.prototype.destroy = function () {\n        var el = this.element;\n        el.style.display = '';\n        removeClass([this.element], [CLS_ROOT, CLS_DEVICE]);\n        var navs = selectAll('.e-' + el.id + '_nav.' + CLS_VSCROLLNAV, el);\n        var overlays = selectAll('.' + CLS_OVERLAY, el);\n        [].slice.call(overlays).forEach(function (ele) {\n            detach(ele);\n        });\n        for (var _i = 0, _a = [].slice.call(this.scrollItems.children); _i < _a.length; _i++) {\n            var elem = _a[_i];\n            el.appendChild(elem);\n        }\n        if (this.uniqueId) {\n            this.element.removeAttribute('id');\n        }\n        detach(this.scrollEle);\n        if (navs.length > 0) {\n            detach(navs[0]);\n            if (!isNullOrUndefined(navs[1])) {\n                detach(navs[1]);\n            }\n        }\n        EventHandler.remove(this.scrollEle, 'scroll', this.scrollEventHandler);\n        this.touchModule.destroy();\n        this.touchModule = null;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Specifies the value to disable/enable the VScroll component.\n     * When set to `true` , the component will be disabled.\n     * @param  {boolean} value - Based on this Boolean value, VScroll will be enabled (false) or disabled (true).\n     * @returns void.\n     */\n    VScroll.prototype.disable = function (value) {\n        var navEle = selectAll('.e-scroll-nav:not(.' + CLS_DISABLE + ')', this.element);\n        value ? this.element.classList.add(CLS_DISABLE) : this.element.classList.remove(CLS_DISABLE);\n        [].slice.call(navEle).forEach(function (el) {\n            el.setAttribute('tabindex', !value ? '0' : '-1');\n        });\n    };\n    VScroll.prototype.createOverlayElement = function (element) {\n        var id = element.id.concat('_nav');\n        var downOverlayEle = buildTag('div', { className: CLS_OVERLAY + ' ' + CLS_DOWNOVERLAY });\n        var clsDown = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVDOWN);\n        var downEle = buildTag('div', { id: id.concat('down'), className: clsDown });\n        var navItem = buildTag('div', { className: CLS_NAVDOWNARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        downEle.appendChild(navItem);\n        var upEle = buildTag('div', { className: CLS_OVERLAY + ' ' + CLS_UPOVERLAY });\n        if (this.ieCheck) {\n            downEle.classList.add('e-ie-align');\n        }\n        element.appendChild(downOverlayEle);\n        element.appendChild(downEle);\n        element.insertBefore(upEle, element.firstChild);\n        this.eventBinding([downEle]);\n    };\n    VScroll.prototype.createNavIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var clsDown = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVDOWN);\n        var nav = buildTag('div', { id: id.concat('_down'), className: clsDown });\n        nav.setAttribute('aria-disabled', 'false');\n        var navItem = buildTag('div', { className: CLS_NAVDOWNARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        var clsUp = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVUP);\n        var navElement = buildTag('div', { id: id.concat('_up'), className: clsUp + ' ' + CLS_DISABLE });\n        navElement.setAttribute('aria-disabled', 'true');\n        var navUpItem = buildTag('div', { className: CLS_NAVUPARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        navElement.appendChild(navUpItem);\n        nav.appendChild(navItem);\n        nav.setAttribute('tabindex', '0');\n        element.appendChild(nav);\n        element.insertBefore(navElement, element.firstChild);\n        if (this.ieCheck) {\n            nav.classList.add('e-ie-align');\n            navElement.classList.add('e-ie-align');\n        }\n        this.eventBinding([nav, navElement]);\n    };\n    VScroll.prototype.onKeyPress = function (ev) {\n        var _this = this;\n        if (ev.key === 'Enter') {\n            var timeoutFun_1 = function () {\n                _this.keyTimeout = true;\n                _this.eleScrolling(10, ev.target, true);\n            };\n            this.keyTimer = window.setTimeout(function () { timeoutFun_1(); }, 100);\n        }\n    };\n    VScroll.prototype.onKeyUp = function (ev) {\n        if (ev.key !== 'Enter') {\n            return;\n        }\n        if (this.keyTimeout) {\n            this.keyTimeout = false;\n        }\n        else {\n            ev.target.click();\n        }\n        clearTimeout(this.keyTimer);\n    };\n    VScroll.prototype.eventBinding = function (element) {\n        var _this = this;\n        [].slice.call(element).forEach(function (ele) {\n            new Touch(ele, { tapHold: _this.tabHoldHandler.bind(_this), tapHoldThreshold: 500 });\n            ele.addEventListener('keydown', _this.onKeyPress.bind(_this));\n            ele.addEventListener('keyup', _this.onKeyUp.bind(_this));\n            ele.addEventListener('mouseup', _this.repeatScroll.bind(_this));\n            ele.addEventListener('touchend', _this.repeatScroll.bind(_this));\n            ele.addEventListener('contextmenu', function (e) {\n                e.preventDefault();\n            });\n            EventHandler.add(ele, 'click', _this.clickEventHandler, _this);\n        });\n    };\n    VScroll.prototype.repeatScroll = function () {\n        clearInterval(this.timeout);\n    };\n    VScroll.prototype.tabHoldHandler = function (ev) {\n        var _this = this;\n        var trgt = ev.originalEvent.target;\n        trgt = this.contains(trgt, CLS_VSCROLLNAV) ? trgt.firstElementChild : trgt;\n        var scrollDistance = 10;\n        var timeoutFun = function () {\n            _this.eleScrolling(scrollDistance, trgt, true);\n        };\n        this.timeout = window.setInterval(function () { timeoutFun(); }, 50);\n    };\n    VScroll.prototype.contains = function (element, className) {\n        return element.classList.contains(className);\n    };\n    VScroll.prototype.eleScrolling = function (scrollDis, trgt, isContinuous) {\n        var rootElement = this.element;\n        var classList = trgt.classList;\n        if (classList.contains(CLS_VSCROLLNAV)) {\n            classList = trgt.querySelector('.' + CLS_NAVARROW).classList;\n        }\n        if (classList.contains(CLS_NAVDOWNARROW)) {\n            this.frameScrollRequest(scrollDis, 'add', isContinuous);\n        }\n        else if (classList.contains(CLS_NAVUPARROW)) {\n            this.frameScrollRequest(scrollDis, '', isContinuous);\n        }\n    };\n    VScroll.prototype.clickEventHandler = function (event) {\n        this.eleScrolling(this.scrollStep, event.target, false);\n    };\n    VScroll.prototype.wheelEventHandler = function (e) {\n        e.preventDefault();\n        this.frameScrollRequest(this.scrollStep, (e.deltaY > 0 ? 'add' : ''), false);\n    };\n    VScroll.prototype.swipeHandler = function (e) {\n        var swipeElement = this.scrollEle;\n        var distance;\n        if (e.velocity <= 1) {\n            distance = e.distanceY / (e.velocity * 10);\n        }\n        else {\n            distance = e.distanceY / e.velocity;\n        }\n        var start = 0.5;\n        var animate = function () {\n            var step = Math.sin(start);\n            if (step <= 0) {\n                window.cancelAnimationFrame(step);\n            }\n            else {\n                if (e.swipeDirection === 'Up') {\n                    swipeElement.scrollTop += distance * step;\n                }\n                else if (e.swipeDirection === 'Down') {\n                    swipeElement.scrollTop -= distance * step;\n                }\n                start -= 0.02;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    };\n    VScroll.prototype.scrollUpdating = function (scrollVal, action) {\n        if (action === 'add') {\n            this.scrollEle.scrollTop += scrollVal;\n        }\n        else {\n            this.scrollEle.scrollTop -= scrollVal;\n        }\n    };\n    VScroll.prototype.frameScrollRequest = function (scrollValue, action, isContinuous) {\n        var _this = this;\n        var step = 10;\n        if (isContinuous) {\n            this.scrollUpdating(scrollValue, action);\n            return;\n        }\n        if (!this.customStep) {\n            [].slice.call(selectAll('.' + CLS_OVERLAY, this.element)).forEach(function (el) {\n                scrollValue -= el.offsetHeight;\n            });\n        }\n        var animate = function () {\n            if (scrollValue < step) {\n                window.cancelAnimationFrame(step);\n            }\n            else {\n                _this.scrollUpdating(step, action);\n                scrollValue -= step;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    };\n    VScroll.prototype.touchHandler = function (e) {\n        var el = this.scrollEle;\n        var distance;\n        distance = e.distanceY;\n        if (e.scrollDirection === 'Up') {\n            el.scrollTop = el.scrollTop + distance;\n        }\n        else if (e.scrollDirection === 'Down') {\n            el.scrollTop = el.scrollTop - distance;\n        }\n    };\n    VScroll.prototype.arrowDisabling = function (addDisableCls, removeDisableCls) {\n        if (this.isDevice) {\n            var arrowEle = isNullOrUndefined(addDisableCls) ? removeDisableCls : addDisableCls;\n            var arrowIcon = arrowEle.querySelector('.' + CLS_NAVARROW);\n            if (isNullOrUndefined(addDisableCls)) {\n                classList(arrowIcon, [CLS_NAVDOWNARROW], [CLS_NAVUPARROW]);\n            }\n            else {\n                classList(arrowIcon, [CLS_NAVUPARROW], [CLS_NAVDOWNARROW]);\n            }\n        }\n        else {\n            addDisableCls.classList.add(CLS_DISABLE);\n            addDisableCls.setAttribute('aria-disabled', 'true');\n            addDisableCls.removeAttribute('tabindex');\n            removeDisableCls.classList.remove(CLS_DISABLE);\n            removeDisableCls.setAttribute('aria-disabled', 'false');\n            removeDisableCls.setAttribute('tabindex', '0');\n        }\n        this.repeatScroll();\n    };\n    VScroll.prototype.scrollEventHandler = function (e) {\n        var target = e.target;\n        var height = target.offsetHeight;\n        var rootEle = this.element;\n        var navUpEle = this.element.querySelector('.' + CLS_VSCROLLNAVUP);\n        var navDownEle = this.element.querySelector('.' + CLS_VSCROLLNAVDOWN);\n        var upOverlay = this.element.querySelector('.' + CLS_UPOVERLAY);\n        var downOverlay = this.element.querySelector('.' + CLS_DOWNOVERLAY);\n        var scrollTop = target.scrollTop;\n        if (scrollTop <= 0) {\n            scrollTop = -scrollTop;\n        }\n        if (this.isDevice) {\n            if (scrollTop < OVERLAY_MAXWID) {\n                upOverlay.style.height = scrollTop + 'px';\n            }\n            else {\n                upOverlay.style.height = '40px';\n            }\n            if ((target.scrollHeight - Math.ceil(height + scrollTop)) < OVERLAY_MAXWID) {\n                downOverlay.style.height = (target.scrollHeight - Math.ceil(height + scrollTop)) + 'px';\n            }\n            else {\n                downOverlay.style.height = '40px';\n            }\n        }\n        if (scrollTop === 0) {\n            this.arrowDisabling(navUpEle, navDownEle);\n        }\n        else if (Math.ceil(height + scrollTop + .1) >= target.scrollHeight) {\n            this.arrowDisabling(navDownEle, navUpEle);\n        }\n        else {\n            var disEle = this.element.querySelector('.' + CLS_VSCROLLNAV + '.' + CLS_DISABLE);\n            if (disEle) {\n                disEle.classList.remove(CLS_DISABLE);\n                disEle.setAttribute('aria-disabled', 'false');\n                disEle.setAttribute('tabindex', '0');\n            }\n        }\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of property that changed.\n     * @param  {VScrollModel} newProp\n     * @param  {VScrollModel} oldProp\n     * @returns void\n     * @private\n     */\n    VScroll.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'scrollStep':\n                    this.setScrollState();\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.element.classList.add(CLS_RTL) : this.element.classList.remove(CLS_RTL);\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property(null)\n    ], VScroll.prototype, \"scrollStep\", void 0);\n    VScroll = __decorate([\n        NotifyPropertyChanges\n    ], VScroll);\n    return VScroll;\n}(Component));\nexport { VScroll };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event, append } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, isVisible, closest, attributes, detach, classList, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { selectAll, setStyleAttribute as setStyle } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, getUniqueID, formatUnit, Collection, compile as templateCompiler } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, Browser, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { isBlazor } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { calculatePosition } from '@syncfusion/ej2-popups';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { HScroll } from '../common/h-scroll';\nimport { VScroll } from '../common/v-scroll';\nvar CLS_VERTICAL = 'e-vertical';\nvar CLS_ITEMS = 'e-toolbar-items';\nvar BZ_ITEMS = 'e-blazor-toolbar-items';\nvar CLS_ITEM = 'e-toolbar-item';\nvar CLS_RTL = 'e-rtl';\nvar CLS_SEPARATOR = 'e-separator';\nvar CLS_POPUPICON = 'e-popup-up-icon';\nvar CLS_POPUPDOWN = 'e-popup-down-icon';\nvar CLS_POPUPOPEN = 'e-popup-open';\nvar CLS_TEMPLATE = 'e-template';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_POPUPTEXT = 'e-toolbar-text';\nvar CLS_TBARTEXT = 'e-popup-text';\nvar CLS_TBAROVERFLOW = 'e-overflow-show';\nvar CLS_POPOVERFLOW = 'e-overflow-hide';\nvar CLS_TBARBTN = 'e-tbar-btn';\nvar CLS_TBARNAV = 'e-hor-nav';\nvar CLS_TBARSCRLNAV = 'e-scroll-nav';\nvar CLS_TBARRIGHT = 'e-toolbar-right';\nvar CLS_TBARLEFT = 'e-toolbar-left';\nvar CLS_TBARCENTER = 'e-toolbar-center';\nvar CLS_TBARPOS = 'e-tbar-pos';\nvar CLS_HSCROLLCNT = 'e-hscroll-content';\nvar CLS_VSCROLLCNT = 'e-vscroll-content';\nvar CLS_HSCROLLBAR = 'e-hscroll-bar';\nvar CLS_POPUPNAV = 'e-hor-nav';\nvar CLS_POPUPCLASS = 'e-toolbar-pop';\nvar CLS_POPUP = 'e-toolbar-popup';\nvar CLS_TBARBTNTEXT = 'e-tbar-btn-text';\nvar CLS_TBARNAVACT = 'e-nav-active';\nvar CLS_TBARIGNORE = 'e-ignore';\nvar CLS_POPPRI = 'e-popup-alone';\nvar CLS_HIDDEN = 'e-hidden';\nvar CLS_MULTIROW = 'e-toolbar-multirow';\nvar CLS_MULTIROWPOS = 'e-multirow-pos';\nvar CLS_MULTIROW_SEPARATOR = 'e-multirow-separator';\nvar CLS_EXTENDABLE_SEPARATOR = 'e-extended-separator';\nvar CLS_EXTEANDABLE_TOOLBAR = 'e-extended-toolbar';\nvar CLS_EXTENDABLECLASS = 'e-toolbar-extended';\nvar CLS_EXTENDPOPUP = 'e-expended-nav';\nvar CLS_EXTENDEDPOPOPEN = 'e-tbar-extended';\n/**\n * An item object that is used to configure Toolbar commands.\n */\nvar Item = /** @class */ (function (_super) {\n    __extends(Item, _super);\n    function Item() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Item.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"text\", void 0);\n    __decorate([\n        Property('auto')\n    ], Item.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], Item.prototype, \"showAlwaysInPopup\", void 0);\n    __decorate([\n        Property(false)\n    ], Item.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"prefixIcon\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"suffixIcon\", void 0);\n    __decorate([\n        Property(true)\n    ], Item.prototype, \"visible\", void 0);\n    __decorate([\n        Property('None')\n    ], Item.prototype, \"overflow\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"template\", void 0);\n    __decorate([\n        Property('Button')\n    ], Item.prototype, \"type\", void 0);\n    __decorate([\n        Property('Both')\n    ], Item.prototype, \"showTextOn\", void 0);\n    __decorate([\n        Property(null)\n    ], Item.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"tooltipText\", void 0);\n    __decorate([\n        Property('Left')\n    ], Item.prototype, \"align\", void 0);\n    __decorate([\n        Event()\n    ], Item.prototype, \"click\", void 0);\n    return Item;\n}(ChildProperty));\nexport { Item };\n/**\n * The Toolbar control contains a group of commands that are aligned horizontally.\n * ```html\n * <div id=\"toolbar\"/>\n * <script>\n *   var toolbarObj = new Toolbar();\n *   toolbarObj.appendTo(\"#toolbar\");\n * </script>\n * ```\n */\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    /**\n     * Initializes a new instance of the Toolbar class.\n     * @param options  - Specifies Toolbar model properties as options.\n     * @param element  - Specifies the element that is rendered as a Toolbar.\n     */\n    function Toolbar(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.resizeContext = _this.resize.bind(_this);\n        /**\n         * Contains the keyboard configuration of the Toolbar.\n         */\n        _this.keyConfigs = {\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            popupOpen: 'enter',\n            popupClose: 'escape',\n            tab: 'tab',\n            home: 'home',\n            end: 'end',\n        };\n        return _this;\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     * @returns void.\n     */\n    Toolbar.prototype.destroy = function () {\n        var _this = this;\n        _super.prototype.destroy.call(this);\n        this.unwireEvents();\n        this.tempId.forEach(function (ele) {\n            if (!isNOU(_this.element.querySelector(ele))) {\n                document.body.appendChild(_this.element.querySelector(ele)).style.display = 'none';\n            }\n        });\n        if (isBlazor() && this.isServerRendered) {\n            this.resetServerItems();\n        }\n        else {\n            var subControls = this.element.querySelectorAll('.e-control');\n            [].slice.call(subControls).forEach(function (node) {\n                var instances = node.ej2_instances;\n                if (instances) {\n                    var instance = instances[0];\n                    if (instance) {\n                        instance.destroy();\n                    }\n                }\n            });\n        }\n        while (this.element.lastElementChild && !this.element.lastElementChild.classList.contains(BZ_ITEMS)) {\n            this.element.removeChild(this.element.lastElementChild);\n        }\n        if (this.trgtEle) {\n            this.element.appendChild(this.ctrlTem);\n        }\n        this.clearProperty();\n        this.popObj = null;\n        this.tbarAlign = null;\n        this.remove(this.element, 'e-toolpop');\n        if (this.cssClass) {\n            removeClass([this.element], this.cssClass.split(' '));\n        }\n        this.element.removeAttribute('style');\n        ['aria-disabled', 'aria-orientation', 'aria-haspopup', 'role'].forEach(function (attrb) {\n            return _this.element.removeAttribute(attrb);\n        });\n    };\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    Toolbar.prototype.preRender = function () {\n        var eventArgs = { enableCollision: this.enableCollision, scrollStep: this.scrollStep };\n        this.trigger('beforeCreate', eventArgs);\n        this.enableCollision = eventArgs.enableCollision;\n        this.scrollStep = eventArgs.scrollStep;\n        this.scrollModule = null;\n        this.popObj = null;\n        this.tempId = [];\n        this.tbarItemsCol = this.items;\n        this.isVertical = this.element.classList.contains(CLS_VERTICAL) ? true : false;\n        this.isExtendedOpen = false;\n        this.popupPriCount = 0;\n        if (this.enableRtl) {\n            this.add(this.element, CLS_RTL);\n        }\n    };\n    Toolbar.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        window.addEventListener('resize', this.resizeContext);\n        if (this.allowKeyboard) {\n            this.wireKeyboardEvent();\n        }\n    };\n    Toolbar.prototype.wireKeyboardEvent = function () {\n        this.keyModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs\n        });\n        EventHandler.add(this.element, 'keydown', this.docKeyDown, this);\n        this.element.setAttribute('tabIndex', '0');\n    };\n    Toolbar.prototype.unwireKeyboardEvent = function () {\n        if (this.keyModule) {\n            EventHandler.remove(this.element, 'keydown', this.docKeyDown);\n            this.keyModule.destroy();\n            this.keyModule = null;\n        }\n    };\n    Toolbar.prototype.docKeyDown = function (e) {\n        if (e.target.tagName === 'INPUT') {\n            return;\n        }\n        var popCheck = !isNOU(this.popObj) && isVisible(this.popObj.element) && this.overflowMode !== 'Extended';\n        if (e.keyCode === 9 && e.target.classList.contains('e-hor-nav') === true && popCheck) {\n            this.popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n        var keyCheck = (e.keyCode === 40 || e.keyCode === 38 || e.keyCode === 35 || e.keyCode === 36);\n        if (keyCheck) {\n            e.preventDefault();\n        }\n    };\n    Toolbar.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        this.destroyScroll();\n        this.unwireKeyboardEvent();\n        window.removeEventListener('resize', this.resizeContext);\n        EventHandler.remove(document, 'scroll', this.docEvent);\n        EventHandler.remove(document, 'click', this.docEvent);\n    };\n    Toolbar.prototype.clearProperty = function () {\n        this.tbarEle = [];\n        this.tbarAlgEle = { lefts: [], centers: [], rights: [] };\n    };\n    Toolbar.prototype.docEvent = function (e) {\n        var popEle = closest(e.target, '.e-popup');\n        if (this.popObj && isVisible(this.popObj.element) && !popEle && this.overflowMode === 'Popup') {\n            this.popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n    };\n    Toolbar.prototype.destroyScroll = function () {\n        if (this.scrollModule) {\n            if (this.tbarAlign) {\n                this.add(this.scrollModule.element, CLS_TBARPOS);\n            }\n            this.scrollModule.destroy();\n            this.scrollModule = null;\n        }\n    };\n    Toolbar.prototype.destroyItems = function () {\n        [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM)).forEach(function (el) {\n            detach(el);\n        });\n        var tbarItems = this.element.querySelector('.' + CLS_ITEMS);\n        if (this.tbarAlign) {\n            [].slice.call(tbarItems.children).forEach(function (el) {\n                detach(el);\n            });\n            this.tbarAlign = false;\n            this.remove(tbarItems, CLS_TBARPOS);\n        }\n        this.clearProperty();\n    };\n    Toolbar.prototype.destroyMode = function () {\n        if (this.scrollModule) {\n            this.remove(this.scrollModule.element, CLS_RTL);\n            this.destroyScroll();\n        }\n        this.remove(this.element, CLS_EXTENDEDPOPOPEN);\n        this.remove(this.element, CLS_EXTEANDABLE_TOOLBAR);\n        var tempEle = this.element.querySelector('.e-toolbar-multirow');\n        if (tempEle) {\n            this.remove(tempEle, CLS_MULTIROW);\n        }\n        if (this.popObj) {\n            this.popupRefresh(this.popObj.element, true);\n        }\n    };\n    Toolbar.prototype.add = function (ele, val) {\n        ele.classList.add(val);\n    };\n    Toolbar.prototype.remove = function (ele, val) {\n        ele.classList.remove(val);\n    };\n    Toolbar.prototype.elementFocus = function (ele) {\n        var fChild = ele.firstElementChild;\n        if (fChild) {\n            fChild.focus();\n            this.activeEleSwitch(ele);\n        }\n        else {\n            ele.focus();\n        }\n    };\n    Toolbar.prototype.clstElement = function (tbrNavChk, trgt) {\n        var clst;\n        if (tbrNavChk && this.popObj && isVisible(this.popObj.element)) {\n            clst = this.popObj.element.querySelector('.' + CLS_ITEM);\n        }\n        else if (this.element === trgt || tbrNavChk) {\n            // tslint:disable-next-line:max-line-length\n            clst = this.element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_DISABLE + ' ):not(.' + CLS_SEPARATOR + ' ):not(.' + CLS_HIDDEN + ' )');\n        }\n        else {\n            clst = closest(trgt, '.' + CLS_ITEM);\n        }\n        return clst;\n    };\n    Toolbar.prototype.keyHandling = function (clst, e, trgt, navChk, scrollChk) {\n        var popObj = this.popObj;\n        var rootEle = this.element;\n        var popAnimate = { name: 'FadeOut', duration: 100 };\n        switch (e.action) {\n            case 'moveRight':\n                if (this.isVertical) {\n                    return;\n                }\n                if (rootEle === trgt) {\n                    this.elementFocus(clst);\n                }\n                else if (!navChk) {\n                    this.eleFocus(clst, 'next');\n                }\n                break;\n            case 'moveLeft':\n                if (this.isVertical) {\n                    return;\n                }\n                if (!navChk) {\n                    this.eleFocus(clst, 'previous');\n                }\n                break;\n            case 'home':\n            case 'end':\n                var ele = void 0;\n                var nodes = void 0;\n                if (clst) {\n                    var popupCheck = closest(clst, '.e-popup');\n                    if (popupCheck) {\n                        if (isVisible(this.popObj.element)) {\n                            nodes = [].slice.call(popupCheck.children);\n                            if (e.action === 'home') {\n                                ele = nodes[0];\n                            }\n                            else {\n                                ele = nodes[nodes.length - 1];\n                            }\n                        }\n                    }\n                    else {\n                        nodes = this.element.querySelectorAll('.' + CLS_ITEMS + ' .' + CLS_ITEM);\n                        if (e.action === 'home') {\n                            ele = nodes[0];\n                        }\n                        else {\n                            ele = nodes[nodes.length - 1];\n                        }\n                    }\n                    if (ele) {\n                        this.elementFocus(ele);\n                    }\n                }\n                break;\n            case 'moveUp':\n            case 'moveDown':\n                var value = e.action === 'moveUp' ? 'previous' : 'next';\n                if (!this.isVertical) {\n                    if (popObj && closest(trgt, '.e-popup')) {\n                        var popEle = popObj.element;\n                        var popFrstEle = popEle.firstElementChild;\n                        if ((value === 'previous' && popFrstEle === clst) || (value === 'next' && popEle.lastElementChild === clst)) {\n                            return;\n                        }\n                        else {\n                            this.eleFocus(clst, value);\n                        }\n                    }\n                    else if (e.action === 'moveDown' && popObj && isVisible(popObj.element)) {\n                        this.elementFocus(clst);\n                    }\n                }\n                else {\n                    if (e.action === 'moveUp') {\n                        this.eleFocus(clst, 'previous');\n                    }\n                    else {\n                        this.eleFocus(clst, 'next');\n                    }\n                }\n                break;\n            case 'tab':\n                if (!scrollChk && !navChk) {\n                    var ele_1 = clst.firstElementChild;\n                    if (rootEle === trgt) {\n                        if (this.activeEle) {\n                            this.activeEle.focus();\n                        }\n                        else {\n                            this.activeEleRemove(ele_1);\n                            ele_1.focus();\n                        }\n                        this.element.removeAttribute('tabindex');\n                    }\n                }\n                break;\n            case 'popupClose':\n                if (popObj && this.overflowMode !== 'Extended') {\n                    popObj.hide(popAnimate);\n                }\n                break;\n            case 'popupOpen':\n                if (!navChk) {\n                    return;\n                }\n                if (popObj && !isVisible(popObj.element)) {\n                    popObj.element.style.top = rootEle.offsetHeight + 'px';\n                    popObj.show({ name: 'FadeIn', duration: 100 });\n                }\n                else {\n                    popObj.hide(popAnimate);\n                }\n                break;\n        }\n    };\n    Toolbar.prototype.keyActionHandler = function (e) {\n        var trgt = e.target;\n        if (trgt.tagName === 'INPUT' || trgt.tagName === 'TEXTAREA' || this.element.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        e.preventDefault();\n        var clst;\n        var tbrNavChk = trgt.classList.contains(CLS_TBARNAV);\n        var tbarScrollChk = trgt.classList.contains(CLS_TBARSCRLNAV);\n        clst = this.clstElement(tbrNavChk, trgt);\n        if (clst || tbarScrollChk) {\n            this.keyHandling(clst, e, trgt, tbrNavChk, tbarScrollChk);\n        }\n    };\n    /**\n     * Specifies the value to disable/enable the Toolbar component.\n     * When set to `true`, the component will be disabled.\n     * @param  {boolean} value - Based on this Boolean value, Toolbar will be enabled (false) or disabled (true).\n     * @returns void.\n     */\n    Toolbar.prototype.disable = function (value) {\n        var rootEle = this.element;\n        value ? rootEle.classList.add(CLS_DISABLE) : rootEle.classList.remove(CLS_DISABLE);\n        rootEle.setAttribute('tabindex', !value ? '0' : '-1');\n        if (this.activeEle) {\n            this.activeEle.setAttribute('tabindex', !value ? '0' : '-1');\n        }\n        if (this.scrollModule) {\n            this.scrollModule.disable(value);\n        }\n        if (this.popObj) {\n            if (isVisible(this.popObj.element) && this.overflowMode !== 'Extended') {\n                this.popObj.hide();\n            }\n            rootEle.querySelector('#' + rootEle.id + '_nav').setAttribute('tabindex', !value ? '0' : '-1');\n        }\n    };\n    Toolbar.prototype.eleContains = function (el) {\n        // tslint:disable-next-line:max-line-length\n        return el.classList.contains(CLS_SEPARATOR) || el.classList.contains(CLS_DISABLE) || el.getAttribute('disabled') || el.classList.contains(CLS_HIDDEN) || !isVisible(el);\n        // tslint:enable-next-line:max-line-length\n    };\n    Toolbar.prototype.eleFocus = function (closest, pos) {\n        var sib = Object(closest)[pos + 'ElementSibling'];\n        if (sib) {\n            var skipEle = this.eleContains(sib);\n            if (skipEle) {\n                this.eleFocus(sib, pos);\n                return;\n            }\n            this.elementFocus(sib);\n        }\n        else if (this.tbarAlign) {\n            var elem = Object(closest.parentElement)[pos + 'ElementSibling'];\n            if (!isNOU(elem) && elem.children.length === 0) {\n                elem = Object(elem)[pos + 'ElementSibling'];\n            }\n            if (!isNOU(elem) && elem.children.length > 0) {\n                if (pos === 'next') {\n                    var el = elem.querySelector('.' + CLS_ITEM);\n                    if (this.eleContains(el)) {\n                        this.eleFocus(el, pos);\n                    }\n                    else {\n                        el.firstElementChild.focus();\n                        this.activeEleSwitch(el);\n                    }\n                }\n                else {\n                    var el = elem.lastElementChild;\n                    if (this.eleContains(el)) {\n                        this.eleFocus(el, pos);\n                    }\n                    else {\n                        this.elementFocus(el);\n                    }\n                }\n            }\n        }\n    };\n    Toolbar.prototype.clickHandler = function (e) {\n        var _this = this;\n        var trgt = e.target;\n        var clsList = trgt.classList;\n        var ele = this.element;\n        var isPopupElement = !isNOU(closest(trgt, '.' + CLS_POPUPCLASS));\n        var popupNav = closest(trgt, ('.' + CLS_TBARNAV));\n        if (!popupNav) {\n            popupNav = trgt;\n        }\n        if (!ele.children[0].classList.contains('e-hscroll') && !ele.children[0].classList.contains('e-vscroll')\n            && (clsList.contains(CLS_TBARNAV))) {\n            clsList = trgt.querySelector('.e-icons').classList;\n        }\n        if (clsList.contains(CLS_POPUPICON) || clsList.contains(CLS_POPUPDOWN)) {\n            this.popupClickHandler(ele, popupNav, CLS_RTL);\n        }\n        var itemObj;\n        var clst = closest(e.target, '.' + CLS_ITEM);\n        if ((isNOU(clst) || clst.classList.contains(CLS_DISABLE)) && !popupNav.classList.contains(CLS_TBARNAV)) {\n            return;\n        }\n        if (clst) {\n            var tempItem = this.items[this.tbarEle.indexOf(clst)];\n            if (tempItem && isBlazor() && this.isServerRendered) {\n                itemObj = {\n                    id: tempItem.id,\n                    text: tempItem.text,\n                    width: tempItem.width,\n                    cssClass: tempItem.cssClass,\n                    showAlwaysInPopup: tempItem.showAlwaysInPopup,\n                    disabled: tempItem.disabled,\n                    prefixIcon: tempItem.prefixIcon,\n                    suffixIcon: tempItem.suffixIcon,\n                    visible: tempItem.visible,\n                    overflow: tempItem.overflow,\n                    template: tempItem.template,\n                    type: tempItem.type,\n                    showTextOn: tempItem.showTextOn,\n                    htmlAttributes: tempItem.htmlAttributes,\n                    tooltipText: tempItem.tooltipText,\n                    align: tempItem.align,\n                    click: tempItem.click\n                };\n            }\n            else {\n                itemObj = tempItem;\n            }\n        }\n        var eventArgs = { originalEvent: e, item: itemObj };\n        if (itemObj && !isNOU(itemObj.click)) {\n            this.trigger('items[' + this.tbarEle.indexOf(clst) + '].click', eventArgs);\n        }\n        if (!eventArgs.cancel) {\n            this.trigger('clicked', eventArgs, function (clickedArgs) {\n                if (!isNOU(_this.popObj) && isPopupElement && !clickedArgs.cancel && _this.overflowMode === 'Popup' &&\n                    clickedArgs.item && clickedArgs.item.type !== 'Input') {\n                    _this.popObj.hide({ name: 'FadeOut', duration: 100 });\n                }\n            });\n        }\n    };\n    ;\n    Toolbar.prototype.popupClickHandler = function (ele, popupNav, CLS_RTL) {\n        var popObj = this.popObj;\n        if (isVisible(popObj.element)) {\n            popupNav.classList.remove(CLS_TBARNAVACT);\n            popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n        else {\n            if (ele.classList.contains(CLS_RTL)) {\n                popObj.enableRtl = true;\n                popObj.position = { X: 'left', Y: 'top' };\n            }\n            if (popObj.offsetX === 0 && !ele.classList.contains(CLS_RTL)) {\n                popObj.enableRtl = false;\n                popObj.position = { X: 'right', Y: 'top' };\n            }\n            popObj.dataBind();\n            popObj.refreshPosition();\n            popObj.element.style.top = this.getElementOffsetY() + 'px';\n            if (this.overflowMode === 'Extended') {\n                popObj.element.style.minHeight = '0px';\n            }\n            popupNav.classList.add(CLS_TBARNAVACT);\n            popObj.show({ name: 'FadeIn', duration: 100 });\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    Toolbar.prototype.render = function () {\n        this.initialize();\n        this.renderControl();\n        this.wireEvents();\n        this.renderComplete();\n    };\n    Toolbar.prototype.initialize = function () {\n        var width = formatUnit(this.width);\n        var height = formatUnit(this.height);\n        if (Browser.info.name !== 'msie' || this.height !== 'auto' || this.overflowMode === 'MultiRow') {\n            setStyle(this.element, { 'height': height });\n        }\n        setStyle(this.element, { 'width': width });\n        var ariaAttr = {\n            'role': 'toolbar', 'aria-disabled': 'false', 'aria-haspopup': 'false',\n            'aria-orientation': !this.isVertical ? 'horizontal' : 'vertical',\n        };\n        attributes(this.element, ariaAttr);\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n    };\n    Toolbar.prototype.renderControl = function () {\n        var ele = this.element;\n        this.trgtEle = (ele.children.length > 0 && (!isBlazor() && !this.isServerRendered)) ? ele.querySelector('div') : null;\n        this.tbarAlgEle = { lefts: [], centers: [], rights: [] };\n        this.renderItems();\n        this.renderLayout();\n    };\n    Toolbar.prototype.renderLayout = function () {\n        this.renderOverflowMode();\n        if (this.tbarAlign) {\n            this.itemPositioning();\n        }\n        if (this.popObj && this.popObj.element.childElementCount > 1 && this.checkPopupRefresh(this.element, this.popObj.element)) {\n            this.popupRefresh(this.popObj.element, false);\n        }\n        this.separator();\n    };\n    Toolbar.prototype.itemsAlign = function (items, itemEleDom) {\n        var innerItem;\n        var innerPos;\n        if (!this.tbarEle) {\n            this.tbarEle = [];\n        }\n        for (var i = 0; i < items.length; i++) {\n            if (isBlazor() && this.isServerRendered) {\n                this.isVertical = this.element.classList.contains(CLS_VERTICAL) ? true : false;\n                var itemEleBlaDom = this.element.querySelector('.' + BZ_ITEMS);\n                innerItem = itemEleBlaDom.querySelector('.' + CLS_ITEM + '[data-index=\"' + i + '\"]');\n                if (!innerItem) {\n                    continue;\n                }\n                if (items[i].overflow !== 'Show' && items[i].showAlwaysInPopup && !innerItem.classList.contains(CLS_SEPARATOR)) {\n                    this.popupPriCount++;\n                }\n                if (items[i].htmlAttributes) {\n                    this.setAttr(items[i].htmlAttributes, innerItem);\n                }\n                if (items[i].type === 'Button') {\n                    EventHandler.clearEvents(innerItem);\n                    EventHandler.add(innerItem, 'click', this.itemClick, this);\n                }\n            }\n            else {\n                innerItem = this.renderSubComponent(items[i], i);\n            }\n            if (this.tbarEle.indexOf(innerItem) === -1) {\n                this.tbarEle.push(innerItem);\n            }\n            if (!this.tbarAlign) {\n                this.tbarItemAlign(items[i], itemEleDom, i);\n            }\n            innerPos = itemEleDom.querySelector('.e-toolbar-' + items[i].align.toLowerCase());\n            if (innerPos) {\n                if (!(items[i].showAlwaysInPopup && items[i].overflow !== 'Show')) {\n                    this.tbarAlgEle[(items[i].align + 's').toLowerCase()].push(innerItem);\n                }\n                innerPos.appendChild(innerItem);\n            }\n            else {\n                itemEleDom.appendChild(innerItem);\n            }\n        }\n    };\n    Toolbar.prototype.serverItemsRerender = function () {\n        this.destroyMode();\n        this.resetServerItems();\n        this.serverItemsRefresh();\n    };\n    Toolbar.prototype.serverItemsRefresh = function () {\n        var wrapBlaEleDom = this.element.querySelector('.' + BZ_ITEMS);\n        if (wrapBlaEleDom.children.length > 0) {\n            this.itemsAlign(this.items, this.element.querySelector('.' + CLS_ITEMS));\n            this.renderLayout();\n            this.refreshOverflow();\n        }\n    };\n    Toolbar.prototype.resetServerItems = function () {\n        var wrapBlaEleDom = this.element.querySelector('.' + BZ_ITEMS);\n        var itemEles = [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, this.element));\n        append(itemEles, wrapBlaEleDom);\n        this.clearProperty();\n    };\n    /** @hidden */\n    Toolbar.prototype.changeOrientation = function () {\n        var ele = this.element;\n        if (this.isVertical) {\n            ele.classList.remove(CLS_VERTICAL);\n            this.isVertical = false;\n            if (this.height === 'auto' || this.height === '100%') {\n                ele.style.height = this.height;\n            }\n            ele.setAttribute('aria-orientation', 'horizontal');\n        }\n        else {\n            ele.classList.add(CLS_VERTICAL);\n            this.isVertical = true;\n            ele.setAttribute('aria-orientation', 'vertical');\n            setStyle(this.element, { 'height': formatUnit(this.height), 'width': formatUnit(this.width) });\n        }\n        this.destroyMode();\n        this.refreshOverflow();\n    };\n    Toolbar.prototype.initScroll = function (element, innerItems) {\n        if (!this.scrollModule && this.checkOverflow(element, innerItems[0])) {\n            if (this.tbarAlign) {\n                this.element.querySelector('.' + CLS_ITEMS + ' .' + CLS_TBARCENTER).removeAttribute('style');\n            }\n            if (this.isVertical) {\n                this.scrollModule = new VScroll({ scrollStep: this.scrollStep, enableRtl: this.enableRtl }, innerItems[0]);\n            }\n            else {\n                this.scrollModule = new HScroll({ scrollStep: this.scrollStep, enableRtl: this.enableRtl }, innerItems[0]);\n            }\n            this.remove(this.scrollModule.element, CLS_TBARPOS);\n            setStyle(this.element, { overflow: 'hidden' });\n        }\n    };\n    Toolbar.prototype.itemWidthCal = function (items) {\n        var _this = this;\n        var width = 0;\n        var style;\n        [].slice.call(selectAll('.' + CLS_ITEM, items)).forEach(function (el) {\n            if (isVisible(el)) {\n                style = window.getComputedStyle(el);\n                width += _this.isVertical ? el.offsetHeight : el.offsetWidth;\n                width += parseFloat(_this.isVertical ? style.marginTop : style.marginRight);\n                width += parseFloat(_this.isVertical ? style.marginBottom : style.marginLeft);\n            }\n        });\n        return width;\n    };\n    Toolbar.prototype.getScrollCntEle = function (innerItem) {\n        var trgClass = (this.isVertical) ? '.e-vscroll-content' : '.e-hscroll-content';\n        return innerItem.querySelector(trgClass);\n    };\n    Toolbar.prototype.checkOverflow = function (element, innerItem) {\n        if (isNOU(element) || isNOU(innerItem) || !isVisible(element)) {\n            return false;\n        }\n        var eleWidth = this.isVertical ? element.offsetHeight : element.offsetWidth;\n        var itemWidth = this.isVertical ? innerItem.offsetHeight : innerItem.offsetWidth;\n        if (this.tbarAlign || this.scrollModule || (eleWidth === itemWidth)) {\n            itemWidth = this.itemWidthCal(this.scrollModule ? this.getScrollCntEle(innerItem) : innerItem);\n        }\n        var popNav = element.querySelector('.' + CLS_TBARNAV);\n        var scrollNav = element.querySelector('.' + CLS_TBARSCRLNAV);\n        var navEleWidth = 0;\n        if (popNav) {\n            navEleWidth = this.isVertical ? popNav.offsetHeight : popNav.offsetWidth;\n        }\n        else if (scrollNav) {\n            navEleWidth = this.isVertical ? (scrollNav.offsetHeight * (2)) : (scrollNav.offsetWidth * 2);\n        }\n        if (itemWidth > eleWidth - navEleWidth) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * Refresh the whole Toolbar component without re-rendering.\n     * - It is used to manually refresh the Toolbar overflow modes such as scrollable, popup, multi row, and extended.\n     * - It will refresh the Toolbar component after loading items dynamically.\n     * @returns void.\n     */\n    Toolbar.prototype.refreshOverflow = function () {\n        this.resize();\n    };\n    Toolbar.prototype.toolbarAlign = function (innerItems) {\n        if (this.tbarAlign) {\n            this.add(innerItems, CLS_TBARPOS);\n            this.itemPositioning();\n        }\n    };\n    Toolbar.prototype.renderOverflowMode = function () {\n        var ele = this.element;\n        var innerItems = ele.querySelector('.' + CLS_ITEMS);\n        var priorityCheck = this.popupPriCount > 0;\n        if (ele && ele.children.length > 0) {\n            this.offsetWid = ele.offsetWidth;\n            this.remove(this.element, 'e-toolpop');\n            if (Browser.info.name === 'msie' && this.height === 'auto') {\n                ele.style.height = '';\n            }\n            switch (this.overflowMode) {\n                case 'Scrollable':\n                    if (isNOU(this.scrollModule)) {\n                        this.initScroll(ele, [].slice.call(ele.getElementsByClassName(CLS_ITEMS)));\n                    }\n                    break;\n                case 'Popup':\n                    this.add(this.element, 'e-toolpop');\n                    if (this.tbarAlign) {\n                        this.removePositioning();\n                    }\n                    if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n                        this.setOverflowAttributes(ele);\n                    }\n                    this.toolbarAlign(innerItems);\n                    break;\n                case 'MultiRow':\n                    this.add(innerItems, CLS_MULTIROW);\n                    if (this.checkOverflow(ele, innerItems) && this.tbarAlign) {\n                        this.removePositioning();\n                        this.add(innerItems, CLS_MULTIROWPOS);\n                    }\n                    if (ele.style.overflow === 'hidden') {\n                        ele.style.overflow = '';\n                    }\n                    if (Browser.info.name === 'msie' || ele.style.height !== 'auto') {\n                        ele.style.height = 'auto';\n                    }\n                    break;\n                case 'Extended':\n                    this.add(this.element, CLS_EXTEANDABLE_TOOLBAR);\n                    if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n                        if (this.tbarAlign) {\n                            this.removePositioning();\n                        }\n                        this.setOverflowAttributes(ele);\n                    }\n                    this.toolbarAlign(innerItems);\n            }\n        }\n    };\n    Toolbar.prototype.setOverflowAttributes = function (ele) {\n        this.createPopupEle(ele, [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, ele)));\n        this.element.querySelector('.' + CLS_TBARNAV).setAttribute('tabIndex', '0');\n        this.element.querySelector('.' + CLS_TBARNAV).setAttribute('role', 'list');\n    };\n    Toolbar.prototype.separator = function () {\n        var element = this.element;\n        var eleItem = [].slice.call(element.querySelectorAll('.' + CLS_SEPARATOR));\n        var eleInlineItem;\n        var multiVar = element.querySelector('.' + CLS_MULTIROW_SEPARATOR);\n        var extendVar = element.querySelector('.' + CLS_EXTENDABLE_SEPARATOR);\n        eleInlineItem = this.overflowMode === 'MultiRow' ? multiVar : extendVar;\n        if (eleInlineItem !== null) {\n            if (this.overflowMode === 'MultiRow') {\n                eleInlineItem.classList.remove(CLS_MULTIROW_SEPARATOR);\n            }\n            else if (this.overflowMode === 'Extended') {\n                eleInlineItem.classList.remove(CLS_EXTENDABLE_SEPARATOR);\n            }\n        }\n        for (var i = 0; i <= eleItem.length - 1; i++) {\n            if (eleItem[i].offsetLeft < 30 && eleItem[i].offsetLeft !== 0) {\n                if (this.overflowMode === 'MultiRow') {\n                    eleItem[i].classList.add(CLS_MULTIROW_SEPARATOR);\n                }\n                else if (this.overflowMode === 'Extended') {\n                    eleItem[i].classList.add(CLS_EXTENDABLE_SEPARATOR);\n                }\n            }\n        }\n    };\n    Toolbar.prototype.createPopupEle = function (ele, innerEle) {\n        var innerNav = ele.querySelector('.' + CLS_TBARNAV);\n        var vertical = this.isVertical;\n        if (!innerNav) {\n            this.createPopupIcon(ele);\n        }\n        innerNav = ele.querySelector('.' + CLS_TBARNAV);\n        var innerNavDom = (vertical ? innerNav.offsetHeight : innerNav.offsetWidth);\n        var eleWidth = ((vertical ? ele.offsetHeight : ele.offsetWidth) - (innerNavDom));\n        this.element.classList.remove('e-rtl');\n        setStyle(this.element, { direction: 'initial' });\n        this.checkPriority(ele, innerEle, eleWidth, true);\n        if (this.enableRtl) {\n            this.element.classList.add('e-rtl');\n        }\n        this.element.style.removeProperty('direction');\n        this.createPopup();\n    };\n    Toolbar.prototype.pushingPoppedEle = function (tbarObj, popupPri, ele, eleHeight, sepHeight) {\n        var element = tbarObj.element;\n        var nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n        var nodeIndex = 0;\n        var poppedEle = [].slice.call(selectAll('.' + CLS_POPUP, element.querySelector('.' + CLS_ITEMS)));\n        var nodePri = 0;\n        poppedEle.forEach(function (el, index) {\n            nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n            if (el.classList.contains(CLS_TBAROVERFLOW) && nodes.length > 0) {\n                if (tbarObj.tbResize && nodes.length > index) {\n                    ele.insertBefore(el, nodes[index]);\n                    ++nodePri;\n                }\n                else {\n                    ele.insertBefore(el, ele.children[nodes.length]);\n                    ++nodePri;\n                }\n            }\n            else if (el.classList.contains(CLS_TBAROVERFLOW)) {\n                ele.insertBefore(el, ele.firstChild);\n                ++nodePri;\n            }\n            else if (tbarObj.tbResize && el.classList.contains(CLS_POPOVERFLOW) && ele.children.length > 0 && nodes.length === 0) {\n                ele.insertBefore(el, ele.firstChild);\n                ++nodePri;\n            }\n            else if (el.classList.contains(CLS_POPOVERFLOW)) {\n                popupPri.push(el);\n            }\n            else if (tbarObj.tbResize) {\n                ele.insertBefore(el, ele.childNodes[nodeIndex + nodePri]);\n                ++nodeIndex;\n            }\n            else {\n                ele.appendChild(el);\n            }\n            if (el.classList.contains(CLS_SEPARATOR)) {\n                setStyle(el, { display: '', height: sepHeight + 'px' });\n            }\n            else {\n                setStyle(el, { display: '', height: eleHeight + 'px' });\n            }\n        });\n        popupPri.forEach(function (el) {\n            ele.appendChild(el);\n        });\n        var tbarEle = selectAll('.' + CLS_ITEM, element.querySelector('.' + CLS_ITEMS));\n        for (var i = tbarEle.length - 1; i >= 0; i--) {\n            var tbarElement = tbarEle[i];\n            if (tbarElement.classList.contains(CLS_SEPARATOR) && this.overflowMode !== 'Extended') {\n                setStyle(tbarElement, { display: 'none' });\n            }\n            else {\n                break;\n            }\n        }\n    };\n    Toolbar.prototype.createPopup = function () {\n        var element = this.element;\n        var eleHeight;\n        var eleItem;\n        var sepHeight;\n        var sepItem;\n        if (this.overflowMode === 'Extended') {\n            sepItem = element.querySelector('.' + CLS_SEPARATOR + ':not(.' + CLS_POPUP + ')');\n            sepHeight = (element.style.height === 'auto' || element.style.height === '') ? null : sepItem.offsetHeight;\n        }\n        eleItem = element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + '):not(.' + CLS_POPUP + ')');\n        eleHeight = (element.style.height === 'auto' || element.style.height === '') ? null : (eleItem && eleItem.offsetHeight);\n        var ele;\n        var popupPri = [];\n        if (element.querySelector('#' + element.id + '_popup.' + CLS_POPUPCLASS)) {\n            ele = element.querySelector('#' + element.id + '_popup.' + CLS_POPUPCLASS);\n        }\n        else {\n            var extendEle = this.createElement('div', {\n                id: element.id + '_popup', className: CLS_POPUPCLASS + ' ' + CLS_EXTENDABLECLASS\n            });\n            var popupEle = this.createElement('div', { id: element.id + '_popup', className: CLS_POPUPCLASS });\n            ele = this.overflowMode === 'Extended' ? extendEle : popupEle;\n        }\n        this.pushingPoppedEle(this, popupPri, ele, eleHeight, sepHeight);\n        this.popupInit(element, ele);\n    };\n    Toolbar.prototype.getElementOffsetY = function () {\n        return (this.overflowMode === 'Extended' && window.getComputedStyle(this.element).getPropertyValue('box-sizing') === 'border-box' ?\n            this.element.clientHeight : this.element.offsetHeight);\n    };\n    Toolbar.prototype.popupInit = function (element, ele) {\n        if (!this.popObj) {\n            element.appendChild(ele);\n            setStyle(this.element, { overflow: '' });\n            var eleStyles = window.getComputedStyle(this.element);\n            var popup = new Popup(null, {\n                relateTo: this.element,\n                offsetY: (this.isVertical) ? 0 : this.getElementOffsetY(),\n                enableRtl: this.enableRtl,\n                open: this.popupOpen.bind(this),\n                close: this.popupClose.bind(this),\n                collision: { Y: this.enableCollision ? 'flip' : 'none' },\n                position: this.enableRtl ? { X: 'left', Y: 'top' } : { X: 'right', Y: 'top' }\n            });\n            popup.appendTo(ele);\n            if (this.overflowMode === 'Extended') {\n                popup.width = parseFloat(eleStyles.width) + ((parseFloat(eleStyles.borderRightWidth)) * 2);\n                popup.offsetX = 0;\n            }\n            EventHandler.add(document, 'scroll', this.docEvent.bind(this));\n            EventHandler.add(document, 'click ', this.docEvent.bind(this));\n            popup.element.style.maxHeight = popup.element.offsetHeight + 'px';\n            if (this.isVertical) {\n                popup.element.style.visibility = 'hidden';\n            }\n            if (this.isExtendedOpen) {\n                var popupNav = this.element.querySelector('.' + CLS_TBARNAV);\n                popupNav.classList.add(CLS_TBARNAVACT);\n                classList(popupNav.firstElementChild, [CLS_POPUPICON], [CLS_POPUPDOWN]);\n                this.element.querySelector('.' + CLS_EXTENDABLECLASS).classList.add(CLS_POPUPOPEN);\n            }\n            else {\n                popup.hide();\n            }\n            this.popObj = popup;\n            this.element.setAttribute('aria-haspopup', 'true');\n        }\n        else {\n            var popupEle = this.popObj.element;\n            setStyle(popupEle, { maxHeight: '', display: 'block' });\n            setStyle(popupEle, { maxHeight: popupEle.offsetHeight + 'px', display: '' });\n        }\n    };\n    Toolbar.prototype.tbarPopupHandler = function (isOpen) {\n        if (this.overflowMode === 'Extended') {\n            isOpen ? this.add(this.element, CLS_EXTENDEDPOPOPEN) : this.remove(this.element, CLS_EXTENDEDPOPOPEN);\n        }\n    };\n    Toolbar.prototype.popupOpen = function (e) {\n        var popObj = this.popObj;\n        if (!this.isVertical) {\n            popObj.offsetY = this.getElementOffsetY();\n            popObj.dataBind();\n        }\n        var popupEle = this.popObj.element;\n        var toolEle = this.popObj.element.parentElement;\n        var popupNav = toolEle.querySelector('.' + CLS_TBARNAV);\n        setStyle(popObj.element, { height: 'auto', maxHeight: '' });\n        popObj.element.style.maxHeight = popObj.element.offsetHeight + 'px';\n        if (this.overflowMode === 'Extended') {\n            popObj.element.style.minHeight = '';\n        }\n        var popupElePos = popupEle.offsetTop + popupEle.offsetHeight + calculatePosition(toolEle).top;\n        var popIcon = popupNav.firstElementChild;\n        popupNav.classList.add(CLS_TBARNAVACT);\n        classList(popIcon, [CLS_POPUPICON], [CLS_POPUPDOWN]);\n        this.tbarPopupHandler(true);\n        var scrollVal = isNOU(window.scrollY) ? 0 : window.scrollY;\n        if (!this.isVertical && ((window.innerHeight + scrollVal) < popupElePos) && (this.element.offsetTop < popupEle.offsetHeight)) {\n            var overflowHeight = (popupEle.offsetHeight - ((popupElePos - window.innerHeight - scrollVal) + 5));\n            popObj.height = overflowHeight + 'px';\n            for (var i = 0; i <= popupEle.childElementCount; i++) {\n                var ele = popupEle.children[i];\n                if (ele.offsetTop + ele.offsetHeight > overflowHeight) {\n                    overflowHeight = ele.offsetTop;\n                    break;\n                }\n            }\n            setStyle(popObj.element, { maxHeight: overflowHeight + 'px' });\n        }\n        else if (this.isVertical) {\n            var tbEleData = this.element.getBoundingClientRect();\n            setStyle(popObj.element, { maxHeight: (tbEleData.top + this.element.offsetHeight) + 'px', bottom: 0, visibility: '' });\n        }\n        if (popObj) {\n            popObj.refreshPosition();\n        }\n    };\n    Toolbar.prototype.popupClose = function (e) {\n        var element = this.element;\n        var popupNav = element.querySelector('.' + CLS_TBARNAV);\n        var popIcon = popupNav.firstElementChild;\n        popupNav.classList.remove(CLS_TBARNAVACT);\n        classList(popIcon, [CLS_POPUPDOWN], [CLS_POPUPICON]);\n        this.tbarPopupHandler(false);\n    };\n    Toolbar.prototype.checkPriority = function (ele, inEle, eleWidth, pre) {\n        var popPriority = this.popupPriCount > 0;\n        var len = inEle.length;\n        var eleWid = eleWidth;\n        var eleOffset;\n        var checkoffset;\n        var sepCheck = 0;\n        var itemCount = 0;\n        var itemPopCount = 0;\n        var checkClass = function (ele, val) {\n            var rVal = false;\n            val.forEach(function (cls) {\n                if (ele.classList.contains(cls)) {\n                    rVal = true;\n                }\n            });\n            return rVal;\n        };\n        for (var i = len - 1; i >= 0; i--) {\n            var mrgn = void 0;\n            var compuStyle = window.getComputedStyle(inEle[i]);\n            if (this.isVertical) {\n                mrgn = parseFloat((compuStyle).marginTop);\n                mrgn += parseFloat((compuStyle).marginBottom);\n            }\n            else {\n                mrgn = parseFloat((compuStyle).marginRight);\n                mrgn += parseFloat((compuStyle).marginLeft);\n            }\n            var fstEleCheck = inEle[i] === this.tbarEle[0];\n            if (fstEleCheck) {\n                this.tbarEleMrgn = mrgn;\n            }\n            eleOffset = this.isVertical ? inEle[i].offsetHeight : inEle[i].offsetWidth;\n            var eleWid_1 = fstEleCheck ? (eleOffset + mrgn) : eleOffset;\n            if (checkClass(inEle[i], [CLS_POPPRI]) && popPriority) {\n                inEle[i].classList.add(CLS_POPUP);\n                if (this.isVertical) {\n                    setStyle(inEle[i], { display: 'none', minHeight: eleWid_1 + 'px' });\n                }\n                else {\n                    setStyle(inEle[i], { display: 'none', minWidth: eleWid_1 + 'px' });\n                }\n                itemPopCount++;\n            }\n            if (this.isVertical) {\n                checkoffset = (inEle[i].offsetTop + inEle[i].offsetHeight + mrgn) > eleWidth;\n            }\n            else {\n                checkoffset = (inEle[i].offsetLeft + inEle[i].offsetWidth + mrgn) > eleWidth;\n            }\n            if (checkoffset) {\n                if (inEle[i].classList.contains(CLS_SEPARATOR)) {\n                    if (this.overflowMode === 'Extended') {\n                        if (itemCount === itemPopCount) {\n                            var sepEle = inEle[i];\n                            if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                                inEle[i].classList.add(CLS_POPUP);\n                                itemPopCount++;\n                            }\n                        }\n                        itemCount++;\n                    }\n                    else if (this.overflowMode === 'Popup') {\n                        if (sepCheck > 0 && itemCount === itemPopCount) {\n                            var sepEle = inEle[i + itemCount + (sepCheck - 1)];\n                            if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                                setStyle(sepEle, { display: 'none' });\n                            }\n                        }\n                        sepCheck++;\n                        itemCount = 0;\n                        itemPopCount = 0;\n                    }\n                }\n                else {\n                    itemCount++;\n                }\n                if (inEle[i].classList.contains(CLS_TBAROVERFLOW) && pre) {\n                    eleWidth -= ((this.isVertical ? inEle[i].offsetHeight : inEle[i].offsetWidth) + (mrgn));\n                }\n                else if (!checkClass(inEle[i], [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                    inEle[i].classList.add(CLS_POPUP);\n                    if (this.isVertical) {\n                        setStyle(inEle[i], { display: 'none', minHeight: eleWid_1 + 'px' });\n                    }\n                    else {\n                        setStyle(inEle[i], { display: 'none', minWidth: eleWid_1 + 'px' });\n                    }\n                    itemPopCount++;\n                }\n                else {\n                    eleWidth -= ((this.isVertical ? inEle[i].offsetHeight : inEle[i].offsetWidth) + (mrgn));\n                }\n            }\n        }\n        if (pre) {\n            var popedEle = selectAll('.' + CLS_ITEM + ':not(.' + CLS_POPUP + ')', this.element);\n            this.checkPriority(ele, popedEle, eleWid, false);\n        }\n    };\n    Toolbar.prototype.createPopupIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var className = 'e-' + element.id.concat('_nav ' + CLS_POPUPNAV);\n        className = this.overflowMode === 'Extended' ? className + ' ' + CLS_EXTENDPOPUP : className;\n        var nav = this.createElement('div', { id: id, className: className });\n        if (Browser.info.name === 'msie' || Browser.info.name === 'edge') {\n            nav.classList.add('e-ie-align');\n        }\n        var navItem = this.createElement('div', { className: CLS_POPUPDOWN + ' e-icons' });\n        nav.appendChild(navItem);\n        nav.setAttribute('tabindex', '0');\n        nav.setAttribute('role', 'list');\n        element.appendChild(nav);\n    };\n    Toolbar.prototype.tbarPriRef = function (inEle, indx, sepPri, el, des, elWid, wid, ig) {\n        var ignoreCount = ig;\n        var popEle = this.popObj.element;\n        var query = '.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + '):not(.' + CLS_TBAROVERFLOW + ')';\n        var priEleCnt = selectAll('.' + CLS_POPUP + ':not(.' + CLS_TBAROVERFLOW + ')', popEle).length;\n        var checkClass = function (ele, val) {\n            return ele.classList.contains(val);\n        };\n        if (selectAll(query, inEle).length === 0) {\n            var eleSep = inEle.children[indx - (indx - sepPri) - 1];\n            var ignoreCheck = (!isNOU(eleSep) && checkClass(eleSep, CLS_TBARIGNORE));\n            if ((!isNOU(eleSep) && checkClass(eleSep, CLS_SEPARATOR) && !isVisible(eleSep)) || ignoreCheck) {\n                var sepDisplay = 'none';\n                eleSep.style.display = 'inherit';\n                var eleSepWidth = eleSep.offsetWidth + (parseFloat(window.getComputedStyle(eleSep).marginRight) * 2);\n                var prevSep = eleSep.previousElementSibling;\n                if ((elWid + eleSepWidth) < wid || des) {\n                    inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - (indx - sepPri)]);\n                    if (!isNOU(prevSep)) {\n                        prevSep.style.display = '';\n                    }\n                }\n                else {\n                    if (prevSep.classList.contains(CLS_SEPARATOR)) {\n                        prevSep.style.display = sepDisplay;\n                    }\n                }\n                eleSep.style.display = '';\n            }\n            else {\n                inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - (indx - sepPri)]);\n            }\n        }\n        else {\n            inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - priEleCnt]);\n        }\n    };\n    Toolbar.prototype.popupRefresh = function (popupEle, destroy) {\n        var _this = this;\n        var ele = this.element;\n        var isVer = this.isVertical;\n        var popNav = ele.querySelector('.' + CLS_TBARNAV);\n        var innerEle = ele.querySelector('.' + CLS_ITEMS);\n        if (isNOU(popNav)) {\n            return;\n        }\n        innerEle.removeAttribute('style');\n        popupEle.style.display = 'block';\n        var dimension;\n        if (isVer) {\n            dimension = ele.offsetHeight - (popNav.offsetHeight + innerEle.offsetHeight);\n        }\n        else {\n            dimension = ele.offsetWidth - (popNav.offsetWidth + innerEle.offsetWidth);\n        }\n        var popupEleWidth = 0;\n        [].slice.call(popupEle.children).forEach(function (el) {\n            popupEleWidth += _this.popupEleWidth(el);\n            setStyle(el, { 'position': '' });\n        });\n        if ((dimension + (isVer ? popNav.offsetHeight : popNav.offsetWidth)) > (popupEleWidth) && this.popupPriCount === 0) {\n            destroy = true;\n        }\n        this.popupEleRefresh(dimension, popupEle, destroy);\n        popupEle.style.display = '';\n        if (popupEle.children.length === 0 && popNav && this.popObj) {\n            detach(popNav);\n            popNav = null;\n            this.popObj.destroy();\n            detach(this.popObj.element);\n            this.popObj = null;\n            ele.setAttribute('aria-haspopup', 'false');\n        }\n    };\n    Toolbar.prototype.ignoreEleFetch = function (index, innerEle) {\n        var ignoreEle = [].slice.call(innerEle.querySelectorAll('.' + CLS_TBARIGNORE));\n        var ignoreInx = [];\n        var count = 0;\n        if (ignoreEle.length > 0) {\n            ignoreEle.forEach(function (ele) {\n                ignoreInx.push([].slice.call(innerEle.children).indexOf(ele));\n            });\n        }\n        else {\n            return 0;\n        }\n        ignoreInx.forEach(function (val) {\n            if (val <= index) {\n                count++;\n            }\n        });\n        return count;\n    };\n    Toolbar.prototype.checkPopupRefresh = function (root, popEle) {\n        popEle.style.display = 'block';\n        var elWid = this.popupEleWidth(popEle.firstElementChild);\n        popEle.firstElementChild.style.removeProperty('Position');\n        var tbarWidth = root.offsetWidth - root.querySelector('.' + CLS_TBARNAV).offsetWidth;\n        var tbarItemsWid = root.querySelector('.' + CLS_ITEMS).offsetWidth;\n        popEle.style.removeProperty('display');\n        if (tbarWidth > (elWid + tbarItemsWid)) {\n            return true;\n        }\n        return false;\n    };\n    Toolbar.prototype.popupEleWidth = function (el) {\n        el.style.position = 'absolute';\n        var elWidth = this.isVertical ? el.offsetHeight : el.offsetWidth;\n        var btnText = el.querySelector('.' + CLS_TBARBTNTEXT);\n        if (el.classList.contains('e-tbtn-align') || el.classList.contains(CLS_TBARTEXT)) {\n            var btn = el.children[0];\n            if (!isNOU(btnText) && el.classList.contains(CLS_TBARTEXT)) {\n                btnText.style.display = 'none';\n            }\n            else if (!isNOU(btnText) && el.classList.contains(CLS_POPUPTEXT)) {\n                btnText.style.display = 'block';\n            }\n            btn.style.minWidth = '0%';\n            elWidth = parseFloat(!this.isVertical ? el.style.minWidth : el.style.minHeight);\n            btn.style.minWidth = '';\n            btn.style.minHeight = '';\n            if (!isNOU(btnText)) {\n                btnText.style.display = '';\n            }\n        }\n        return elWidth;\n    };\n    Toolbar.prototype.popupEleRefresh = function (width, popupEle, destroy) {\n        var popPriority = this.popupPriCount > 0;\n        var eleSplice = this.tbarEle;\n        var priEleCnt;\n        var index;\n        var checkOverflow;\n        var innerEle = this.element.querySelector('.' + CLS_ITEMS);\n        var ignoreCount = 0;\n        var _loop_1 = function (el) {\n            if (el.classList.contains(CLS_POPPRI) && popPriority && !destroy) {\n                return \"continue\";\n            }\n            var elWidth = this_1.popupEleWidth(el);\n            if (el === this_1.tbarEle[0]) {\n                elWidth += this_1.tbarEleMrgn;\n            }\n            el.style.position = '';\n            if (elWidth < width || destroy) {\n                setStyle(el, { minWidth: '', height: '', minHeight: '' });\n                if (!el.classList.contains(CLS_POPOVERFLOW)) {\n                    el.classList.remove(CLS_POPUP);\n                }\n                index = this_1.tbarEle.indexOf(el);\n                if (this_1.tbarAlign) {\n                    var pos = this_1.items[index].align;\n                    index = this_1.tbarAlgEle[(pos + 's').toLowerCase()].indexOf(el);\n                    eleSplice = this_1.tbarAlgEle[(pos + 's').toLowerCase()];\n                    innerEle = this_1.element.querySelector('.' + CLS_ITEMS + ' .' + 'e-toolbar-' + pos.toLowerCase());\n                }\n                var sepBeforePri_1 = 0;\n                if (this_1.overflowMode !== 'Extended') {\n                    eleSplice.slice(0, index).forEach(function (el) {\n                        if (el.classList.contains(CLS_TBAROVERFLOW) || el.classList.contains(CLS_SEPARATOR)) {\n                            if (el.classList.contains(CLS_SEPARATOR)) {\n                                el.style.display = '';\n                                width -= el.offsetWidth;\n                            }\n                            sepBeforePri_1++;\n                        }\n                    });\n                }\n                ignoreCount = this_1.ignoreEleFetch(index, innerEle);\n                if (el.classList.contains(CLS_TBAROVERFLOW)) {\n                    this_1.tbarPriRef(innerEle, index, sepBeforePri_1, el, destroy, elWidth, width, ignoreCount);\n                    width -= el.offsetWidth;\n                }\n                else if (index === 0) {\n                    innerEle.insertBefore(el, innerEle.firstChild);\n                    width -= el.offsetWidth;\n                }\n                else {\n                    priEleCnt = selectAll('.' + CLS_TBAROVERFLOW, this_1.popObj.element).length;\n                    innerEle.insertBefore(el, innerEle.children[(index + ignoreCount) - priEleCnt]);\n                    width -= el.offsetWidth;\n                }\n                el.style.height = '';\n            }\n            else {\n                return \"break\";\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = [].slice.call(popupEle.children); _i < _a.length; _i++) {\n            var el = _a[_i];\n            var state_1 = _loop_1(el);\n            if (state_1 === \"break\")\n                break;\n        }\n        checkOverflow = this.checkOverflow(this.element, this.element.getElementsByClassName(CLS_ITEMS)[0]);\n        if (checkOverflow && !destroy) {\n            this.renderOverflowMode();\n        }\n    };\n    Toolbar.prototype.removePositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNOU(item) || !item.classList.contains(CLS_TBARPOS)) {\n            return;\n        }\n        this.remove(item, CLS_TBARPOS);\n        var innerItem = [].slice.call(item.childNodes);\n        innerItem[1].removeAttribute('style');\n        innerItem[2].removeAttribute('style');\n    };\n    Toolbar.prototype.refreshPositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        this.add(item, CLS_TBARPOS);\n        this.itemPositioning();\n    };\n    Toolbar.prototype.itemPositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        var margin;\n        if (isNOU(item) || !item.classList.contains(CLS_TBARPOS)) {\n            return;\n        }\n        var popupNav = this.element.querySelector('.' + CLS_TBARNAV);\n        var innerItem;\n        if (this.scrollModule) {\n            var trgClass = (this.isVertical) ? CLS_VSCROLLCNT : CLS_HSCROLLCNT;\n            innerItem = [].slice.call(item.querySelector('.' + trgClass).children);\n        }\n        else {\n            innerItem = [].slice.call(item.childNodes);\n        }\n        if (this.isVertical) {\n            margin = innerItem[0].offsetHeight + innerItem[2].offsetHeight;\n        }\n        else {\n            margin = innerItem[0].offsetWidth + innerItem[2].offsetWidth;\n        }\n        var tbarWid = this.isVertical ? this.element.offsetHeight : this.element.offsetWidth;\n        if (popupNav) {\n            tbarWid -= (this.isVertical ? popupNav.offsetHeight : popupNav.offsetWidth);\n            var popWid = (this.isVertical ? popupNav.offsetHeight : popupNav.offsetWidth) + 'px';\n            innerItem[2].removeAttribute('style');\n            if (this.isVertical) {\n                this.enableRtl ? innerItem[2].style.top = popWid : innerItem[2].style.bottom = popWid;\n            }\n            else {\n                this.enableRtl ? innerItem[2].style.left = popWid : innerItem[2].style.right = popWid;\n            }\n        }\n        if (tbarWid <= margin) {\n            return;\n        }\n        var value = (((tbarWid - margin)) - (!this.isVertical ? innerItem[1].offsetWidth : innerItem[1].offsetHeight)) / 2;\n        innerItem[1].removeAttribute('style');\n        var mrgn = ((!this.isVertical ? innerItem[0].offsetWidth : innerItem[0].offsetHeight) + value) + 'px';\n        if (this.isVertical) {\n            this.enableRtl ? innerItem[1].style.marginBottom = mrgn : innerItem[1].style.marginTop = mrgn;\n        }\n        else {\n            this.enableRtl ? innerItem[1].style.marginRight = mrgn : innerItem[1].style.marginLeft = mrgn;\n        }\n    };\n    Toolbar.prototype.tbarItemAlign = function (item, itemEle, pos) {\n        var _this = this;\n        if (item.showAlwaysInPopup && item.overflow !== 'Show') {\n            return;\n        }\n        var alignDiv = [];\n        alignDiv.push(this.createElement('div', { className: CLS_TBARLEFT }));\n        alignDiv.push(this.createElement('div', { className: CLS_TBARCENTER }));\n        alignDiv.push(this.createElement('div', { className: CLS_TBARRIGHT }));\n        if (pos === 0 && item.align !== 'Left') {\n            alignDiv.forEach(function (ele) {\n                itemEle.appendChild(ele);\n            });\n            this.tbarAlign = true;\n            this.add(itemEle, CLS_TBARPOS);\n        }\n        else if (item.align !== 'Left') {\n            var alignEle = itemEle.childNodes;\n            var leftAlign_1 = alignDiv[0];\n            [].slice.call(alignEle).forEach(function (el) {\n                _this.tbarAlgEle.lefts.push(el);\n                leftAlign_1.appendChild(el);\n            });\n            itemEle.appendChild(leftAlign_1);\n            itemEle.appendChild(alignDiv[1]);\n            itemEle.appendChild(alignDiv[2]);\n            this.tbarAlign = true;\n            this.add(itemEle, CLS_TBARPOS);\n        }\n    };\n    Toolbar.prototype.ctrlTemplate = function () {\n        var _this = this;\n        this.ctrlTem = this.trgtEle.cloneNode(true);\n        this.add(this.trgtEle, CLS_ITEMS);\n        this.tbarEle = [];\n        var innerEle = [].slice.call(this.trgtEle.children);\n        innerEle.forEach(function (ele) {\n            if (ele.tagName === 'DIV') {\n                _this.tbarEle.push(ele);\n                ele.setAttribute('aria-disabled', 'false');\n                _this.add(ele, CLS_ITEM);\n            }\n        });\n    };\n    Toolbar.prototype.renderItems = function () {\n        var ele = this.element;\n        var items = this.items;\n        if (this.trgtEle != null) {\n            this.ctrlTemplate();\n        }\n        else if (ele && items.length > 0) {\n            var itemEleDom = void 0;\n            if (ele && ele.children.length > 0) {\n                itemEleDom = ele.querySelector('.' + CLS_ITEMS);\n            }\n            if (!itemEleDom) {\n                itemEleDom = this.createElement('div', { className: CLS_ITEMS });\n            }\n            this.itemsAlign(items, itemEleDom);\n            ele.appendChild(itemEleDom);\n        }\n    };\n    Toolbar.prototype.setAttr = function (attr, element) {\n        var key = Object.keys(attr);\n        var keyVal;\n        for (var i = 0; i < key.length; i++) {\n            keyVal = key[i];\n            keyVal === 'class' ? this.add(element, attr[keyVal]) : element.setAttribute(keyVal, attr[keyVal]);\n        }\n    };\n    /**\n     * Enables or disables the specified Toolbar item.\n     * @param  {number|HTMLElement|NodeList} items - DOM element or an array of items to be enabled or disabled.\n     * @param  {boolean} isEnable  - Boolean value that determines whether the command should be enabled or disabled.\n     * By default, `isEnable` is set to true.\n     * @returns void.\n     */\n    Toolbar.prototype.enableItems = function (items, isEnable) {\n        var elements = items;\n        var len = elements.length;\n        var ele;\n        if (isNOU(isEnable)) {\n            isEnable = true;\n        }\n        var enable = function (isEnable, ele) {\n            if (isEnable) {\n                ele.classList.remove(CLS_DISABLE);\n                ele.setAttribute('aria-disabled', 'false');\n            }\n            else {\n                ele.classList.add(CLS_DISABLE);\n                ele.setAttribute('aria-disabled', 'true');\n            }\n        };\n        if (!isNOU(len) && len >= 1) {\n            for (var a = 0, element = [].slice.call(elements); a < len; a++) {\n                var itemElement = element[a];\n                if (typeof (itemElement) === 'number') {\n                    ele = this.getElementByIndex(itemElement);\n                    if (isNOU(ele)) {\n                        return;\n                    }\n                    else {\n                        elements[a] = ele;\n                    }\n                }\n                else {\n                    ele = itemElement;\n                }\n                enable(isEnable, ele);\n            }\n            isEnable ? removeClass(elements, CLS_DISABLE) : addClass(elements, CLS_DISABLE);\n        }\n        else {\n            if (typeof (elements) === 'number') {\n                ele = this.getElementByIndex(elements);\n                if (isNOU(ele)) {\n                    return;\n                }\n            }\n            else {\n                ele = items;\n            }\n            enable(isEnable, ele);\n        }\n    };\n    Toolbar.prototype.getElementByIndex = function (index) {\n        if (this.tbarEle[index]) {\n            return this.tbarEle[index];\n        }\n        return null;\n    };\n    /**\n     * Adds new items to the Toolbar that accepts an array as Toolbar items.\n     * @param  {ItemsModel[]} items - DOM element or an array of items to be added to the Toolbar.\n     * @param  {number} index - Number value that determines where the command is to be added. By default, index is 0.\n     * @returns void.\n     * @deprecated\n     */\n    Toolbar.prototype.addItems = function (items, index) {\n        var innerItems;\n        this.extendedOpen();\n        var itemsDiv = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNOU(itemsDiv)) {\n            this.itemsRerender(items);\n            return;\n        }\n        var innerEle;\n        var itemAgn = 'Left';\n        if (isNOU(index)) {\n            index = 0;\n        }\n        items.forEach(function (e) {\n            if (!isNOU(e.align) && e.align !== 'Left' && itemAgn === 'Left') {\n                itemAgn = e.align;\n            }\n        });\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            if (isNOU(item.type)) {\n                item.type = 'Button';\n            }\n            innerItems = selectAll('.' + CLS_ITEM, this.element);\n            item.align = itemAgn;\n            innerEle = this.renderSubComponent(item, index);\n            if (this.tbarEle.length >= index && innerItems.length >= 0) {\n                if (isNOU(this.scrollModule)) {\n                    this.destroyMode();\n                }\n                var algIndex = item.align[0] === 'L' ? 0 : item.align[0] === 'C' ? 1 : 2;\n                var ele = void 0;\n                if (!this.tbarAlign && itemAgn !== 'Left') {\n                    this.tbarItemAlign(item, itemsDiv, 1);\n                    this.tbarAlign = true;\n                    ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n                    ele.appendChild(innerEle);\n                    this.tbarAlgEle[(item.align + 's').toLowerCase()].push(innerEle);\n                    this.refreshPositioning();\n                }\n                else if (this.tbarAlign) {\n                    ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n                    ele.insertBefore(innerEle, ele.children[index]);\n                    this.tbarAlgEle[(item.align + 's').toLowerCase()].splice(index, 0, innerEle);\n                    this.refreshPositioning();\n                }\n                else if (innerItems.length === 0) {\n                    innerItems = selectAll('.' + CLS_ITEMS, this.element);\n                    innerItems[0].appendChild(innerEle);\n                }\n                else {\n                    innerItems[0].parentNode.insertBefore(innerEle, innerItems[index]);\n                }\n                this.items.splice(index, 0, item);\n                this.tbarEle.splice(index, 0, innerEle);\n                index++;\n                this.offsetWid = itemsDiv.offsetWidth;\n            }\n        }\n        itemsDiv.style.width = '';\n        this.renderOverflowMode();\n    };\n    /**\n     * Removes the items from the Toolbar. Acceptable arguments are index of item/HTMLElement/node list.\n     * @param  {number|HTMLElement|NodeList|HTMLElement[]} args\n     * Index or DOM element or an Array of item which is to be removed from the Toolbar.\n     * @returns void.\n     * @deprecated\n     */\n    Toolbar.prototype.removeItems = function (args) {\n        var elements = args;\n        var index;\n        var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n        if (typeof (elements) === 'number') {\n            index = parseInt(args.toString(), 10);\n            this.removeItemByIndex(index, innerItems);\n        }\n        else {\n            if (elements && elements.length > 1) {\n                for (var _i = 0, _a = [].slice.call(elements); _i < _a.length; _i++) {\n                    var ele = _a[_i];\n                    index = this.tbarEle.indexOf(ele);\n                    this.removeItemByIndex(index, innerItems);\n                    innerItems = selectAll('.' + CLS_ITEM, this.element);\n                }\n            }\n            else {\n                var ele = (elements && elements.length && elements.length === 1) ? elements[0] : args;\n                index = innerItems.indexOf(ele);\n                this.removeItemByIndex(index, innerItems);\n            }\n        }\n        this.resize();\n    };\n    Toolbar.prototype.removeItemByIndex = function (index, innerItems) {\n        if (this.tbarEle[index] && innerItems[index]) {\n            var eleIdx = this.tbarEle.indexOf(innerItems[index]);\n            if (this.tbarAlign) {\n                var indexAgn = void 0;\n                indexAgn = this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].indexOf(this.tbarEle[eleIdx]);\n                this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].splice(indexAgn, 1);\n            }\n            detach(innerItems[index]);\n            this.items.splice(eleIdx, 1);\n            this.tbarEle.splice(eleIdx, 1);\n        }\n    };\n    Toolbar.prototype.templateRender = function (templateProp, innerEle, item, index) {\n        var itemType = item.type;\n        var eleObj = templateProp;\n        var isComponent;\n        if (typeof (templateProp) === 'object') {\n            isComponent = typeof (eleObj.appendTo) === 'function';\n        }\n        if (typeof (templateProp) === 'string' || !isComponent) {\n            var templateFn = void 0;\n            var val = templateProp;\n            val = (typeof (templateProp) === 'string') ? templateProp.trim() : templateProp;\n            var e = void 0;\n            try {\n                if (typeof (templateProp) === 'object' && !isNOU(templateProp.tagName)) {\n                    innerEle.appendChild(templateProp);\n                }\n                else if (document.querySelectorAll(val).length) {\n                    var ele = document.querySelector(val);\n                    var tempStr = ele.outerHTML.trim();\n                    innerEle.appendChild(ele);\n                    ele.style.display = '';\n                    if (!isNOU(tempStr)) {\n                        this.tempId.push(val);\n                    }\n                }\n            }\n            catch (e) {\n                templateFn = templateCompiler(val);\n            }\n            var tempArray = void 0;\n            if (!isNOU(templateFn)) {\n                var toolbarTemplateID = this.element.id + index + '_template';\n                tempArray = templateFn({}, this, 'template', toolbarTemplateID, this.isStringTemplate);\n            }\n            if (!isNOU(tempArray) && tempArray.length > 0) {\n                [].slice.call(tempArray).forEach(function (ele) {\n                    if (!isNOU(ele.tagName)) {\n                        ele.style.display = '';\n                    }\n                    innerEle.appendChild(ele);\n                });\n            }\n        }\n        else if (itemType === 'Input') {\n            var ele = this.createElement('input');\n            item.id ? (ele.id = item.id) : (ele.id = getUniqueID('tbr-ipt'));\n            innerEle.appendChild(ele);\n            eleObj.appendTo(ele);\n        }\n        this.add(innerEle, CLS_TEMPLATE);\n        this.tbarEle.push(innerEle);\n    };\n    Toolbar.prototype.buttonRendering = function (item, innerEle) {\n        var dom = this.createElement('button', { className: CLS_TBARBTN });\n        dom.setAttribute('type', 'button');\n        var textStr = item.text;\n        var iconCss;\n        var iconPos;\n        item.id ? (dom.id = item.id) : dom.id = getUniqueID('e-tbr-btn');\n        var btnTxt = this.createElement('span', { className: 'e-tbar-btn-text' });\n        if (textStr) {\n            btnTxt.innerHTML = this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(textStr) : textStr;\n            dom.appendChild(btnTxt);\n            dom.classList.add('e-tbtn-txt');\n        }\n        else {\n            this.add(innerEle, 'e-tbtn-align');\n        }\n        if (item.prefixIcon || item.suffixIcon) {\n            if ((item.prefixIcon && item.suffixIcon) || item.prefixIcon) {\n                iconCss = item.prefixIcon + ' e-icons';\n                iconPos = 'Left';\n            }\n            else {\n                iconCss = item.suffixIcon + ' e-icons';\n                iconPos = 'Right';\n            }\n        }\n        var btnObj = new Button({ iconCss: iconCss, iconPosition: iconPos });\n        btnObj.createElement = this.createElement;\n        btnObj.appendTo(dom);\n        if (item.width) {\n            setStyle(dom, { 'width': formatUnit(item.width) });\n        }\n        return dom;\n    };\n    Toolbar.prototype.renderSubComponent = function (item, index) {\n        var innerEle;\n        var dom;\n        innerEle = this.createElement('div', { className: CLS_ITEM });\n        innerEle.setAttribute('aria-disabled', 'false');\n        var tempDom = this.createElement('div', {\n            innerHTML: this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(item.tooltipText) : item.tooltipText\n        });\n        if (!this.tbarEle) {\n            this.tbarEle = [];\n        }\n        if (item.htmlAttributes) {\n            this.setAttr(item.htmlAttributes, innerEle);\n        }\n        if (item.tooltipText) {\n            innerEle.setAttribute('title', tempDom.textContent);\n        }\n        if (item.cssClass) {\n            innerEle.className = innerEle.className + ' ' + item.cssClass;\n        }\n        if (item.template) {\n            this.templateRender(item.template, innerEle, item, index);\n        }\n        else {\n            switch (item.type) {\n                case 'Button':\n                    dom = this.buttonRendering(item, innerEle);\n                    dom.setAttribute('tabindex', '-1');\n                    dom.setAttribute('aria-label', (item.text || item.tooltipText));\n                    innerEle.appendChild(dom);\n                    innerEle.addEventListener('click', this.itemClick.bind(this));\n                    break;\n                case 'Separator':\n                    this.add(innerEle, CLS_SEPARATOR);\n                    break;\n            }\n        }\n        if (item.showTextOn) {\n            var sTxt = item.showTextOn;\n            if (sTxt === 'Toolbar') {\n                this.add(innerEle, CLS_POPUPTEXT);\n                this.add(innerEle, 'e-tbtn-align');\n            }\n            else if (sTxt === 'Overflow') {\n                this.add(innerEle, CLS_TBARTEXT);\n            }\n        }\n        if (item.overflow) {\n            var overflow = item.overflow;\n            if (overflow === 'Show') {\n                this.add(innerEle, CLS_TBAROVERFLOW);\n            }\n            else if (overflow === 'Hide') {\n                if (!innerEle.classList.contains(CLS_SEPARATOR)) {\n                    this.add(innerEle, CLS_POPOVERFLOW);\n                }\n            }\n        }\n        if (item.overflow !== 'Show' && item.showAlwaysInPopup && !innerEle.classList.contains(CLS_SEPARATOR)) {\n            this.add(innerEle, CLS_POPPRI);\n            this.popupPriCount++;\n        }\n        if (item.disabled) {\n            this.add(innerEle, CLS_DISABLE);\n        }\n        if (item.visible === false) {\n            this.add(innerEle, CLS_HIDDEN);\n        }\n        return innerEle;\n    };\n    Toolbar.prototype.itemClick = function (e) {\n        this.activeEleSwitch(e.currentTarget);\n    };\n    Toolbar.prototype.activeEleSwitch = function (ele) {\n        this.activeEleRemove(ele.firstElementChild);\n        this.activeEle.focus();\n    };\n    Toolbar.prototype.activeEleRemove = function (curEle) {\n        if (!isNOU(this.activeEle)) {\n            this.activeEle.setAttribute('tabindex', '-1');\n        }\n        this.activeEle = curEle;\n        if (isNOU(this.trgtEle) && !curEle.parentElement.classList.contains(CLS_TEMPLATE)) {\n            curEle.removeAttribute('tabindex');\n        }\n        else {\n            this.activeEle.setAttribute('tabindex', '0');\n        }\n    };\n    Toolbar.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    Toolbar.prototype.itemsRerender = function (newProp) {\n        this.items = this.tbarItemsCol;\n        this.destroyMode();\n        this.destroyItems();\n        this.items = newProp;\n        this.tbarItemsCol = this.items;\n        this.renderItems();\n        this.renderOverflowMode();\n    };\n    Toolbar.prototype.resize = function () {\n        var ele = this.element;\n        this.tbResize = true;\n        if (this.tbarAlign) {\n            this.itemPositioning();\n        }\n        if (this.popObj && this.overflowMode === 'Popup') {\n            this.popObj.hide();\n        }\n        var checkOverflow = this.checkOverflow(ele, ele.getElementsByClassName(CLS_ITEMS)[0]);\n        if (!checkOverflow) {\n            this.destroyScroll();\n            var multirowele = ele.querySelector('.' + CLS_ITEMS);\n            if (!isNOU(multirowele)) {\n                this.remove(multirowele, CLS_MULTIROWPOS);\n                if (this.tbarAlign) {\n                    this.add(multirowele, CLS_TBARPOS);\n                }\n            }\n        }\n        if (checkOverflow && this.scrollModule && (this.offsetWid === ele.offsetWidth)) {\n            return;\n        }\n        if (this.offsetWid > ele.offsetWidth || checkOverflow) {\n            this.renderOverflowMode();\n        }\n        if (this.popObj) {\n            if (this.overflowMode === 'Extended') {\n                var eleStyles = window.getComputedStyle(this.element);\n                this.popObj.width = parseFloat(eleStyles.width) + ((parseFloat(eleStyles.borderRightWidth)) * 2);\n            }\n            if (this.tbarAlign) {\n                this.removePositioning();\n            }\n            this.popupRefresh(this.popObj.element, false);\n            if (this.tbarAlign) {\n                this.refreshPositioning();\n            }\n        }\n        if (this.element.querySelector('.' + CLS_HSCROLLBAR)) {\n            this.scrollStep = this.element.querySelector('.' + CLS_HSCROLLBAR).offsetWidth;\n        }\n        this.offsetWid = ele.offsetWidth;\n        this.tbResize = false;\n        this.separator();\n    };\n    Toolbar.prototype.extendedOpen = function () {\n        var sib = this.element.querySelector('.' + CLS_EXTENDABLECLASS);\n        if (this.overflowMode === 'Extended' && sib) {\n            this.isExtendedOpen = sib.classList.contains(CLS_POPUPOPEN);\n        }\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     * @param  {ToolbarModel} newProp\n     * @param  {ToolbarModel} oldProp\n     * @returns void\n     * @private\n     */\n    Toolbar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var tEle = this.element;\n        this.extendedOpen();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array) && !this.isServerRendered) {\n                        var changedProb = Object.keys(newProp.items);\n                        for (var i = 0; i < changedProb.length; i++) {\n                            var index = parseInt(Object.keys(newProp.items)[i], 10);\n                            var property = Object.keys(newProp.items[index])[0];\n                            var newProperty = Object(newProp.items[index])[property];\n                            if (this.tbarAlign || property === 'align') {\n                                this.refresh();\n                                this.trigger('created');\n                                break;\n                            }\n                            var popupPriCheck = property === 'showAlwaysInPopup' && !newProperty;\n                            var booleanCheck = property === 'overflow' && this.popupPriCount !== 0;\n                            if ((popupPriCheck) || (this.items[index].showAlwaysInPopup) && booleanCheck) {\n                                --this.popupPriCount;\n                            }\n                            if (isNOU(this.scrollModule)) {\n                                this.destroyMode();\n                            }\n                            var itemCol = [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, tEle));\n                            detach(itemCol[index]);\n                            this.tbarEle.splice(index, 1);\n                            this.addItems([this.items[index]], index);\n                            this.items.splice(index, 1);\n                            if (this.items[index].template) {\n                                this.tbarEle.splice(this.items.length, 1);\n                            }\n                        }\n                    }\n                    else if (isBlazor() && this.isServerRendered) {\n                        this.serverItemsRerender();\n                        this.notify('onItemsChanged', {});\n                    }\n                    else {\n                        this.itemsRerender(newProp.items);\n                    }\n                    break;\n                case 'width':\n                    var wid = tEle.offsetWidth;\n                    setStyle(tEle, { 'width': formatUnit(newProp.width) });\n                    this.renderOverflowMode();\n                    if (this.popObj && wid < tEle.offsetWidth) {\n                        this.popupRefresh(this.popObj.element, false);\n                    }\n                    break;\n                case 'height':\n                    setStyle(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'overflowMode':\n                    this.destroyMode();\n                    this.renderOverflowMode();\n                    if (this.enableRtl) {\n                        this.add(tEle, CLS_RTL);\n                    }\n                    this.refreshOverflow();\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.add(tEle, CLS_RTL) : this.remove(tEle, CLS_RTL);\n                    if (!isNOU(this.scrollModule)) {\n                        newProp.enableRtl ? this.add(this.scrollModule.element, CLS_RTL) : this.remove(this.scrollModule.element, CLS_RTL);\n                    }\n                    if (!isNOU(this.popObj)) {\n                        newProp.enableRtl ? this.add(this.popObj.element, CLS_RTL) : this.remove(this.popObj.element, CLS_RTL);\n                    }\n                    if (this.tbarAlign) {\n                        this.itemPositioning();\n                    }\n                    break;\n                case 'scrollStep':\n                    if (this.scrollModule) {\n                        this.scrollModule.scrollStep = this.scrollStep;\n                    }\n                    break;\n                case 'enableCollision':\n                    if (this.popObj) {\n                        this.popObj.collision = { Y: this.enableCollision ? 'flip' : 'none' };\n                    }\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.element], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([this.element], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'allowKeyboard':\n                    this.unwireKeyboardEvent();\n                    if (newProp.allowKeyboard) {\n                        this.wireKeyboardEvent();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Shows or hides the Toolbar item that is in the specified index.\n     * @param  {number | HTMLElement} index - Index value of target item or DOM element  of items to be hidden or shown.\n     * @param  {boolean} value - Based on this Boolean value, item will be hide (true) or show (false). By default, value is false.\n     * @returns void.\n     */\n    Toolbar.prototype.hideItem = function (index, value) {\n        var isElement = (typeof (index) === 'object') ? true : false;\n        var eleIndex = index;\n        var initIndex;\n        var ele;\n        var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n        if (isElement) {\n            ele = index;\n        }\n        else if (this.tbarEle[eleIndex]) {\n            var innerItems_1 = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n            ele = innerItems_1[eleIndex];\n        }\n        if (ele) {\n            value ? ele.classList.add(CLS_HIDDEN) : ele.classList.remove(CLS_HIDDEN);\n            if (value && isNOU(this.element.getAttribute('tabindex')) && !ele.classList.contains(CLS_SEPARATOR)) {\n                if (isNOU(ele.firstElementChild.getAttribute('tabindex'))) {\n                    ele.firstElementChild.setAttribute('tabindex', '-1');\n                    var innerItems_2 = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n                    if (isElement) {\n                        eleIndex = innerItems_2.indexOf(ele);\n                    }\n                    var nextEle = innerItems_2[++eleIndex];\n                    while (nextEle) {\n                        var skipEle = this.eleContains(nextEle);\n                        if (!skipEle) {\n                            nextEle.firstElementChild.removeAttribute('tabindex');\n                            break;\n                        }\n                        nextEle = innerItems_2[++eleIndex];\n                    }\n                }\n            }\n            else if (isNOU(this.element.getAttribute('tabindex')) && !ele.classList.contains(CLS_SEPARATOR)) {\n                initIndex = 0;\n                var setFlag = false;\n                var removeFlag = false;\n                var initELe = innerItems[initIndex];\n                while (initELe) {\n                    if (!initELe.classList.contains(CLS_SEPARATOR)) {\n                        if (isNOU(initELe.firstElementChild.getAttribute('tabindex'))) {\n                            initELe.firstElementChild.setAttribute('tabindex', '-1');\n                            setFlag = true;\n                        }\n                        else {\n                            if (setFlag && removeFlag) {\n                                break;\n                            }\n                            var skipEle = this.eleContains(initELe);\n                            if (!skipEle) {\n                                initELe.firstElementChild.removeAttribute('tabindex');\n                                removeFlag = true;\n                            }\n                            initELe = innerItems[++initIndex];\n                        }\n                    }\n                    else {\n                        initELe = innerItems[++initIndex];\n                    }\n                }\n            }\n            this.refreshOverflow();\n        }\n    };\n    __decorate([\n        Collection([], Item)\n    ], Toolbar.prototype, \"items\", void 0);\n    __decorate([\n        Property('auto')\n    ], Toolbar.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Toolbar.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], Toolbar.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('Scrollable')\n    ], Toolbar.prototype, \"overflowMode\", void 0);\n    __decorate([\n        Property()\n    ], Toolbar.prototype, \"scrollStep\", void 0);\n    __decorate([\n        Property(true)\n    ], Toolbar.prototype, \"enableCollision\", void 0);\n    __decorate([\n        Property(true)\n    ], Toolbar.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(true)\n    ], Toolbar.prototype, \"allowKeyboard\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"clicked\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"beforeCreate\", void 0);\n    Toolbar = __decorate([\n        NotifyPropertyChanges\n    ], Toolbar);\n    return Toolbar;\n}(Component));\nexport { Toolbar };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, extend, deleteObject, Property, addClass } from '@syncfusion/ej2-base';\n/**\n * @param props\n * @param model\n */\nexport function getModel(props, model) {\n    var obj = extend({}, props);\n    for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {\n        var prop = _a[_i];\n        if ((model).indexOf(prop) < 0) {\n            deleteObject(obj, prop);\n        }\n    }\n    return obj;\n}\n/** @hidden */\nexport function upDownKeyHandler(ul, keyCode) {\n    var defaultIdx = keyCode === 40 ? 0 : ul.childElementCount - 1;\n    var liIdx = defaultIdx;\n    var li;\n    var selectedLi = ul.querySelector('.e-selected');\n    if (selectedLi) {\n        selectedLi.classList.remove('e-selected');\n    }\n    for (var i = 0, len = ul.children.length; i < len; i++) {\n        if (ul.children[i].classList.contains('e-focused')) {\n            li = ul.children[i];\n            liIdx = i;\n            li.classList.remove('e-focused');\n            keyCode === 40 ? liIdx++ : liIdx--;\n            if (liIdx === (keyCode === 40 ? ul.childElementCount : -1)) {\n                liIdx = defaultIdx;\n            }\n        }\n    }\n    li = ul.children[liIdx];\n    liIdx = isValidLI(ul, li, liIdx, keyCode);\n    if (liIdx !== -1) {\n        addClass([ul.children[liIdx]], 'e-focused');\n        ul.children[liIdx].focus();\n    }\n}\nfunction isValidLI(ul, li, index, keyCode, count) {\n    if (count === void 0) { count = 0; }\n    if (li.classList.contains('e-separator') || li.classList.contains('e-disabled')) {\n        if (index === (keyCode === 40 ? ul.childElementCount - 1 : 0)) {\n            index = keyCode === 40 ? 0 : ul.childElementCount - 1;\n        }\n        else {\n            keyCode === 40 ? index++ : index--;\n        }\n    }\n    li = ul.children[index];\n    if (li.classList.contains('e-separator') || li.classList.contains('e-disabled')) {\n        count++;\n        if (count === ul.childElementCount) {\n            return index = -1;\n        }\n        index = isValidLI(ul, li, index, keyCode, count);\n    }\n    return index;\n}\n/** @hidden */\nexport function setBlankIconStyle(popup) {\n    var blankIconList = [].slice.call(popup.getElementsByClassName('e-blank-icon'));\n    if (!blankIconList.length) {\n        return;\n    }\n    var iconLi = popup.querySelector('.e-item:not(.e-blank-icon):not(.e-separator)');\n    if (iconLi.classList.contains('e-url')) {\n        iconLi = iconLi.querySelector('.e-menu-url');\n    }\n    var icon = iconLi.querySelector('.e-menu-icon');\n    var cssProp;\n    var enableRtl = popup.classList.contains('e-rtl');\n    if (enableRtl) {\n        cssProp = { padding: 'paddingRight', margin: 'marginLeft' };\n    }\n    else {\n        cssProp = { padding: 'paddingLeft', margin: 'marginRight' };\n    }\n    // tslint:disable\n    var size = parseInt(getComputedStyle(icon).fontSize, 10) + parseInt((enableRtl ? getComputedStyle(icon)[cssProp.margin] : getComputedStyle(icon)[cssProp.margin]), 10)\n        + parseInt(getComputedStyle(iconLi).paddingLeft, 10) + \"px\";\n    blankIconList.forEach(function (li) {\n        if (li.classList.contains('e-url')) {\n            li.querySelector('.e-menu-url').style[cssProp.padding] = size;\n        }\n        else {\n            li.style[cssProp.padding] = size;\n        }\n    });\n    // tslint:enable\n}\n/**\n * Defines the items of Split Button/DropDownButton.\n */\nvar Item = /** @class */ (function (_super) {\n    __extends(Item, _super);\n    function Item() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Item.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"id\", void 0);\n    __decorate([\n        Property(false)\n    ], Item.prototype, \"separator\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"url\", void 0);\n    return Item;\n}(ChildProperty));\nexport { Item };\n","import { createElement, attributes, addClass, removeClass, detach, classList } from '@syncfusion/ej2-base';\nimport { closest, formatUnit, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar CLASSNAMES = {\n    RTL: 'e-rtl',\n    DISABLE: 'e-disabled',\n    INPUT: 'e-input',\n    TEXTAREA: 'e-multi-line-input',\n    INPUTGROUP: 'e-input-group',\n    FLOATINPUT: 'e-float-input',\n    FLOATLINE: 'e-float-line',\n    FLOATTEXT: 'e-float-text',\n    CLEARICON: 'e-clear-icon',\n    CLEARICONHIDE: 'e-clear-icon-hide',\n    LABELTOP: 'e-label-top',\n    LABELBOTTOM: 'e-label-bottom',\n    NOFLOATLABEL: 'e-no-float-label',\n    INPUTCUSTOMTAG: 'e-input-custom-tag',\n    FLOATCUSTOMTAG: 'e-float-custom-tag'\n};\n/**\n * Base for Input creation through util methods.\n */\nexport var Input;\n(function (Input) {\n    var privateInputObj = {\n        container: null,\n        buttons: [],\n        clearButton: null\n    };\n    var floatType;\n    /**\n     * Create a wrapper to input element with multiple span elements and set the basic properties to input based components.\n     * ```\n     * E.g : Input.createInput({ element: element, floatLabelType : \"Auto\", properties: { placeholder: 'Search' } });\n     * ```\n     * @param args\n     */\n    function createInput(args, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var inputObject = { container: null, buttons: [], clearButton: null };\n        floatType = args.floatLabelType;\n        if (isNullOrUndefined(args.floatLabelType) || args.floatLabelType === 'Never') {\n            inputObject.container = createInputContainer(args, CLASSNAMES.INPUTGROUP, CLASSNAMES.INPUTCUSTOMTAG, 'span', makeElement);\n            args.element.parentNode.insertBefore(inputObject.container, args.element);\n            addClass([args.element], CLASSNAMES.INPUT);\n            inputObject.container.appendChild(args.element);\n        }\n        else {\n            createFloatingInput(args, inputObject, makeElement);\n        }\n        bindInitialEvent(args);\n        if (!isNullOrUndefined(args.properties) && !isNullOrUndefined(args.properties.showClearButton) &&\n            args.properties.showClearButton && args.element.tagName !== 'TEXTAREA') {\n            setClearButton(args.properties.showClearButton, args.element, inputObject, true, makeElement);\n            inputObject.clearButton.setAttribute('role', 'button');\n            if (inputObject.container.classList.contains(CLASSNAMES.FLOATINPUT)) {\n                addClass([inputObject.container], CLASSNAMES.INPUTGROUP);\n            }\n        }\n        if (!isNullOrUndefined(args.buttons) && args.element.tagName !== 'TEXTAREA') {\n            for (var i = 0; i < args.buttons.length; i++) {\n                inputObject.buttons.push(appendSpan(args.buttons[i], inputObject.container, makeElement));\n            }\n        }\n        if (!isNullOrUndefined(args.element) && args.element.tagName === 'TEXTAREA') {\n            addClass([inputObject.container], CLASSNAMES.TEXTAREA);\n        }\n        inputObject = setPropertyValue(args, inputObject);\n        privateInputObj = inputObject;\n        return inputObject;\n    }\n    Input.createInput = createInput;\n    function bindInitialEvent(args) {\n        checkInputValue(args.floatLabelType, args.element);\n        args.element.addEventListener('focus', function () {\n            var parent = getParentNode(this);\n            if (parent.classList.contains('e-input-group') || parent.classList.contains('e-outline')\n                || parent.classList.contains('e-filled')) {\n                parent.classList.add('e-input-focus');\n            }\n        });\n        args.element.addEventListener('blur', function () {\n            var parent = getParentNode(this);\n            if (parent.classList.contains('e-input-group') || parent.classList.contains('e-outline')\n                || parent.classList.contains('e-filled')) {\n                parent.classList.remove('e-input-focus');\n            }\n        });\n        args.element.addEventListener('input', function () {\n            checkInputValue(floatType, args.element);\n        });\n    }\n    Input.bindInitialEvent = bindInitialEvent;\n    function checkInputValue(floatLabelType, inputElement) {\n        var inputValue = inputElement.value;\n        if (inputValue !== '' && !isNullOrUndefined(inputValue)) {\n            inputElement.parentElement.classList.add('e-valid-input');\n        }\n        else if (floatLabelType !== 'Always' && inputElement.parentElement) {\n            inputElement.parentElement.classList.remove('e-valid-input');\n        }\n    }\n    function _focusFn() {\n        var label = getParentNode(this).getElementsByClassName('e-float-text')[0];\n        if (!isNullOrUndefined(label)) {\n            addClass([label], CLASSNAMES.LABELTOP);\n            if (label.classList.contains(CLASSNAMES.LABELBOTTOM)) {\n                removeClass([label], CLASSNAMES.LABELBOTTOM);\n            }\n        }\n    }\n    function _blurFn() {\n        var parent = getParentNode(this);\n        if ((parent.getElementsByTagName('textarea')[0]) ? parent.getElementsByTagName('textarea')[0].value === '' :\n            parent.getElementsByTagName('input')[0].value === '') {\n            var label = parent.getElementsByClassName('e-float-text')[0];\n            if (!isNullOrUndefined(label)) {\n                if (label.classList.contains(CLASSNAMES.LABELTOP)) {\n                    removeClass([label], CLASSNAMES.LABELTOP);\n                }\n                addClass([label], CLASSNAMES.LABELBOTTOM);\n            }\n        }\n    }\n    function wireFloatingEvents(element) {\n        element.addEventListener('focus', _focusFn);\n        element.addEventListener('blur', _blurFn);\n    }\n    Input.wireFloatingEvents = wireFloatingEvents;\n    function unwireFloatingEvents(element) {\n        element.removeEventListener('focus', _focusFn);\n        element.removeEventListener('blur', _blurFn);\n    }\n    function createFloatingInput(args, inputObject, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var inputElement;\n        var floatLinelement;\n        var floatLabelElement;\n        if (args.floatLabelType === 'Auto') {\n            wireFloatingEvents(args.element);\n        }\n        if (isNullOrUndefined(inputObject.container)) {\n            inputObject.container = createInputContainer(args, CLASSNAMES.FLOATINPUT, CLASSNAMES.FLOATCUSTOMTAG, 'div', makeElement);\n            args.element.parentNode.insertBefore(inputObject.container, args.element);\n        }\n        else {\n            if (!isNullOrUndefined(args.customTag)) {\n                inputObject.container.classList.add(CLASSNAMES.FLOATCUSTOMTAG);\n            }\n            inputObject.container.classList.add(CLASSNAMES.FLOATINPUT);\n        }\n        floatLinelement = makeElement('span', { className: CLASSNAMES.FLOATLINE });\n        floatLabelElement = makeElement('label', { className: CLASSNAMES.FLOATTEXT });\n        if (!isNullOrUndefined(args.element.id) && args.element.id !== '') {\n            floatLabelElement.id = 'label_' + args.element.id.replace(/ /g, '_');\n            attributes(args.element, { 'aria-labelledby': floatLabelElement.id });\n        }\n        if (!isNullOrUndefined(args.element.placeholder) && args.element.placeholder !== '') {\n            floatLabelElement.innerText = encodePlaceHolder(args.element.placeholder);\n            args.element.removeAttribute('placeholder');\n        }\n        if (!isNullOrUndefined(args.properties) && !isNullOrUndefined(args.properties.placeholder) &&\n            args.properties.placeholder !== '') {\n            floatLabelElement.innerText = encodePlaceHolder(args.properties.placeholder);\n        }\n        if (!floatLabelElement.innerText) {\n            inputObject.container.classList.add(CLASSNAMES.NOFLOATLABEL);\n        }\n        if (inputObject.container.classList.contains('e-float-icon-left')) {\n            var inputWrap = inputObject.container.querySelector('.e-input-in-wrap');\n            inputWrap.appendChild(args.element);\n            inputWrap.appendChild(floatLinelement);\n            inputWrap.appendChild(floatLabelElement);\n        }\n        else {\n            inputObject.container.appendChild(args.element);\n            inputObject.container.appendChild(floatLinelement);\n            inputObject.container.appendChild(floatLabelElement);\n        }\n        updateLabelState(args.element.value, floatLabelElement);\n        if (args.floatLabelType === 'Always') {\n            if (floatLabelElement.classList.contains(CLASSNAMES.LABELBOTTOM)) {\n                removeClass([floatLabelElement], CLASSNAMES.LABELBOTTOM);\n            }\n            addClass([floatLabelElement], CLASSNAMES.LABELTOP);\n        }\n        if (args.floatLabelType === 'Auto') {\n            args.element.addEventListener('input', function (event) {\n                updateLabelState(args.element.value, floatLabelElement);\n            });\n            args.element.addEventListener('blur', function (event) {\n                updateLabelState(args.element.value, floatLabelElement);\n            });\n        }\n        if (!isNullOrUndefined(args.element.getAttribute('id'))) {\n            floatLabelElement.setAttribute('for', args.element.getAttribute('id'));\n        }\n    }\n    function checkFloatLabelType(type, container) {\n        if (type === 'Always' && container.classList.contains('e-outline')) {\n            container.classList.add('e-valid-input');\n        }\n    }\n    function setPropertyValue(args, inputObject) {\n        if (!isNullOrUndefined(args.properties)) {\n            for (var _i = 0, _a = Object.keys(args.properties); _i < _a.length; _i++) {\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'cssClass':\n                        setCssClass(args.properties.cssClass, [inputObject.container]);\n                        checkFloatLabelType(args.floatLabelType, inputObject.container);\n                        break;\n                    case 'enabled':\n                        setEnabled(args.properties.enabled, args.element, args.floatLabelType, inputObject.container);\n                        break;\n                    case 'enableRtl':\n                        setEnableRtl(args.properties.enableRtl, [inputObject.container]);\n                        break;\n                    case 'placeholder':\n                        setPlaceholder(args.properties.placeholder, args.element);\n                        break;\n                    case 'readonly':\n                        setReadonly(args.properties.readonly, args.element);\n                        break;\n                }\n            }\n        }\n        return inputObject;\n    }\n    function updateIconState(value, button) {\n        if (value) {\n            removeClass([button], CLASSNAMES.CLEARICONHIDE);\n        }\n        else {\n            addClass([button], CLASSNAMES.CLEARICONHIDE);\n        }\n    }\n    function updateLabelState(value, label) {\n        if (value) {\n            addClass([label], CLASSNAMES.LABELTOP);\n            if (label.classList.contains(CLASSNAMES.LABELBOTTOM)) {\n                removeClass([label], CLASSNAMES.LABELBOTTOM);\n            }\n        }\n        else {\n            if (label.classList.contains(CLASSNAMES.LABELTOP)) {\n                removeClass([label], CLASSNAMES.LABELTOP);\n            }\n            addClass([label], CLASSNAMES.LABELBOTTOM);\n        }\n    }\n    function getParentNode(element) {\n        var parentNode = isNullOrUndefined(element.parentNode) ? element\n            : element.parentNode;\n        if (parentNode && parentNode.classList.contains('e-input-in-wrap')) {\n            parentNode = parentNode.parentNode;\n        }\n        return parentNode;\n    }\n    /**\n     * To create clear button.\n     */\n    function createClearButton(element, inputObject, initial, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var button = makeElement('span', { className: CLASSNAMES.CLEARICON });\n        var container = inputObject.container;\n        if (!isNullOrUndefined(initial)) {\n            container.appendChild(button);\n        }\n        else {\n            var baseElement = inputObject.container.classList.contains(CLASSNAMES.FLOATINPUT) ?\n                inputObject.container.querySelector('.' + CLASSNAMES.FLOATTEXT) : element;\n            baseElement.insertAdjacentElement('afterend', button);\n        }\n        if (!isNullOrUndefined(container) &&\n            container.classList.contains(CLASSNAMES.FLOATINPUT)) {\n            addClass([container], CLASSNAMES.INPUTGROUP);\n        }\n        addClass([button], CLASSNAMES.CLEARICONHIDE);\n        wireClearBtnEvents(element, button, container);\n        button.setAttribute('aria-label', 'close');\n        return button;\n    }\n    function wireClearBtnEvents(element, button, container) {\n        button.addEventListener('click', function (event) {\n            if (!(element.classList.contains(CLASSNAMES.DISABLE) || element.readOnly)) {\n                event.preventDefault();\n                if (element !== document.activeElement) {\n                    element.focus();\n                }\n                element.value = '';\n                addClass([button], CLASSNAMES.CLEARICONHIDE);\n            }\n        });\n        element.addEventListener('input', function (event) {\n            updateIconState(element.value, button);\n        });\n        element.addEventListener('focus', function (event) {\n            updateIconState(element.value, button);\n        });\n        element.addEventListener('blur', function (event) {\n            setTimeout(function () { addClass([button], CLASSNAMES.CLEARICONHIDE); }, 200);\n        });\n    }\n    Input.wireClearBtnEvents = wireClearBtnEvents;\n    function validateLabel(element, floatLabelType) {\n        var parent = getParentNode(element);\n        if (parent.classList.contains(CLASSNAMES.FLOATINPUT) && floatLabelType === 'Auto') {\n            var label = getParentNode(element).getElementsByClassName('e-float-text')[0];\n            updateLabelState(element.value, label);\n        }\n    }\n    /**\n     * To create input box contianer.\n     */\n    function createInputContainer(args, className, tagClass, tag, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var container;\n        if (!isNullOrUndefined(args.customTag)) {\n            container = makeElement(args.customTag, { className: className });\n            container.classList.add(tagClass);\n        }\n        else {\n            container = makeElement(tag, { className: className });\n        }\n        container.classList.add('e-control-wrapper');\n        return container;\n    }\n    function encodePlaceHolder(placeholder) {\n        var result = '';\n        if (!isNullOrUndefined(placeholder) && placeholder !== '') {\n            var spanEle = document.createElement('span');\n            spanEle.innerHTML = '<input  placeholder=\"' + placeholder + '\"/>';\n            var hiddenInput = (spanEle.children[0]);\n            result = hiddenInput.placeholder;\n        }\n        return result;\n    }\n    /**\n     * Sets the value to the input element.\n     * ```\n     * E.g : Input.setValue('content', element, \"Auto\", true );\n     * ```\n     * @param value - Specify the value of the input element.\n     * @param element - The element on which the specified value is updated.\n     * @param floatLabelType - Specify the float label type of the input element.\n     * @param clearButton - Boolean value to specify whether the clear icon is enabled / disabled on the input.\n     */\n    function setValue(value, element, floatLabelType, clearButton) {\n        element.value = value;\n        if ((!isNullOrUndefined(floatLabelType)) && floatLabelType === 'Auto') {\n            validateLabel(element, floatLabelType);\n        }\n        if (!isNullOrUndefined(clearButton) && clearButton) {\n            var parentElement = getParentNode(element);\n            if (!isNullOrUndefined(parentElement)) {\n                var button = parentElement.getElementsByClassName(CLASSNAMES.CLEARICON)[0];\n                if (element.value && parentElement.classList.contains('e-input-focus')) {\n                    removeClass([button], CLASSNAMES.CLEARICONHIDE);\n                }\n                else {\n                    addClass([button], CLASSNAMES.CLEARICONHIDE);\n                }\n            }\n        }\n        checkInputValue(floatLabelType, element);\n    }\n    Input.setValue = setValue;\n    /**\n     * Sets the single or multiple cssClass to wrapper of input element.\n     * ```\n     * E.g : Input.setCssClass('e-custom-class', [element]);\n     * ```\n     * @param cssClass - Css class names which are needed to add.\n     * @param elements - The elements which are needed to add / remove classes.\n     * @param oldClass - Css class names which are needed to remove. If old classes are need to remove, can give this optional parameter.\n     */\n    function setCssClass(cssClass, elements, oldClass) {\n        if (!isNullOrUndefined(oldClass) && oldClass !== '') {\n            removeClass(elements, oldClass.split(' '));\n        }\n        if (!isNullOrUndefined(cssClass) && cssClass !== '') {\n            addClass(elements, cssClass.split(' '));\n        }\n    }\n    Input.setCssClass = setCssClass;\n    /**\n     * Set the width to the wrapper of input element.\n     * ```\n     * E.g : Input.setWidth('200px', container);\n     * ```\n     * @param width - Width value which is need to add.\n     * @param container - The element on which the width is need to add.\n     */\n    function setWidth(width, container) {\n        if (typeof width === 'number') {\n            container.style.width = formatUnit(width);\n        }\n        else if (typeof width === 'string') {\n            container.style.width = (width.match(/px|%|em/)) ? (width) : (formatUnit(width));\n        }\n    }\n    Input.setWidth = setWidth;\n    /**\n     * Set the placeholder attribute to the input element.\n     * ```\n     * E.g : Input.setPlaceholder('Search here', element);\n     * ```\n     * @param placeholder - Placeholder value which is need to add.\n     * @param element - The element on which the placeholder is need to add.\n     */\n    function setPlaceholder(placeholder, element) {\n        var parentElement;\n        placeholder = encodePlaceHolder(placeholder);\n        parentElement = getParentNode(element);\n        if (parentElement.classList.contains(CLASSNAMES.FLOATINPUT)) {\n            if (!isNullOrUndefined(placeholder) && placeholder !== '') {\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = placeholder;\n                parentElement.classList.remove(CLASSNAMES.NOFLOATLABEL);\n                element.removeAttribute('placeholder');\n            }\n            else {\n                parentElement.classList.add(CLASSNAMES.NOFLOATLABEL);\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = '';\n            }\n        }\n        else {\n            if (!isNullOrUndefined(placeholder) && placeholder !== '') {\n                attributes(element, { 'placeholder': placeholder, 'aria-placeholder': placeholder });\n            }\n            else {\n                element.removeAttribute('placeholder');\n                element.removeAttribute('aria-placeholder');\n            }\n        }\n    }\n    Input.setPlaceholder = setPlaceholder;\n    /**\n     * Set the read only attribute to the input element\n     * ```\n     * E.g : Input.setReadonly(true, element);\n     * ```\n     * @param isReadonly\n     * - Boolean value to specify whether to set read only. Setting \"True\" value enables read only.\n     * @param element\n     * - The element which is need to enable read only.\n     */\n    function setReadonly(isReadonly, element, floatLabelType) {\n        if (isReadonly) {\n            attributes(element, { readonly: '' });\n        }\n        else {\n            element.removeAttribute('readonly');\n        }\n        if (!isNullOrUndefined(floatLabelType)) {\n            validateLabel(element, floatLabelType);\n        }\n    }\n    Input.setReadonly = setReadonly;\n    /**\n     * Displays the element direction from right to left when its enabled.\n     * ```\n     * E.g : Input.setEnableRtl(true, [inputObj.container]);\n     * ```\n     * @param isRtl\n     * - Boolean value to specify whether to set RTL. Setting \"True\" value enables the RTL mode.\n     * @param elements\n     * - The elements that are needed to enable/disable RTL.\n     */\n    function setEnableRtl(isRtl, elements) {\n        if (isRtl) {\n            addClass(elements, CLASSNAMES.RTL);\n        }\n        else {\n            removeClass(elements, CLASSNAMES.RTL);\n        }\n    }\n    Input.setEnableRtl = setEnableRtl;\n    /**\n     * Enables or disables the given input element.\n     * ```\n     * E.g : Input.setEnabled(false, element);\n     * ```\n     * @param isEnable\n     * - Boolean value to specify whether to enable or disable.\n     * @param element\n     * - Element to be enabled or disabled.\n     */\n    function setEnabled(isEnable, element, floatLabelType, inputContainer) {\n        var disabledAttrs = { 'disabled': 'disabled', 'aria-disabled': 'true' };\n        var considerWrapper = isNullOrUndefined(inputContainer) ? false : true;\n        if (isEnable) {\n            element.classList.remove(CLASSNAMES.DISABLE);\n            removeAttributes(disabledAttrs, element);\n            if (considerWrapper) {\n                removeClass([inputContainer], CLASSNAMES.DISABLE);\n            }\n        }\n        else {\n            element.classList.add(CLASSNAMES.DISABLE);\n            addAttributes(disabledAttrs, element);\n            if (considerWrapper) {\n                addClass([inputContainer], CLASSNAMES.DISABLE);\n            }\n        }\n        if (!isNullOrUndefined(floatLabelType)) {\n            validateLabel(element, floatLabelType);\n        }\n    }\n    Input.setEnabled = setEnabled;\n    function setClearButton(isClear, element, inputObject, initial, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        if (isClear) {\n            inputObject.clearButton = createClearButton(element, inputObject, initial, makeElement);\n        }\n        else {\n            inputObject.clearButton.remove();\n            inputObject.clearButton = null;\n        }\n    }\n    Input.setClearButton = setClearButton;\n    /**\n     * Removing the multiple attributes from the given element such as \"disabled\",\"id\" , etc.\n     * ```\n     * E.g : Input.removeAttributes({ 'disabled': 'disabled', 'aria-disabled': 'true' }, element);\n     * ```\n     * @param attrs\n     *  - Array of attributes which are need to removed from the element.\n     * @param element\n     *  - Element on which the attributes are needed to be removed.\n     */\n    function removeAttributes(attrs, element) {\n        for (var _i = 0, _a = Object.keys(attrs); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var parentElement = void 0;\n            parentElement = getParentNode(element);\n            if (key === 'disabled') {\n                element.classList.remove(CLASSNAMES.DISABLE);\n            }\n            if (key === 'disabled' && parentElement.classList.contains(CLASSNAMES.INPUTGROUP)) {\n                parentElement.classList.remove(CLASSNAMES.DISABLE);\n            }\n            if (key === 'placeholder' && parentElement.classList.contains(CLASSNAMES.FLOATINPUT)) {\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = '';\n            }\n            else {\n                element.removeAttribute(key);\n            }\n        }\n    }\n    Input.removeAttributes = removeAttributes;\n    /**\n     * Adding the multiple attributes to the given element such as \"disabled\",\"id\" , etc.\n     * ```\n     * E.g : Input.addAttributes({ 'id': 'inputpopup' }, element);\n     * ```\n     * @param attrs\n     * - Array of attributes which is added to element.\n     * @param element\n     * - Element on which the attributes are needed to be added.\n     */\n    function addAttributes(attrs, element) {\n        for (var _i = 0, _a = Object.keys(attrs); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var parentElement = void 0;\n            parentElement = getParentNode(element);\n            if (key === 'disabled') {\n                element.classList.add(CLASSNAMES.DISABLE);\n            }\n            if (key === 'disabled' && parentElement.classList.contains(CLASSNAMES.INPUTGROUP)) {\n                parentElement.classList.add(CLASSNAMES.DISABLE);\n            }\n            if (key === 'placeholder' && parentElement.classList.contains(CLASSNAMES.FLOATINPUT)) {\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = attrs[key];\n            }\n            else {\n                element.setAttribute(key, attrs[key]);\n            }\n        }\n    }\n    Input.addAttributes = addAttributes;\n    function removeFloating(input) {\n        var container = input.container;\n        if (!isNullOrUndefined(container) && container.classList.contains(CLASSNAMES.FLOATINPUT)) {\n            var inputEle = container.querySelector('textarea') ? container.querySelector('textarea') :\n                container.querySelector('input');\n            var placeholder = container.querySelector('.' + CLASSNAMES.FLOATTEXT).textContent;\n            var clearButton = container.querySelector('.e-clear-icon') !== null;\n            detach(container.querySelector('.' + CLASSNAMES.FLOATLINE));\n            detach(container.querySelector('.' + CLASSNAMES.FLOATTEXT));\n            classList(container, [CLASSNAMES.INPUTGROUP], [CLASSNAMES.FLOATINPUT]);\n            unwireFloatingEvents(inputEle);\n            attributes(inputEle, { 'placeholder': placeholder });\n            inputEle.classList.add(CLASSNAMES.INPUT);\n            if (!clearButton && inputEle.tagName === 'INPUT') {\n                inputEle.removeAttribute('required');\n            }\n        }\n    }\n    Input.removeFloating = removeFloating;\n    function addFloating(input, type, placeholder, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var container = closest(input, '.' + CLASSNAMES.INPUTGROUP);\n        floatType = type;\n        if (type !== 'Never') {\n            var customTag = container.tagName;\n            customTag = customTag !== 'DIV' && customTag !== 'SPAN' ? customTag : null;\n            var args = { element: input, floatLabelType: type, customTag: customTag, properties: { placeholder: placeholder } };\n            var iconEle = container.querySelector('.e-clear-icon');\n            var inputObj = { container: container };\n            input.classList.remove(CLASSNAMES.INPUT);\n            createFloatingInput(args, inputObj, makeElement);\n            var isPrependIcon = container.classList.contains('e-float-icon-left');\n            if (isNullOrUndefined(iconEle)) {\n                if (isPrependIcon) {\n                    var inputWrap = container.querySelector('.e-input-in-wrap');\n                    iconEle = inputWrap.querySelector('.e-input-group-icon');\n                }\n                else {\n                    iconEle = container.querySelector('.e-input-group-icon');\n                }\n            }\n            if (isNullOrUndefined(iconEle)) {\n                if (isPrependIcon) {\n                    iconEle = container.querySelector('.e-input-group-icon');\n                }\n                if (isNullOrUndefined(iconEle)) {\n                    container.classList.remove(CLASSNAMES.INPUTGROUP);\n                }\n            }\n            else {\n                var floatLine = container.querySelector('.' + CLASSNAMES.FLOATLINE);\n                var floatText = container.querySelector('.' + CLASSNAMES.FLOATTEXT);\n                var wrapper = isPrependIcon ? container.querySelector('.e-input-in-wrap') : container;\n                wrapper.insertBefore(input, iconEle);\n                wrapper.insertBefore(floatLine, iconEle);\n                wrapper.insertBefore(floatText, iconEle);\n            }\n        }\n        checkFloatLabelType(type, input.parentElement);\n    }\n    Input.addFloating = addFloating;\n    /**\n     * Enable or Disable the ripple effect on the icons inside the Input. Ripple effect is only applicable for material theme.\n     * ```\n     * E.g : Input.setRipple(true, [inputObjects]);\n     * ```\n     * @param isRipple\n     * - Boolean value to specify whether to enable the ripple effect.\n     * @param inputObject\n     * - Specify the collection of input objects.\n     */\n    function setRipple(isRipple, inputObj) {\n        for (var i = 0; i < inputObj.length; i++) {\n            _internalRipple(isRipple, inputObj[i].container);\n        }\n    }\n    Input.setRipple = setRipple;\n    function _internalRipple(isRipple, container, button) {\n        var argsButton = [];\n        argsButton.push(button);\n        var buttons = isNullOrUndefined(button) ?\n            container.querySelectorAll('.e-input-group-icon') : argsButton;\n        if (isRipple && buttons.length > 0) {\n            for (var index = 0; index < buttons.length; index++) {\n                buttons[index].addEventListener('mousedown', _onMouseDownRipple, false);\n                buttons[index].addEventListener('mouseup', _onMouseUpRipple, false);\n            }\n        }\n        else if (buttons.length > 0) {\n            for (var index = 0; index < buttons.length; index++) {\n                buttons[index].removeEventListener('mousedown', _onMouseDownRipple, this);\n                buttons[index].removeEventListener('mouseup', _onMouseUpRipple, this);\n            }\n        }\n    }\n    function _onMouseRipple(container, button) {\n        if (!container.classList.contains('e-disabled') && !container.querySelector('input').readOnly) {\n            button.classList.add('e-input-btn-ripple');\n        }\n    }\n    function _onMouseDownRipple() {\n        var ele = this;\n        var parentEle = this.parentElement;\n        while (!parentEle.classList.contains('e-input-group')) {\n            parentEle = parentEle.parentElement;\n        }\n        _onMouseRipple(parentEle, ele);\n    }\n    function _onMouseUpRipple() {\n        var ele = this;\n        setTimeout(function () { ele.classList.remove('e-input-btn-ripple'); }, 500);\n    }\n    function createIconEle(iconClass, makeElement) {\n        var button = makeElement('span', { className: iconClass });\n        button.classList.add('e-input-group-icon');\n        return button;\n    }\n    /**\n     * Creates a new span element with the given icons added and append it in container element.\n     * ```\n     * E.g : Input.addIcon('append', 'e-icon-spin', inputObj.container, inputElement);\n     * ```\n     * @param position - Specify the icon placement on the input.Possible values are append and prepend.\n     * @param iconClass - Icon classes which are need to add to the span element which is going to created.\n     * Span element acts as icon or button element for input.\n     * @param container - The container on which created span element is going to append.\n     * @param inputElement - The inputElement on which created span element is going to prepend.\n     */\n    // tslint:disable\n    function addIcon(position, icons, container, input, internalCreate) {\n        // tslint:enable\n        var result = typeof (icons) === 'string' ? icons.split(',')\n            : icons;\n        if (position.toLowerCase() === 'append') {\n            for (var _i = 0, result_1 = result; _i < result_1.length; _i++) {\n                var icon = result_1[_i];\n                appendSpan(icon, container, internalCreate);\n            }\n        }\n        else {\n            for (var _a = 0, result_2 = result; _a < result_2.length; _a++) {\n                var icon = result_2[_a];\n                prependSpan(icon, container, input, internalCreate);\n            }\n        }\n    }\n    Input.addIcon = addIcon;\n    /**\n     * Creates a new span element with the given icons added and prepend it in input element.\n     * ```\n     * E.g : Input.prependSpan('e-icon-spin', inputObj.container, inputElement);\n     * ```\n     * @param iconClass - Icon classes which are need to add to the span element which is going to created.\n     * Span element acts as icon or button element for input.\n     * @param container - The container on which created span element is going to append.\n     * @param inputElement - The inputElement on which created span element is going to prepend.\n     */\n    // tslint:disable\n    function prependSpan(iconClass, container, inputElement, internalCreateElement) {\n        // tslint:enable\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var button = createIconEle(iconClass, makeElement);\n        container.classList.add('e-float-icon-left');\n        var innerWrapper = container.querySelector('.e-input-in-wrap');\n        if (isNullOrUndefined(innerWrapper)) {\n            innerWrapper = makeElement('span', { className: 'e-input-in-wrap' });\n            inputElement.parentNode.insertBefore(innerWrapper, inputElement);\n            var result = container.querySelectorAll(inputElement.tagName + ' ~ *');\n            innerWrapper.appendChild(inputElement);\n            for (var i = 0; i < result.length; i++) {\n                innerWrapper.appendChild(result[i]);\n            }\n        }\n        innerWrapper.parentNode.insertBefore(button, innerWrapper);\n        if (!container.classList.contains(CLASSNAMES.INPUTGROUP)) {\n            container.classList.add(CLASSNAMES.INPUTGROUP);\n        }\n        _internalRipple(true, container, button);\n        return button;\n    }\n    Input.prependSpan = prependSpan;\n    /**\n     * Creates a new span element with the given icons added and append it in container element.\n     * ```\n     * E.g : Input.appendSpan('e-icon-spin', inputObj.container);\n     * ```\n     * @param iconClass - Icon classes which are need to add to the span element which is going to created.\n     * Span element acts as icon or button element for input.\n     * @param container - The container on which created span element is going to append.\n     */\n    function appendSpan(iconClass, container, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var button = createIconEle(iconClass, makeElement);\n        if (!container.classList.contains(CLASSNAMES.INPUTGROUP)) {\n            container.classList.add(CLASSNAMES.INPUTGROUP);\n        }\n        var wrap = (container.classList.contains('e-float-icon-left')) ? container.querySelector('.e-input-in-wrap') :\n            container;\n        wrap.appendChild(button);\n        _internalRipple(true, container, button);\n        return button;\n    }\n    Input.appendSpan = appendSpan;\n})(Input || (Input = {}));\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Collection, Event, NotifyPropertyChanges, detach, Property, EventHandler } from '@syncfusion/ej2-base';\nimport { addClass, getUniqueID, rippleEffect } from '@syncfusion/ej2-base';\nimport { attributes, Component, closest, select, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { classList, removeClass } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { upDownKeyHandler } from './../common/common';\nimport { getModel, Item, setBlankIconStyle } from './../common/common';\nvar classNames = {\n    DISABLED: 'e-disabled',\n    FOCUS: 'e-focused',\n    ICON: 'e-menu-icon',\n    ITEM: 'e-item',\n    POPUP: 'e-dropdown-popup',\n    RTL: 'e-rtl',\n    SEPARATOR: 'e-separator',\n    VERTICAL: 'e-vertical'\n};\n/**\n * DropDownButton component is used to toggle contextual overlays for displaying list of action items.\n * It can contain both text and images.\n * ```html\n * <button id=\"element\">DropDownButton</button>\n * ```\n * ```typescript\n * <script>\n * var dropDownButtonObj = new DropDownButton({items: [{ text: 'Action1' }, { text: 'Action2' },{ text: 'Action3' }]);\n * dropDownButtonObj.appendTo(\"#element\");\n * </script>\n * ```\n */\nvar DropDownButton = /** @class */ (function (_super) {\n    __extends(DropDownButton, _super);\n    /**\n     * Constructor for creating the widget\n     * @param  {DropDownButtonModel} options?\n     * @param  {string|HTMLButtonElement} element?\n     */\n    function DropDownButton(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    DropDownButton.prototype.preRender = function () {\n        /** */\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     */\n    DropDownButton.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * To open/close DropDownButton popup based on current state of the DropDownButton.\n     * @returns void\n     */\n    DropDownButton.prototype.toggle = function () {\n        this.canOpen() ? this.openPopUp() : this.closePopup();\n    };\n    /**\n     * Initialize the Component rendering\n     * @returns void\n     * @private\n     */\n    DropDownButton.prototype.render = function () {\n        this.initialize();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n        this.renderComplete();\n    };\n    /**\n     * Adds a new item to the menu. By default, new item appends to the list as the last item,\n     * but you can insert based on the text parameter.\n     * @param  { ItemModel[] } items - Specifies an array of JSON data.\n     * @param { string } text - Specifies the text to insert the newly added item in the menu.\n     * @returns {void}.\n     */\n    DropDownButton.prototype.addItems = function (items, text) {\n        var newItem;\n        var idx = this.items.length;\n        for (var j = 0, len = this.items.length; j < len; j++) {\n            if (text === this.items[j].text) {\n                idx = j;\n                break;\n            }\n        }\n        for (var i = items.length - 1; i >= 0; i--) {\n            // tslint:disable-next-line\n            newItem = new Item(this, 'items', items[i], true);\n            this.items.splice(idx, 0, newItem);\n        }\n        if (!this.canOpen()) {\n            this.createItems();\n        }\n    };\n    /**\n     * Removes the items from the menu.\n     * @param  { string[] } items - Specifies an array of string to remove the items.\n     * @returns {void}.\n     */\n    DropDownButton.prototype.removeItems = function (items) {\n        for (var i = 0, len = items.length; i < len; i++) {\n            for (var j = 0, len_1 = this.items.length; j < len_1; j++) {\n                if (items[i] === this.items[j].text) {\n                    this.items.splice(j, 1);\n                    break;\n                }\n            }\n        }\n        if (!this.canOpen()) {\n            this.createItems();\n        }\n    };\n    DropDownButton.prototype.createPopup = function () {\n        var _a;\n        var div = this.createElement('div', {\n            className: classNames.POPUP,\n            id: this.element.id + '-popup'\n        });\n        document.body.appendChild(div);\n        this.dropDown = new Popup(div, {\n            relateTo: this.element,\n            collision: { X: 'fit', Y: 'flip' },\n            position: { X: 'left', Y: 'bottom' },\n            targetType: 'relative',\n            content: this.target ? this.getTargetElement() : '',\n            enableRtl: this.enableRtl\n        });\n        if (this.dropDown.element.style.position === 'fixed') {\n            this.dropDown.refreshPosition(this.element);\n        }\n        this.dropDown.hide();\n        attributes(this.element, (_a = {},\n            _a['aria-haspopup'] = this.items.length || this.target ? 'true' : 'false',\n            _a['aria-expanded'] = 'false',\n            _a['aria-owns'] = this.getPopUpElement().id,\n            _a['type'] = 'button',\n            _a['aria-label'] = this.element.textContent + ' dropdownbutton',\n            _a));\n        if (this.cssClass) {\n            addClass([div], this.cssClass.split(' '));\n        }\n    };\n    DropDownButton.prototype.getTargetElement = function () {\n        return typeof (this.target) === 'string' ? select(this.target) : this.target;\n    };\n    DropDownButton.prototype.createItems = function (appendItems) {\n        var items = this.items;\n        var showIcon = this.hasIcon(this.items, 'iconCss');\n        var span;\n        var item;\n        var li;\n        var eventArgs;\n        var ul = this.getULElement();\n        if (ul) {\n            ul.innerHTML = '';\n        }\n        else {\n            ul = this.createElement('ul', {\n                attrs: { 'role': 'menu', 'tabindex': '0' }\n            });\n        }\n        for (var i = 0; i < items.length; i++) {\n            item = items[i];\n            var tempItem = (this.enableHtmlSanitizer) ? SanitizeHtmlHelper.sanitize(item.text) : item.text;\n            li = this.createElement('li', {\n                innerHTML: item.url ? '' : tempItem,\n                className: item.separator ? classNames.ITEM + ' ' + classNames.SEPARATOR : classNames.ITEM,\n                attrs: { 'role': 'menuItem', 'tabindex': '-1' },\n                id: item.id ? item.id : getUniqueID('e-' + this.getModuleName() + '-item')\n            });\n            if (item.url) {\n                li.appendChild(this.createAnchor(item));\n                li.classList.add('e-url');\n            }\n            if (item.iconCss) {\n                span = this.createElement('span', { className: classNames.ICON + ' ' + item.iconCss });\n                (item.url) ? li.childNodes[0].appendChild(span) : li.insertBefore(span, li.childNodes[0]);\n            }\n            else {\n                if (showIcon && !item.separator) {\n                    li.classList.add('e-blank-icon');\n                }\n            }\n            eventArgs = { item: item, element: li };\n            this.trigger('beforeItemRender', eventArgs);\n            ul.appendChild(li);\n        }\n        if (appendItems) {\n            this.getPopUpElement().appendChild(ul);\n        }\n        if (showIcon) {\n            setBlankIconStyle(this.getPopUpElement());\n        }\n    };\n    DropDownButton.prototype.hasIcon = function (items, field) {\n        for (var i = 0, len = items.length; i < len; i++) {\n            if (items[i][field]) {\n                return true;\n            }\n        }\n        return false;\n    };\n    DropDownButton.prototype.createAnchor = function (item) {\n        var tempItem = (this.enableHtmlSanitizer) ? SanitizeHtmlHelper.sanitize(item.text) : item.text;\n        return this.createElement('a', { className: 'e-menu-text e-menu-url', innerHTML: tempItem, attrs: { 'href': item.url } });\n    };\n    DropDownButton.prototype.initialize = function () {\n        this.button = new Button({\n            iconCss: this.iconCss, iconPosition: this.iconPosition, cssClass: this.cssClass, content: this.content,\n            disabled: this.disabled, enableRtl: this.enableRtl, enablePersistence: this.enablePersistence\n        });\n        this.button.createElement = this.createElement;\n        this.button.appendTo(this.element);\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n        this.appendArrowSpan();\n        this.createPopup();\n        this.setActiveElem([this.element]);\n    };\n    DropDownButton.prototype.appendArrowSpan = function () {\n        this.element.appendChild(this.createElement('span', {\n            className: 'e-btn-icon e-icons ' + 'e-icon-' + (this.cssClass.indexOf(classNames.VERTICAL) > -1\n                ? 'bottom' : 'right') + ' e-caret'\n        }));\n    };\n    DropDownButton.prototype.setActiveElem = function (elem) {\n        this.activeElem = elem;\n    };\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    DropDownButton.prototype.getModuleName = function () {\n        return 'dropdown-btn';\n    };\n    DropDownButton.prototype.canOpen = function () {\n        return this.getPopUpElement().classList.contains('e-popup-close');\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    DropDownButton.prototype.destroy = function () {\n        var _this = this;\n        _super.prototype.destroy.call(this);\n        if (this.getModuleName() === 'dropdown-btn') {\n            var attrList = void 0;\n            var classList_1;\n            if (this.element.querySelector('span.e-caret')) {\n                detach(this.element.querySelector('span.e-caret'));\n            }\n            if (this.cssClass) {\n                classList_1 = this.cssClass.split(' ');\n            }\n            this.button.destroy();\n            if (classList_1) {\n                removeClass([this.element], classList_1);\n            }\n            removeClass(this.activeElem, ['e-active']);\n            attrList = this.element.getAttribute('class') ? ['aria-haspopup', 'aria-expanded', 'aria-owns', 'type']\n                : ['aria-haspopup', 'aria-expanded', 'aria-owns', 'type', 'class'];\n            attrList.forEach(function (key) {\n                _this.element.removeAttribute(key);\n            });\n            this.dropDown.destroy();\n            var popupEle = document.getElementById(this.getPopUpElement().id);\n            if (popupEle) {\n                removeClass([popupEle], ['e-popup-open', 'e-popup-close']);\n                detach(popupEle);\n            }\n            if (!this.disabled) {\n                this.unWireEvents();\n            }\n        }\n    };\n    DropDownButton.prototype.getPopUpElement = function () {\n        return this.dropDown.element;\n    };\n    DropDownButton.prototype.getULElement = function () {\n        return this.getPopUpElement().children[0];\n    };\n    DropDownButton.prototype.wireEvents = function () {\n        var popupElement = this.getPopUpElement();\n        this.delegateMousedownHandler = this.mousedownHandler.bind(this);\n        EventHandler.add(document, 'mousedown touchstart', this.delegateMousedownHandler, this);\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        EventHandler.add(popupElement, 'click', this.clickHandler, this);\n        EventHandler.add(this.element, 'keydown', this.keyBoardHandler, this);\n        EventHandler.add(popupElement, 'keydown', this.keyBoardHandler, this);\n        this.rippleFn = rippleEffect(popupElement, { selector: '.' + classNames.ITEM });\n    };\n    /** @hidden */\n    DropDownButton.prototype.keyBoardHandler = function (e) {\n        if (e.target === this.element && (e.keyCode === 9 || (!e.altKey && e.keyCode === 40) || e.keyCode === 38)) {\n            return;\n        }\n        switch (e.keyCode) {\n            case 38:\n            case 40:\n                if (e.altKey && (e.keyCode === 38 || e.keyCode === 40)) {\n                    this.keyEventHandler(e);\n                }\n                else {\n                    this.upDownKeyHandler(e);\n                }\n                break;\n            case 9:\n            case 13:\n            case 27:\n            case 32:\n                this.keyEventHandler(e);\n                break;\n        }\n    };\n    DropDownButton.prototype.upDownKeyHandler = function (e) {\n        if (this.target && (e.keyCode === 38 || e.keyCode === 40)) {\n            return;\n        }\n        e.preventDefault();\n        upDownKeyHandler(this.getULElement(), e.keyCode);\n    };\n    DropDownButton.prototype.keyEventHandler = function (e) {\n        if (this.target && (e.keyCode === 13 || e.keyCode === 9)) {\n            return;\n        }\n        if (e.keyCode !== 9) {\n            e.preventDefault();\n        }\n        if (e.keyCode === 27 || e.keyCode === 38 || e.keyCode === 9) {\n            if (!this.canOpen()) {\n                this.closePopup(e, this.element);\n            }\n        }\n        else {\n            this.clickHandler(e);\n        }\n    };\n    DropDownButton.prototype.getLI = function (elem) {\n        return elem.tagName === 'LI' ? elem : closest(elem, 'li');\n    };\n    DropDownButton.prototype.mousedownHandler = function (e) {\n        var trgt = e.target;\n        if (!this.canOpen() && !(closest(trgt, '#' + this.getPopUpElement().id) || closest(trgt, '#' + this.element.id))) {\n            this.closePopup(e);\n        }\n    };\n    DropDownButton.prototype.clickHandler = function (e) {\n        var trgt = e.target;\n        var canOpen = this.canOpen();\n        if (closest(trgt, '#' + this.element.id)) {\n            if (canOpen) {\n                this.openPopUp(e);\n            }\n            else {\n                this.closePopup(e, this.activeElem[0]);\n            }\n        }\n        else {\n            if (closest(trgt, '#' + this.getPopUpElement().id)) {\n                var eventArgs = void 0;\n                var liIdx = void 0;\n                var item = void 0;\n                var li = this.getLI(trgt);\n                if (li) {\n                    liIdx = Array.prototype.indexOf.call(this.getULElement().children, li);\n                    item = this.items[liIdx];\n                    if (item) {\n                        eventArgs = { element: li, item: item };\n                        this.trigger('select', eventArgs);\n                    }\n                    this.closePopup(e, this.activeElem[0]);\n                }\n            }\n        }\n    };\n    DropDownButton.prototype.openPopUp = function (e) {\n        var _this = this;\n        if (e === void 0) { e = null; }\n        if (!this.target) {\n            this.createItems(true);\n        }\n        var ul = this.getULElement();\n        var beforeOpenArgs = { element: ul, items: this.items, event: e, cancel: false };\n        this.trigger('beforeOpen', beforeOpenArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                var ul_1 = _this.getULElement();\n                _this.dropDown.show(null, _this.element);\n                addClass([_this.element], 'e-active');\n                _this.element.setAttribute('aria-expanded', 'true');\n                ul_1.focus();\n                var openArgs = { element: ul_1, items: _this.items };\n                _this.trigger('open', openArgs);\n            }\n        });\n    };\n    DropDownButton.prototype.closePopup = function (e, focusEle) {\n        var _this = this;\n        if (e === void 0) { e = null; }\n        var ul = this.getULElement();\n        var beforeCloseArgs = { element: ul, items: this.items, event: e, cancel: false };\n        this.trigger('beforeClose', beforeCloseArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                var ul_2 = _this.getULElement();\n                var selectedLi = ul_2.querySelector('.e-selected');\n                if (selectedLi) {\n                    selectedLi.classList.remove('e-selected');\n                }\n                _this.dropDown.hide();\n                removeClass(_this.activeElem, 'e-active');\n                _this.element.setAttribute('aria-expanded', 'false');\n                if (focusEle) {\n                    focusEle.focus();\n                }\n                var closeArgs = { element: ul_2, items: _this.items };\n                _this.trigger('close', closeArgs);\n                if (!_this.target && ul_2) {\n                    detach(ul_2);\n                }\n            }\n        });\n    };\n    DropDownButton.prototype.unWireEvents = function () {\n        EventHandler.remove(document, 'mousedown touchstart', this.delegateMousedownHandler);\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        EventHandler.remove(this.getPopUpElement(), 'click', this.clickHandler);\n        EventHandler.remove(this.element, 'keydown', this.keyBoardHandler);\n        EventHandler.remove(this.getPopUpElement(), 'keydown', this.keyBoardHandler);\n        this.rippleFn();\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {DropDownButtonModel} newProp\n     * @param  {DropDownButtonModel} oldProp\n     * @returns void\n     * @private\n     */\n    DropDownButton.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var btnModel = ['content', 'cssClass', 'iconCss', 'iconPosition', 'disabled', 'enableRtl'];\n        this.button.setProperties(getModel(newProp, btnModel));\n        this.dropDown.setProperties(getModel(newProp, ['enableRtl']));\n        var popupElement = this.getPopUpElement();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'content':\n                    if (!this.element.querySelector('span.e-caret')) {\n                        this.appendArrowSpan();\n                    }\n                    break;\n                case 'disabled':\n                    if (newProp.disabled) {\n                        this.unWireEvents();\n                        if (!this.canOpen()) {\n                            this.closePopup();\n                        }\n                    }\n                    else {\n                        this.wireEvents();\n                    }\n                    break;\n                case 'cssClass':\n                    if (newProp.cssClass.indexOf(classNames.VERTICAL) > -1) {\n                        var arrowSpan = this.element.querySelector('span.e-caret');\n                        classList(arrowSpan, ['e-icon-bottom'], ['e-icon-right']);\n                    }\n                    if (oldProp.cssClass) {\n                        removeClass([popupElement], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([popupElement], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'target':\n                    this.dropDown.content = this.getTargetElement();\n                    this.dropDown.dataBind();\n                    break;\n                case 'items':\n                    if (!this.canOpen()) {\n                        this.createItems();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Sets the focus to DropDownButton\n     * its native method\n     * @public\n     */\n    DropDownButton.prototype.focusIn = function () {\n        this.element.focus();\n    };\n    __decorate([\n        Property('')\n    ], DropDownButton.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], DropDownButton.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownButton.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], DropDownButton.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('Left')\n    ], DropDownButton.prototype, \"iconPosition\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownButton.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Collection([], Item)\n    ], DropDownButton.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], DropDownButton.prototype, \"target\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"created\", void 0);\n    DropDownButton = __decorate([\n        NotifyPropertyChanges\n    ], DropDownButton);\n    return DropDownButton;\n}(Component));\nexport { DropDownButton };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/// <reference path='../drop-down-button/drop-down-button-model.d.ts'/>\nimport { Event, remove, addClass, removeClass, detach, getValue, setValue } from '@syncfusion/ej2-base';\nimport { EventHandler, Collection, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { attributes, getUniqueID, getInstance, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { getModel, Item } from './../common/common';\nimport { DropDownButton } from '../drop-down-button/drop-down-button';\nvar RTL = 'e-rtl';\nvar TAGNAME = 'EJS-SPLITBUTTON';\n/**\n * SplitButton component has primary and secondary button. Primary button is used to select\n * default action and secondary button is used to toggle contextual overlays for displaying list of\n * action items. It can contain both text and images.\n * ```html\n * <button id=\"element\"></button>\n * ```\n * ```typescript\n * <script>\n * var splitBtnObj = new SplitButton({content: 'SplitButton'});\n * splitBtnObj.appendTo(\"#element\");\n * </script>\n * ```\n */\nvar SplitButton = /** @class */ (function (_super) {\n    __extends(SplitButton, _super);\n    /**\n     * Constructor for creating the widget\n     * @param  {SplitButtonModel} options?\n     * @param  {string|HTMLButtonElement} element?\n     */\n    function SplitButton(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize Angular support.\n     * @private\n     */\n    SplitButton.prototype.preRender = function () {\n        var ele = this.element;\n        if (ele.tagName === TAGNAME) {\n            var ejInstance = getValue('ej2_instances', ele);\n            var btn = this.createElement('button', { attrs: { 'type': 'button' } });\n            var wrapper = this.createElement(TAGNAME, { className: 'e-' + this.getModuleName() + '-wrapper' });\n            for (var idx = 0, len = ele.attributes.length; idx < len; idx++) {\n                btn.setAttribute(ele.attributes[idx].nodeName, ele.attributes[idx].nodeValue);\n            }\n            ele.parentNode.insertBefore(wrapper, ele);\n            detach(ele);\n            ele = btn;\n            wrapper.appendChild(ele);\n            setValue('ej2_instances', ejInstance, ele);\n            this.wrapper = wrapper;\n            this.element = ele;\n        }\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n    };\n    /**\n     * Initialize the Component rendering\n     * @returns void\n     * @private\n     */\n    SplitButton.prototype.render = function () {\n        this.initWrapper();\n        this.createPrimaryButton();\n        this.renderControl();\n    };\n    SplitButton.prototype.renderControl = function () {\n        this.createSecondaryButton();\n        this.setActiveElem([this.element, this.secondaryBtnObj.element]);\n        this.setAria();\n        this.wireEvents();\n        this.renderComplete();\n    };\n    /**\n     * Adds a new item to the menu. By default, new item appends to the list as the last item,\n     * but you can insert based on the text parameter.\n     * @param  { ItemModel[] } items - Specifies an array of JSON data.\n     * @param { string } text - Specifies the text to insert the newly added item in the menu.\n     * @returns {void}.\n     */\n    SplitButton.prototype.addItems = function (items, text) {\n        _super.prototype.addItems.call(this, items, text);\n        this.secondaryBtnObj.items = this.items;\n    };\n    /**\n     * Removes the items from the menu.\n     * @param  { string[] } items - Specifies an array of string to remove the items.\n     * @returns {void}.\n     */\n    SplitButton.prototype.removeItems = function (items) {\n        _super.prototype.removeItems.call(this, items);\n        this.secondaryBtnObj.items = this.items;\n    };\n    SplitButton.prototype.initWrapper = function () {\n        if (!this.wrapper) {\n            this.wrapper = this.createElement('div', { className: 'e-' + this.getModuleName() + '-wrapper' });\n            this.element.parentNode.insertBefore(this.wrapper, this.element);\n        }\n        this.element.classList.remove('e-' + this.getModuleName());\n        if (this.enableRtl) {\n            this.wrapper.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([this.wrapper], this.cssClass.split(' '));\n        }\n    };\n    SplitButton.prototype.createPrimaryButton = function () {\n        var btnModel = {\n            cssClass: this.cssClass,\n            enableRtl: this.enableRtl,\n            iconCss: this.iconCss,\n            iconPosition: this.iconPosition,\n            content: this.content,\n            disabled: this.disabled\n        };\n        this.primaryBtnObj = new Button(btnModel);\n        this.primaryBtnObj.createElement = this.createElement;\n        this.primaryBtnObj.appendTo(this.element);\n        this.element.classList.add('e-' + this.getModuleName());\n        this.element.type = 'button';\n        this.wrapper.appendChild(this.element);\n    };\n    SplitButton.prototype.createSecondaryButton = function () {\n        var _this = this;\n        var dropDownBtnModel;\n        var btnElem;\n        btnElem = this.createElement('button', {\n            className: 'e-icon-btn',\n            attrs: { 'tabindex': '-1' },\n            id: this.element.id + '_dropdownbtn'\n        });\n        this.wrapper.appendChild(btnElem);\n        dropDownBtnModel = {\n            cssClass: this.cssClass,\n            disabled: this.disabled,\n            enableRtl: this.enableRtl,\n            items: this.items,\n            target: this.target,\n        };\n        dropDownBtnModel.beforeItemRender = function (args) {\n            _this.trigger('beforeItemRender', args);\n        };\n        dropDownBtnModel.open = function (args) {\n            _this.trigger('open', args);\n        };\n        dropDownBtnModel.close = function (args) {\n            _this.trigger('close', args);\n        };\n        dropDownBtnModel.select = function (args) {\n            _this.trigger('select', args);\n        };\n        dropDownBtnModel.beforeOpen = function (args) {\n            var callBackPromise = new Deferred();\n            _this.trigger('beforeOpen', args, function (observedArgs) {\n                callBackPromise.resolve(observedArgs);\n            });\n            return callBackPromise;\n        };\n        dropDownBtnModel.beforeClose = function (args) {\n            var callBackPromise = new Deferred();\n            _this.trigger('beforeClose', args, function (observedArgs) {\n                callBackPromise.resolve(observedArgs);\n            });\n            return callBackPromise;\n        };\n        this.secondaryBtnObj = new DropDownButton(dropDownBtnModel);\n        this.secondaryBtnObj.createElement = this.createElement;\n        this.secondaryBtnObj.appendTo(btnElem);\n        this.secondaryBtnObj.dropDown.relateTo = this.wrapper;\n        this.dropDown = this.secondaryBtnObj.dropDown;\n        this.secondaryBtnObj.activeElem = [this.element, this.secondaryBtnObj.element];\n        EventHandler.remove(this.getPopUpElement(), 'keydown', this.secondaryBtnObj.keyBoardHandler);\n        this.secondaryBtnObj.element.querySelector('.e-btn-icon').classList.remove('e-icon-right');\n    };\n    SplitButton.prototype.setAria = function () {\n        attributes(this.element, {\n            'aria-expanded': 'false', 'aria-haspopup': 'true',\n            'aria-label': this.element.textContent + ' splitbutton', 'aria-owns': this.secondaryBtnObj.dropDown.element.id\n        });\n    };\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    SplitButton.prototype.getModuleName = function () {\n        return 'split-btn';\n    };\n    /**\n     * To open/close SplitButton popup based on current state of the SplitButton.\n     * @returns void\n     */\n    SplitButton.prototype.toggle = function () {\n        this.secondaryBtnObj.toggle();\n    };\n    SplitButton.prototype.destroy = function () {\n        var _this = this;\n        var classList = [RTL];\n        var element = document.getElementById(this.element.id);\n        if (this.cssClass) {\n            classList = classList.concat(this.cssClass.split(' '));\n        }\n        if (element && element.parentElement === this.wrapper) {\n            if (this.wrapper.tagName === TAGNAME) {\n                this.wrapper.innerHTML = '';\n                removeClass([this.wrapper], ['e-rtl', 'e-' + this.getModuleName() + '-wrapper']);\n                removeClass([this.wrapper], this.cssClass.split(' '));\n            }\n            else {\n                removeClass([this.element], classList);\n                ['aria-label', 'aria-haspopup', 'aria-expanded',\n                    'aria-owns', 'type'].forEach(function (key) {\n                    _this.element.removeAttribute(key);\n                });\n                this.wrapper.parentNode.insertBefore(this.element, this.wrapper);\n                remove(this.wrapper);\n            }\n            this.unWireEvents();\n        }\n        this.primaryBtnObj.destroy();\n        this.secondaryBtnObj.destroy();\n        _super.prototype.destroy.call(this);\n        if (!this.element.getAttribute('class')) {\n            this.element.removeAttribute('class');\n        }\n    };\n    SplitButton.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.primaryBtnClickHandler, this);\n        EventHandler.add(this.getPopUpElement(), 'keydown', this.keyBoardHandler, this);\n        new KeyboardEvents(this.element, {\n            keyAction: this.btnKeyBoardHandler.bind(this),\n            keyConfigs: {\n                altdownarrow: 'alt+downarrow'\n            }\n        });\n    };\n    SplitButton.prototype.unWireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.primaryBtnClickHandler);\n        getInstance(this.element, KeyboardEvents).destroy();\n    };\n    SplitButton.prototype.primaryBtnClickHandler = function () {\n        this.trigger('click', { element: this.element });\n    };\n    SplitButton.prototype.btnKeyBoardHandler = function (e) {\n        switch (e.action) {\n            case 'altdownarrow':\n                this.clickHandler(e);\n                break;\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {SplitButtonModel} newProp\n     * @param  {SplitButtonModel} oldProp\n     * @returns void\n     */\n    SplitButton.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var model = ['content', 'iconCss', 'iconPosition', 'cssClass', 'disabled', 'enableRtl'];\n        this.primaryBtnObj.setProperties(getModel(newProp, model));\n        model = ['beforeOpen', 'beforeItemRender', 'select', 'open',\n            'close', 'cssClass', 'disabled', 'enableRtl'];\n        if (Object.keys(newProp).indexOf('items') > -1) {\n            this.secondaryBtnObj.items = newProp.items;\n            this.secondaryBtnObj.dataBind();\n        }\n        this.secondaryBtnObj.setProperties(getModel(newProp, model));\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.wrapper], oldProp.cssClass.split(' '));\n                    }\n                    addClass([this.wrapper], newProp.cssClass.split(' '));\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        addClass([this.wrapper], RTL);\n                    }\n                    else {\n                        removeClass([this.wrapper], RTL);\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Sets the focus to SplitButton\n     * its native method\n     * @public\n     */\n    SplitButton.prototype.focusIn = function () {\n        this.element.focus();\n    };\n    __decorate([\n        Property('')\n    ], SplitButton.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], SplitButton.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], SplitButton.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], SplitButton.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('Left')\n    ], SplitButton.prototype, \"iconPosition\", void 0);\n    __decorate([\n        Collection([], Item)\n    ], SplitButton.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], SplitButton.prototype, \"target\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"click\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"created\", void 0);\n    SplitButton = __decorate([\n        NotifyPropertyChanges\n    ], SplitButton);\n    return SplitButton;\n}(DropDownButton));\nexport { SplitButton };\n/**\n * Deferred is used to handle asynchronous operation.\n */\nvar Deferred = /** @class */ (function () {\n    function Deferred() {\n        var _this = this;\n        /**\n         * Promise is an object that represents a value that may not be available yet, but will be resolved at some point in the future.\n         */\n        this.promise = new Promise(function (resolve, reject) {\n            _this.resolve = resolve;\n            _this.reject = reject;\n        });\n        /**\n         * Defines the callback function triggers when the Deferred object is rejected.\n         */\n        this.catch = this.promise.catch.bind(this.promise);\n        /**\n         * Defines the callback function triggers when the Deferred object is resolved.\n         */\n        this.then = this.promise.then.bind(this.promise);\n    }\n    return Deferred;\n}());\nexport { Deferred };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, ChildProperty, Event, append, compile, isBlazor } from '@syncfusion/ej2-base';\nimport { EventHandler, Touch, Browser, Animation as PopupAnimation } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, getUniqueID, formatUnit } from '@syncfusion/ej2-base';\nimport { attributes, closest, removeClass, addClass, remove, updateBlazorTemplate, resetBlazorTemplate } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, Complex, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { Popup } from '../popup/popup';\nimport { calculatePosition } from '../common/position';\nimport { isCollide, fit } from '../common/collision';\nvar TOUCHEND_HIDE_DELAY = 1500;\nvar TAPHOLD_THRESHOLD = 500;\nvar SHOW_POINTER_TIP_GAP = 0;\nvar HIDE_POINTER_TIP_GAP = 8;\nvar MOUSE_TRAIL_GAP = 2;\nvar POINTER_ADJUST = 2;\nvar ROOT = 'e-tooltip';\nvar RTL = 'e-rtl';\nvar DEVICE = 'e-bigger';\nvar ICON = 'e-icons';\nvar CLOSE = 'e-tooltip-close';\nvar TOOLTIP_WRAP = 'e-tooltip-wrap';\nvar CONTENT = 'e-tip-content';\nvar ARROW_TIP = 'e-arrow-tip';\nvar ARROW_TIP_OUTER = 'e-arrow-tip-outer';\nvar ARROW_TIP_INNER = 'e-arrow-tip-inner';\nvar TIP_BOTTOM = 'e-tip-bottom';\nvar TIP_TOP = 'e-tip-top';\nvar TIP_LEFT = 'e-tip-left';\nvar TIP_RIGHT = 'e-tip-right';\nvar POPUP_ROOT = 'e-popup';\nvar POPUP_OPEN = 'e-popup-open';\nvar POPUP_CLOSE = 'e-popup-close';\nvar POPUP_LIB = 'e-lib';\nvar HIDE_POPUP = 'e-hidden';\nvar Animation = /** @class */ (function (_super) {\n    __extends(Animation, _super);\n    function Animation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property({ effect: 'FadeIn', duration: 150, delay: 0 })\n    ], Animation.prototype, \"open\", void 0);\n    __decorate([\n        Property({ effect: 'FadeOut', duration: 150, delay: 0 })\n    ], Animation.prototype, \"close\", void 0);\n    return Animation;\n}(ChildProperty));\nexport { Animation };\n/**\n * Represents the Tooltip component that displays a piece of information about the target element on mouse hover.\n * ```html\n * <div id=\"tooltip\">Show Tooltip</div>\n * ```\n * ```typescript\n * <script>\n *   var tooltipObj = new Tooltip({ content: 'Tooltip text' });\n *   tooltipObj.appendTo(\"#tooltip\");\n * </script>\n * ```\n */\nvar Tooltip = /** @class */ (function (_super) {\n    __extends(Tooltip, _super);\n    /**\n     * Constructor for creating the Tooltip Component\n     */\n    function Tooltip(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isBlazorTooltip = false;\n        _this.contentTargetValue = null;\n        _this.contentEvent = null;\n        _this.contentAnimation = null;\n        return _this;\n    }\n    Tooltip.prototype.initialize = function () {\n        this.formatPosition();\n        if (!(this.isServerRender())) {\n            addClass([this.element], ROOT);\n        }\n    };\n    Tooltip.prototype.isServerRender = function () {\n        return isBlazor() && this.isServerRendered;\n    };\n    Tooltip.prototype.formatPosition = function () {\n        var _a, _b;\n        if (this.position.indexOf('Top') === 0 || this.position.indexOf('Bottom') === 0) {\n            _a = this.position.split(/(?=[A-Z])/), this.tooltipPositionY = _a[0], this.tooltipPositionX = _a[1];\n        }\n        else {\n            _b = this.position.split(/(?=[A-Z])/), this.tooltipPositionX = _b[0], this.tooltipPositionY = _b[1];\n        }\n    };\n    Tooltip.prototype.renderArrow = function () {\n        this.setTipClass(this.position);\n        if (!(this.isServerRender())) {\n            var tip = this.createElement('div', { className: ARROW_TIP + ' ' + this.tipClass });\n            tip.appendChild(this.createElement('div', { className: ARROW_TIP_OUTER + ' ' + this.tipClass }));\n            tip.appendChild(this.createElement('div', { className: ARROW_TIP_INNER + ' ' + this.tipClass }));\n            this.tooltipEle.appendChild(tip);\n        }\n        else {\n            var tip = this.tooltipEle.querySelector('.' + ARROW_TIP);\n            addClass([tip.querySelector('.' + ARROW_TIP_OUTER)], this.tipClass);\n            addClass([tip.querySelector('.' + ARROW_TIP_INNER)], this.tipClass);\n            this.tooltipEle.appendChild(tip);\n        }\n    };\n    Tooltip.prototype.setTipClass = function (position) {\n        if (position.indexOf('Right') === 0) {\n            this.tipClass = TIP_LEFT;\n        }\n        else if (position.indexOf('Bottom') === 0) {\n            this.tipClass = TIP_TOP;\n        }\n        else if (position.indexOf('Left') === 0) {\n            this.tipClass = TIP_RIGHT;\n        }\n        else {\n            this.tipClass = TIP_BOTTOM;\n        }\n    };\n    Tooltip.prototype.renderPopup = function (target) {\n        var elePos = this.mouseTrail ? { top: 0, left: 0 } : this.getTooltipPosition(target);\n        this.tooltipEle.classList.remove(POPUP_LIB);\n        this.popupObj = new Popup(this.tooltipEle, {\n            height: this.height,\n            width: this.width,\n            position: { X: elePos.left, Y: elePos.top },\n            enableRtl: this.enableRtl,\n            open: this.openPopupHandler.bind(this),\n            close: this.closePopupHandler.bind(this)\n        });\n    };\n    Tooltip.prototype.getTooltipPosition = function (target) {\n        this.tooltipEle.style.display = 'block';\n        var pos = calculatePosition(target, this.tooltipPositionX, this.tooltipPositionY);\n        var offsetPos = this.calculateTooltipOffset(this.position);\n        var elePos = this.collisionFlipFit(target, pos.left + offsetPos.left, pos.top + offsetPos.top);\n        this.tooltipEle.style.display = '';\n        return elePos;\n    };\n    Tooltip.prototype.reposition = function (target) {\n        var elePos = this.getTooltipPosition(target);\n        this.popupObj.position = { X: elePos.left, Y: elePos.top };\n        this.popupObj.dataBind();\n    };\n    Tooltip.prototype.openPopupHandler = function () {\n        if (!this.mouseTrail && this.needTemplateReposition()) {\n            this.reposition(this.findTarget());\n        }\n        this.trigger('afterOpen', this.tooltipEventArgs);\n    };\n    Tooltip.prototype.closePopupHandler = function () {\n        resetBlazorTemplate(this.element.id + 'content', 'Content');\n        this.clear();\n        this.trigger('afterClose', this.tooltipEventArgs);\n    };\n    Tooltip.prototype.calculateTooltipOffset = function (position) {\n        var pos = { top: 0, left: 0 };\n        var tooltipEleWidth = this.tooltipEle.offsetWidth;\n        var tooltipEleHeight = this.tooltipEle.offsetHeight;\n        var arrowEle = this.tooltipEle.querySelector('.' + ARROW_TIP);\n        var tipWidth = arrowEle ? arrowEle.offsetWidth : 0;\n        var tipHeight = arrowEle ? arrowEle.offsetHeight : 0;\n        var tipAdjust = (this.showTipPointer ? SHOW_POINTER_TIP_GAP : HIDE_POINTER_TIP_GAP);\n        var tipHeightAdjust = (tipHeight / 2) + POINTER_ADJUST + (this.tooltipEle.offsetHeight - this.tooltipEle.clientHeight);\n        var tipWidthAdjust = (tipWidth / 2) + POINTER_ADJUST + (this.tooltipEle.offsetWidth - this.tooltipEle.clientWidth);\n        if (this.mouseTrail) {\n            tipAdjust += MOUSE_TRAIL_GAP;\n        }\n        switch (position) {\n            case 'RightTop':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= tooltipEleHeight - tipHeightAdjust;\n                break;\n            case 'RightCenter':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= (tooltipEleHeight / 2);\n                break;\n            case 'RightBottom':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= (tipHeightAdjust);\n                break;\n            case 'BottomRight':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tipWidthAdjust);\n                break;\n            case 'BottomCenter':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth / 2);\n                break;\n            case 'BottomLeft':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth - tipWidthAdjust);\n                break;\n            case 'LeftBottom':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tipHeightAdjust);\n                break;\n            case 'LeftCenter':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tooltipEleHeight / 2);\n                break;\n            case 'LeftTop':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tooltipEleHeight - tipHeightAdjust);\n                break;\n            case 'TopLeft':\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth - tipWidthAdjust);\n                break;\n            case 'TopRight':\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tipWidthAdjust);\n                break;\n            default:\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth / 2);\n                break;\n        }\n        pos.left += this.offsetX;\n        pos.top += this.offsetY;\n        return pos;\n    };\n    Tooltip.prototype.updateTipPosition = function (position) {\n        var selEle = this.tooltipEle.querySelectorAll('.' + ARROW_TIP + ',.' + ARROW_TIP_OUTER + ',.' + ARROW_TIP_INNER);\n        var removeList = [TIP_BOTTOM, TIP_TOP, TIP_LEFT, TIP_RIGHT];\n        removeClass(selEle, removeList);\n        this.setTipClass(position);\n        addClass(selEle, this.tipClass);\n    };\n    Tooltip.prototype.adjustArrow = function (target, position, tooltipPositionX, tooltipPositionY) {\n        if (this.showTipPointer === false) {\n            return;\n        }\n        this.updateTipPosition(position);\n        var leftValue;\n        var topValue;\n        this.tooltipEle.style.display = 'block';\n        var tooltipWidth = this.tooltipEle.clientWidth;\n        var tooltipHeight = this.tooltipEle.clientHeight;\n        var arrowEle = this.tooltipEle.querySelector('.' + ARROW_TIP);\n        var arrowInnerELe = this.tooltipEle.querySelector('.' + ARROW_TIP_INNER);\n        var tipWidth = arrowEle.offsetWidth;\n        var tipHeight = arrowEle.offsetHeight;\n        this.tooltipEle.style.display = '';\n        if (this.tipClass === TIP_BOTTOM || this.tipClass === TIP_TOP) {\n            if (this.tipClass === TIP_BOTTOM) {\n                topValue = '99.9%';\n                // Arrow icon aligned -2px height from ArrowOuterTip div\n                arrowInnerELe.style.top = '-' + (tipHeight - 2) + 'px';\n            }\n            else {\n                topValue = -(tipHeight - 1) + 'px';\n                // Arrow icon aligned -6px height from ArrowOuterTip div\n                arrowInnerELe.style.top = '-' + (tipHeight - 6) + 'px';\n            }\n            if (target) {\n                var tipPosExclude = tooltipPositionX !== 'Center' || (tooltipWidth > target.offsetWidth) || this.mouseTrail;\n                if ((tipPosExclude && tooltipPositionX === 'Left') || (!tipPosExclude && this.tipPointerPosition === 'End')) {\n                    leftValue = (tooltipWidth - tipWidth - POINTER_ADJUST) + 'px';\n                }\n                else if ((tipPosExclude && tooltipPositionX === 'Right') || (!tipPosExclude && this.tipPointerPosition === 'Start')) {\n                    leftValue = POINTER_ADJUST + 'px';\n                }\n                else {\n                    leftValue = ((tooltipWidth / 2) - (tipWidth / 2)) + 'px';\n                }\n            }\n        }\n        else {\n            if (this.tipClass === TIP_RIGHT) {\n                leftValue = '99.9%';\n                // Arrow icon aligned -2px left from ArrowOuterTip div\n                arrowInnerELe.style.left = '-' + (tipWidth - 2) + 'px';\n            }\n            else {\n                leftValue = -(tipWidth - 1) + 'px';\n                // Arrow icon aligned -2px from ArrowOuterTip width\n                arrowInnerELe.style.left = (-(tipWidth) + (tipWidth - 2)) + 'px';\n            }\n            var tipPosExclude = tooltipPositionY !== 'Center' || (tooltipHeight > target.offsetHeight) || this.mouseTrail;\n            if ((tipPosExclude && tooltipPositionY === 'Top') || (!tipPosExclude && this.tipPointerPosition === 'End')) {\n                topValue = (tooltipHeight - tipHeight - POINTER_ADJUST) + 'px';\n            }\n            else if ((tipPosExclude && tooltipPositionY === 'Bottom') || (!tipPosExclude && this.tipPointerPosition === 'Start')) {\n                topValue = POINTER_ADJUST + 'px';\n            }\n            else {\n                topValue = ((tooltipHeight / 2) - (tipHeight / 2)) + 'px';\n            }\n        }\n        arrowEle.style.top = topValue;\n        arrowEle.style.left = leftValue;\n    };\n    Tooltip.prototype.renderContent = function (target) {\n        var tooltipContent = this.tooltipEle.querySelector('.' + CONTENT);\n        if (this.cssClass) {\n            addClass([this.tooltipEle], this.cssClass.split(' '));\n        }\n        if (target && !isNullOrUndefined(target.getAttribute('title'))) {\n            target.setAttribute('data-content', target.getAttribute('title'));\n            target.removeAttribute('title');\n        }\n        if (!isNullOrUndefined(this.content)) {\n            if (this.isBlazorTooltip || !(this.isServerRender())) {\n                tooltipContent.innerHTML = '';\n                if (this.content instanceof HTMLElement) {\n                    tooltipContent.appendChild(this.content);\n                }\n                else if (typeof this.content === 'string' && this.content.indexOf('<div>Blazor') < 0) {\n                    if (this.enableHtmlSanitizer) {\n                        this.setProperties({ content: SanitizeHtmlHelper.sanitize(this.content) }, true);\n                    }\n                    tooltipContent.innerHTML = this.content;\n                }\n                else {\n                    var templateFunction = compile(this.content);\n                    append(templateFunction({}, null, null, this.element.id + 'content'), tooltipContent);\n                    if (typeof this.content === 'string' && this.content.indexOf('<div>Blazor') >= 0) {\n                        this.isBlazorTemplate = true;\n                        updateBlazorTemplate(this.element.id + 'content', 'Content', this);\n                    }\n                }\n            }\n        }\n        else {\n            if (target && !isNullOrUndefined(target.getAttribute('data-content'))) {\n                tooltipContent.innerHTML = target.getAttribute('data-content');\n            }\n        }\n    };\n    Tooltip.prototype.renderCloseIcon = function () {\n        if (!this.isSticky) {\n            return;\n        }\n        var tipClose = this.createElement('div', { className: ICON + ' ' + CLOSE });\n        this.tooltipEle.appendChild(tipClose);\n        EventHandler.add(tipClose, Browser.touchStartEvent, this.onStickyClose, this);\n    };\n    Tooltip.prototype.addDescribedBy = function (target, id) {\n        var describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n        if (describedby.indexOf(id) < 0) {\n            describedby.push(id);\n        }\n        attributes(target, { 'aria-describedby': describedby.join(' ').trim(), 'data-tooltip-id': id });\n    };\n    Tooltip.prototype.removeDescribedBy = function (target) {\n        var id = target.getAttribute('data-tooltip-id');\n        var describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n        var index = describedby.indexOf(id);\n        if (index !== -1) {\n            describedby.splice(index, 1);\n        }\n        target.removeAttribute('data-tooltip-id');\n        var orgdescribedby = describedby.join(' ').trim();\n        if (orgdescribedby) {\n            target.setAttribute('aria-describedby', orgdescribedby);\n        }\n        else {\n            target.removeAttribute('aria-describedby');\n        }\n    };\n    Tooltip.prototype.tapHoldHandler = function (evt) {\n        clearTimeout(this.autoCloseTimer);\n        this.targetHover(evt.originalEvent);\n    };\n    Tooltip.prototype.touchEndHandler = function (e) {\n        var _this = this;\n        if (this.isSticky) {\n            return;\n        }\n        var close = function () {\n            _this.close();\n        };\n        this.autoCloseTimer = setTimeout(close, TOUCHEND_HIDE_DELAY);\n    };\n    Tooltip.prototype.targetClick = function (e) {\n        var target;\n        if (this.target) {\n            target = closest(e.target, this.target);\n        }\n        else {\n            target = this.element;\n        }\n        if (isNullOrUndefined(target)) {\n            return;\n        }\n        if (target.getAttribute('data-tooltip-id') === null) {\n            this.targetHover(e);\n        }\n        else if (!this.isSticky) {\n            this.hideTooltip(this.animation.close, e, target);\n        }\n    };\n    Tooltip.prototype.targetHover = function (e) {\n        var target;\n        if (this.target) {\n            target = closest(e.target, this.target);\n        }\n        else {\n            target = this.element;\n        }\n        if (isNullOrUndefined(target) || target.getAttribute('data-tooltip-id') !== null) {\n            return;\n        }\n        var targetList = [].slice.call(document.querySelectorAll('[data-tooltip-id= ' + this.ctrlId + '_content]'));\n        for (var _i = 0, targetList_1 = targetList; _i < targetList_1.length; _i++) {\n            var target_1 = targetList_1[_i];\n            this.restoreElement(target_1);\n        }\n        this.showTooltip(target, this.animation.open, e);\n    };\n    Tooltip.prototype.showTooltip = function (target, showAnimation, e) {\n        var _this = this;\n        clearTimeout(this.showTimer);\n        clearTimeout(this.hideTimer);\n        this.tooltipEventArgs = {\n            type: e ? e.type : null, cancel: false, target: target, event: e ? e : null,\n            element: this.tooltipEle, isInteracted: !isNullOrUndefined(e)\n        };\n        var observeCallback = function (beforeRenderArgs) {\n            _this.beforeRenderCallback(beforeRenderArgs, target, e, showAnimation);\n        };\n        this.trigger('beforeRender', this.tooltipEventArgs, observeCallback.bind(this));\n    };\n    Tooltip.prototype.beforeRenderCallback = function (beforeRenderArgs, target, e, showAnimation) {\n        var isBlazorTooltipRendered = false;\n        if (beforeRenderArgs.cancel) {\n            this.isHidden = true;\n            this.clear();\n        }\n        else {\n            this.isHidden = false;\n            if (isNullOrUndefined(this.tooltipEle)) {\n                if (this.isServerRender()) {\n                    this.contentTargetValue = target;\n                    this.contentEvent = e;\n                    this.contentAnimation = showAnimation;\n                    var args = { 'enableTooltip': 'true' };\n                    // tslint:disable\n                    this.interopAdaptor.invokeMethodAsync('OnTooltipServerCall', args);\n                    // tslint:enable\n                    isBlazorTooltipRendered = true;\n                }\n                else {\n                    this.ctrlId = this.element.getAttribute('id') ?\n                        getUniqueID(this.element.getAttribute('id')) : getUniqueID('tooltip');\n                    this.tooltipEle = this.createElement('div', {\n                        className: TOOLTIP_WRAP + ' ' + POPUP_ROOT + ' ' + POPUP_LIB, attrs: {\n                            role: 'tooltip', 'aria-hidden': 'false', 'id': this.ctrlId + '_content'\n                        }, styles: 'width:' +\n                            formatUnit(this.width) + ';height:' + formatUnit(this.height) + ';position:absolute;'\n                    });\n                    this.beforeRenderBlazor(target, this);\n                }\n                if (!isBlazorTooltipRendered) {\n                    this.afterRenderBlazor(target, e, showAnimation, this);\n                }\n            }\n            else {\n                if (this.isServerRender()) {\n                    addClass([this.tooltipEle], POPUP_OPEN);\n                    document.body.appendChild(this.tooltipEle);\n                    this.renderCloseIcon();\n                    this.renderPopup(target);\n                }\n                if (target) {\n                    this.adjustArrow(target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n                    this.addDescribedBy(target, this.ctrlId + '_content');\n                    this.renderContent(target);\n                    PopupAnimation.stop(this.tooltipEle);\n                    this.reposition(target);\n                    this.afterRenderBlazor(target, e, showAnimation, this);\n                }\n            }\n        }\n    };\n    ;\n    Tooltip.prototype.contentUpdated = function (args) {\n        if (isNullOrUndefined(this.tooltipEle)) {\n            if (this.isServerRender()) {\n                this.ctrlId = this.element.id;\n                this.tooltipEle = document.querySelector('#' + this.ctrlId + '_content');\n                if (this.tooltipEle) {\n                    this.tooltipEle.setAttribute('style', 'width:' + formatUnit(this.width) +\n                        ';height:' + formatUnit(this.height) + ';position:absolute;');\n                    this.beforeRenderBlazor(this.contentTargetValue, this);\n                    this.afterRenderBlazor(this.contentTargetValue, this.contentEvent, this.contentAnimation, this);\n                    this.contentTargetValue = this.contentEvent = this.contentAnimation = null;\n                }\n            }\n        }\n    };\n    ;\n    Tooltip.prototype.beforeRenderBlazor = function (target, ctrlObj) {\n        if (target) {\n            if (Browser.isDevice) {\n                addClass([ctrlObj.tooltipEle], DEVICE);\n            }\n            if (ctrlObj.width !== 'auto') {\n                ctrlObj.tooltipEle.style.maxWidth = formatUnit(ctrlObj.width);\n            }\n            if (!(this.isServerRender())) {\n                ctrlObj.tooltipEle.appendChild(ctrlObj.createElement('div', { className: CONTENT }));\n            }\n            document.body.appendChild(ctrlObj.tooltipEle);\n            removeClass([ctrlObj.tooltipEle], HIDE_POPUP);\n            ctrlObj.addDescribedBy(target, ctrlObj.ctrlId + '_content');\n            ctrlObj.renderContent(target);\n            addClass([ctrlObj.tooltipEle], POPUP_OPEN);\n            if (ctrlObj.showTipPointer) {\n                ctrlObj.renderArrow();\n            }\n            ctrlObj.renderCloseIcon();\n            ctrlObj.renderPopup(target);\n            ctrlObj.adjustArrow(target, ctrlObj.position, ctrlObj.tooltipPositionX, ctrlObj.tooltipPositionY);\n            PopupAnimation.stop(ctrlObj.tooltipEle);\n            ctrlObj.reposition(target);\n        }\n    };\n    Tooltip.prototype.afterRenderBlazor = function (target, e, showAnimation, ctrlObj) {\n        if (target) {\n            removeClass([ctrlObj.tooltipEle], POPUP_OPEN);\n            addClass([ctrlObj.tooltipEle], POPUP_CLOSE);\n            ctrlObj.tooltipEventArgs = {\n                type: e ? e.type : null, cancel: false, target: target, event: e ? e : null,\n                element: ctrlObj.tooltipEle, isInteracted: !isNullOrUndefined(e)\n            };\n            if (ctrlObj.needTemplateReposition() && !ctrlObj.mouseTrail) {\n                ctrlObj.tooltipEle.style.display = 'none';\n            }\n            var observeCallback = function (observedArgs) {\n                ctrlObj.beforeOpenCallback(observedArgs, target, showAnimation, e);\n            };\n            ctrlObj.trigger('beforeOpen', ctrlObj.tooltipEventArgs, observeCallback.bind(ctrlObj));\n        }\n    };\n    Tooltip.prototype.beforeOpenCallback = function (observedArgs, target, showAnimation, e) {\n        var _this = this;\n        if (observedArgs.cancel) {\n            this.isHidden = true;\n            this.clear();\n            this.restoreElement(target);\n        }\n        else {\n            var openAnimation_1 = {\n                name: showAnimation.effect,\n                duration: showAnimation.duration,\n                delay: showAnimation.delay,\n                timingFunction: 'easeOut'\n            };\n            if (showAnimation.effect === 'None') {\n                openAnimation_1 = undefined;\n            }\n            if (this.openDelay > 0) {\n                var show = function () {\n                    if (_this.popupObj) {\n                        _this.popupObj.show(openAnimation_1, target);\n                    }\n                };\n                this.showTimer = setTimeout(show, this.openDelay);\n            }\n            else {\n                if (this.popupObj) {\n                    this.popupObj.show(openAnimation_1, target);\n                }\n            }\n        }\n        if (e) {\n            this.wireMouseEvents(e, target);\n        }\n    };\n    Tooltip.prototype.needTemplateReposition = function () {\n        // tslint:disable-next-line:no-any\n        var tooltip = this;\n        return !isNullOrUndefined(tooltip.viewContainerRef)\n            && typeof tooltip.viewContainerRef !== 'string'\n            || (this.isServerRender()) && this.isBlazorTemplate;\n    };\n    Tooltip.prototype.checkCollision = function (target, x, y) {\n        var elePos = {\n            left: x, top: y, position: this.position,\n            horizontal: this.tooltipPositionX, vertical: this.tooltipPositionY\n        };\n        var affectedPos = isCollide(this.tooltipEle, (this.target ? this.element : null), x, y);\n        if (affectedPos.length > 0) {\n            elePos.horizontal = affectedPos.indexOf('left') >= 0 ? 'Right' : affectedPos.indexOf('right') >= 0 ? 'Left' :\n                this.tooltipPositionX;\n            elePos.vertical = affectedPos.indexOf('top') >= 0 ? 'Bottom' : affectedPos.indexOf('bottom') >= 0 ? 'Top' :\n                this.tooltipPositionY;\n        }\n        return elePos;\n    };\n    Tooltip.prototype.collisionFlipFit = function (target, x, y) {\n        var elePos = this.checkCollision(target, x, y);\n        var newpos = elePos.position;\n        if (this.tooltipPositionY !== elePos.vertical) {\n            newpos = ((this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0) ?\n                elePos.vertical + this.tooltipPositionX : this.tooltipPositionX + elePos.vertical);\n        }\n        if (this.tooltipPositionX !== elePos.horizontal) {\n            if (newpos.indexOf('Left') === 0) {\n                elePos.vertical = (newpos === 'LeftTop' || newpos === 'LeftCenter') ? 'Top' : 'Bottom';\n                newpos = (elePos.vertical + 'Left');\n            }\n            if (newpos.indexOf('Right') === 0) {\n                elePos.vertical = (newpos === 'RightTop' || newpos === 'RightCenter') ? 'Top' : 'Bottom';\n                newpos = (elePos.vertical + 'Right');\n            }\n            elePos.horizontal = this.tooltipPositionX;\n        }\n        this.tooltipEventArgs = {\n            type: null, cancel: false, target: target, event: null,\n            element: this.tooltipEle, collidedPosition: newpos\n        };\n        this.trigger('beforeCollision', this.tooltipEventArgs);\n        if (elePos.position !== newpos) {\n            var pos = calculatePosition(target, elePos.horizontal, elePos.vertical);\n            this.adjustArrow(target, newpos, elePos.horizontal, elePos.vertical);\n            var offsetPos = this.calculateTooltipOffset(newpos);\n            offsetPos.top -= (('TopBottom'.indexOf(this.position.split(/(?=[A-Z])/)[0]) !== -1) &&\n                ('TopBottom'.indexOf(newpos.split(/(?=[A-Z])/)[0]) !== -1)) ? (2 * this.offsetY) : 0;\n            offsetPos.left -= (('RightLeft'.indexOf(this.position.split(/(?=[A-Z])/)[0]) !== -1) &&\n                ('RightLeft'.indexOf(newpos.split(/(?=[A-Z])/)[0]) !== -1)) ? (2 * this.offsetX) : 0;\n            elePos.position = newpos;\n            elePos.left = pos.left + offsetPos.left;\n            elePos.top = pos.top + offsetPos.top;\n        }\n        else {\n            this.adjustArrow(target, newpos, elePos.horizontal, elePos.vertical);\n        }\n        var eleOffset = { left: elePos.left, top: elePos.top };\n        var left = fit(this.tooltipEle, (this.target ? this.element : null), { X: true, Y: false }, eleOffset).left;\n        this.tooltipEle.style.display = 'block';\n        if (this.showTipPointer && (newpos.indexOf('Bottom') === 0 || newpos.indexOf('Top') === 0)) {\n            var arrowEle = this.tooltipEle.querySelector('.' + ARROW_TIP);\n            var arrowleft = parseInt(arrowEle.style.left, 10) - (left - elePos.left);\n            if (arrowleft < 0) {\n                arrowleft = 0;\n            }\n            else if ((arrowleft + arrowEle.offsetWidth) > this.tooltipEle.clientWidth) {\n                arrowleft = this.tooltipEle.clientWidth - arrowEle.offsetWidth;\n            }\n            arrowEle.style.left = arrowleft.toString() + 'px';\n        }\n        this.tooltipEle.style.display = '';\n        eleOffset.left = left;\n        return eleOffset;\n    };\n    Tooltip.prototype.hideTooltip = function (hideAnimation, e, targetElement) {\n        var _this = this;\n        var target;\n        if (e) {\n            target = this.target ? (targetElement || e.target) : this.element;\n        }\n        else {\n            target = document.querySelector('[data-tooltip-id= ' + this.ctrlId + '_content]');\n        }\n        this.tooltipEventArgs = {\n            type: e ? e.type : null, cancel: false, target: target, event: e ? e : null,\n            element: this.tooltipEle, isInteracted: !isNullOrUndefined(e)\n        };\n        // this line commented for close the tooltip popup element even the target element destroyed in a page.\n        //if (isNullOrUndefined(target)) { return; }\n        this.trigger('beforeClose', this.tooltipEventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                if (_this.isServerRender()) {\n                    _this.blazorHide(hideAnimation, target);\n                }\n                else {\n                    _this.popupHide(hideAnimation, target);\n                }\n            }\n            else {\n                _this.isHidden = false;\n            }\n        });\n    };\n    /* istanbul ignore next */\n    Tooltip.prototype.blazorHide = function (hideAnimation, target) {\n        var proxy = this;\n        var hide = function () {\n            proxy.popupHide(hideAnimation, target);\n        };\n        if (this.popupObj) {\n            this.popupHide(hideAnimation, target);\n        }\n        else {\n            setTimeout(hide, 200);\n        }\n    };\n    Tooltip.prototype.popupHide = function (hideAnimation, target) {\n        var _this = this;\n        this.clearTemplate();\n        if (target) {\n            this.restoreElement(target);\n        }\n        this.isHidden = true;\n        var closeAnimation = {\n            name: hideAnimation.effect,\n            duration: hideAnimation.duration,\n            delay: hideAnimation.delay,\n            timingFunction: 'easeIn'\n        };\n        if (hideAnimation.effect === 'None') {\n            closeAnimation = undefined;\n        }\n        if (this.closeDelay > 0) {\n            var hide = function () {\n                if (_this.popupObj) {\n                    _this.popupObj.hide(closeAnimation);\n                }\n            };\n            this.hideTimer = setTimeout(hide, this.closeDelay);\n        }\n        else {\n            if (this.popupObj) {\n                this.popupObj.hide(closeAnimation);\n            }\n        }\n    };\n    Tooltip.prototype.restoreElement = function (target) {\n        this.unwireMouseEvents(target);\n        if (!isNullOrUndefined(target.getAttribute('data-content'))) {\n            target.setAttribute('title', target.getAttribute('data-content'));\n            target.removeAttribute('data-content');\n        }\n        this.removeDescribedBy(target);\n    };\n    Tooltip.prototype.clear = function () {\n        if (this.tooltipEle) {\n            removeClass([this.tooltipEle], POPUP_CLOSE);\n            addClass([this.tooltipEle], POPUP_OPEN);\n        }\n        if (this.isHidden) {\n            if (this.popupObj) {\n                this.popupObj.destroy();\n            }\n            if (this.isServerRender() && this.tooltipEle) {\n                this.tooltipEle.style.display = 'none';\n                var args = { 'enableTooltip': 'false' };\n                // tslint:disable\n                this.interopAdaptor.invokeMethodAsync('OnTooltipServerCall', args);\n                // tslint:enable\n                remove(this.tooltipEle);\n            }\n            else if (this.tooltipEle) {\n                remove(this.tooltipEle);\n            }\n            this.tooltipEle = null;\n            this.popupObj = null;\n        }\n    };\n    Tooltip.prototype.onMouseOut = function (e) {\n        var enteredElement = e.relatedTarget;\n        // don't close the tooltip only if it is tooltip content element\n        if (enteredElement && !this.mouseTrail) {\n            var checkForTooltipElement = closest(enteredElement, \".\" + TOOLTIP_WRAP + \".\" + POPUP_LIB + \".\" + POPUP_ROOT);\n            if (checkForTooltipElement) {\n                EventHandler.add(checkForTooltipElement, 'mouseleave', this.tooltipElementMouseOut, this);\n                this.unwireMouseEvents(e.target);\n            }\n            else {\n                this.hideTooltip(this.animation.close, e, this.findTarget());\n                if (this.closeDelay === 0) {\n                    this.clear();\n                }\n            }\n        }\n        else {\n            this.hideTooltip(this.animation.close, e, this.findTarget());\n            this.clear();\n        }\n    };\n    Tooltip.prototype.tooltipElementMouseOut = function (e) {\n        this.hideTooltip(this.animation.close, e, this.findTarget());\n        EventHandler.remove(this.element, 'mouseleave', this.tooltipElementMouseOut);\n        this.clear();\n    };\n    Tooltip.prototype.onStickyClose = function (e) {\n        this.close();\n    };\n    Tooltip.prototype.onMouseMove = function (event) {\n        var eventPageX = 0;\n        var eventPageY = 0;\n        if (event.type.indexOf('touch') > -1) {\n            event.preventDefault();\n            eventPageX = event.touches[0].pageX;\n            eventPageY = event.touches[0].pageY;\n        }\n        else {\n            eventPageX = event.pageX;\n            eventPageY = event.pageY;\n        }\n        PopupAnimation.stop(this.tooltipEle);\n        removeClass([this.tooltipEle], POPUP_CLOSE);\n        addClass([this.tooltipEle], POPUP_OPEN);\n        this.adjustArrow(event.target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n        var pos = this.calculateTooltipOffset(this.position);\n        var x = eventPageX + pos.left + this.offsetX;\n        var y = eventPageY + pos.top + this.offsetY;\n        var elePos = this.checkCollision(event.target, x, y);\n        if (this.tooltipPositionX !== elePos.horizontal || this.tooltipPositionY !== elePos.vertical) {\n            var newpos = (this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0) ?\n                elePos.vertical + elePos.horizontal : elePos.horizontal + elePos.vertical;\n            elePos.position = newpos;\n            this.adjustArrow(event.target, elePos.position, elePos.horizontal, elePos.vertical);\n            var colpos = this.calculateTooltipOffset(elePos.position);\n            elePos.left = eventPageX + colpos.left - this.offsetX;\n            elePos.top = eventPageY + colpos.top - this.offsetY;\n        }\n        this.tooltipEle.style.left = elePos.left + 'px';\n        this.tooltipEle.style.top = elePos.top + 'px';\n    };\n    Tooltip.prototype.keyDown = function (event) {\n        if (this.tooltipEle && event.keyCode === 27) {\n            this.close();\n        }\n    };\n    Tooltip.prototype.touchEnd = function (e) {\n        if (this.tooltipEle && closest(e.target, '.' + ROOT) === null) {\n            this.close();\n        }\n    };\n    Tooltip.prototype.scrollHandler = function (e) {\n        if (this.tooltipEle) {\n            if (!(closest(e.target, \".\" + TOOLTIP_WRAP + \".\" + POPUP_LIB + \".\" + POPUP_ROOT))) {\n                this.close();\n            }\n        }\n    };\n    /**\n     * Core method that initializes the control rendering.\n     * @private\n     */\n    Tooltip.prototype.render = function () {\n        this.initialize();\n        this.wireEvents(this.opensOn);\n        this.renderComplete();\n    };\n    /**\n     * Initializes the values of private members.\n     * @private\n     */\n    Tooltip.prototype.preRender = function () {\n        this.tipClass = TIP_BOTTOM;\n        this.tooltipPositionX = 'Center';\n        this.tooltipPositionY = 'Top';\n        this.isHidden = true;\n    };\n    /**\n     * Binding events to the Tooltip element.\n     * @hidden\n     */\n    Tooltip.prototype.wireEvents = function (trigger) {\n        var triggerList = this.getTriggerList(trigger);\n        for (var _i = 0, triggerList_1 = triggerList; _i < triggerList_1.length; _i++) {\n            var opensOn = triggerList_1[_i];\n            if (opensOn === 'Custom') {\n                return;\n            }\n            if (opensOn === 'Focus') {\n                this.wireFocusEvents();\n            }\n            if (opensOn === 'Click') {\n                EventHandler.add(this.element, Browser.touchStartEvent, this.targetClick, this);\n            }\n            if (opensOn === 'Hover') {\n                if (Browser.isDevice) {\n                    this.touchModule = new Touch(this.element, {\n                        tapHoldThreshold: TAPHOLD_THRESHOLD,\n                        tapHold: this.tapHoldHandler.bind(this)\n                    });\n                    EventHandler.add(this.element, Browser.touchEndEvent, this.touchEndHandler, this);\n                }\n                else {\n                    EventHandler.add(this.element, 'mouseover', this.targetHover, this);\n                    if (this.isServerRender() && !this.isSticky) {\n                        EventHandler.add(this.element, 'mouseleave', this.onMouseOut, this);\n                    }\n                }\n            }\n        }\n        EventHandler.add(document, 'touchend', this.touchEnd, this);\n        EventHandler.add(document, 'scroll wheel', this.scrollHandler, this);\n        EventHandler.add(document, 'keydown', this.keyDown, this);\n    };\n    Tooltip.prototype.getTriggerList = function (trigger) {\n        if (trigger === 'Auto') {\n            trigger = (Browser.isDevice) ? 'Hover' : 'Hover Focus';\n        }\n        return trigger.split(' ');\n    };\n    Tooltip.prototype.wireFocusEvents = function () {\n        if (!isNullOrUndefined(this.target)) {\n            var targetList = [].slice.call(this.element.querySelectorAll(this.target));\n            for (var _i = 0, targetList_2 = targetList; _i < targetList_2.length; _i++) {\n                var target = targetList_2[_i];\n                EventHandler.add(target, 'focus', this.targetHover, this);\n            }\n        }\n        else {\n            EventHandler.add(this.element, 'focus', this.targetHover, this);\n        }\n    };\n    Tooltip.prototype.wireMouseEvents = function (e, target) {\n        if (this.tooltipEle) {\n            if (!this.isSticky) {\n                if (e.type === 'focus') {\n                    EventHandler.add(target, 'blur', this.onMouseOut, this);\n                }\n                if (e.type === 'mouseover') {\n                    if (!this.isServerRender()) {\n                        EventHandler.add(target, 'mouseleave', this.onMouseOut, this);\n                    }\n                }\n            }\n            if (this.mouseTrail) {\n                EventHandler.add(target, 'mousemove touchstart mouseenter', this.onMouseMove, this);\n            }\n        }\n    };\n    /**\n     * Unbinding events from the element on widget destroy.\n     * @hidden\n     */\n    Tooltip.prototype.unwireEvents = function (trigger) {\n        var triggerList = this.getTriggerList(trigger);\n        for (var _i = 0, triggerList_2 = triggerList; _i < triggerList_2.length; _i++) {\n            var opensOn = triggerList_2[_i];\n            if (opensOn === 'Custom') {\n                return;\n            }\n            if (opensOn === 'Focus') {\n                this.unwireFocusEvents();\n            }\n            if (opensOn === 'Click') {\n                EventHandler.remove(this.element, Browser.touchStartEvent, this.targetClick);\n            }\n            if (opensOn === 'Hover') {\n                if (Browser.isDevice) {\n                    if (this.touchModule) {\n                        this.touchModule.destroy();\n                    }\n                    EventHandler.remove(this.element, Browser.touchEndEvent, this.touchEndHandler);\n                }\n                else {\n                    EventHandler.remove(this.element, 'mouseover', this.targetHover);\n                    if (this.isServerRender() && !this.isSticky) {\n                        EventHandler.remove(this.element, 'mouseleave', this.onMouseOut);\n                    }\n                }\n            }\n        }\n        EventHandler.remove(document, 'touchend', this.touchEnd);\n        EventHandler.remove(document, 'scroll wheel', this.scrollHandler);\n        EventHandler.remove(document, 'keydown', this.keyDown);\n    };\n    Tooltip.prototype.unwireFocusEvents = function () {\n        if (!isNullOrUndefined(this.target)) {\n            var targetList = [].slice.call(this.element.querySelectorAll(this.target));\n            for (var _i = 0, targetList_3 = targetList; _i < targetList_3.length; _i++) {\n                var target = targetList_3[_i];\n                EventHandler.remove(target, 'focus', this.targetHover);\n            }\n        }\n        else {\n            EventHandler.remove(this.element, 'focus', this.targetHover);\n        }\n    };\n    Tooltip.prototype.unwireMouseEvents = function (target) {\n        if (!this.isSticky) {\n            var triggerList = this.getTriggerList(this.opensOn);\n            for (var _i = 0, triggerList_3 = triggerList; _i < triggerList_3.length; _i++) {\n                var opensOn = triggerList_3[_i];\n                if (opensOn === 'Focus') {\n                    EventHandler.remove(target, 'blur', this.onMouseOut);\n                }\n                if (opensOn === 'Hover' && !Browser.isDevice) {\n                    if (!this.isServerRender()) {\n                        EventHandler.remove(target, 'mouseleave', this.onMouseOut);\n                    }\n                }\n            }\n        }\n        if (this.mouseTrail) {\n            EventHandler.remove(target, 'mousemove touchstart mouseenter', this.onMouseMove);\n        }\n    };\n    Tooltip.prototype.findTarget = function () {\n        var target = document.querySelector('[data-tooltip-id= ' + this.ctrlId + '_content]');\n        return target;\n    };\n    /**\n     * Core method to return the component name.\n     * @private\n     */\n    Tooltip.prototype.getModuleName = function () {\n        return 'tooltip';\n    };\n    /**\n     * Returns the properties to be maintained in the persisted state.\n     * @private\n     */\n    Tooltip.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Called internally, if any of the property value changed.\n     * @private\n     */\n    Tooltip.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var targetElement = this.findTarget();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    if (this.tooltipEle && targetElement) {\n                        this.tooltipEle.style.width = this.tooltipEle.style.maxWidth = formatUnit(newProp.width);\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'height':\n                    if (this.tooltipEle && targetElement) {\n                        this.tooltipEle.style.height = formatUnit(newProp.height);\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'content':\n                    if (this.tooltipEle) {\n                        if (this.isServerRender()) {\n                            this.isBlazorTooltip = true;\n                        }\n                        this.renderContent();\n                    }\n                    else if (this.isServerRender()) {\n                        var args = { 'content': newProp.content };\n                        // tslint:disable\n                        this.interopAdaptor.invokeMethodAsync('OnTooltipServerCall', args);\n                        // tslint:enable\n                    }\n                    break;\n                case 'opensOn':\n                    this.unwireEvents(oldProp.opensOn);\n                    this.wireEvents(newProp.opensOn);\n                    break;\n                case 'position':\n                    this.formatPosition();\n                    if (this.tooltipEle && targetElement) {\n                        var arrowInnerELe = this.tooltipEle.querySelector('.' + ARROW_TIP_INNER);\n                        arrowInnerELe.style.top = arrowInnerELe.style.left = null;\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'tipPointerPosition':\n                    if (this.tooltipEle && targetElement) {\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'offsetX':\n                    if (this.tooltipEle) {\n                        var x = newProp.offsetX - oldProp.offsetX;\n                        this.tooltipEle.style.left = (parseInt(this.tooltipEle.style.left, 10) + (x)).toString() + 'px';\n                    }\n                    break;\n                case 'offsetY':\n                    if (this.tooltipEle) {\n                        var y = newProp.offsetY - oldProp.offsetY;\n                        this.tooltipEle.style.top = (parseInt(this.tooltipEle.style.top, 10) + (y)).toString() + 'px';\n                    }\n                    break;\n                case 'cssClass':\n                    if (this.tooltipEle) {\n                        if (oldProp.cssClass) {\n                            removeClass([this.tooltipEle], oldProp.cssClass.split(' '));\n                        }\n                        if (newProp.cssClass) {\n                            addClass([this.tooltipEle], newProp.cssClass.split(' '));\n                        }\n                    }\n                    break;\n                case 'enableRtl':\n                    if (this.tooltipEle) {\n                        if (this.enableRtl) {\n                            addClass([this.tooltipEle], RTL);\n                        }\n                        else {\n                            removeClass([this.tooltipEle], RTL);\n                        }\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * It is used to show the Tooltip on the specified target with specific animation settings.\n     * @param element Target element where the Tooltip is to be displayed. (It is an optional parameter)\n     * @param animation Sets the specific animation, while showing the Tooltip on the screen. (It is an optional parameter)\n     * @return {void}\n     */\n    Tooltip.prototype.open = function (element, animation) {\n        if (isNullOrUndefined(animation)) {\n            animation = this.animation.open;\n        }\n        if (isNullOrUndefined(element)) {\n            element = this.element;\n        }\n        if (element.style.display === 'none') {\n            return;\n        }\n        this.showTooltip(element, animation);\n    };\n    /**\n     * It is used to hide the Tooltip with specific animation effect.\n     * @param animation Sets the specific animation when hiding Tooltip from the screen. (It is an optional parameter)\n     * @return {void}\n     */\n    Tooltip.prototype.close = function (animation) {\n        if (!animation) {\n            animation = this.animation.close;\n        }\n        this.hideTooltip(animation);\n    };\n    /**\n     * It is used to refresh the Tooltip content and its position.\n     * @param target Target element where the Tooltip content or position needs to be refreshed.\n     * @return {void}\n     */\n    Tooltip.prototype.refresh = function (target) {\n        if (this.tooltipEle) {\n            this.renderContent(target);\n        }\n        if (this.popupObj && target) {\n            this.reposition(target);\n        }\n    };\n    /**\n     * It is used to destroy the Tooltip component.\n     * @method destroy\n     * @return {void}\n     * @memberof Tooltip\n     */\n    Tooltip.prototype.destroy = function () {\n        if (!this.isServerRender()) {\n            _super.prototype.destroy.call(this);\n            if (this.tooltipEle) {\n                remove(this.tooltipEle);\n            }\n        }\n        if (this.isServerRender() && this.tooltipEle) {\n            var placeholder = document.querySelector('#' + this.ctrlId + '_content_placeholder');\n            if (placeholder) {\n                placeholder.appendChild(this.tooltipEle);\n            }\n        }\n        if (this.popupObj) {\n            this.popupObj.destroy();\n        }\n        removeClass([this.element], ROOT);\n        this.unwireEvents(this.opensOn);\n        this.unwireMouseEvents(this.element);\n        this.tooltipEle = null;\n        this.popupObj = null;\n    };\n    __decorate([\n        Property('auto')\n    ], Tooltip.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Tooltip.prototype, \"height\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"content\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"target\", void 0);\n    __decorate([\n        Property('TopCenter')\n    ], Tooltip.prototype, \"position\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"offsetX\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"offsetY\", void 0);\n    __decorate([\n        Property(true)\n    ], Tooltip.prototype, \"showTipPointer\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Tooltip.prototype, \"tipPointerPosition\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Tooltip.prototype, \"opensOn\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"mouseTrail\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"isSticky\", void 0);\n    __decorate([\n        Complex({}, Animation)\n    ], Tooltip.prototype, \"animation\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"openDelay\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"closeDelay\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeRender\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"afterOpen\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"afterClose\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeCollision\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"destroyed\", void 0);\n    Tooltip = __decorate([\n        NotifyPropertyChanges\n    ], Tooltip);\n    return Tooltip;\n}(Component));\nexport { Tooltip };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event, Browser, L10n } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { attributes, addClass, removeClass, detach, closest } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, getValue, formatUnit, setValue, merge } from '@syncfusion/ej2-base';\nimport { Internationalization, getNumericObject, isBlazor } from '@syncfusion/ej2-base';\nimport { Input } from '../input/input';\nvar ROOT = 'e-control-wrapper e-numeric';\nvar SPINICON = 'e-input-group-icon';\nvar SPINUP = 'e-spin-up';\nvar SPINDOWN = 'e-spin-down';\nvar ERROR = 'e-error';\nvar INCREMENT = 'increment';\nvar DECREMENT = 'decrement';\nvar INTREGEXP = new RegExp('^(-)?(\\\\d*)$');\nvar DECIMALSEPARATOR = '.';\nvar COMPONENT = 'e-numerictextbox';\nvar CONTROL = 'e-control';\nvar NUMERIC_FOCUS = 'e-input-focus';\nvar HIDDENELEMENT = 'e-numeric-hidden';\nvar wrapperAttributes = ['title', 'style', 'class'];\n/**\n * Represents the NumericTextBox component that allows the user to enter only numeric values.\n * ```html\n * <input type='text' id=\"numeric\"/>\n * ```\n * ```typescript\n * <script>\n *   var numericObj = new NumericTextBox({ value: 10 });\n *   numericObj.appendTo(\"#numeric\");\n * </script>\n * ```\n */\nvar NumericTextBox = /** @class */ (function (_super) {\n    __extends(NumericTextBox, _super);\n    function NumericTextBox(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isVue = false;\n        _this.preventChange = false;\n        _this.numericOptions = options;\n        return _this;\n    }\n    NumericTextBox.prototype.preRender = function () {\n        this.isPrevFocused = false;\n        this.decimalSeparator = '.';\n        this.intRegExp = new RegExp('/^(-)?(\\d*)$/');\n        this.isCalled = false;\n        var ejInstance = getValue('ej2_instances', this.element);\n        this.cloneElement = this.element.cloneNode(true);\n        removeClass([this.cloneElement], [CONTROL, COMPONENT, 'e-lib']);\n        this.angularTagName = null;\n        this.formEle = closest(this.element, 'form');\n        if (this.element.tagName === 'EJS-NUMERICTEXTBOX') {\n            this.angularTagName = this.element.tagName;\n            var input = this.createElement('input');\n            var index = 0;\n            for (index; index < this.element.attributes.length; index++) {\n                var attributeName = this.element.attributes[index].nodeName;\n                if (attributeName !== 'id') {\n                    input.setAttribute(this.element.attributes[index].nodeName, this.element.attributes[index].nodeValue);\n                    input.innerHTML = this.element.innerHTML;\n                }\n            }\n            if (this.element.hasAttribute('name')) {\n                this.element.removeAttribute('name');\n            }\n            this.element.classList.remove('e-control', 'e-numerictextbox');\n            this.element.appendChild(input);\n            this.element = input;\n            setValue('ej2_instances', ejInstance, this.element);\n        }\n        if (!(isBlazor() && this.isServerRendered)) {\n            attributes(this.element, { 'role': 'spinbutton', 'tabindex': '0', 'autocomplete': 'off', 'aria-live': 'assertive' });\n            var localeText = {\n                incrementTitle: 'Increment value', decrementTitle: 'Decrement value', placeholder: this.placeholder\n            };\n            this.l10n = new L10n('numerictextbox', localeText, this.locale);\n            if (this.l10n.getConstant('placeholder') !== '') {\n                this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n            }\n        }\n        this.isValidState = true;\n        this.inputStyle = null;\n        this.inputName = null;\n        this.cultureInfo = {};\n        this.initCultureInfo();\n        this.initCultureFunc();\n        this.prevValue = this.value;\n        if (!(isBlazor() && this.isServerRendered)) {\n            this.updateHTMLAttrToElement();\n            this.checkAttributes(false);\n            if (this.formEle) {\n                this.inputEleValue = this.value;\n            }\n        }\n        this.validateMinMax();\n        this.validateStep();\n        if (this.placeholder === null && !(isBlazor() && this.isServerRendered)) {\n            this.updatePlaceholder();\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    NumericTextBox.prototype.render = function () {\n        if (this.element.tagName.toLowerCase() === 'input') {\n            if (!(isBlazor() && this.isServerRendered)) {\n                this.createWrapper();\n                if (this.showSpinButton) {\n                    this.spinBtnCreation();\n                }\n                this.setElementWidth(this.width);\n                if (!this.container.classList.contains('e-input-group')) {\n                    this.container.classList.add('e-input-group');\n                }\n                this.changeValue(this.value === null || isNaN(this.value) ?\n                    null : this.strictMode ? this.trimValue(this.value) : this.value);\n            }\n            else {\n                this.container = this.element.parentElement;\n                this.inputWrapper = { container: this.container };\n                this.hiddenInput = this.container.querySelector('input[type=\"hidden\"]');\n                if (this.showClearButton) {\n                    this.inputWrapper.clearButton = this.container.querySelector('.e-clear-icon');\n                    Input.wireClearBtnEvents(this.element, this.inputWrapper.clearButton, this.inputWrapper.container);\n                }\n                if (this.showSpinButton) {\n                    this.spinDown = this.container.querySelector('.' + SPINDOWN);\n                    this.spinUp = this.container.querySelector('.' + SPINUP);\n                    this.wireSpinBtnEvents();\n                }\n                Input.bindInitialEvent({\n                    element: this.element, buttons: null, customTag: null, floatLabelType: this.floatLabelType, properties: this.properties\n                });\n            }\n            this.wireEvents();\n            if (!(isBlazor() && this.isServerRendered)) {\n                if (this.value !== null && !isNaN(this.value)) {\n                    if (this.decimals) {\n                        this.setProperties({ value: this.roundNumber(this.value, this.decimals) }, true);\n                    }\n                }\n                if (this.element.getAttribute('value') || this.value) {\n                    this.element.setAttribute('value', this.element.value);\n                    this.hiddenInput.setAttribute('value', this.hiddenInput.value);\n                }\n            }\n            this.elementPrevValue = this.element.value;\n            this.renderComplete();\n        }\n    };\n    NumericTextBox.prototype.checkAttributes = function (isDynamic) {\n        var attributes = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['value', 'min', 'max', 'step', 'disabled', 'readonly', 'style', 'name', 'placeholder'];\n        for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n            var prop = attributes_1[_i];\n            if (!isNullOrUndefined(this.element.getAttribute(prop))) {\n                switch (prop) {\n                    case 'disabled':\n                        // tslint:disable-next-line\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['enabled'] === undefined)) || isDynamic) {\n                            var enabled = this.element.getAttribute(prop) === 'disabled' || this.element.getAttribute(prop) === ''\n                                || this.element.getAttribute(prop) === 'true' ? false : true;\n                            this.setProperties({ enabled: enabled }, !isDynamic);\n                        }\n                        break;\n                    case 'readonly':\n                        // tslint:disable-next-line\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['readonly'] === undefined)) || isDynamic) {\n                            var readonly = this.element.getAttribute(prop) === 'readonly' || this.element.getAttribute(prop) === ''\n                                || this.element.getAttribute(prop) === 'true' ? true : false;\n                            this.setProperties({ readonly: readonly }, !isDynamic);\n                        }\n                        break;\n                    case 'placeholder':\n                        // tslint:disable-next-line\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['placeholder'] === undefined)) || isDynamic) {\n                            this.setProperties({ placeholder: this.element.placeholder }, !isDynamic);\n                        }\n                        break;\n                    case 'value':\n                        // tslint:disable-next-line\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['value'] === undefined)) || isDynamic) {\n                            var setNumber = this.instance.getNumberParser({ format: 'n' })(this.element.getAttribute(prop));\n                            this.setProperties(setValue(prop, setNumber, {}), !isDynamic);\n                        }\n                        break;\n                    case 'min':\n                        // tslint:disable-next-line\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['min'] === undefined)) || isDynamic) {\n                            var minValue = this.instance.getNumberParser({ format: 'n' })(this.element.getAttribute(prop));\n                            if (minValue !== null && !isNaN(minValue)) {\n                                this.setProperties(setValue(prop, minValue, {}), !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'max':\n                        // tslint:disable-next-line\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['max'] === undefined)) || isDynamic) {\n                            var maxValue = this.instance.getNumberParser({ format: 'n' })(this.element.getAttribute(prop));\n                            if (maxValue !== null && !isNaN(maxValue)) {\n                                this.setProperties(setValue(prop, maxValue, {}), !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'step':\n                        // tslint:disable-next-line\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['step'] === undefined)) || isDynamic) {\n                            var stepValue = this.instance.getNumberParser({ format: 'n' })(this.element.getAttribute(prop));\n                            if (stepValue !== null && !isNaN(stepValue)) {\n                                this.setProperties(setValue(prop, stepValue, {}), !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'style':\n                        this.inputStyle = this.element.getAttribute(prop);\n                        break;\n                    case 'name':\n                        this.inputName = this.element.getAttribute(prop);\n                        break;\n                    default:\n                        var value = this.instance.getNumberParser({ format: 'n' })(this.element.getAttribute(prop));\n                        if ((value !== null && !isNaN(value)) || (prop === 'value')) {\n                            this.setProperties(setValue(prop, value, {}), true);\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    NumericTextBox.prototype.updatePlaceholder = function () {\n        this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n    };\n    NumericTextBox.prototype.initCultureFunc = function () {\n        this.instance = new Internationalization(this.locale);\n    };\n    NumericTextBox.prototype.initCultureInfo = function () {\n        this.cultureInfo.format = this.format;\n        if (getValue('currency', this) !== null) {\n            setValue('currency', this.currency, this.cultureInfo);\n            this.setProperties({ currencyCode: this.currency }, true);\n        }\n    };\n    /* Wrapper creation */\n    NumericTextBox.prototype.createWrapper = function () {\n        var updatedCssClassValue = this.cssClass;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassValue = this.getNumericValidClassList(this.cssClass);\n        }\n        var inputObj = Input.createInput({\n            element: this.element,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                readonly: this.readonly,\n                placeholder: this.placeholder,\n                cssClass: updatedCssClassValue,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton,\n                enabled: this.enabled\n            }\n        }, this.createElement);\n        this.inputWrapper = inputObj;\n        this.container = inputObj.container;\n        this.container.setAttribute('class', ROOT + ' ' + this.container.getAttribute('class'));\n        this.updateHTMLAttrToWrapper();\n        if (this.readonly) {\n            attributes(this.element, { 'aria-readonly': 'true' });\n        }\n        this.hiddenInput = (this.createElement('input', { attrs: { type: 'text',\n                'validateHidden': 'true', 'class': HIDDENELEMENT } }));\n        this.inputName = this.inputName !== null ? this.inputName : this.element.id;\n        this.element.removeAttribute('name');\n        attributes(this.hiddenInput, { 'name': this.inputName });\n        this.container.insertBefore(this.hiddenInput, this.container.childNodes[1]);\n        this.updateDataAttribute(false);\n        if (this.inputStyle !== null) {\n            attributes(this.container, { 'style': this.inputStyle });\n        }\n    };\n    NumericTextBox.prototype.updateDataAttribute = function (isDynamic) {\n        var attr = {};\n        if (!isDynamic) {\n            for (var a = 0; a < this.element.attributes.length; a++) {\n                attr[this.element.attributes[a].name] = this.element.getAttribute(this.element.attributes[a].name);\n            }\n        }\n        else {\n            attr = this.htmlAttributes;\n        }\n        for (var _i = 0, _a = Object.keys(attr); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (key.indexOf('data') === 0) {\n                this.hiddenInput.setAttribute(key, attr[key]);\n            }\n        }\n    };\n    NumericTextBox.prototype.updateHTMLAttrToElement = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var pro = _a[_i];\n                if (wrapperAttributes.indexOf(pro) < 0) {\n                    this.element.setAttribute(pro, this.htmlAttributes[pro]);\n                }\n            }\n        }\n    };\n    NumericTextBox.prototype.updateCssClass = function (newClass, oldClass) {\n        Input.setCssClass(this.getNumericValidClassList(newClass), [this.container], this.getNumericValidClassList(oldClass));\n    };\n    NumericTextBox.prototype.getNumericValidClassList = function (numericClassName) {\n        var result = numericClassName;\n        if (!isNullOrUndefined(numericClassName) && numericClassName !== '') {\n            result = (numericClassName.replace(/\\s+/g, ' ')).trim();\n        }\n        return result;\n    };\n    NumericTextBox.prototype.updateHTMLAttrToWrapper = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var pro = _a[_i];\n                if (wrapperAttributes.indexOf(pro) > -1) {\n                    if (pro === 'class') {\n                        var updatedClassValue = this.getNumericValidClassList(this.htmlAttributes[pro]);\n                        if (updatedClassValue !== '') {\n                            addClass([this.container], updatedClassValue.split(' '));\n                        }\n                    }\n                    else if (pro === 'style') {\n                        var numericStyle = this.container.getAttribute(pro);\n                        numericStyle = !isNullOrUndefined(numericStyle) ? (numericStyle + this.htmlAttributes[pro]) :\n                            this.htmlAttributes[pro];\n                        this.container.setAttribute(pro, numericStyle);\n                    }\n                    else {\n                        this.container.setAttribute(pro, this.htmlAttributes[pro]);\n                    }\n                }\n            }\n        }\n    };\n    NumericTextBox.prototype.setElementWidth = function (width) {\n        if (!isNullOrUndefined(width)) {\n            if (typeof width === 'number') {\n                this.container.style.width = formatUnit(width);\n            }\n            else if (typeof width === 'string') {\n                this.container.style.width = (width.match(/px|%|em/)) ? (width) : (formatUnit(width));\n            }\n        }\n    };\n    /* Spinner creation */\n    NumericTextBox.prototype.spinBtnCreation = function () {\n        this.spinDown = Input.appendSpan(SPINICON + ' ' + SPINDOWN, this.container, this.createElement);\n        attributes(this.spinDown, {\n            'title': this.l10n.getConstant('decrementTitle'),\n            'aria-label': this.l10n.getConstant('decrementTitle')\n        });\n        this.spinUp = Input.appendSpan(SPINICON + ' ' + SPINUP, this.container, this.createElement);\n        attributes(this.spinUp, {\n            'title': this.l10n.getConstant('incrementTitle'),\n            'aria-label': this.l10n.getConstant('incrementTitle')\n        });\n        this.wireSpinBtnEvents();\n    };\n    NumericTextBox.prototype.validateMinMax = function () {\n        if (!(typeof (this.min) === 'number' && !isNaN(this.min))) {\n            this.setProperties({ min: -(Number.MAX_VALUE) }, true);\n        }\n        if (!(typeof (this.max) === 'number' && !isNaN(this.max))) {\n            this.setProperties({ max: Number.MAX_VALUE }, true);\n        }\n        if (this.decimals !== null) {\n            if (this.min !== -(Number.MAX_VALUE)) {\n                this.setProperties({ min: this.instance.getNumberParser({ format: 'n' })(this.formattedValue(this.decimals, this.min)) }, true);\n            }\n            if (this.max !== (Number.MAX_VALUE)) {\n                this.setProperties({ max: this.instance.getNumberParser({ format: 'n' })(this.formattedValue(this.decimals, this.max)) }, true);\n            }\n        }\n        this.setProperties({ min: this.min > this.max ? this.max : this.min }, true);\n        attributes(this.element, { 'aria-valuemin': this.min.toString(), 'aria-valuemax': this.max.toString() });\n    };\n    NumericTextBox.prototype.formattedValue = function (decimals, value) {\n        return this.instance.getNumberFormat({\n            maximumFractionDigits: decimals,\n            minimumFractionDigits: decimals, useGrouping: false\n        })(value);\n    };\n    NumericTextBox.prototype.validateStep = function () {\n        if (this.decimals !== null) {\n            this.setProperties({ step: this.instance.getNumberParser({ format: 'n' })(this.formattedValue(this.decimals, this.step)) }, true);\n        }\n    };\n    NumericTextBox.prototype.action = function (operation, event) {\n        this.isInteract = true;\n        var value = this.isFocused ? this.instance.getNumberParser({ format: 'n' })(this.element.value) : this.value;\n        this.changeValue(this.performAction(value, this.step, operation));\n        this.raiseChangeEvent(event);\n    };\n    NumericTextBox.prototype.checkErrorClass = function () {\n        if (this.isValidState) {\n            removeClass([this.container], ERROR);\n        }\n        else {\n            addClass([this.container], ERROR);\n        }\n        attributes(this.element, { 'aria-invalid': this.isValidState ? 'false' : 'true' });\n    };\n    NumericTextBox.prototype.bindClearEvent = function () {\n        if (this.showClearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler, this);\n        }\n    };\n    NumericTextBox.prototype.resetHandler = function (e) {\n        e.preventDefault();\n        if (!(this.inputWrapper.clearButton.classList.contains('e-clear-icon-hide'))) {\n            this.clear(e);\n        }\n        this.isInteract = true;\n        this.raiseChangeEvent(e);\n    };\n    NumericTextBox.prototype.clear = function (event) {\n        this.setProperties({ value: null }, true);\n        this.setElementValue('');\n        this.hiddenInput.value = '';\n        var formElement = closest(this.element, 'form');\n        if (formElement) {\n            var element = this.element.nextElementSibling;\n            var keyupEvent = document.createEvent('KeyboardEvent');\n            keyupEvent.initEvent('keyup', false, true);\n            element.dispatchEvent(keyupEvent);\n        }\n    };\n    NumericTextBox.prototype.resetFormHandler = function () {\n        if (this.element.tagName === 'EJS-NUMERICTEXTBOX') {\n            this.updateValue(null);\n        }\n        else {\n            this.updateValue(this.inputEleValue);\n        }\n    };\n    NumericTextBox.prototype.setSpinButton = function () {\n        if (!isNullOrUndefined(this.spinDown)) {\n            attributes(this.spinDown, {\n                'title': this.l10n.getConstant('decrementTitle'),\n                'aria-label': this.l10n.getConstant('decrementTitle')\n            });\n        }\n        if (!isNullOrUndefined(this.spinUp)) {\n            attributes(this.spinUp, {\n                'title': this.l10n.getConstant('incrementTitle'),\n                'aria-label': this.l10n.getConstant('incrementTitle')\n            });\n        }\n    };\n    NumericTextBox.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'focus', this.focusHandler, this);\n        EventHandler.add(this.element, 'blur', this.focusOutHandler, this);\n        EventHandler.add(this.element, 'keydown', this.keyDownHandler, this);\n        EventHandler.add(this.element, 'keyup', this.keyUpHandler, this);\n        EventHandler.add(this.element, 'input', this.inputHandler, this);\n        EventHandler.add(this.element, 'keypress', this.keyPressHandler, this);\n        EventHandler.add(this.element, 'change', this.changeHandler, this);\n        EventHandler.add(this.element, 'paste', this.pasteHandler, this);\n        if (this.enabled) {\n            this.bindClearEvent();\n            if (this.formEle) {\n                EventHandler.add(this.formEle, 'reset', this.resetFormHandler, this);\n            }\n        }\n    };\n    NumericTextBox.prototype.wireSpinBtnEvents = function () {\n        /* bind spin button events */\n        EventHandler.add(this.spinUp, Browser.touchStartEvent, this.mouseDownOnSpinner, this);\n        EventHandler.add(this.spinDown, Browser.touchStartEvent, this.mouseDownOnSpinner, this);\n        EventHandler.add(this.spinUp, Browser.touchEndEvent, this.mouseUpOnSpinner, this);\n        EventHandler.add(this.spinDown, Browser.touchEndEvent, this.mouseUpOnSpinner, this);\n        EventHandler.add(this.spinUp, Browser.touchMoveEvent, this.touchMoveOnSpinner, this);\n        EventHandler.add(this.spinDown, Browser.touchMoveEvent, this.touchMoveOnSpinner, this);\n    };\n    NumericTextBox.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'focus', this.focusHandler);\n        EventHandler.remove(this.element, 'blur', this.focusOutHandler);\n        EventHandler.remove(this.element, 'keyup', this.keyUpHandler);\n        EventHandler.remove(this.element, 'input', this.inputHandler);\n        EventHandler.remove(this.element, 'keydown', this.keyDownHandler);\n        EventHandler.remove(this.element, 'keypress', this.keyPressHandler);\n        EventHandler.remove(this.element, 'change', this.changeHandler);\n        EventHandler.remove(this.element, 'paste', this.pasteHandler);\n        if (this.formEle) {\n            EventHandler.remove(this.formEle, 'reset', this.resetFormHandler);\n        }\n    };\n    NumericTextBox.prototype.unwireSpinBtnEvents = function () {\n        /* unbind spin button events */\n        EventHandler.remove(this.spinUp, Browser.touchStartEvent, this.mouseDownOnSpinner);\n        EventHandler.remove(this.spinDown, Browser.touchStartEvent, this.mouseDownOnSpinner);\n        EventHandler.remove(this.spinUp, Browser.touchEndEvent, this.mouseUpOnSpinner);\n        EventHandler.remove(this.spinDown, Browser.touchEndEvent, this.mouseUpOnSpinner);\n        EventHandler.remove(this.spinUp, Browser.touchMoveEvent, this.touchMoveOnSpinner);\n        EventHandler.remove(this.spinDown, Browser.touchMoveEvent, this.touchMoveOnSpinner);\n    };\n    NumericTextBox.prototype.changeHandler = function (event) {\n        event.stopPropagation();\n        if (!this.element.value.length) {\n            this.setProperties({ value: null }, true);\n        }\n        var parsedInput = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n        this.updateValue(parsedInput, event);\n    };\n    NumericTextBox.prototype.raiseChangeEvent = function (event) {\n        if (this.prevValue !== this.value) {\n            var eventArgs = {};\n            this.changeEventArgs = { value: this.value, previousValue: this.prevValue, isInteracted: this.isInteract,\n                isInteraction: this.isInteract, event: event };\n            if (event) {\n                this.changeEventArgs.event = event;\n            }\n            if (this.changeEventArgs.event === undefined) {\n                this.changeEventArgs.isInteracted = false;\n                this.changeEventArgs.isInteraction = false;\n            }\n            merge(eventArgs, this.changeEventArgs);\n            this.prevValue = this.value;\n            this.isInteract = false;\n            this.elementPrevValue = this.element.value;\n            this.preventChange = false;\n            this.trigger('change', eventArgs);\n        }\n    };\n    NumericTextBox.prototype.pasteHandler = function () {\n        var _this = this;\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        var beforeUpdate = this.element.value;\n        setTimeout(function () {\n            if (!_this.numericRegex().test(_this.element.value)) {\n                _this.setElementValue(beforeUpdate);\n            }\n        });\n    };\n    NumericTextBox.prototype.preventHandler = function () {\n        var _this = this;\n        var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\n        setTimeout(function () {\n            if (_this.element.selectionStart > 0) {\n                var currentPos = _this.element.selectionStart;\n                var prevPos = _this.element.selectionStart - 1;\n                var start = 0;\n                var ignoreKeyCode = void 0;\n                var valArray = _this.element.value.split('');\n                var numericObject = getNumericObject(_this.locale);\n                var decimalSeparator = getValue('decimal', numericObject);\n                ignoreKeyCode = decimalSeparator.charCodeAt(0);\n                if (_this.element.value[prevPos] === ' ' && _this.element.selectionStart > 0 && !iOS) {\n                    if (isNullOrUndefined(_this.prevVal)) {\n                        _this.element.value = _this.element.value.trim();\n                    }\n                    else if (prevPos !== 0) {\n                        _this.element.value = _this.prevVal;\n                    }\n                    else if (prevPos === 0) {\n                        _this.element.value = _this.element.value.trim();\n                    }\n                    _this.element.setSelectionRange(prevPos, prevPos);\n                }\n                else if (isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 1])) &&\n                    _this.element.value[_this.element.selectionStart - 1].charCodeAt(0) !== 45) {\n                    if ((valArray.indexOf(_this.element.value[_this.element.selectionStart - 1]) !==\n                        valArray.lastIndexOf(_this.element.value[_this.element.selectionStart - 1]) &&\n                        _this.element.value[_this.element.selectionStart - 1].charCodeAt(0) === ignoreKeyCode) ||\n                        _this.element.value[_this.element.selectionStart - 1].charCodeAt(0) !== ignoreKeyCode) {\n                        _this.element.value = _this.element.value.substring(0, prevPos) +\n                            _this.element.value.substring(currentPos, _this.element.value.length);\n                        _this.element.setSelectionRange(prevPos, prevPos);\n                        if (isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 1])) && _this.element.selectionStart > 0\n                            && _this.element.value.length) {\n                            _this.preventHandler();\n                        }\n                    }\n                }\n                else if (isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 2])) && _this.element.selectionStart > 1 &&\n                    _this.element.value[_this.element.selectionStart - 2].charCodeAt(0) !== 45) {\n                    if ((valArray.indexOf(_this.element.value[_this.element.selectionStart - 2]) !==\n                        valArray.lastIndexOf(_this.element.value[_this.element.selectionStart - 2]) &&\n                        _this.element.value[_this.element.selectionStart - 2].charCodeAt(0) === ignoreKeyCode) ||\n                        _this.element.value[_this.element.selectionStart - 2].charCodeAt(0) !== ignoreKeyCode) {\n                        _this.element.setSelectionRange(prevPos, prevPos);\n                        _this.nextEle = _this.element.value[_this.element.selectionStart];\n                        _this.cursorPosChanged = true;\n                        _this.preventHandler();\n                    }\n                }\n                if (_this.cursorPosChanged === true && _this.element.value[_this.element.selectionStart] === _this.nextEle &&\n                    isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 1]))) {\n                    _this.element.setSelectionRange(_this.element.selectionStart + 1, _this.element.selectionStart + 1);\n                    _this.cursorPosChanged = false;\n                    _this.nextEle = null;\n                }\n                if (_this.element.value.trim() === '') {\n                    _this.element.setSelectionRange(start, start);\n                }\n                if (_this.element.selectionStart > 0) {\n                    if ((_this.element.value[_this.element.selectionStart - 1].charCodeAt(0) === 45) && _this.element.selectionStart > 1) {\n                        if (isNullOrUndefined(_this.prevVal)) {\n                            _this.element.value = _this.element.value;\n                        }\n                        else {\n                            _this.element.value = _this.prevVal;\n                        }\n                        _this.element.setSelectionRange(_this.element.selectionStart, _this.element.selectionStart);\n                    }\n                }\n                _this.prevVal = _this.element.value;\n            }\n        });\n    };\n    NumericTextBox.prototype.keyUpHandler = function (event) {\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\n        if (!iOS && Browser.isDevice) {\n            this.preventHandler();\n        }\n        var parseValue = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n        parseValue = parseValue === null || isNaN(parseValue) ? null : parseValue;\n        this.hiddenInput.value = parseValue || parseValue === 0 ? parseValue.toString() : null;\n        var formElement = closest(this.element, 'form');\n        if (formElement) {\n            var element = this.element.nextElementSibling;\n            var keyupEvent = document.createEvent('KeyboardEvent');\n            keyupEvent.initEvent('keyup', false, true);\n            element.dispatchEvent(keyupEvent);\n        }\n    };\n    ;\n    NumericTextBox.prototype.inputHandler = function (event) {\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\n        var fireFox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\n        if ((fireFox || iOS) && Browser.isDevice) {\n            this.preventHandler();\n        }\n        if (this.isVue) {\n            var current = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n            var previous = this.instance.getNumberParser({ format: 'n' })(this.elementPrevValue);\n            var eventArgs = {\n                event: event,\n                value: (current === null || isNaN(current) ? null : current),\n                previousValue: (previous === null || isNaN(previous) ? null : previous)\n            };\n            this.preventChange = true;\n            this.elementPrevValue = this.element.value;\n            this.trigger('input', eventArgs);\n        }\n    };\n    ;\n    NumericTextBox.prototype.keyDownHandler = function (event) {\n        if (!this.readonly) {\n            switch (event.keyCode) {\n                case 38:\n                    event.preventDefault();\n                    this.action(INCREMENT, event);\n                    break;\n                case 40:\n                    event.preventDefault();\n                    this.action(DECREMENT, event);\n                    break;\n                default: break;\n            }\n        }\n    };\n    ;\n    NumericTextBox.prototype.performAction = function (value, step, operation) {\n        if (value === null || isNaN(value)) {\n            value = 0;\n        }\n        var updatedValue = operation === INCREMENT ? value + step : value - step;\n        updatedValue = this.correctRounding(value, step, updatedValue);\n        return this.strictMode ? this.trimValue(updatedValue) : updatedValue;\n    };\n    ;\n    NumericTextBox.prototype.correctRounding = function (value, step, result) {\n        var floatExp = new RegExp('[,.](.*)');\n        var valueText = value.toString();\n        var stepText = step.toString();\n        var floatValue = floatExp.test(value.toString());\n        var floatStep = floatExp.test(step.toString());\n        if (floatValue || floatStep) {\n            var valueCount = floatValue ? floatExp.exec(value.toString())[0].length : 0;\n            var stepCount = floatStep ? floatExp.exec(step.toString())[0].length : 0;\n            var max = Math.max(valueCount, stepCount);\n            return value = this.roundValue(result, max);\n        }\n        return result;\n    };\n    ;\n    NumericTextBox.prototype.roundValue = function (result, precision) {\n        precision = precision || 0;\n        var divide = Math.pow(10, precision);\n        return result *= divide, result = Math.round(result) / divide;\n    };\n    ;\n    NumericTextBox.prototype.updateValue = function (value, event) {\n        if (event) {\n            this.isInteract = true;\n        }\n        if (value !== null && !isNaN(value)) {\n            if (this.decimals) {\n                value = this.roundNumber(value, this.decimals);\n            }\n        }\n        this.changeValue(value === null || isNaN(value) ? null : this.strictMode ? this.trimValue(value) : value);\n        if ((!this.isVue) || (this.isVue && !this.preventChange)) {\n            this.raiseChangeEvent(event);\n        }\n    };\n    NumericTextBox.prototype.updateCurrency = function (prop, propVal) {\n        setValue(prop, propVal, this.cultureInfo);\n        this.updateValue(this.value);\n    };\n    NumericTextBox.prototype.changeValue = function (value) {\n        if (!(value || value === 0)) {\n            value = null;\n            this.setProperties({ value: value }, true);\n        }\n        else {\n            var numberOfDecimals = void 0;\n            numberOfDecimals = this.getNumberOfDecimals(value);\n            this.setProperties({ value: this.roundNumber(value, numberOfDecimals) }, true);\n        }\n        this.modifyText();\n        if (!this.strictMode) {\n            this.validateState();\n        }\n    };\n    ;\n    NumericTextBox.prototype.modifyText = function () {\n        if (this.value || this.value === 0) {\n            var value = this.formatNumber();\n            var elementValue = this.isFocused ? value : this.instance.getNumberFormat(this.cultureInfo)(this.value);\n            this.setElementValue(elementValue);\n            attributes(this.element, { 'aria-valuenow': value });\n            this.hiddenInput.value = this.value.toString();\n            if (this.value !== null && this.serverDecimalSeparator) {\n                this.hiddenInput.value = this.hiddenInput.value.replace('.', this.serverDecimalSeparator);\n            }\n        }\n        else {\n            this.setElementValue('');\n            this.element.removeAttribute('aria-valuenow');\n            this.hiddenInput.value = null;\n        }\n    };\n    ;\n    NumericTextBox.prototype.setElementValue = function (val, element) {\n        Input.setValue(val, (element ? element : this.element), this.floatLabelType, this.showClearButton);\n    };\n    NumericTextBox.prototype.validateState = function () {\n        this.isValidState = true;\n        if (this.value || this.value === 0) {\n            this.isValidState = !(this.value > this.max || this.value < this.min);\n        }\n        this.checkErrorClass();\n    };\n    NumericTextBox.prototype.getNumberOfDecimals = function (value) {\n        var numberOfDecimals;\n        var EXPREGEXP = new RegExp('[eE][\\-+]?([0-9]+)');\n        var valueString = value.toString();\n        if (EXPREGEXP.test(valueString)) {\n            var result = EXPREGEXP.exec(valueString);\n            if (!isNullOrUndefined(result)) {\n                valueString = value.toFixed(Math.min(parseInt(result[1], 10), 20));\n            }\n        }\n        var decimalPart = valueString.split('.')[1];\n        numberOfDecimals = !decimalPart || !decimalPart.length ? 0 : decimalPart.length;\n        if (this.decimals !== null) {\n            numberOfDecimals = numberOfDecimals < this.decimals ? numberOfDecimals : this.decimals;\n        }\n        return numberOfDecimals;\n    };\n    NumericTextBox.prototype.formatNumber = function () {\n        var numberOfDecimals;\n        numberOfDecimals = this.getNumberOfDecimals(this.value);\n        return this.instance.getNumberFormat({\n            maximumFractionDigits: numberOfDecimals,\n            minimumFractionDigits: numberOfDecimals, useGrouping: false\n        })(this.value);\n    };\n    ;\n    NumericTextBox.prototype.trimValue = function (value) {\n        if (value > this.max) {\n            return this.max;\n        }\n        if (value < this.min) {\n            return this.min;\n        }\n        return value;\n    };\n    ;\n    NumericTextBox.prototype.roundNumber = function (value, precision) {\n        var result = value;\n        var decimals = precision || 0;\n        var result1 = result.toString().split('e');\n        result = Math.round(Number(result1[0] + 'e' + (result1[1] ? (Number(result1[1]) + decimals) : decimals)));\n        var result2 = result.toString().split('e');\n        result = Number(result2[0] + 'e' + (result2[1] ? (Number(result2[1]) - decimals) : -decimals));\n        return Number(result.toFixed(decimals));\n    };\n    ;\n    NumericTextBox.prototype.cancelEvent = function (event) {\n        event.preventDefault();\n        return false;\n    };\n    NumericTextBox.prototype.keyPressHandler = function (event) {\n        if (!this.enabled || this.readonly) {\n            return true;\n        }\n        if (!Browser.isDevice && Browser.info.version === '11.0' && event.keyCode === 13) {\n            var parsedInput = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n            this.updateValue(parsedInput, event);\n            return true;\n        }\n        if (event.which === 0 || event.metaKey || event.ctrlKey || event.keyCode === 8 || event.keyCode === 13) {\n            return true;\n        }\n        var currentChar = String.fromCharCode(event.which);\n        var text = this.element.value;\n        text = text.substring(0, this.element.selectionStart) + currentChar + text.substring(this.element.selectionEnd);\n        if (!this.numericRegex().test(text)) {\n            event.preventDefault();\n            event.stopPropagation();\n            return false;\n        }\n        else {\n            return true;\n        }\n    };\n    ;\n    NumericTextBox.prototype.numericRegex = function () {\n        var numericObject = getNumericObject(this.locale);\n        var decimalSeparator = getValue('decimal', numericObject);\n        var fractionRule = '*';\n        if (decimalSeparator === DECIMALSEPARATOR) {\n            decimalSeparator = '\\\\' + decimalSeparator;\n        }\n        if (this.decimals === 0 && this.validateDecimalOnType) {\n            return INTREGEXP;\n        }\n        if (this.decimals && this.validateDecimalOnType) {\n            fractionRule = '{0,' + this.decimals + '}';\n        }\n        return new RegExp('^(-)?(((\\\\d+(' + decimalSeparator + '\\\\d' + fractionRule +\n            ')?)|(' + decimalSeparator + '\\\\d' + fractionRule + ')))?$');\n    };\n    ;\n    NumericTextBox.prototype.mouseWheel = function (event) {\n        event.preventDefault();\n        var delta;\n        var rawEvent = event;\n        if (rawEvent.wheelDelta) {\n            delta = rawEvent.wheelDelta / 120;\n        }\n        else if (rawEvent.detail) {\n            delta = -rawEvent.detail / 3;\n        }\n        if (delta > 0) {\n            this.action(INCREMENT, event);\n        }\n        else if (delta < 0) {\n            this.action(DECREMENT, event);\n        }\n        this.cancelEvent(event);\n    };\n    NumericTextBox.prototype.focusHandler = function (event) {\n        var _this = this;\n        this.focusEventArgs = { event: event, value: this.value, container: this.container };\n        this.trigger('focus', this.focusEventArgs);\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        this.isFocused = true;\n        removeClass([this.container], ERROR);\n        this.prevValue = this.value;\n        if ((this.value || this.value === 0)) {\n            var formatValue_1 = this.formatNumber();\n            this.setElementValue(formatValue_1);\n            if (!this.isPrevFocused) {\n                if (!Browser.isDevice && Browser.info.version === '11.0') {\n                    this.element.setSelectionRange(0, formatValue_1.length);\n                }\n                else {\n                    var delay = (Browser.isDevice && Browser.isIos) ? 600 : 0;\n                    setTimeout(function () {\n                        _this.element.setSelectionRange(0, formatValue_1.length);\n                    }, delay);\n                }\n            }\n        }\n        if (!Browser.isDevice) {\n            EventHandler.add(this.element, 'mousewheel DOMMouseScroll', this.mouseWheel, this);\n        }\n    };\n    ;\n    NumericTextBox.prototype.focusOutHandler = function (event) {\n        var _this = this;\n        this.blurEventArgs = { event: event, value: this.value, container: this.container };\n        this.trigger('blur', this.blurEventArgs);\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        if (this.isPrevFocused) {\n            event.preventDefault();\n            if (Browser.isDevice) {\n                var value_1 = this.element.value;\n                this.element.focus();\n                this.isPrevFocused = false;\n                var ele_1 = this.element;\n                setTimeout(function () {\n                    _this.setElementValue(value_1, ele_1);\n                }, 200);\n            }\n        }\n        else {\n            this.isFocused = false;\n            if (!this.element.value.length) {\n                this.setProperties({ value: null }, true);\n            }\n            var parsedInput = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n            this.updateValue(parsedInput);\n            if (!Browser.isDevice) {\n                EventHandler.remove(this.element, 'mousewheel DOMMouseScroll', this.mouseWheel);\n            }\n        }\n        var formElement = closest(this.element, 'form');\n        if (formElement) {\n            var element = this.element.nextElementSibling;\n            var focusEvent = document.createEvent('FocusEvent');\n            focusEvent.initEvent('focusout', false, true);\n            element.dispatchEvent(focusEvent);\n        }\n    };\n    ;\n    NumericTextBox.prototype.mouseDownOnSpinner = function (event) {\n        var _this = this;\n        if (this.isFocused) {\n            this.isPrevFocused = true;\n            event.preventDefault();\n        }\n        if (!this.getElementData(event)) {\n            return;\n        }\n        var result = this.getElementData(event);\n        var target = event.currentTarget;\n        var action = (target.classList.contains(SPINUP)) ? INCREMENT : DECREMENT;\n        EventHandler.add(target, 'mouseleave', this.mouseUpClick, this);\n        this.timeOut = setInterval(function () { _this.isCalled = true; _this.action(action, event); }, 150);\n        EventHandler.add(document, 'mouseup', this.mouseUpClick, this);\n    };\n    NumericTextBox.prototype.touchMoveOnSpinner = function (event) {\n        var target = document.elementFromPoint(event.clientX, event.clientY);\n        if (!(target.classList.contains(SPINICON))) {\n            clearInterval(this.timeOut);\n        }\n    };\n    NumericTextBox.prototype.mouseUpOnSpinner = function (event) {\n        if (this.isPrevFocused) {\n            this.element.focus();\n            if (!Browser.isDevice) {\n                this.isPrevFocused = false;\n            }\n        }\n        if (!Browser.isDevice) {\n            event.preventDefault();\n        }\n        if (!this.getElementData(event)) {\n            return;\n        }\n        var target = event.currentTarget;\n        var action = (target.classList.contains(SPINUP)) ? INCREMENT : DECREMENT;\n        EventHandler.remove(target, 'mouseleave', this.mouseUpClick);\n        if (!this.isCalled) {\n            this.action(action, event);\n        }\n        this.isCalled = false;\n        EventHandler.remove(document, 'mouseup', this.mouseUpClick);\n        var formElement = closest(this.element, 'form');\n        if (formElement) {\n            var element = this.element.nextElementSibling;\n            var keyupEvent = document.createEvent('KeyboardEvent');\n            keyupEvent.initEvent('keyup', false, true);\n            element.dispatchEvent(keyupEvent);\n        }\n    };\n    NumericTextBox.prototype.getElementData = function (event) {\n        if ((event.which && event.which === 3) || (event.button && event.button === 2)\n            || !this.enabled || this.readonly) {\n            return false;\n        }\n        clearInterval(this.timeOut);\n        return true;\n    };\n    NumericTextBox.prototype.floatLabelTypeUpdate = function () {\n        Input.removeFloating(this.inputWrapper);\n        var hiddenInput = this.hiddenInput;\n        this.hiddenInput.remove();\n        Input.addFloating(this.element, this.floatLabelType, this.placeholder, this.createElement);\n        this.container.insertBefore(hiddenInput, this.container.childNodes[1]);\n    };\n    NumericTextBox.prototype.mouseUpClick = function (event) {\n        event.stopPropagation();\n        clearInterval(this.timeOut);\n        this.isCalled = false;\n        EventHandler.remove(this.spinUp, 'mouseleave', this.mouseUpClick);\n        EventHandler.remove(this.spinDown, 'mouseleave', this.mouseUpClick);\n    };\n    /**\n     * Increments the NumericTextBox value with the specified step value.\n     * @param  {number} step - Specifies the value used to increment the NumericTextBox value.\n     * if its not given then numeric value will be incremented based on the step property value.\n     */\n    NumericTextBox.prototype.increment = function (step) {\n        if (step === void 0) { step = this.step; }\n        this.isInteract = false;\n        this.changeValue(this.performAction(this.value, step, INCREMENT));\n        this.raiseChangeEvent();\n    };\n    /**\n     * Decrements the NumericTextBox value with specified step value.\n     * @param  {number} step - Specifies the value used to decrement the NumericTextBox value.\n     * if its not given then numeric value will be decremented based on the step property value.\n     */\n    NumericTextBox.prototype.decrement = function (step) {\n        if (step === void 0) { step = this.step; }\n        this.isInteract = false;\n        this.changeValue(this.performAction(this.value, step, DECREMENT));\n        this.raiseChangeEvent();\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers.\n     * Also it maintains the initial input element from the DOM.\n     * @method destroy\n     * @return {void}\n     */\n    NumericTextBox.prototype.destroy = function () {\n        this.unwireEvents();\n        if (!(isBlazor() && this.isServerRendered)) {\n            detach(this.hiddenInput);\n            if (this.showSpinButton) {\n                this.unwireSpinBtnEvents();\n                detach(this.spinUp);\n                detach(this.spinDown);\n            }\n            var attrArray = ['aria-labelledby', 'role', 'autocomplete', 'aria-readonly',\n                'autocorrect', 'aria-disabled', 'aria-placeholder', 'autocapitalize',\n                'spellcheck', 'aria-autocomplete', 'tabindex', 'aria-valuemin',\n                'aria-valuemax', 'aria-live', 'aria-valuenow', 'aria-invalid'];\n            for (var i = 0; i < attrArray.length; i++) {\n                this.element.removeAttribute(attrArray[i]);\n            }\n            this.element.classList.remove('e-input');\n            this.container.insertAdjacentElement('afterend', this.element);\n            detach(this.container);\n            _super.prototype.destroy.call(this);\n        }\n    };\n    /**\n     * Returns the value of NumericTextBox with the format applied to the NumericTextBox.\n     */\n    NumericTextBox.prototype.getText = function () {\n        return this.element.value;\n    };\n    /**\n     * Sets the focus to widget for interaction.\n     * @returns void\n     */\n    NumericTextBox.prototype.focusIn = function () {\n        if (document.activeElement !== this.element && this.enabled) {\n            this.element.focus();\n            addClass([this.container], [NUMERIC_FOCUS]);\n        }\n    };\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     * @returns void\n     */\n    NumericTextBox.prototype.focusOut = function () {\n        if (document.activeElement === this.element && this.enabled) {\n            this.element.blur();\n            removeClass([this.container], [NUMERIC_FOCUS]);\n        }\n    };\n    /**\n     * Gets the properties to be maintained in the persisted state.\n     * @return {string}\n     */\n    NumericTextBox.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Calls internally if any of the property value is changed.\n     * @private\n     */\n    NumericTextBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var elementVal;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    this.setElementWidth(newProp.width);\n                    break;\n                case 'cssClass':\n                    this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'enabled':\n                    Input.setEnabled(newProp.enabled, this.element);\n                    break;\n                case 'enableRtl':\n                    Input.setEnableRtl(newProp.enableRtl, [this.container]);\n                    break;\n                case 'readonly':\n                    Input.setReadonly(newProp.readonly, this.element);\n                    if (this.readonly) {\n                        attributes(this.element, { 'aria-readonly': 'true' });\n                    }\n                    else {\n                        this.element.removeAttribute('aria-readonly');\n                    }\n                    break;\n                case 'htmlAttributes':\n                    this.updateHTMLAttrToElement();\n                    this.updateHTMLAttrToWrapper();\n                    this.updateDataAttribute(true);\n                    this.checkAttributes(true);\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.element);\n                    break;\n                case 'step':\n                    this.step = newProp.step;\n                    this.validateStep();\n                    break;\n                case 'showSpinButton':\n                    this.updateSpinButton(newProp);\n                    break;\n                case 'showClearButton':\n                    this.updateClearButton(newProp);\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    this.floatLabelTypeUpdate();\n                    break;\n                case 'value':\n                    this.updateValue(newProp.value);\n                    if (this.isVue && this.preventChange) {\n                        this.preventChange = false;\n                    }\n                    break;\n                case 'min':\n                case 'max':\n                    setValue(prop, getValue(prop, newProp), this);\n                    this.validateMinMax();\n                    this.updateValue(this.value);\n                    break;\n                case 'strictMode':\n                    this.strictMode = newProp.strictMode;\n                    this.updateValue(this.value);\n                    this.validateState();\n                    break;\n                case 'locale':\n                    this.initCultureFunc();\n                    this.l10n.setLocale(this.locale);\n                    this.setSpinButton();\n                    this.updatePlaceholder();\n                    Input.setPlaceholder(this.placeholder, this.element);\n                    this.updateValue(this.value);\n                    break;\n                case 'currency':\n                    var propVal = getValue(prop, newProp);\n                    this.setProperties({ currencyCode: propVal }, true);\n                    this.updateCurrency(prop, propVal);\n                    break;\n                case 'currencyCode':\n                    var propValue = getValue(prop, newProp);\n                    this.setProperties({ currency: propValue }, true);\n                    this.updateCurrency('currency', propValue);\n                    break;\n                case 'format':\n                    setValue(prop, getValue(prop, newProp), this);\n                    this.initCultureInfo();\n                    this.updateValue(this.value);\n                    break;\n                case 'decimals':\n                    this.decimals = newProp.decimals;\n                    this.updateValue(this.value);\n            }\n        }\n    };\n    NumericTextBox.prototype.updateClearButton = function (newProp) {\n        if (isBlazor()) {\n            if (this.showClearButton) {\n                this.inputWrapper.clearButton = this.container.querySelector('.e-clear-icon');\n                Input.wireClearBtnEvents(this.element, this.inputWrapper.clearButton, this.inputWrapper.container);\n            }\n        }\n        else {\n            Input.setClearButton(newProp.showClearButton, this.element, this.inputWrapper, undefined, this.createElement);\n            this.bindClearEvent();\n        }\n    };\n    NumericTextBox.prototype.updateSpinButton = function (newProp) {\n        if (isBlazor()) {\n            if (this.showSpinButton) {\n                this.spinDown = this.container.querySelector('.' + SPINDOWN);\n                this.spinUp = this.container.querySelector('.' + SPINUP);\n                this.wireSpinBtnEvents();\n            }\n        }\n        else {\n            if (newProp.showSpinButton) {\n                this.spinBtnCreation();\n            }\n            else {\n                detach(this.spinUp);\n                detach(this.spinDown);\n            }\n        }\n    };\n    /**\n     * Gets the component name\n     * @private\n     */\n    NumericTextBox.prototype.getModuleName = function () {\n        return 'numerictextbox';\n    };\n    __decorate([\n        Property('')\n    ], NumericTextBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"value\", void 0);\n    __decorate([\n        Property(-(Number.MAX_VALUE))\n    ], NumericTextBox.prototype, \"min\", void 0);\n    __decorate([\n        Property(Number.MAX_VALUE)\n    ], NumericTextBox.prototype, \"max\", void 0);\n    __decorate([\n        Property(1)\n    ], NumericTextBox.prototype, \"step\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property({})\n    ], NumericTextBox.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(true)\n    ], NumericTextBox.prototype, \"showSpinButton\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(true)\n    ], NumericTextBox.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property('n2')\n    ], NumericTextBox.prototype, \"format\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"decimals\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"currency\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"currencyCode\", void 0);\n    __decorate([\n        Property(true)\n    ], NumericTextBox.prototype, \"strictMode\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"validateDecimalOnType\", void 0);\n    __decorate([\n        Property('Never')\n    ], NumericTextBox.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Event()\n    ], NumericTextBox.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], NumericTextBox.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], NumericTextBox.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], NumericTextBox.prototype, \"focus\", void 0);\n    __decorate([\n        Event()\n    ], NumericTextBox.prototype, \"blur\", void 0);\n    NumericTextBox = __decorate([\n        NotifyPropertyChanges\n    ], NumericTextBox);\n    return NumericTextBox;\n}(Component));\nexport { NumericTextBox };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event, Complex, Collection, isBlazor } from '@syncfusion/ej2-base';\nimport { L10n, Internationalization } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty } from '@syncfusion/ej2-base';\nimport { attributes, addClass, removeClass, setStyleAttribute, detach, closest } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit, Browser, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { Tooltip, getZindexPartial } from '@syncfusion/ej2-popups';\n/**\n * Configures the ticks data of the Slider.\n */\nvar TicksData = /** @class */ (function (_super) {\n    __extends(TicksData, _super);\n    function TicksData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('None')\n    ], TicksData.prototype, \"placement\", void 0);\n    __decorate([\n        Property(10)\n    ], TicksData.prototype, \"largeStep\", void 0);\n    __decorate([\n        Property(1)\n    ], TicksData.prototype, \"smallStep\", void 0);\n    __decorate([\n        Property(false)\n    ], TicksData.prototype, \"showSmallTicks\", void 0);\n    __decorate([\n        Property(null)\n    ], TicksData.prototype, \"format\", void 0);\n    return TicksData;\n}(ChildProperty));\nexport { TicksData };\n/**\n * It illustrates the color track data in slider.\n * {% codeBlock src='slider/colorrange/index.md' %}{% endcodeBlock %}\n */\nvar ColorRangeData = /** @class */ (function (_super) {\n    __extends(ColorRangeData, _super);\n    function ColorRangeData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], ColorRangeData.prototype, \"color\", void 0);\n    __decorate([\n        Property(null)\n    ], ColorRangeData.prototype, \"start\", void 0);\n    __decorate([\n        Property(null)\n    ], ColorRangeData.prototype, \"end\", void 0);\n    return ColorRangeData;\n}(ChildProperty));\nexport { ColorRangeData };\n/**\n * It illustrates the limit data in slider.\n * {% codeBlock src='slider/limits/index.md' %}{% endcodeBlock %}\n */\nvar LimitData = /** @class */ (function (_super) {\n    __extends(LimitData, _super);\n    function LimitData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], LimitData.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(null)\n    ], LimitData.prototype, \"minStart\", void 0);\n    __decorate([\n        Property(null)\n    ], LimitData.prototype, \"minEnd\", void 0);\n    __decorate([\n        Property(null)\n    ], LimitData.prototype, \"maxStart\", void 0);\n    __decorate([\n        Property(null)\n    ], LimitData.prototype, \"maxEnd\", void 0);\n    __decorate([\n        Property(false)\n    ], LimitData.prototype, \"startHandleFixed\", void 0);\n    __decorate([\n        Property(false)\n    ], LimitData.prototype, \"endHandleFixed\", void 0);\n    return LimitData;\n}(ChildProperty));\nexport { LimitData };\n/**\n * It illustrates the tooltip data in slider.\n */\nvar TooltipData = /** @class */ (function (_super) {\n    __extends(TooltipData, _super);\n    function TooltipData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], TooltipData.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('Before')\n    ], TooltipData.prototype, \"placement\", void 0);\n    __decorate([\n        Property('Focus')\n    ], TooltipData.prototype, \"showOn\", void 0);\n    __decorate([\n        Property(false)\n    ], TooltipData.prototype, \"isVisible\", void 0);\n    __decorate([\n        Property(null)\n    ], TooltipData.prototype, \"format\", void 0);\n    return TooltipData;\n}(ChildProperty));\nexport { TooltipData };\nvar bootstrapTooltipOffset = 6;\nvar bootstrap4TooltipOffset = 3;\nvar classNames = {\n    root: 'e-slider',\n    rtl: 'e-rtl',\n    sliderHiddenInput: 'e-slider-input',\n    controlWrapper: 'e-control-wrapper',\n    sliderHandle: 'e-handle',\n    rangeBar: 'e-range',\n    sliderButton: 'e-slider-button',\n    firstButton: 'e-first-button',\n    secondButton: 'e-second-button',\n    scale: 'e-scale',\n    tick: 'e-tick',\n    large: 'e-large',\n    tickValue: 'e-tick-value',\n    sliderTooltip: 'e-slider-tooltip',\n    sliderHover: 'e-slider-hover',\n    sliderFirstHandle: 'e-handle-first',\n    sliderSecondHandle: 'e-handle-second',\n    sliderDisabled: 'e-disabled',\n    sliderContainer: 'e-slider-container',\n    horizontalTooltipBefore: 'e-slider-horizontal-before',\n    horizontalTooltipAfter: 'e-slider-horizontal-after',\n    verticalTooltipBefore: 'e-slider-vertical-before',\n    verticalTooltipAfter: 'e-slider-vertical-after',\n    materialTooltip: 'e-material-tooltip',\n    materialTooltipOpen: 'e-material-tooltip-open',\n    materialTooltipActive: 'e-tooltip-active',\n    materialSlider: 'e-material-slider',\n    sliderTrack: 'e-slider-track',\n    sliderHorizantalColor: 'e-slider-horizantal-color',\n    sliderVerticalColor: 'e-slider-vertical-color',\n    sliderHandleFocused: 'e-handle-focused',\n    verticalSlider: 'e-vertical',\n    horizontalSlider: 'e-horizontal',\n    sliderHandleStart: 'e-handle-start',\n    sliderTooltipStart: 'e-material-tooltip-start',\n    sliderTabHandle: 'e-tab-handle',\n    sliderButtonIcon: 'e-button-icon',\n    sliderSmallSize: 'e-small-size',\n    sliderTickPosition: 'e-tick-pos',\n    sliderFirstTick: 'e-first-tick',\n    sliderLastTick: 'e-last-tick',\n    sliderButtonClass: 'e-slider-btn',\n    sliderTooltipWrapper: 'e-tooltip-wrap',\n    sliderTabTrack: 'e-tab-track',\n    sliderTabRange: 'e-tab-range',\n    sliderActiveHandle: 'e-handle-active',\n    sliderMaterialHandle: 'e-material-handle',\n    sliderMaterialRange: 'e-material-range',\n    sliderMaterialDefault: 'e-material-default',\n    materialTooltipShow: 'e-material-tooltip-show',\n    materialTooltipHide: 'e-material-tooltip-hide',\n    readonly: 'e-read-only',\n    limits: 'e-limits',\n    limitBarDefault: 'e-limit-bar',\n    limitBarFirst: 'e-limit-first',\n    limitBarSecond: 'e-limit-second',\n    dragHorizontal: 'e-drag-horizontal',\n    dragVertical: 'e-drag-vertical'\n};\n/**\n * The Slider component allows the user to select a value or range\n * of values in-between a min and max range, by dragging the handle over the slider bar.\n * ```html\n * <div id='slider'></div>\n * ```\n * ```typescript\n * <script>\n *   var sliderObj = new Slider({ value: 10 });\n *   sliderObj.appendTo('#slider');\n * </script>\n * ```\n */\nvar Slider = /** @class */ (function (_super) {\n    __extends(Slider, _super);\n    function Slider(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.horDir = 'left';\n        _this.verDir = 'bottom';\n        _this.transition = {\n            handle: 'left .4s cubic-bezier(.25, .8, .25, 1), right .4s cubic-bezier(.25, .8, .25, 1), ' +\n                'top .4s cubic-bezier(.25, .8, .25, 1) , bottom .4s cubic-bezier(.25, .8, .25, 1)',\n            rangeBar: 'all .4s cubic-bezier(.25, .8, .25, 1)'\n        };\n        _this.transitionOnMaterialTooltip = {\n            handle: 'left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, top 1ms ease-out',\n            rangeBar: 'left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, width 1ms ease-out, height 1ms ease-out'\n        };\n        _this.scaleTransform = 'transform .4s cubic-bezier(.25, .8, .25, 1)';\n        _this.customAriaText = null;\n        _this.drag = true;\n        return _this;\n    }\n    Slider.prototype.preRender = function () {\n        var localeText = { incrementTitle: 'Increase', decrementTitle: 'Decrease' };\n        this.l10n = new L10n('slider', localeText, this.locale);\n        this.isElementFocused = false;\n        this.tickElementCollection = [];\n        this.tooltipFormatInfo = {};\n        this.ticksFormatInfo = {};\n        this.initCultureInfo();\n        this.initCultureFunc();\n        this.formChecker();\n    };\n    Slider.prototype.formChecker = function () {\n        var formElement = closest(this.element, 'form');\n        if (formElement) {\n            this.isForm = true;\n            // this condition needs to be checked, if the slider is going to be refreshed by `refresh()`\n            // then we need to revert the slider `value` back to `formResetValue` to preserve the initial value\n            if (!isNullOrUndefined(this.formResetValue)) {\n                this.setProperties({ 'value': this.formResetValue }, true);\n            }\n            this.formResetValue = this.value;\n            if (this.type === 'Range' &&\n                (isNullOrUndefined(this.formResetValue) || typeof (this.formResetValue) !== 'object')) {\n                this.formResetValue = [parseFloat(formatUnit(this.min)), parseFloat(formatUnit(this.max))];\n            }\n            else if (isNullOrUndefined(this.formResetValue)) {\n                this.formResetValue = parseFloat(formatUnit(this.min));\n            }\n            this.formElement = formElement;\n        }\n        else {\n            this.isForm = false;\n        }\n    };\n    Slider.prototype.initCultureFunc = function () {\n        this.internationalization = new Internationalization(this.locale);\n    };\n    Slider.prototype.initCultureInfo = function () {\n        this.tooltipFormatInfo.format = (!isNullOrUndefined(this.tooltip.format)) ? this.tooltip.format : null;\n        this.ticksFormatInfo.format = (!isNullOrUndefined(this.ticks.format)) ? this.ticks.format : null;\n    };\n    Slider.prototype.formatString = function (value, formatInfo) {\n        var formatValue = null;\n        var formatString = null;\n        if ((value || value === 0)) {\n            formatValue = this.formatNumber(value);\n            var numberOfDecimals = this.numberOfDecimals(value);\n            formatString = this.internationalization.getNumberFormat(formatInfo)(this.makeRoundNumber(value, numberOfDecimals));\n        }\n        return { elementVal: formatValue, formatString: formatString };\n    };\n    ;\n    Slider.prototype.formatNumber = function (value) {\n        var numberOfDecimals = this.numberOfDecimals(value);\n        return this.internationalization.getNumberFormat({\n            maximumFractionDigits: numberOfDecimals,\n            minimumFractionDigits: numberOfDecimals, useGrouping: false\n        })(value);\n    };\n    ;\n    Slider.prototype.numberOfDecimals = function (value) {\n        var decimalPart = value.toString().split('.')[1];\n        var numberOfDecimals = !decimalPart || !decimalPart.length ? 0 : decimalPart.length;\n        return numberOfDecimals;\n    };\n    Slider.prototype.makeRoundNumber = function (value, precision) {\n        var decimals = precision || 0;\n        return Number(value.toFixed(decimals));\n    };\n    ;\n    Slider.prototype.fractionalToInteger = function (value) {\n        value = (this.numberOfDecimals(value) === 0) ? Number(value).toFixed(this.noOfDecimals) : value;\n        var tens = 1;\n        for (var i = 0; i < this.noOfDecimals; i++) {\n            tens *= 10;\n        }\n        value = Number((value * tens).toFixed(0));\n        return value;\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    Slider.prototype.render = function () {\n        if (!isBlazor() || !this.isServerRendered) {\n            this.initialize();\n        }\n        this.initRender();\n        this.wireEvents();\n        this.setZindex();\n        this.renderComplete();\n    };\n    Slider.prototype.initialize = function () {\n        addClass([this.element], classNames.root);\n        this.setCSSClass();\n    };\n    Slider.prototype.setElementWidth = function (width) {\n        if (!isNullOrUndefined(width)) {\n            if (typeof width === 'number') {\n                this.sliderContainer.style.width = formatUnit(width);\n            }\n            else if (typeof width === 'string') {\n                this.sliderContainer.style.width = (width.match(/px|%|em/)) ? (width) : (formatUnit(width));\n            }\n        }\n    };\n    Slider.prototype.setCSSClass = function (oldCSSClass) {\n        if (oldCSSClass) {\n            removeClass([this.element], oldCSSClass.split(' '));\n        }\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n    };\n    Slider.prototype.setEnabled = function () {\n        if (!this.enabled) {\n            addClass([this.sliderContainer], [classNames.sliderDisabled]);\n            if (this.tooltip.isVisible && this.tooltipElement && this.tooltip.showOn === 'Always') {\n                this.tooltipElement.classList.add(classNames.sliderDisabled);\n            }\n            this.unwireEvents();\n        }\n        else {\n            removeClass([this.sliderContainer], [classNames.sliderDisabled]);\n            if (this.tooltip.isVisible && this.tooltipElement && this.tooltip.showOn === 'Always') {\n                this.tooltipElement.classList.remove(classNames.sliderDisabled);\n            }\n            this.wireEvents();\n        }\n    };\n    Slider.prototype.getTheme = function (container) {\n        var theme = window.getComputedStyle(container, ':after').getPropertyValue('content');\n        return theme.replace(/['\"]+/g, '');\n    };\n    /**\n     * Initialize the rendering\n     * @private\n     */\n    Slider.prototype.initRender = function () {\n        if (isBlazor() && this.isServerRendered) {\n            this.sliderContainer = this.element.parentElement;\n            this.sliderTrack = this.element.querySelector('.e-slider-track');\n            this.hiddenInput = this.element.parentElement.querySelector('.e-slider-input');\n        }\n        else {\n            this.sliderContainer = this.createElement('div', { className: classNames.sliderContainer + ' ' + classNames.controlWrapper });\n            this.element.parentNode.insertBefore(this.sliderContainer, this.element);\n            this.sliderContainer.appendChild(this.element);\n            this.sliderTrack = this.createElement('div', { className: classNames.sliderTrack });\n            this.element.appendChild(this.sliderTrack);\n        }\n        this.setElementWidth(this.width);\n        this.element.tabIndex = -1;\n        this.getThemeInitialization();\n        this.setHandler();\n        this.createRangeBar();\n        if (this.limits.enabled) {\n            this.createLimitBar();\n        }\n        if (!isBlazor() || !this.isServerRendered) {\n            this.setOrientClass();\n            this.hiddenInput = (this.createElement('input', {\n                attrs: {\n                    type: 'hidden', value: (isNullOrUndefined(this.value) ? this.min.toString() : this.value.toString()),\n                    name: this.element.getAttribute('name') || this.element.getAttribute('id') ||\n                        '_' + (Math.random() * 1000).toFixed(0) + 'slider', class: classNames.sliderHiddenInput\n                }\n            }));\n            this.hiddenInput.tabIndex = -1;\n            this.sliderContainer.appendChild(this.hiddenInput);\n        }\n        if (this.showButtons) {\n            this.setButtons();\n        }\n        this.setEnableRTL();\n        if (this.type === 'Range') {\n            this.rangeValueUpdate();\n        }\n        else {\n            this.value = isNullOrUndefined(this.value) ? parseFloat(formatUnit(this.min.toString())) : this.value;\n        }\n        this.previousVal = this.type !== 'Range' ? this.checkHandleValue(parseFloat(formatUnit(this.value.toString()))) :\n            [this.checkHandleValue(parseFloat(formatUnit(this.value[0].toString()))),\n                this.checkHandleValue(parseFloat(formatUnit(this.value[1].toString())))];\n        this.previousChanged = this.previousVal;\n        if (!isNullOrUndefined(this.element.hasAttribute('name'))) {\n            this.element.removeAttribute('name');\n        }\n        this.setValue();\n        if (this.limits.enabled) {\n            this.setLimitBar();\n        }\n        if (this.ticks.placement !== 'None') {\n            this.renderScale();\n        }\n        if (this.tooltip.isVisible) {\n            this.renderTooltip();\n        }\n        if (!isBlazor() || !this.isServerRendered) {\n            if (!this.enabled) {\n                addClass([this.sliderContainer], [classNames.sliderDisabled]);\n            }\n            else {\n                removeClass([this.sliderContainer], [classNames.sliderDisabled]);\n            }\n            if (this.readonly) {\n                addClass([this.sliderContainer], [classNames.readonly]);\n            }\n            else {\n                removeClass([this.sliderContainer], [classNames.readonly]);\n            }\n        }\n    };\n    Slider.prototype.getThemeInitialization = function () {\n        this.isMaterial = this.getTheme(this.sliderContainer) === 'material'\n            || this.getTheme(this.sliderContainer) === 'material-dark';\n        this.isBootstrap = this.getTheme(this.sliderContainer) === 'bootstrap'\n            || this.getTheme(this.sliderContainer) === 'bootstrap-dark';\n        this.isBootstrap4 = this.getTheme(this.sliderContainer) === 'bootstrap4';\n        this.isMaterialTooltip = this.isMaterial && this.type !== 'Range' && this.tooltip.isVisible;\n    };\n    Slider.prototype.createRangeBar = function () {\n        if (this.type !== 'Default') {\n            this.rangeBar = (this.createElement('div', { attrs: { class: classNames.rangeBar } }));\n            this.element.appendChild(this.rangeBar);\n            if (this.drag && this.type === 'Range') {\n                if (this.orientation === 'Horizontal') {\n                    this.rangeBar.classList.add(classNames.dragHorizontal);\n                }\n                else {\n                    this.rangeBar.classList.add(classNames.dragVertical);\n                }\n            }\n        }\n    };\n    Slider.prototype.createLimitBar = function () {\n        if (isBlazor() && this.isServerRendered) {\n            this.limitBarFirst = this.element.querySelectorAll('.e-limits')[0];\n            if (this.type === 'Range') {\n                this.limitBarSecond = this.element.querySelectorAll('.e-limit-second')[0];\n            }\n        }\n        else {\n            var firstElementClassName = this.type !== 'Range' ? classNames.limitBarDefault :\n                classNames.limitBarFirst;\n            firstElementClassName += ' ' + classNames.limits;\n            this.limitBarFirst = (this.createElement('div', {\n                attrs: { class: firstElementClassName }\n            }));\n            this.element.appendChild(this.limitBarFirst);\n            if (this.type === 'Range') {\n                this.limitBarSecond = (this.createElement('div', {\n                    attrs: {\n                        class: classNames.limitBarSecond + ' ' + classNames.limits\n                    }\n                }));\n                this.element.appendChild(this.limitBarSecond);\n            }\n        }\n    };\n    Slider.prototype.setOrientClass = function () {\n        if (this.orientation !== 'Vertical') {\n            this.sliderContainer.classList.remove(classNames.verticalSlider);\n            this.sliderContainer.classList.add(classNames.horizontalSlider);\n            this.firstHandle.setAttribute('aria-orientation', 'horizontal');\n            if (this.type === 'Range') {\n                this.secondHandle.setAttribute('aria-orientation', 'horizontal');\n            }\n        }\n        else {\n            this.sliderContainer.classList.remove(classNames.horizontalSlider);\n            this.sliderContainer.classList.add(classNames.verticalSlider);\n            this.firstHandle.setAttribute('aria-orientation', 'vertical');\n            if (this.type === 'Range') {\n                this.secondHandle.setAttribute('aria-orientation', 'vertical');\n            }\n        }\n    };\n    Slider.prototype.setAriaAttributes = function (element) {\n        var _this = this;\n        var min = this.min;\n        var max = this.max;\n        if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n            min = this.customValues[0];\n            max = this.customValues[this.customValues.length - 1];\n        }\n        if (this.type !== 'Range') {\n            attributes(element, {\n                'aria-valuemin': min.toString(), 'aria-valuemax': max.toString()\n            });\n        }\n        else {\n            var range = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 ?\n                [[min.toString(), (this.customValues[this.value[1]]).toString()],\n                    [(this.customValues[this.value[0]]).toString(), max.toString()]] :\n                [[min.toString(), this.value[1].toString()], [this.value[0].toString(), max.toString()]];\n            range.forEach(function (range, index) {\n                var element = index === 0 ? _this.firstHandle : _this.secondHandle;\n                if (element) {\n                    attributes(element, {\n                        'aria-valuemin': range[0], 'aria-valuemax': range[1]\n                    });\n                }\n            });\n        }\n    };\n    Slider.prototype.createSecondHandle = function () {\n        if (isBlazor() && this.isServerRendered) {\n            this.secondHandle = this.element.querySelector('.e-handle-second');\n        }\n        else {\n            this.secondHandle = this.createElement('div', {\n                attrs: {\n                    class: classNames.sliderHandle, 'role': 'slider', tabIndex: '0'\n                }\n            });\n            this.secondHandle.classList.add(classNames.sliderSecondHandle);\n            this.element.appendChild(this.secondHandle);\n        }\n    };\n    Slider.prototype.createFirstHandle = function () {\n        if (isBlazor() && this.isServerRendered) {\n            this.firstHandle = this.element.querySelector('.e-handle-first');\n        }\n        else {\n            this.firstHandle = this.createElement('div', {\n                attrs: {\n                    class: classNames.sliderHandle, 'role': 'slider', tabIndex: '0'\n                }\n            });\n            this.firstHandle.classList.add(classNames.sliderFirstHandle);\n            this.element.appendChild(this.firstHandle);\n        }\n        if (this.isMaterialTooltip) {\n            this.materialHandle = this.createElement('div', {\n                attrs: {\n                    class: classNames.sliderHandle + ' ' +\n                        classNames.sliderMaterialHandle\n                }\n            });\n            this.element.appendChild(this.materialHandle);\n        }\n    };\n    Slider.prototype.wireFirstHandleEvt = function (destroy) {\n        if (!destroy) {\n            EventHandler.add(this.firstHandle, 'mousedown touchstart', this.handleFocus, this);\n            EventHandler.add(this.firstHandle, 'transitionend', this.transitionEnd, this);\n            EventHandler.add(this.firstHandle, 'mouseenter touchenter', this.handleOver, this);\n            EventHandler.add(this.firstHandle, 'mouseleave touchend', this.handleLeave, this);\n        }\n        else {\n            EventHandler.remove(this.firstHandle, 'mousedown touchstart', this.handleFocus);\n            EventHandler.remove(this.firstHandle, 'transitionend', this.transitionEnd);\n            EventHandler.remove(this.firstHandle, 'mouseenter touchenter', this.handleOver);\n            EventHandler.remove(this.firstHandle, 'mouseleave touchend', this.handleLeave);\n        }\n    };\n    Slider.prototype.wireSecondHandleEvt = function (destroy) {\n        if (!destroy) {\n            EventHandler.add(this.secondHandle, 'mousedown touchstart', this.handleFocus, this);\n            EventHandler.add(this.secondHandle, 'transitionend', this.transitionEnd, this);\n            EventHandler.add(this.secondHandle, 'mouseenter touchenter', this.handleOver, this);\n            EventHandler.add(this.secondHandle, 'mouseleave touchend', this.handleLeave, this);\n        }\n        else {\n            EventHandler.remove(this.secondHandle, 'mousedown touchstart', this.handleFocus);\n            EventHandler.remove(this.secondHandle, 'transitionend', this.transitionEnd);\n            EventHandler.remove(this.secondHandle, 'mouseenter touchenter', this.handleOver);\n            EventHandler.remove(this.secondHandle, 'mouseleave touchend', this.handleLeave);\n        }\n    };\n    Slider.prototype.handleStart = function () {\n        if (this.type !== 'Range') {\n            this.firstHandle.classList[this.handlePos1 === 0 ? 'add' : 'remove'](classNames.sliderHandleStart);\n            if (this.isMaterialTooltip) {\n                this.materialHandle.classList[this.handlePos1 === 0 ? 'add' : 'remove'](classNames.sliderHandleStart);\n                if (this.tooltipElement) {\n                    this.tooltipElement.classList[this.handlePos1 === 0 ? 'add' : 'remove'](classNames.sliderTooltipStart);\n                }\n            }\n        }\n    };\n    Slider.prototype.transitionEnd = function (e) {\n        if (e.propertyName !== 'transform') {\n            this.handleStart();\n            this.getHandle().style.transition = 'none';\n            if (this.type !== 'Default') {\n                this.rangeBar.style.transition = 'none';\n            }\n            if (this.isMaterial && this.tooltip.isVisible && this.type === 'Default') {\n                this.tooltipElement.style.transition = this.transition.handle;\n            }\n            this.tooltipToggle(this.getHandle());\n            this.closeTooltip();\n        }\n    };\n    Slider.prototype.handleFocusOut = function () {\n        if (this.firstHandle.classList.contains(classNames.sliderHandleFocused)) {\n            this.firstHandle.classList.remove(classNames.sliderHandleFocused);\n        }\n        if (this.type === 'Range') {\n            if (this.secondHandle.classList.contains(classNames.sliderHandleFocused)) {\n                this.secondHandle.classList.remove(classNames.sliderHandleFocused);\n            }\n        }\n    };\n    Slider.prototype.handleFocus = function (e) {\n        this.focusSliderElement();\n        this.sliderBarClick(e);\n        if (e.currentTarget === this.firstHandle) {\n            this.firstHandle.classList.add(classNames.sliderHandleFocused);\n        }\n        else {\n            this.secondHandle.classList.add(classNames.sliderHandleFocused);\n        }\n        EventHandler.add(document, 'mousemove touchmove', this.sliderBarMove, this);\n        EventHandler.add(document, 'mouseup touchend', this.sliderBarUp, this);\n    };\n    Slider.prototype.handleOver = function (e) {\n        if (this.tooltip.isVisible && this.tooltip.showOn === 'Hover') {\n            this.tooltipToggle(e.currentTarget);\n        }\n    };\n    Slider.prototype.handleLeave = function (e) {\n        if (this.tooltip.isVisible && this.tooltip.showOn === 'Hover' &&\n            !e.currentTarget.classList.contains(classNames.sliderHandleFocused) &&\n            !e.currentTarget.classList.contains(classNames.sliderTabHandle)) {\n            this.closeTooltip();\n        }\n    };\n    Slider.prototype.setHandler = function () {\n        if (this.min > this.max) {\n            this.min = this.max;\n        }\n        this.createFirstHandle();\n        if (this.type === 'Range') {\n            this.createSecondHandle();\n        }\n    };\n    Slider.prototype.setEnableRTL = function () {\n        if (!isBlazor() || !this.isServerRendered) {\n            this.enableRtl && this.orientation !== 'Vertical' ? addClass([this.sliderContainer], classNames.rtl) :\n                removeClass([this.sliderContainer], classNames.rtl);\n            var preDir = (this.orientation !== 'Vertical') ? this.horDir : this.verDir;\n            if (this.enableRtl) {\n                this.horDir = 'right';\n                this.verDir = 'bottom';\n            }\n            else {\n                this.horDir = 'left';\n                this.verDir = 'bottom';\n            }\n            var currDir = (this.orientation !== 'Vertical') ? this.horDir : this.verDir;\n            if (preDir !== currDir) {\n                if (this.orientation === 'Horizontal') {\n                    setStyleAttribute(this.firstHandle, { 'right': '', 'left': 'auto' });\n                    if (this.type === 'Range') {\n                        setStyleAttribute(this.secondHandle, { 'top': '', 'left': 'auto' });\n                    }\n                }\n            }\n        }\n        this.setBarColor();\n    };\n    Slider.prototype.tooltipValue = function () {\n        var _this = this;\n        var text;\n        var args = {\n            value: this.value,\n            text: ''\n        };\n        if (isBlazor() && this.isServerRendered) {\n            args.text = this.formatContent(this.tooltipFormatInfo, false);\n        }\n        else {\n            this.setTooltipContent();\n            args.text = text = this.tooltipObj.content;\n        }\n        this.trigger('tooltipChange', args, function (observedArgs) {\n            _this.addTooltipClass(observedArgs.text);\n            if (text !== observedArgs.text) {\n                _this.customAriaText = observedArgs.text;\n                _this.tooltipObj.content = observedArgs.text;\n                _this.setAriaAttrValue(_this.firstHandle);\n                if (_this.type === 'Range') {\n                    _this.setAriaAttrValue(_this.secondHandle);\n                }\n            }\n        });\n    };\n    Slider.prototype.setTooltipContent = function () {\n        var content;\n        content = this.formatContent(this.tooltipFormatInfo, false);\n        this.tooltipObj.content = content;\n    };\n    Slider.prototype.formatContent = function (formatInfo, ariaContent) {\n        var content = '';\n        var handle1 = this.handleVal1;\n        var handle2 = this.handleVal2;\n        if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n            handle1 = this.customValues[this.handleVal1];\n            handle2 = this.customValues[this.handleVal2];\n        }\n        if (!ariaContent) {\n            if (this.type === 'Range') {\n                if (this.enableRtl && this.orientation !== 'Vertical') {\n                    content = (!isNullOrUndefined(formatInfo.format)) ? (this.formatString(handle2, formatInfo)\n                        .formatString + ' - ' + this.formatString(handle1, formatInfo).formatString) :\n                        (handle2.toString() + ' - ' + handle1.toString());\n                }\n                else {\n                    content = (!isNullOrUndefined(formatInfo.format)) ? (this.formatString(handle1, formatInfo)\n                        .formatString + ' - ' + this.formatString(handle2, formatInfo).formatString) :\n                        (handle1.toString() + ' - ' + handle2.toString());\n                }\n            }\n            else {\n                if (!isNullOrUndefined(handle1)) {\n                    content = (!isNullOrUndefined(formatInfo.format)) ?\n                        this.formatString(handle1, formatInfo).formatString : handle1.toString();\n                }\n            }\n            return content;\n        }\n        else {\n            if (this.type === 'Range') {\n                if (this.enableRtl && this.orientation !== 'Vertical') {\n                    content = (!isNullOrUndefined(this.tooltip) && !isNullOrUndefined(this.tooltip.format)) ?\n                        (this.formatString(handle2, formatInfo).elementVal + ' - ' +\n                            this.formatString(handle1, formatInfo).elementVal) :\n                        (handle2.toString() + ' - ' + handle1.toString());\n                }\n                else {\n                    content = (!isNullOrUndefined(this.tooltip) && !isNullOrUndefined(this.tooltip.format)) ?\n                        (this.formatString(handle1, formatInfo).elementVal + ' - ' +\n                            this.formatString(handle2, formatInfo).elementVal) :\n                        (handle1.toString() + ' - ' + handle2.toString());\n                }\n            }\n            else {\n                if (!isNullOrUndefined(handle1)) {\n                    content = (!isNullOrUndefined(this.tooltip) && !isNullOrUndefined(this.tooltip.format)) ?\n                        this.formatString(handle1, formatInfo).elementVal : handle1.toString();\n                }\n            }\n            return content;\n        }\n    };\n    Slider.prototype.addTooltipClass = function (content) {\n        if (this.isMaterialTooltip) {\n            var count = content.toString().length;\n            if (!this.tooltipElement) {\n                var cssClass = count > 4 ? classNames.sliderMaterialRange : classNames.sliderMaterialDefault;\n                this.tooltipObj.cssClass = classNames.sliderTooltip + ' ' + cssClass;\n            }\n            else {\n                var cssClass = count > 4 ?\n                    { oldCss: classNames.sliderMaterialDefault, newCss: classNames.sliderMaterialRange } :\n                    { oldCss: classNames.sliderMaterialRange, newCss: classNames.sliderMaterialDefault };\n                this.tooltipElement.classList.remove(cssClass.oldCss);\n                if (!this.tooltipElement.classList.contains(cssClass.newCss)) {\n                    this.tooltipElement.classList.add(cssClass.newCss);\n                    this.tooltipElement.style.transform = count > 4 ? 'scale(1)' :\n                        this.getTooltipTransformProperties(this.previousTooltipClass).rotate;\n                }\n            }\n        }\n    };\n    Slider.prototype.tooltipPlacement = function () {\n        return this.orientation === 'Horizontal' ? (this.tooltip.placement === 'Before' ? 'TopCenter' : 'BottomCenter') :\n            (this.tooltip.placement === 'Before' ? 'LeftCenter' : 'RightCenter');\n    };\n    Slider.prototype.tooltipBeforeOpen = function (args) {\n        this.tooltipElement = args.element;\n        if (this.tooltip.cssClass) {\n            addClass([this.tooltipElement], this.tooltip.cssClass.split(' ').filter(function (css) { return css; }));\n        }\n        args.target.removeAttribute('aria-describedby');\n        if (this.isMaterialTooltip) {\n            this.tooltipElement.firstElementChild.classList.add(classNames.materialTooltipHide);\n            this.handleStart();\n            this.setTooltipTransform();\n        }\n    };\n    Slider.prototype.tooltipCollision = function (position) {\n        if (this.isBootstrap || this.isBootstrap4 || (this.isMaterial && !this.isMaterialTooltip)) {\n            var tooltipOffsetValue = this.isBootstrap4 ? bootstrap4TooltipOffset : bootstrapTooltipOffset;\n            switch (position) {\n                case 'TopCenter':\n                    this.tooltipObj.setProperties({ 'offsetY': -(tooltipOffsetValue) }, false);\n                    break;\n                case 'BottomCenter':\n                    this.tooltipObj.setProperties({ 'offsetY': tooltipOffsetValue }, false);\n                    break;\n                case 'LeftCenter':\n                    this.tooltipObj.setProperties({ 'offsetX': -(tooltipOffsetValue) }, false);\n                    break;\n                case 'RightCenter':\n                    this.tooltipObj.setProperties({ 'offsetX': tooltipOffsetValue }, false);\n                    break;\n            }\n        }\n    };\n    Slider.prototype.materialTooltipEventCallBack = function (event) {\n        this.sliderBarClick(event);\n        EventHandler.add(document, 'mousemove touchmove', this.sliderBarMove, this);\n        EventHandler.add(document, 'mouseup touchend', this.sliderBarUp, this);\n    };\n    Slider.prototype.wireMaterialTooltipEvent = function (destroy) {\n        if (this.isMaterialTooltip) {\n            if (!destroy) {\n                EventHandler.add(this.tooltipElement, 'mousedown touchstart', this.materialTooltipEventCallBack, this);\n            }\n            else {\n                EventHandler.remove(this.tooltipElement, 'mousedown touchstart', this.materialTooltipEventCallBack);\n            }\n        }\n    };\n    Slider.prototype.tooltipPositionCalculation = function (position) {\n        var cssClass;\n        switch (position) {\n            case 'TopCenter':\n                cssClass = classNames.horizontalTooltipBefore;\n                break;\n            case 'BottomCenter':\n                cssClass = classNames.horizontalTooltipAfter;\n                break;\n            case 'LeftCenter':\n                cssClass = classNames.verticalTooltipBefore;\n                break;\n            case 'RightCenter':\n                cssClass = classNames.verticalTooltipAfter;\n                break;\n        }\n        return cssClass;\n    };\n    Slider.prototype.getTooltipTransformProperties = function (className) {\n        var transformProperties;\n        if (this.tooltipElement) {\n            var position = this.orientation === 'Horizontal' ?\n                ((this.tooltipElement.clientHeight + 14) - (this.tooltipElement.clientHeight / 2)) :\n                ((this.tooltipElement.clientWidth + 14) - (this.tooltipElement.clientWidth / 2));\n            transformProperties = this.orientation === 'Horizontal' ?\n                (className === classNames.horizontalTooltipBefore ? { rotate: 'rotate(45deg)', translate: \"translateY(\" + position + \"px)\" } :\n                    { rotate: 'rotate(225deg)', translate: \"translateY(\" + -(position) + \"px)\" }) :\n                (className === classNames.verticalTooltipBefore ? { rotate: 'rotate(-45deg)', translate: \"translateX(\" + position + \"px)\" } :\n                    { rotate: 'rotate(-225deg)', translate: \"translateX(\" + (-position) + \"px)\" });\n        }\n        return transformProperties;\n    };\n    Slider.prototype.openMaterialTooltip = function () {\n        var _this = this;\n        if (this.isMaterialTooltip) {\n            this.refreshTooltip(this.firstHandle);\n            var tooltipContentElement = this.tooltipElement.firstElementChild;\n            tooltipContentElement.classList.remove(classNames.materialTooltipHide);\n            tooltipContentElement.classList.add(classNames.materialTooltipShow);\n            this.firstHandle.style.cursor = 'default';\n            this.tooltipElement.style.transition = this.scaleTransform;\n            this.tooltipElement.classList.add(classNames.materialTooltipOpen);\n            this.materialHandle.style.transform = 'scale(0)';\n            if (tooltipContentElement.innerText.length > 4) {\n                this.tooltipElement.style.transform = 'scale(1)';\n            }\n            else {\n                this.tooltipElement.style.transform = this.getTooltipTransformProperties(this.previousTooltipClass).rotate;\n            }\n            if (this.type === 'Default') {\n                setTimeout(function () { _this.tooltipElement.style.transition = _this.transition.handle; }, 2500);\n            }\n            else {\n                setTimeout(function () { _this.tooltipElement.style.transition = 'none'; }, 2500);\n            }\n        }\n    };\n    Slider.prototype.closeMaterialTooltip = function () {\n        var _this = this;\n        if (this.isMaterialTooltip) {\n            var tooltipContentElement = this.tooltipElement.firstElementChild;\n            this.tooltipElement.style.transition = this.scaleTransform;\n            tooltipContentElement.classList.remove(classNames.materialTooltipShow);\n            tooltipContentElement.classList.add(classNames.materialTooltipHide);\n            this.firstHandle.style.cursor = '-webkit-grab';\n            this.firstHandle.style.cursor = 'grab';\n            if (this.materialHandle) {\n                this.materialHandle.style.transform = 'scale(1)';\n            }\n            this.tooltipElement.classList.remove(classNames.materialTooltipOpen);\n            this.setTooltipTransform();\n            this.tooltipTarget = undefined;\n            setTimeout(function () { _this.tooltipElement.style.transition = 'none'; }, 2500);\n        }\n    };\n    Slider.prototype.checkTooltipPosition = function (args) {\n        if (this.tooltipCollidedPosition === undefined ||\n            this.tooltipCollidedPosition !== args.collidedPosition) {\n            if (this.isMaterialTooltip) {\n                var tooltipClass = this.tooltipPositionCalculation(args.collidedPosition);\n                if (tooltipClass !== undefined) {\n                    args.element.classList.remove(this.previousTooltipClass);\n                    args.element.classList.add(tooltipClass);\n                    this.previousTooltipClass = tooltipClass;\n                }\n                if (args.element.style.transform && args.element.classList.contains(classNames.materialTooltipOpen) &&\n                    args.element.firstElementChild.innerText.length <= 4) {\n                    args.element.style.transform = this.getTooltipTransformProperties(this.previousTooltipClass).rotate;\n                }\n            }\n            this.tooltipCollidedPosition = args.collidedPosition;\n        }\n        if (this.isMaterialTooltip && this.tooltipElement && this.tooltipElement.style.transform.indexOf('translate') !== -1) {\n            this.setTooltipTransform();\n        }\n    };\n    Slider.prototype.setTooltipTransform = function () {\n        var transformProperties = this.getTooltipTransformProperties(this.previousTooltipClass);\n        if (this.tooltipElement.firstElementChild.innerText.length > 4) {\n            this.tooltipElement.style.transform = transformProperties.translate + \" scale(0.01)\";\n        }\n        else {\n            this.tooltipElement.style.transform = transformProperties.translate + \" \" + transformProperties.rotate + \" scale(0.01)\";\n        }\n    };\n    Slider.prototype.renderTooltip = function () {\n        this.tooltipObj = new Tooltip({\n            showTipPointer: this.isBootstrap || this.isMaterial || this.isBootstrap4,\n            cssClass: classNames.sliderTooltip,\n            height: this.isMaterial ? 30 : 'auto',\n            animation: { open: { effect: 'None' }, close: { effect: 'FadeOut', duration: 500 } },\n            opensOn: 'Custom',\n            beforeOpen: this.tooltipBeforeOpen.bind(this),\n            beforeCollision: this.checkTooltipPosition.bind(this),\n            beforeClose: this.tooltipBeforeClose.bind(this),\n            enableHtmlSanitizer: this.enableHtmlSanitizer\n        });\n        this.tooltipObj.appendTo(this.firstHandle);\n        this.initializeTooltipProps();\n    };\n    Slider.prototype.initializeTooltipProps = function () {\n        var tooltipShowOn = this.isMaterialTooltip ? 'Always' : (this.tooltip.showOn === 'Auto' ? 'Hover' : this.tooltip.showOn);\n        this.setProperties({ tooltip: { showOn: tooltipShowOn } }, true);\n        this.tooltipObj.position = this.tooltipPlacement();\n        this.tooltipCollision(this.tooltipObj.position);\n        [this.firstHandle, this.rangeBar, this.secondHandle].forEach(function (handle) {\n            if (!isNullOrUndefined(handle)) {\n                handle.style.transition = 'none';\n            }\n        });\n        if (this.isMaterialTooltip) {\n            this.sliderContainer.classList.add(classNames.materialSlider);\n            if (!isBlazor()) {\n                this.tooltipValue();\n            }\n            this.tooltipObj.animation.close.effect = 'None';\n            this.tooltipObj.open(this.firstHandle);\n        }\n    };\n    Slider.prototype.tooltipBeforeClose = function () {\n        this.tooltipElement = undefined;\n        this.tooltipCollidedPosition = undefined;\n    };\n    Slider.prototype.setButtons = function () {\n        if (isBlazor() && this.isServerRendered) {\n            this.firstBtn = this.element.parentElement.querySelector('.e-slider-button.e-first-button');\n            this.secondBtn = this.element.parentElement.querySelector('.e-slider-button.e-second-button');\n        }\n        else {\n            this.firstBtn = this.createElement('div', { className: classNames.sliderButton + ' ' + classNames.firstButton });\n            this.firstBtn.appendChild(this.createElement('span', { className: classNames.sliderButtonIcon }));\n            this.firstBtn.tabIndex = -1;\n            this.secondBtn = this.createElement('div', { className: classNames.sliderButton + ' ' + classNames.secondButton });\n            this.secondBtn.appendChild(this.createElement('span', { className: classNames.sliderButtonIcon }));\n            this.secondBtn.tabIndex = -1;\n            this.sliderContainer.classList.add(classNames.sliderButtonClass);\n            this.sliderContainer.appendChild(this.firstBtn);\n            this.sliderContainer.appendChild(this.secondBtn);\n            this.sliderContainer.appendChild(this.element);\n            this.buttonTitle();\n        }\n    };\n    Slider.prototype.buttonTitle = function () {\n        var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\n        this.l10n.setLocale(this.locale);\n        var decrementTitle = this.l10n.getConstant('decrementTitle');\n        var incrementTitle = this.l10n.getConstant('incrementTitle');\n        attributes(enabledRTL ? this.secondBtn : this.firstBtn, { 'aria-label': decrementTitle, title: decrementTitle });\n        attributes(enabledRTL ? this.firstBtn : this.secondBtn, { 'aria-label': incrementTitle, title: incrementTitle });\n    };\n    Slider.prototype.buttonFocusOut = function () {\n        if (this.isMaterial) {\n            this.getHandle().classList.remove('e-large-thumb-size');\n        }\n    };\n    Slider.prototype.repeatButton = function (args) {\n        var hVal = this.handleValueUpdate();\n        var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\n        var value;\n        if (args.target.parentElement.classList.contains(classNames.firstButton)\n            || args.target.classList.contains(classNames.firstButton)) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.step.toString()), true)) :\n                (value = this.add(hVal, parseFloat(this.step.toString()), false));\n        }\n        else if (args.target.parentElement.classList.contains(classNames.secondButton)\n            || (args.target.classList.contains(classNames.secondButton))) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.step.toString()), false)) :\n                (value = this.add(hVal, parseFloat(this.step.toString()), true));\n        }\n        if (this.limits.enabled) {\n            value = this.getLimitCorrectedValues(value);\n        }\n        if (value >= this.min && value <= this.max) {\n            this.changeHandleValue(value);\n            this.tooltipToggle(this.getHandle());\n        }\n    };\n    Slider.prototype.repeatHandlerMouse = function (args) {\n        args.preventDefault();\n        if (args.type === ('mousedown') || args.type === ('touchstart')) {\n            this.buttonClick(args);\n            this.repeatInterval = setInterval(this.repeatButton.bind(this), 180, args);\n        }\n    };\n    Slider.prototype.materialChange = function () {\n        if (!this.getHandle().classList.contains('e-large-thumb-size')) {\n            this.getHandle().classList.add('e-large-thumb-size');\n        }\n    };\n    Slider.prototype.repeatHandlerUp = function (e) {\n        this.changeEvent('changed', e);\n        this.closeTooltip();\n        clearInterval(this.repeatInterval);\n        this.getHandle().focus();\n    };\n    Slider.prototype.customTickCounter = function (bigNum) {\n        var tickCount = 4;\n        if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n            if (bigNum > 4) {\n                tickCount = 3;\n            }\n            if (bigNum > 7) {\n                tickCount = 2;\n            }\n            if (bigNum > 14) {\n                tickCount = 1;\n            }\n            if (bigNum > 28) {\n                tickCount = 0;\n            }\n        }\n        return tickCount;\n    };\n    // tslint:disable-next-line:max-func-body-length\n    Slider.prototype.renderScale = function () {\n        var liElementPosition = 0;\n        var orien = this.orientation === 'Vertical' ? 'v' : 'h';\n        var spanText;\n        this.noOfDecimals = this.numberOfDecimals(this.step);\n        if (isBlazor() && this.isServerRendered) {\n            this.ul = this.element.querySelector('ul');\n        }\n        else {\n            this.ul = this.createElement('ul', {\n                className: classNames.scale + ' ' + 'e-' + orien + '-scale ' + classNames.tick + '-' + this.ticks.placement.toLowerCase(),\n                attrs: { role: 'presentation', tabIndex: '-1', 'aria-hidden': 'true' }\n            });\n        }\n        this.ul.style.zIndex = '-1';\n        if (Browser.isAndroid && orien === 'h') {\n            this.ul.classList.add(classNames.sliderTickPosition);\n        }\n        var smallStep = this.ticks.smallStep;\n        if (!this.ticks.showSmallTicks) {\n            this.ticks.largeStep > 0 ? (smallStep = this.ticks.largeStep) :\n                (smallStep = (parseFloat(formatUnit(this.max))) - (parseFloat(formatUnit(this.min))));\n        }\n        else if (smallStep <= 0) {\n            smallStep = parseFloat(formatUnit(this.step));\n        }\n        var min = this.fractionalToInteger(this.min);\n        var max = this.fractionalToInteger(this.max);\n        var steps = this.fractionalToInteger(smallStep);\n        var bigNum = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 && this.customValues.length - 1;\n        var customStep = this.customTickCounter(bigNum);\n        var count = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 ?\n            (bigNum * customStep) + bigNum : Math.abs((max - min) / steps);\n        if (!isBlazor() || !this.isServerRendered) {\n            this.element.appendChild(this.ul);\n        }\n        var li;\n        var start = parseFloat(this.min.toString());\n        if (orien === 'v') {\n            start = parseFloat(this.max.toString());\n        }\n        var left = 0;\n        var islargeTick;\n        var tickWidth = 100 / count;\n        if (tickWidth === Infinity) {\n            tickWidth = 5;\n        }\n        for (var i = 0, y = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 ?\n            this.customValues.length - 1 : 0, k = 0; i <= count; i++) {\n            li = (this.createElement('li', {\n                attrs: {\n                    class: classNames.tick, role: 'presentation', tabIndex: '-1',\n                    'aria-hidden': 'true'\n                }\n            }));\n            if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n                islargeTick = i % (customStep + 1) === 0;\n                if (islargeTick) {\n                    if (orien === 'h') {\n                        start = this.customValues[k];\n                        k++;\n                    }\n                    else {\n                        start = this.customValues[y];\n                        y--;\n                    }\n                    li.setAttribute('title', start.toString());\n                }\n            }\n            else {\n                li.setAttribute('title', start.toString());\n                if (this.numberOfDecimals(this.max) === 0 && this.numberOfDecimals(this.min) === 0 &&\n                    this.numberOfDecimals(this.step) === 0) {\n                    if (orien === 'h') {\n                        islargeTick = ((start - parseFloat(this.min.toString())) % this.ticks.largeStep === 0) ? true : false;\n                    }\n                    else {\n                        islargeTick = (Math.abs(start - parseFloat(this.max.toString())) % this.ticks.largeStep === 0) ? true : false;\n                    }\n                }\n                else {\n                    var largestep = this.fractionalToInteger(this.ticks.largeStep);\n                    var startValue = this.fractionalToInteger(start);\n                    if (orien === 'h') {\n                        islargeTick = ((startValue - min) % largestep === 0) ? true : false;\n                    }\n                    else {\n                        islargeTick = (Math.abs(startValue - parseFloat(max.toString())) % largestep === 0) ? true : false;\n                    }\n                }\n            }\n            if (islargeTick) {\n                li.classList.add(classNames.large);\n            }\n            (orien === 'h') ? (li.style.width = tickWidth + '%') : (li.style.height = tickWidth + '%');\n            var repeat = islargeTick ? (this.ticks.placement === 'Both' ? 2 : 1) : 0;\n            if (islargeTick) {\n                for (var j = 0; j < repeat; j++) {\n                    this.createTick(li, start, tickWidth);\n                }\n                if (isBlazor() && this.isServerRendered && isNullOrUndefined(this.customValues)) {\n                    this.updateTicksValues(start, this.ul.children[liElementPosition]);\n                    liElementPosition++;\n                }\n            }\n            else if (isNullOrUndefined(this.customValues)) {\n                this.formatTicksValue(li, start);\n                if (isBlazor() && this.isServerRendered && isNullOrUndefined(this.customValues)) {\n                    this.updateTicksValues(start, this.ul.children[liElementPosition]);\n                    liElementPosition++;\n                }\n            }\n            if (!isBlazor() || !this.isServerRendered) {\n                this.ul.appendChild(li);\n            }\n            this.tickElementCollection.push(li);\n            var decimalPoints = void 0;\n            if (isNullOrUndefined(this.customValues)) {\n                if (this.numberOfDecimals(smallStep) > this.numberOfDecimals(start)) {\n                    decimalPoints = this.numberOfDecimals(smallStep);\n                }\n                else {\n                    decimalPoints = this.numberOfDecimals(start);\n                }\n                if (orien === 'h') {\n                    start = this.makeRoundNumber(start + smallStep, decimalPoints);\n                }\n                else {\n                    start = this.makeRoundNumber(start - smallStep, decimalPoints);\n                }\n                left = this.makeRoundNumber(left + smallStep, decimalPoints);\n            }\n        }\n        this.ticksAlignment(orien, tickWidth);\n    };\n    Slider.prototype.updateTicksValues = function (start, liElement) {\n        if (liElement.childElementCount > 0) {\n            for (var i = 0; i < liElement.childElementCount; i++) {\n                this.blazortTicksValue(liElement, start, liElement.children[i]);\n            }\n        }\n        else {\n            this.blazortTicksValue(liElement, start, null);\n        }\n    };\n    Slider.prototype.blazortTicksValue = function (li, start, span) {\n        var _this = this;\n        var tickText = this.formatNumber(start);\n        var text = !isNullOrUndefined(this.ticks) && !isNullOrUndefined(this.ticks.format) ?\n            this.formatString(start, this.ticksFormatInfo).formatString : tickText;\n        var eventArgs = { value: start, text: text, tickElement: li };\n        this.trigger('renderingTicks', eventArgs, function (observedArgs) {\n            li.setAttribute('title', observedArgs.text.toString());\n            if (span) {\n                if (_this.enableHtmlSanitizer) {\n                    span.innerHTML = SanitizeHtmlHelper.sanitize(observedArgs.text.toString());\n                }\n                else {\n                    span.innerHTML = observedArgs.text.toString();\n                }\n            }\n        });\n    };\n    Slider.prototype.ticksAlignment = function (orien, tickWidth, triggerEvent) {\n        if (triggerEvent === void 0) { triggerEvent = true; }\n        this.firstChild = this.ul.firstElementChild;\n        this.lastChild = this.ul.lastElementChild;\n        this.firstChild.classList.add(classNames.sliderFirstTick);\n        this.lastChild.classList.add(classNames.sliderLastTick);\n        this.sliderContainer.classList.add(classNames.scale + '-' + this.ticks.placement.toLowerCase());\n        if (orien === 'h') {\n            this.firstChild.style.width = tickWidth / 2 + '%';\n            this.lastChild.style.width = tickWidth / 2 + '%';\n        }\n        else {\n            this.firstChild.style.height = tickWidth / 2 + '%';\n            this.lastChild.style.height = tickWidth / 2 + '%';\n        }\n        var eventArgs = { ticksWrapper: this.ul, tickElements: this.tickElementCollection };\n        if (triggerEvent) {\n            this.trigger('renderedTicks', eventArgs);\n        }\n        this.scaleAlignment();\n    };\n    Slider.prototype.createTick = function (li, start, tickWidth) {\n        var span = this.createElement('span', {\n            className: classNames.tickValue + ' ' + classNames.tick + '-' + this.ticks.placement.toLowerCase(),\n            attrs: { role: 'presentation', tabIndex: '-1', 'aria-hidden': 'true' }\n        });\n        li.appendChild(span);\n        if (isNullOrUndefined(this.customValues)) {\n            this.formatTicksValue(li, start, span, tickWidth);\n        }\n        else {\n            if (this.enableHtmlSanitizer) {\n                span.innerHTML = SanitizeHtmlHelper.sanitize(start.toString());\n            }\n            else {\n                span.innerHTML = start.toString();\n            }\n        }\n    };\n    Slider.prototype.formatTicksValue = function (li, start, spanElement, tickWidth) {\n        var _this = this;\n        var tickText = this.formatNumber(start);\n        var text = !isNullOrUndefined(this.ticks) && !isNullOrUndefined(this.ticks.format) ?\n            this.formatString(start, this.ticksFormatInfo).formatString : tickText;\n        var eventArgs = { value: start, text: text, tickElement: li };\n        this.trigger('renderingTicks', eventArgs, function (observedArgs) {\n            li.setAttribute('title', observedArgs.text.toString());\n            if (spanElement) {\n                if (_this.enableHtmlSanitizer) {\n                    spanElement.innerHTML = SanitizeHtmlHelper.sanitize(observedArgs.text.toString());\n                }\n                else {\n                    spanElement.innerHTML = observedArgs.text.toString();\n                }\n            }\n            if (!isNullOrUndefined(_this.renderingTicks) && isBlazor()) {\n                var orien = _this.orientation === 'Horizontal' ? 'h' : 'v';\n                _this.ticksAlignment(orien, tickWidth, false);\n            }\n        });\n    };\n    Slider.prototype.scaleAlignment = function () {\n        this.tickValuePosition();\n        var smallTick = 12;\n        var largeTick = 20;\n        var half = largeTick / 2;\n        var orien = this.orientation === 'Vertical' ? 'v' : 'h';\n        if (this.orientation === 'Vertical') {\n            (this.element.getBoundingClientRect().width <= 15) ?\n                this.sliderContainer.classList.add(classNames.sliderSmallSize) :\n                this.sliderContainer.classList.remove(classNames.sliderSmallSize);\n        }\n        else {\n            (this.element.getBoundingClientRect().height <= 15) ?\n                this.sliderContainer.classList.add(classNames.sliderSmallSize) :\n                this.sliderContainer.classList.remove(classNames.sliderSmallSize);\n        }\n    };\n    Slider.prototype.tickValuePosition = function () {\n        this.firstChild = this.element.querySelector('ul').children[0];\n        var first = this.firstChild.getBoundingClientRect();\n        var firstChild;\n        var otherChild;\n        var smallStep = this.ticks.smallStep;\n        var count = Math.abs((parseFloat(formatUnit(this.max))) - (parseFloat(formatUnit(this.min)))) / smallStep;\n        if (this.firstChild.children.length > 0) {\n            firstChild = this.firstChild.children[0].getBoundingClientRect();\n        }\n        var tickElements = [this.sliderContainer.querySelectorAll('.' + classNames.tick + '.' +\n                classNames.large + ' .' + classNames.tickValue)];\n        var other;\n        if (this.ticks.placement === 'Both') {\n            other = [].slice.call(tickElements[0], 2);\n        }\n        else {\n            other = [].slice.call(tickElements[0], 1);\n        }\n        var tickWidth = this.orientation === 'Vertical' ?\n            (first.height * 2) : (first.width * 2);\n        for (var i = 0; i < this.firstChild.children.length; i++) {\n            if (this.orientation === 'Vertical') {\n                if (!isBlazor() || !this.isServerRendered) {\n                    this.firstChild.children[i].style.top = -(firstChild.height / 2) + 'px';\n                }\n            }\n            else {\n                if (!this.enableRtl) {\n                    this.firstChild.children[i].style.left = -(firstChild.width / 2) + 'px';\n                }\n                else {\n                    this.firstChild.children[i].style.left = (tickWidth -\n                        this.firstChild.children[i].getBoundingClientRect().width) / 2 + 'px';\n                }\n            }\n        }\n        for (var i = 0; i < other.length; i++) {\n            otherChild = other[i].getBoundingClientRect();\n            if (this.orientation === 'Vertical') {\n                if (!isBlazor() || !this.isServerRendered) {\n                    setStyleAttribute(other[i], { top: (tickWidth - otherChild.height) / 2 + 'px' });\n                }\n            }\n            else {\n                setStyleAttribute(other[i], { left: (tickWidth - otherChild.width) / 2 + 'px' });\n            }\n        }\n        if (this.enableRtl && this.lastChild.children.length && count !== 0) {\n            this.lastChild.children[0].style.left = -(this.lastChild.getBoundingClientRect().width / 2) + 'px';\n            if (this.ticks.placement === 'Both') {\n                if (!isBlazor()) {\n                    this.lastChild.children[1].style.left = -(this.lastChild.getBoundingClientRect().width / 2) + 'px';\n                }\n            }\n        }\n        if (count === 0) {\n            if (this.orientation === 'Horizontal') {\n                if (!this.enableRtl) {\n                    this.firstChild.classList.remove(classNames.sliderLastTick);\n                    if (!isBlazor()) {\n                        this.firstChild.style.left = this.firstHandle.style.left;\n                    }\n                }\n                else {\n                    this.firstChild.classList.remove(classNames.sliderLastTick);\n                    this.firstChild.style.right = this.firstHandle.style.right;\n                    if (!isBlazor()) {\n                        this.firstChild.children[0].style.left =\n                            (this.firstChild.getBoundingClientRect().width / 2) + 2 + 'px';\n                        if (this.ticks.placement === 'Both') {\n                            this.firstChild.children[1].style.left =\n                                (this.firstChild.getBoundingClientRect().width / 2) + 2 + 'px';\n                        }\n                    }\n                }\n            }\n            if (!isBlazor() || !this.isServerRendered) {\n                if (this.orientation === 'Vertical') {\n                    this.firstChild.classList.remove(classNames.sliderLastTick);\n                }\n            }\n        }\n        if (isBlazor() && this.isServerRendered) {\n            var args = void 0;\n            if (this.firstChild != null) {\n                if (this.orientation === 'Horizontal') {\n                    args = { firstTickPostion: this.firstChild.children[0].style.left };\n                }\n                else {\n                    args = { firstTickPostion: -(firstChild.height / 2) + 'px' };\n                }\n            }\n            if (other[0] != null) {\n                if (this.orientation === 'Horizontal') {\n                    args = { otherTicksPosition: other[0].style.left };\n                }\n                else {\n                    args = { otherTicksPosition: (tickWidth - otherChild.height) / 2 + 'px' };\n                }\n            }\n            if (this.firstChild != null && other[0] != null) {\n                if (this.orientation === 'Horizontal') {\n                    args = {\n                        firstTickPostion: this.firstChild.children[0].style.left,\n                        otherTicksPosition: other[0].style.left\n                    };\n                }\n                else {\n                    args = {\n                        firstTickPostion: -(firstChild.height / 2) + 'px',\n                        otherTicksPosition: (tickWidth - otherChild.height) / 2 + 'px'\n                    };\n                }\n            }\n            // tslint:disable\n            this.interopAdaptor.invokeMethodAsync('SliderTicksData', args);\n            // tslint:enable\n        }\n    };\n    Slider.prototype.setAriaAttrValue = function (element) {\n        var ariaValueText;\n        var isTickFormatted = ((!isNullOrUndefined(this.ticks) && !isNullOrUndefined(this.ticks.format))) ? true : false;\n        var text = !isTickFormatted ?\n            this.formatContent(this.ticksFormatInfo, false) : this.formatContent(this.tooltipFormatInfo, false);\n        var valuenow = isTickFormatted ? this.formatContent(this.ticksFormatInfo, true) :\n            this.formatContent(this.tooltipFormatInfo, true);\n        text = (!this.customAriaText) ? (text) : (this.customAriaText);\n        if (text.split(' - ').length === 2) {\n            ariaValueText = text.split(' - ');\n        }\n        else {\n            ariaValueText = [text, text];\n        }\n        this.setAriaAttributes(element);\n        if (this.type !== 'Range') {\n            attributes(element, { 'aria-valuenow': valuenow, 'aria-valuetext': text });\n        }\n        else {\n            (!this.enableRtl) ? ((element === this.firstHandle) ?\n                attributes(element, { 'aria-valuenow': valuenow.split(' - ')[0], 'aria-valuetext': ariaValueText[0] }) :\n                attributes(element, { 'aria-valuenow': valuenow.split(' - ')[1], 'aria-valuetext': ariaValueText[1] })) :\n                ((element === this.firstHandle) ?\n                    attributes(element, { 'aria-valuenow': valuenow.split(' - ')[1], 'aria-valuetext': ariaValueText[1] }) :\n                    attributes(element, { 'aria-valuenow': valuenow.split(' - ')[0], 'aria-valuetext': ariaValueText[0] }));\n        }\n    };\n    Slider.prototype.handleValueUpdate = function () {\n        var hVal;\n        if (this.type === 'Range') {\n            if (this.activeHandle === 1) {\n                hVal = this.handleVal1;\n            }\n            else {\n                hVal = this.handleVal2;\n            }\n        }\n        else {\n            hVal = this.handleVal1;\n        }\n        return hVal;\n    };\n    Slider.prototype.getLimitCorrectedValues = function (value) {\n        if (this.type === 'MinRange' || this.type === 'Default') {\n            value = (this.getLimitValueAndPosition(value, this.limits.minStart, this.limits.minEnd))[0];\n        }\n        else {\n            if (this.activeHandle === 1) {\n                value = (this.getLimitValueAndPosition(value, this.limits.minStart, this.limits.minEnd))[0];\n            }\n            else {\n                value = (this.getLimitValueAndPosition(value, this.limits.maxStart, this.limits.maxEnd))[0];\n            }\n        }\n        return value;\n    };\n    Slider.prototype.focusSliderElement = function () {\n        if (!this.isElementFocused) {\n            this.element.focus();\n            this.isElementFocused = true;\n        }\n    };\n    Slider.prototype.buttonClick = function (args) {\n        this.focusSliderElement();\n        var value;\n        var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\n        var hVal = this.handleValueUpdate();\n        if ((args.keyCode === 40) || (args.keyCode === 37)\n            || args.currentTarget.classList.contains(classNames.firstButton)) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.step.toString()), true)) :\n                (value = this.add(hVal, parseFloat(this.step.toString()), false));\n        }\n        else if ((args.keyCode === 38) || (args.keyCode === 39) ||\n            args.currentTarget.classList.contains(classNames.secondButton)) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.step.toString()), false)) :\n                (value = this.add(hVal, parseFloat(this.step.toString()), true));\n        }\n        else if ((args.keyCode === 33\n            || args.currentTarget.classList.contains(classNames.firstButton))) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), false)) :\n                (value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), true));\n        }\n        else if ((args.keyCode === 34) ||\n            args.currentTarget.classList.contains(classNames.secondButton)) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), true)) :\n                (value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), false));\n        }\n        else if ((args.keyCode === 36)) {\n            value = parseFloat(this.min.toString());\n        }\n        else if ((args.keyCode === 35)) {\n            value = parseFloat(this.max.toString());\n        }\n        if (this.limits.enabled) {\n            value = this.getLimitCorrectedValues(value);\n        }\n        this.changeHandleValue(value);\n        if (this.isMaterial && !this.tooltip.isVisible &&\n            !this.getHandle().classList.contains(classNames.sliderTabHandle)) {\n            this.materialChange();\n        }\n        this.tooltipToggle(this.getHandle());\n        this.getHandle().focus();\n        if (args.currentTarget.classList.contains(classNames.firstButton)) {\n            EventHandler.add(this.firstBtn, 'mouseup touchend', this.buttonUp, this);\n        }\n        if (args.currentTarget.classList.contains(classNames.secondButton)) {\n            EventHandler.add(this.secondBtn, 'mouseup touchend', this.buttonUp, this);\n        }\n    };\n    Slider.prototype.tooltipToggle = function (target) {\n        if (this.isMaterialTooltip) {\n            !this.tooltipElement.classList.contains(classNames.materialTooltipOpen) ?\n                this.openMaterialTooltip() : this.refreshTooltip(this.firstHandle);\n        }\n        else {\n            !this.tooltipElement ? this.openTooltip(target) : this.refreshTooltip(target);\n        }\n    };\n    Slider.prototype.buttonUp = function (args) {\n        if (args.currentTarget.classList.contains(classNames.firstButton)) {\n            EventHandler.remove(this.firstBtn, 'mouseup touchend', this.buttonUp);\n        }\n        if (args.currentTarget.classList.contains(classNames.secondButton)) {\n            EventHandler.remove(this.secondBtn, 'mouseup touchend', this.buttonUp);\n        }\n    };\n    Slider.prototype.setRangeBar = function () {\n        if (this.orientation === 'Horizontal') {\n            if (this.type === 'MinRange') {\n                this.enableRtl ? (this.rangeBar.style.right = '0px') : (this.rangeBar.style.left = '0px');\n                setStyleAttribute(this.rangeBar, { 'width': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px' });\n            }\n            else {\n                this.enableRtl ? (this.rangeBar.style.right =\n                    this.handlePos1 + 'px') : (this.rangeBar.style.left = this.handlePos1 + 'px');\n                setStyleAttribute(this.rangeBar, { 'width': this.handlePos2 - this.handlePos1 + 'px' });\n            }\n        }\n        else {\n            if (this.type === 'MinRange') {\n                this.rangeBar.style.bottom = '0px';\n                setStyleAttribute(this.rangeBar, { 'height': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px' });\n            }\n            else {\n                this.rangeBar.style.bottom = this.handlePos1 + 'px';\n                setStyleAttribute(this.rangeBar, { 'height': this.handlePos2 - this.handlePos1 + 'px' });\n            }\n        }\n    };\n    Slider.prototype.checkValidValueAndPos = function (value) {\n        value = this.checkHandleValue(value);\n        value = this.checkHandlePosition(value);\n        return value;\n    };\n    Slider.prototype.setLimitBarPositions = function (fromMinPostion, fromMaxpostion, toMinPostion, toMaxpostion) {\n        if (this.orientation === 'Horizontal') {\n            if (!this.enableRtl) {\n                this.limitBarFirst.style.left = fromMinPostion + 'px';\n                this.limitBarFirst.style.width = (fromMaxpostion - fromMinPostion) + 'px';\n            }\n            else {\n                this.limitBarFirst.style.right = fromMinPostion + 'px';\n                this.limitBarFirst.style.width = (fromMaxpostion - fromMinPostion) + 'px';\n            }\n        }\n        else {\n            this.limitBarFirst.style.bottom = fromMinPostion + 'px';\n            this.limitBarFirst.style.height = (fromMaxpostion - fromMinPostion) + 'px';\n        }\n        if (this.type === 'Range') {\n            if (this.orientation === 'Horizontal') {\n                if (!this.enableRtl) {\n                    this.limitBarSecond.style.left = toMinPostion + 'px';\n                    this.limitBarSecond.style.width = (toMaxpostion - toMinPostion) + 'px';\n                }\n                else {\n                    this.limitBarSecond.style.right = toMinPostion + 'px';\n                    this.limitBarSecond.style.width = (toMaxpostion - toMinPostion) + 'px';\n                }\n            }\n            else {\n                this.limitBarSecond.style.bottom = toMinPostion + 'px';\n                this.limitBarSecond.style.height = (toMaxpostion - toMinPostion) + 'px';\n            }\n        }\n    };\n    Slider.prototype.setLimitBar = function () {\n        if (this.type === 'Default' || this.type === 'MinRange') {\n            var fromPosition = (this.getLimitValueAndPosition(this.limits.minStart, this.limits.minStart, this.limits.minEnd, true))[0];\n            fromPosition = this.checkValidValueAndPos(fromPosition);\n            var toPosition = (this.getLimitValueAndPosition(this.limits.minEnd, this.limits.minStart, this.limits.minEnd, true))[0];\n            toPosition = this.checkValidValueAndPos(toPosition);\n            this.setLimitBarPositions(fromPosition, toPosition);\n        }\n        else if (this.type === 'Range') {\n            var fromMinPostion = (this.getLimitValueAndPosition(this.limits.minStart, this.limits.minStart, this.limits.minEnd, true))[0];\n            fromMinPostion = this.checkValidValueAndPos(fromMinPostion);\n            var fromMaxpostion = (this.getLimitValueAndPosition(this.limits.minEnd, this.limits.minStart, this.limits.minEnd, true))[0];\n            fromMaxpostion = this.checkValidValueAndPos(fromMaxpostion);\n            var toMinPostion = (this.getLimitValueAndPosition(this.limits.maxStart, this.limits.maxStart, this.limits.maxEnd, true))[0];\n            toMinPostion = this.checkValidValueAndPos(toMinPostion);\n            var toMaxpostion = (this.getLimitValueAndPosition(this.limits.maxEnd, this.limits.maxStart, this.limits.maxEnd, true))[0];\n            toMaxpostion = this.checkValidValueAndPos(toMaxpostion);\n            this.setLimitBarPositions(fromMinPostion, fromMaxpostion, toMinPostion, toMaxpostion);\n        }\n    };\n    Slider.prototype.getLimitValueAndPosition = function (currentValue, minValue, maxValue, limitBar) {\n        if (isNullOrUndefined(minValue)) {\n            minValue = this.min;\n            if (isNullOrUndefined(currentValue) && limitBar) {\n                currentValue = minValue;\n            }\n        }\n        if (isNullOrUndefined(maxValue)) {\n            maxValue = this.max;\n            if (isNullOrUndefined(currentValue) && limitBar) {\n                currentValue = maxValue;\n            }\n        }\n        if (currentValue < minValue) {\n            currentValue = minValue;\n        }\n        if (currentValue > maxValue) {\n            currentValue = maxValue;\n        }\n        return [currentValue, this.checkHandlePosition(currentValue)];\n    };\n    Slider.prototype.setValue = function () {\n        if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n            this.min = 0;\n            this.max = this.customValues.length - 1;\n            this.setBarColor();\n        }\n        this.setAriaAttributes(this.firstHandle);\n        this.handleVal1 = isNullOrUndefined(this.value) ? this.checkHandleValue(parseFloat(this.min.toString())) :\n            this.checkHandleValue(parseFloat(this.value.toString()));\n        this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n        this.preHandlePos1 = this.handlePos1;\n        isNullOrUndefined(this.activeHandle) ? (this.type === 'Range' ? this.activeHandle = 2 : this.activeHandle = 1) :\n            this.activeHandle = this.activeHandle;\n        if (this.type === 'Default' || this.type === 'MinRange') {\n            if (this.limits.enabled) {\n                var values = this.getLimitValueAndPosition(this.handleVal1, this.limits.minStart, this.limits.minEnd);\n                this.handleVal1 = values[0];\n                this.handlePos1 = values[1];\n                this.preHandlePos1 = this.handlePos1;\n            }\n            this.setHandlePosition(null);\n            this.handleStart();\n            this.value = this.handleVal1;\n            this.setAriaAttrValue(this.firstHandle);\n            this.changeEvent('changed', null);\n        }\n        else {\n            this.validateRangeValue();\n        }\n        if (this.type !== 'Default') {\n            this.setRangeBar();\n        }\n        if (this.limits.enabled) {\n            this.setLimitBar();\n        }\n    };\n    Slider.prototype.rangeValueUpdate = function () {\n        if (this.value === null || typeof (this.value) !== 'object') {\n            this.value = [parseFloat(formatUnit(this.min)), parseFloat(formatUnit(this.max))];\n        }\n    };\n    Slider.prototype.validateRangeValue = function () {\n        this.rangeValueUpdate();\n        this.setRangeValue();\n    };\n    Slider.prototype.modifyZindex = function () {\n        if (this.type === 'Range') {\n            if (this.activeHandle === 1) {\n                this.firstHandle.style.zIndex = (this.zIndex + 4) + '';\n                this.secondHandle.style.zIndex = (this.zIndex + 3) + '';\n            }\n            else {\n                this.firstHandle.style.zIndex = (this.zIndex + 3) + '';\n                this.secondHandle.style.zIndex = (this.zIndex + 4) + '';\n            }\n        }\n        else if (this.isMaterialTooltip && this.tooltipElement) {\n            this.tooltipElement.style.zIndex = getZindexPartial(this.element) + '';\n        }\n    };\n    Slider.prototype.setHandlePosition = function (event) {\n        var _this = this;\n        var handle;\n        var pos = (this.activeHandle === 1) ? this.handlePos1 : this.handlePos2;\n        if (this.isMaterialTooltip) {\n            handle = [this.firstHandle, this.materialHandle];\n        }\n        else {\n            handle = [this.getHandle()];\n        }\n        this.handleStart();\n        handle.forEach(function (handle) {\n            if (_this.orientation === 'Horizontal') {\n                _this.enableRtl ? (handle.style.right =\n                    pos + \"px\") : (handle.style.left = pos + \"px\");\n            }\n            else {\n                handle.style.bottom = pos + \"px\";\n            }\n            if (isBlazor() && _this.isServerRendered) {\n                handle.style.removeProperty('visibility');\n            }\n        });\n        this.changeEvent('change', event);\n    };\n    Slider.prototype.getHandle = function () {\n        return (this.activeHandle === 1) ? this.firstHandle : this.secondHandle;\n    };\n    Slider.prototype.setRangeValue = function () {\n        this.updateRangeValue();\n        this.activeHandle = 1;\n        this.setHandlePosition(null);\n        this.activeHandle = 2;\n        this.setHandlePosition(null);\n        this.activeHandle = 1;\n    };\n    Slider.prototype.changeEvent = function (eventName, e) {\n        var previous = eventName === 'change' ? this.previousVal : this.previousChanged;\n        if (this.type !== 'Range') {\n            this.setProperties({ 'value': this.handleVal1 }, true);\n            if (previous !== this.value) {\n                this.trigger(eventName, this.changeEventArgs(eventName, e));\n                this.setPreviousVal(eventName, this.value);\n            }\n            this.setAriaAttrValue(this.firstHandle);\n        }\n        else {\n            var value = this.value = [this.handleVal1, this.handleVal2];\n            this.setProperties({ 'value': value }, true);\n            if (previous.length === this.value.length\n                && this.value[0] !== previous[0] || this.value[1] !== previous[1]) {\n                this.trigger(eventName, this.changeEventArgs(eventName, e));\n                this.setPreviousVal(eventName, this.value);\n            }\n            this.setAriaAttrValue(this.getHandle());\n        }\n        this.hiddenInput.value = this.value.toString();\n    };\n    Slider.prototype.changeEventArgs = function (eventName, e) {\n        var eventArgs;\n        if (this.tooltip.isVisible && this.tooltipObj) {\n            if (!isBlazor() || !this.isServerRendered) {\n                this.tooltipValue();\n            }\n            eventArgs = {\n                value: this.value,\n                previousValue: eventName === 'change' ? this.previousVal : this.previousChanged,\n                action: eventName, text: this.tooltipObj.content, isInteracted: isNullOrUndefined(e) ? false : true\n            };\n        }\n        else {\n            eventArgs = {\n                value: this.value,\n                previousValue: eventName === 'change' ? this.previousVal : this.previousChanged,\n                action: eventName, text: isNullOrUndefined(this.ticksFormatInfo.format) ? this.value.toString() :\n                    (this.type !== 'Range' ? this.formatString(this.value, this.ticksFormatInfo).formatString :\n                        (this.formatString(this.value[0], this.ticksFormatInfo).formatString + ' - ' +\n                            this.formatString(this.value[1], this.ticksFormatInfo).formatString)),\n                isInteracted: isNullOrUndefined(e) ? false : true\n            };\n        }\n        return eventArgs;\n    };\n    Slider.prototype.setPreviousVal = function (eventName, value) {\n        if (eventName === 'change') {\n            this.previousVal = value;\n        }\n        else {\n            this.previousChanged = value;\n        }\n    };\n    Slider.prototype.updateRangeValue = function () {\n        var values = this.value.toString().split(',').map(Number);\n        if ((this.enableRtl && this.orientation !== 'Vertical') || this.rtl) {\n            this.value = [values[1], values[0]];\n        }\n        else {\n            this.value = [values[0], values[1]];\n        }\n        if (this.enableRtl && this.orientation !== 'Vertical') {\n            this.handleVal1 = this.checkHandleValue(this.value[1]);\n            this.handleVal2 = this.checkHandleValue(this.value[0]);\n        }\n        else {\n            this.handleVal1 = this.checkHandleValue(this.value[0]);\n            this.handleVal2 = this.checkHandleValue(this.value[1]);\n        }\n        this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n        this.handlePos2 = this.checkHandlePosition(this.handleVal2);\n        if (this.handlePos1 > this.handlePos2) {\n            this.handlePos1 = this.handlePos2;\n            this.handleVal1 = this.handleVal2;\n        }\n        this.preHandlePos1 = this.handlePos1;\n        this.preHandlePos2 = this.handlePos2;\n        if (this.limits.enabled) {\n            this.activeHandle = 1;\n            var values_1 = this.getLimitValueAndPosition(this.handleVal1, this.limits.minStart, this.limits.minEnd);\n            this.handleVal1 = values_1[0];\n            this.handlePos1 = values_1[1];\n            this.preHandlePos1 = this.handlePos1;\n            this.activeHandle = 2;\n            values_1 = this.getLimitValueAndPosition(this.handleVal2, this.limits.maxStart, this.limits.maxEnd);\n            this.handleVal2 = values_1[0];\n            this.handlePos2 = values_1[1];\n            this.preHandlePos2 = this.handlePos2;\n        }\n    };\n    Slider.prototype.checkHandlePosition = function (value) {\n        var pos;\n        value = (100 *\n            (value - (parseFloat(formatUnit(this.min))))) / ((parseFloat(formatUnit(this.max))) - (parseFloat(formatUnit(this.min))));\n        if (this.orientation === 'Horizontal') {\n            pos = this.element.getBoundingClientRect().width * (value / 100);\n        }\n        else {\n            pos = this.element.getBoundingClientRect().height * (value / 100);\n        }\n        if (((parseFloat(formatUnit(this.max))) === (parseFloat(formatUnit(this.min))))) {\n            if (this.orientation === 'Horizontal') {\n                pos = this.element.getBoundingClientRect().width;\n            }\n            else {\n                pos = this.element.getBoundingClientRect().height;\n            }\n        }\n        return pos;\n    };\n    Slider.prototype.checkHandleValue = function (value) {\n        if (this.min > this.max) {\n            this.min = this.max;\n        }\n        if (this.min === this.max) {\n            return (parseFloat(formatUnit(this.max)));\n        }\n        var handle = this.tempStartEnd();\n        if (value < handle.start) {\n            value = handle.start;\n        }\n        else if (value > handle.end) {\n            value = handle.end;\n        }\n        return value;\n    };\n    /**\n     * It is used to reposition slider.\n     * @returns void\n     */\n    Slider.prototype.reposition = function () {\n        var _this = this;\n        this.firstHandle.style.transition = 'none';\n        if (this.type !== 'Default') {\n            this.rangeBar.style.transition = 'none';\n        }\n        if (this.type === 'Range') {\n            this.secondHandle.style.transition = 'none';\n        }\n        this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n        if (this.handleVal2) {\n            this.handlePos2 = this.checkHandlePosition(this.handleVal2);\n        }\n        if (this.orientation === 'Horizontal') {\n            this.enableRtl ? this.firstHandle.style.right =\n                this.handlePos1 + \"px\" : this.firstHandle.style.left = this.handlePos1 + \"px\";\n            if (this.isMaterialTooltip) {\n                this.enableRtl ? this.materialHandle.style.right =\n                    this.handlePos1 + \"px\" : this.materialHandle.style.left = this.handlePos1 + \"px\";\n            }\n            if (this.type === 'MinRange') {\n                this.enableRtl ? (this.rangeBar.style.right = '0px') : (this.rangeBar.style.left = '0px');\n                setStyleAttribute(this.rangeBar, { 'width': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px' });\n            }\n            else if (this.type === 'Range') {\n                this.enableRtl ? this.secondHandle.style.right =\n                    this.handlePos2 + \"px\" : this.secondHandle.style.left = this.handlePos2 + \"px\";\n                this.enableRtl ? (this.rangeBar.style.right =\n                    this.handlePos1 + 'px') : (this.rangeBar.style.left = this.handlePos1 + 'px');\n                setStyleAttribute(this.rangeBar, { 'width': this.handlePos2 - this.handlePos1 + 'px' });\n            }\n        }\n        else {\n            this.firstHandle.style.bottom = this.handlePos1 + \"px\";\n            if (this.isMaterialTooltip) {\n                this.materialHandle.style.bottom = this.handlePos1 + \"px\";\n            }\n            if (this.type === 'MinRange') {\n                this.rangeBar.style.bottom = '0px';\n                setStyleAttribute(this.rangeBar, { 'height': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px' });\n            }\n            else if (this.type === 'Range') {\n                this.secondHandle.style.bottom = this.handlePos2 + \"px\";\n                this.rangeBar.style.bottom = this.handlePos1 + 'px';\n                setStyleAttribute(this.rangeBar, { 'height': this.handlePos2 - this.handlePos1 + 'px' });\n            }\n        }\n        if (this.limits.enabled) {\n            this.setLimitBar();\n        }\n        if (this.ticks.placement !== 'None' && this.ul) {\n            if (!isBlazor()) {\n                this.removeElement(this.ul);\n                this.ul = undefined;\n            }\n            this.renderScale();\n            if (isBlazor()) {\n                this.tickValuePosition();\n            }\n        }\n        this.handleStart();\n        if (!this.tooltip.isVisible) {\n            setTimeout(function () {\n                _this.firstHandle.style.transition = _this.scaleTransform;\n                if (_this.type === 'Range') {\n                    _this.secondHandle.style.transition = _this.scaleTransform;\n                }\n            });\n        }\n        if (!isBlazor() || !this.isServerRendered) {\n            this.refreshTooltip(this.tooltipTarget);\n        }\n        this.setBarColor();\n    };\n    Slider.prototype.changeHandleValue = function (value) {\n        var position = null;\n        if (this.activeHandle === 1) {\n            if (!(this.limits.enabled && this.limits.startHandleFixed)) {\n                this.handleVal1 = this.checkHandleValue(value);\n                this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n                if (this.type === 'Range' && this.handlePos1 > this.handlePos2) {\n                    this.handlePos1 = this.handlePos2;\n                    this.handleVal1 = this.handleVal2;\n                }\n                if (this.handlePos1 !== this.preHandlePos1) {\n                    position = this.preHandlePos1 = this.handlePos1;\n                }\n            }\n            this.modifyZindex();\n        }\n        else {\n            if (!(this.limits.enabled && this.limits.endHandleFixed)) {\n                this.handleVal2 = this.checkHandleValue(value);\n                this.handlePos2 = this.checkHandlePosition(this.handleVal2);\n                if (this.type === 'Range' && this.handlePos2 < this.handlePos1) {\n                    this.handlePos2 = this.handlePos1;\n                    this.handleVal2 = this.handleVal1;\n                }\n                if (this.handlePos2 !== this.preHandlePos2) {\n                    position = this.preHandlePos2 = this.handlePos2;\n                }\n            }\n            this.modifyZindex();\n        }\n        if (position !== null) {\n            if (this.type !== 'Default') {\n                this.setRangeBar();\n            }\n            this.setHandlePosition(null);\n        }\n    };\n    Slider.prototype.tempStartEnd = function () {\n        if (this.min > this.max) {\n            return {\n                start: this.max,\n                end: this.min\n            };\n        }\n        else {\n            return {\n                start: this.min,\n                end: this.max\n            };\n        }\n    };\n    Slider.prototype.xyToPosition = function (position) {\n        var pos;\n        if (this.min === this.max) {\n            return 100;\n        }\n        if (this.orientation === 'Horizontal') {\n            var left = position.x - this.element.getBoundingClientRect().left;\n            var num = this.element.offsetWidth / 100;\n            this.val = (left / num);\n        }\n        else {\n            var top_1 = position.y - this.element.getBoundingClientRect().top;\n            var num = this.element.offsetHeight / 100;\n            this.val = 100 - (top_1 / num);\n        }\n        var val = this.stepValueCalculation(this.val);\n        if (val < 0) {\n            val = 0;\n        }\n        else if (val > 100) {\n            val = 100;\n        }\n        if (this.enableRtl && this.orientation !== 'Vertical') {\n            val = 100 - val;\n        }\n        if (this.orientation === 'Horizontal') {\n            pos = this.element.getBoundingClientRect().width * (val / 100);\n        }\n        else {\n            pos = this.element.getBoundingClientRect().height * (val / 100);\n        }\n        return pos;\n    };\n    Slider.prototype.stepValueCalculation = function (value) {\n        if (this.step === 0) {\n            this.step = 1;\n        }\n        var percentStep = (parseFloat(formatUnit(this.step))) / ((parseFloat(formatUnit(this.max)) - parseFloat(formatUnit(this.min))) / 100);\n        var remain = value % Math.abs(percentStep);\n        if (remain !== 0) {\n            if ((percentStep / 2) > remain) {\n                value -= remain;\n            }\n            else {\n                value += Math.abs(percentStep) - remain;\n            }\n        }\n        return value;\n    };\n    Slider.prototype.add = function (a, b, addition) {\n        var precision;\n        var x = Math.pow(10, precision || 3);\n        var val;\n        if (addition) {\n            val = (Math.round(a * x) + Math.round(b * x)) / x;\n        }\n        else {\n            val = (Math.round(a * x) - Math.round(b * x)) / x;\n        }\n        return val;\n    };\n    Slider.prototype.positionToValue = function (pos) {\n        var val;\n        var diff = parseFloat(formatUnit(this.max)) - parseFloat(formatUnit(this.min));\n        if (this.orientation === 'Horizontal') {\n            val = (pos / this.element.getBoundingClientRect().width) * diff;\n        }\n        else {\n            val = (pos / this.element.getBoundingClientRect().height) * diff;\n        }\n        var total = this.add(val, parseFloat(this.min.toString()), true);\n        return (total);\n    };\n    Slider.prototype.sliderBarClick = function (evt) {\n        evt.preventDefault();\n        var pos;\n        if (evt.type === 'mousedown' || evt.type === 'mouseup' || evt.type === 'click') {\n            pos = { x: evt.clientX, y: evt.clientY };\n        }\n        else if (evt.type === 'touchend' || evt.type === 'touchstart') {\n            pos = { x: evt.changedTouches[0].clientX, y: evt.changedTouches[0].clientY };\n        }\n        var handlepos = this.xyToPosition(pos);\n        var handleVal = this.positionToValue(handlepos);\n        if (this.type === 'Range' && (this.handlePos2 - handlepos) < (handlepos - this.handlePos1)) {\n            this.activeHandle = 2;\n            if (!(this.limits.enabled && this.limits.endHandleFixed)) {\n                if (this.limits.enabled) {\n                    var value = this.getLimitValueAndPosition(handleVal, this.limits.maxStart, this.limits.maxEnd);\n                    handleVal = value[0];\n                    handlepos = value[1];\n                }\n                this.secondHandle.classList.add(classNames.sliderActiveHandle);\n                this.handlePos2 = this.preHandlePos2 = handlepos;\n                this.handleVal2 = handleVal;\n            }\n            this.modifyZindex();\n            this.secondHandle.focus();\n        }\n        else {\n            this.activeHandle = 1;\n            if (!(this.limits.enabled && this.limits.startHandleFixed)) {\n                if (this.limits.enabled) {\n                    var value = this.getLimitValueAndPosition(handleVal, this.limits.minStart, this.limits.minEnd);\n                    handleVal = value[0];\n                    handlepos = value[1];\n                }\n                this.firstHandle.classList.add(classNames.sliderActiveHandle);\n                this.handlePos1 = this.preHandlePos1 = handlepos;\n                this.handleVal1 = handleVal;\n            }\n            this.modifyZindex();\n            this.firstHandle.focus();\n        }\n        if (this.isMaterialTooltip) {\n            this.tooltipElement.classList.add(classNames.materialTooltipActive);\n        }\n        var focusedElement = this.element.querySelector('.' + classNames.sliderTabHandle);\n        if (focusedElement && this.getHandle() !== focusedElement) {\n            focusedElement.classList.remove(classNames.sliderTabHandle);\n        }\n        var handle = this.activeHandle === 1 ? this.firstHandle : this.secondHandle;\n        if (evt.target === handle) {\n            if (this.isMaterial && !this.tooltip.isVisible &&\n                !this.getHandle().classList.contains(classNames.sliderTabHandle)) {\n                this.materialChange();\n            }\n            this.tooltipToggle(this.getHandle());\n            return;\n        }\n        if (!this.checkRepeatedValue(handleVal)) {\n            return;\n        }\n        var transition = this.isMaterial && this.tooltip.isVisible ?\n            this.transitionOnMaterialTooltip : this.transition;\n        this.getHandle().style.transition = transition.handle;\n        if (this.type !== 'Default') {\n            this.rangeBar.style.transition = transition.rangeBar;\n        }\n        this.setHandlePosition(evt);\n        if (this.type !== 'Default') {\n            this.setRangeBar();\n        }\n    };\n    Slider.prototype.handleValueAdjust = function (handleValue, assignValue, handleNumber) {\n        if (handleNumber === 1) {\n            this.handleVal1 = assignValue;\n            this.handleVal2 = this.handleVal1 + this.minDiff;\n        }\n        else if (handleNumber === 2) {\n            this.handleVal2 = assignValue;\n            this.handleVal1 = this.handleVal2 - this.minDiff;\n        }\n        this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n        this.handlePos2 = this.checkHandlePosition(this.handleVal2);\n    };\n    Slider.prototype.dragRangeBarMove = function (event) {\n        var _a, _b;\n        if (event.type !== 'touchmove') {\n            event.preventDefault();\n        }\n        this.rangeBarDragged = true;\n        var pos;\n        this.rangeBar.style.transition = 'none';\n        this.firstHandle.style.transition = 'none';\n        this.secondHandle.style.transition = 'none';\n        var xPostion;\n        var yPostion;\n        if (event.type === 'mousemove') {\n            _a = [event.clientX, event.clientY], xPostion = _a[0], yPostion = _a[1];\n        }\n        else {\n            _b = [event.changedTouches[0].clientX, event.changedTouches[0].clientY], xPostion = _b[0], yPostion = _b[1];\n        }\n        if (!(this.limits.enabled && this.limits.startHandleFixed) && !(this.limits.enabled && this.limits.endHandleFixed)) {\n            if (!this.enableRtl) {\n                pos = { x: xPostion - this.firstPartRemain, y: yPostion + this.secondPartRemain };\n            }\n            else {\n                pos = { x: xPostion + this.secondPartRemain, y: yPostion + this.secondPartRemain };\n            }\n            this.handlePos1 = this.xyToPosition(pos);\n            this.handleVal1 = this.positionToValue(this.handlePos1);\n            if (!this.enableRtl) {\n                pos = { x: xPostion + this.secondPartRemain, y: yPostion - this.firstPartRemain };\n            }\n            else {\n                pos = { x: xPostion - this.firstPartRemain, y: yPostion - this.firstPartRemain };\n            }\n            this.handlePos2 = this.xyToPosition(pos);\n            this.handleVal2 = this.positionToValue(this.handlePos2);\n            if (this.limits.enabled) {\n                var value = this.getLimitValueAndPosition(this.handleVal1, this.limits.minStart, this.limits.minEnd);\n                this.handleVal1 = value[0];\n                this.handlePos1 = value[1];\n                if (this.handleVal1 === this.limits.minEnd) {\n                    this.handleValueAdjust(this.handleVal1, this.limits.minEnd, 1);\n                }\n                if (this.handleVal1 === this.limits.minStart) {\n                    this.handleValueAdjust(this.handleVal1, this.limits.minStart, 1);\n                }\n                value = this.getLimitValueAndPosition(this.handleVal2, this.limits.maxStart, this.limits.maxEnd);\n                this.handleVal2 = value[0];\n                this.handlePos2 = value[1];\n                if (this.handleVal2 === this.limits.maxStart) {\n                    this.handleValueAdjust(this.handleVal2, this.limits.maxStart, 2);\n                }\n                if (this.handleVal2 === this.limits.maxEnd) {\n                    this.handleValueAdjust(this.handleVal2, this.limits.maxEnd, 2);\n                }\n            }\n            if (this.handleVal2 === this.max) {\n                this.handleValueAdjust(this.handleVal2, this.max, 2);\n            }\n            if (this.handleVal1 === this.min) {\n                this.handleValueAdjust(this.handleVal1, this.min, 1);\n            }\n        }\n        this.activeHandle = 1;\n        this.setHandlePosition(event);\n        this.activeHandle = 2;\n        this.setHandlePosition(event);\n        this.tooltipToggle(this.rangeBar);\n        this.setRangeBar();\n    };\n    Slider.prototype.sliderBarUp = function (event) {\n        this.changeEvent('changed', event);\n        this.handleFocusOut();\n        this.firstHandle.classList.remove(classNames.sliderActiveHandle);\n        if (this.type === 'Range') {\n            this.secondHandle.classList.remove(classNames.sliderActiveHandle);\n        }\n        this.closeTooltip();\n        if (this.isMaterial) {\n            this.getHandle().classList.remove('e-large-thumb-size');\n            if (this.isMaterialTooltip) {\n                this.tooltipElement.classList.remove(classNames.materialTooltipActive);\n            }\n        }\n        EventHandler.remove(document, 'mousemove touchmove', this.sliderBarMove);\n        EventHandler.remove(document, 'mouseup touchend', this.sliderBarUp);\n    };\n    Slider.prototype.sliderBarMove = function (evt) {\n        if (evt.type !== 'touchmove') {\n            evt.preventDefault();\n        }\n        var pos;\n        if (evt.type === 'mousemove') {\n            pos = { x: evt.clientX, y: evt.clientY };\n        }\n        else {\n            pos = { x: evt.changedTouches[0].clientX, y: evt.changedTouches[0].clientY };\n        }\n        var handlepos = this.xyToPosition(pos);\n        var handleVal = this.positionToValue(handlepos);\n        handlepos = Math.round(handlepos);\n        if (this.type !== 'Range' && this.activeHandle === 1) {\n            if (!(this.limits.enabled && this.limits.startHandleFixed)) {\n                if (this.limits.enabled) {\n                    var valueAndPostion = this.getLimitValueAndPosition(handleVal, this.limits.minStart, this.limits.minEnd);\n                    handlepos = valueAndPostion[1];\n                    handleVal = valueAndPostion[0];\n                }\n                this.handlePos1 = handlepos;\n                this.handleVal1 = handleVal;\n            }\n            this.firstHandle.classList.add(classNames.sliderActiveHandle);\n        }\n        if (this.type === 'Range') {\n            if (this.activeHandle === 1) {\n                this.firstHandle.classList.add(classNames.sliderActiveHandle);\n                if (!(this.limits.enabled && this.limits.startHandleFixed)) {\n                    if (handlepos > this.handlePos2) {\n                        handlepos = this.handlePos2;\n                        handleVal = this.handleVal2;\n                    }\n                    if (handlepos !== this.preHandlePos1) {\n                        if (this.limits.enabled) {\n                            var value = this.getLimitValueAndPosition(handleVal, this.limits.minStart, this.limits.minEnd);\n                            handleVal = value[0];\n                            handlepos = value[1];\n                        }\n                        this.handlePos1 = this.preHandlePos1 = handlepos;\n                        this.handleVal1 = handleVal;\n                        this.activeHandle = 1;\n                    }\n                }\n            }\n            else if (this.activeHandle === 2) {\n                this.secondHandle.classList.add(classNames.sliderActiveHandle);\n                if (!(this.limits.enabled && this.limits.endHandleFixed)) {\n                    if (handlepos < this.handlePos1) {\n                        handlepos = this.handlePos1;\n                        handleVal = this.handleVal1;\n                    }\n                    if (handlepos !== this.preHandlePos2) {\n                        if (this.limits.enabled) {\n                            var value = this.getLimitValueAndPosition(handleVal, this.limits.maxStart, this.limits.maxEnd);\n                            handleVal = value[0];\n                            handlepos = value[1];\n                        }\n                        this.handlePos2 = this.preHandlePos2 = handlepos;\n                        this.handleVal2 = handleVal;\n                        this.activeHandle = 2;\n                    }\n                }\n            }\n        }\n        if (!this.checkRepeatedValue(handleVal)) {\n            return;\n        }\n        this.getHandle().style.transition = this.scaleTransform;\n        if (this.type !== 'Default') {\n            this.rangeBar.style.transition = 'none';\n        }\n        this.setHandlePosition(evt);\n        if (this.isMaterial && !this.tooltip.isVisible &&\n            !this.getHandle().classList.contains(classNames.sliderTabHandle)) {\n            this.materialChange();\n        }\n        this.tooltipToggle(this.getHandle());\n        if (this.type !== 'Default') {\n            this.setRangeBar();\n        }\n    };\n    Slider.prototype.dragRangeBarUp = function (event) {\n        if (!this.rangeBarDragged) {\n            this.focusSliderElement();\n            this.sliderBarClick(event);\n        }\n        this.changeEvent('changed', event);\n        this.closeTooltip();\n        EventHandler.remove(document, 'mousemove touchmove', this.dragRangeBarMove);\n        EventHandler.remove(document, 'mouseup touchend', this.dragRangeBarUp);\n        this.rangeBarDragged = false;\n    };\n    Slider.prototype.checkRepeatedValue = function (currentValue) {\n        if (this.type === 'Range') {\n            var previousVal = this.enableRtl && this.orientation !== 'Vertical' ? (this.activeHandle === 1 ?\n                this.previousVal[1] : this.previousVal[0]) :\n                (this.activeHandle === 1 ? this.previousVal[0] : this.previousVal[1]);\n            if (currentValue === previousVal) {\n                return 0;\n            }\n        }\n        else {\n            if (currentValue === this.previousVal) {\n                return 0;\n            }\n        }\n        return 1;\n    };\n    Slider.prototype.refreshTooltip = function (target) {\n        if (this.tooltip.isVisible && this.tooltipObj) {\n            this.tooltipValue();\n            if (target) {\n                this.tooltipObj.refresh(target);\n                this.tooltipTarget = target;\n            }\n        }\n    };\n    Slider.prototype.openTooltip = function (target) {\n        if (this.tooltip.isVisible && this.tooltipObj && !this.isMaterialTooltip) {\n            this.tooltipValue();\n            this.tooltipObj.open(target);\n            this.tooltipTarget = target;\n        }\n    };\n    Slider.prototype.closeTooltip = function () {\n        if (this.tooltip.isVisible && this.tooltipObj && this.tooltip.showOn !== 'Always' && !this.isMaterialTooltip) {\n            this.tooltipValue();\n            this.tooltipObj.close();\n            this.tooltipTarget = undefined;\n        }\n    };\n    Slider.prototype.keyDown = function (event) {\n        switch (event.keyCode) {\n            case 37:\n            case 38:\n            case 39:\n            case 40:\n            case 33:\n            case 34:\n            case 36:\n            case 35:\n                event.preventDefault();\n                this.buttonClick(event);\n                break;\n        }\n    };\n    Slider.prototype.wireButtonEvt = function (destroy) {\n        if (!destroy) {\n            EventHandler.add(this.firstBtn, 'mouseleave touchleave', this.buttonFocusOut, this);\n            EventHandler.add(this.secondBtn, 'mouseleave touchleave', this.buttonFocusOut, this);\n            EventHandler.add(this.firstBtn, 'mousedown touchstart', this.repeatHandlerMouse, this);\n            EventHandler.add(this.firstBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp, this);\n            EventHandler.add(this.secondBtn, 'mousedown touchstart', this.repeatHandlerMouse, this);\n            EventHandler.add(this.secondBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp, this);\n            EventHandler.add(this.firstBtn, 'focusout', this.sliderFocusOut, this);\n            EventHandler.add(this.secondBtn, 'focusout', this.sliderFocusOut, this);\n        }\n        else {\n            EventHandler.remove(this.firstBtn, 'mouseleave touchleave', this.buttonFocusOut);\n            EventHandler.remove(this.secondBtn, 'mouseleave touchleave', this.buttonFocusOut);\n            EventHandler.remove(this.firstBtn, 'mousedown touchstart', this.repeatHandlerMouse);\n            EventHandler.remove(this.firstBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp);\n            EventHandler.remove(this.secondBtn, 'mousedown touchstart', this.repeatHandlerMouse);\n            EventHandler.remove(this.secondBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp);\n            EventHandler.remove(this.firstBtn, 'focusout', this.sliderFocusOut);\n            EventHandler.remove(this.secondBtn, 'focusout', this.sliderFocusOut);\n        }\n    };\n    Slider.prototype.rangeBarMousedown = function (event) {\n        var _a, _b;\n        event.preventDefault();\n        this.focusSliderElement();\n        if (this.type === 'Range' && this.drag && event.target === this.rangeBar) {\n            var xPostion = void 0;\n            var yPostion = void 0;\n            if (event.type === 'mousedown') {\n                _a = [event.clientX, event.clientY], xPostion = _a[0], yPostion = _a[1];\n            }\n            else if (event.type === 'touchstart') {\n                _b = [event.changedTouches[0].clientX, event.changedTouches[0].clientY], xPostion = _b[0], yPostion = _b[1];\n            }\n            if (this.orientation === 'Horizontal') {\n                this.firstPartRemain = xPostion - this.rangeBar.getBoundingClientRect().left;\n                this.secondPartRemain = this.rangeBar.getBoundingClientRect().right - xPostion;\n            }\n            else {\n                this.firstPartRemain = yPostion - this.rangeBar.getBoundingClientRect().top;\n                this.secondPartRemain = this.rangeBar.getBoundingClientRect().bottom - yPostion;\n            }\n            this.minDiff = this.handleVal2 - this.handleVal1;\n            this.tooltipToggle(this.rangeBar);\n            var focusedElement = this.element.querySelector('.' + classNames.sliderTabHandle);\n            if (focusedElement) {\n                focusedElement.classList.remove(classNames.sliderTabHandle);\n            }\n            EventHandler.add(document, 'mousemove touchmove', this.dragRangeBarMove, this);\n            EventHandler.add(document, 'mouseup touchend', this.dragRangeBarUp, this);\n        }\n    };\n    Slider.prototype.elementClick = function (event) {\n        event.preventDefault();\n        this.focusSliderElement();\n        this.sliderBarClick(event);\n    };\n    Slider.prototype.wireEvents = function () {\n        this.onresize = this.reposition.bind(this);\n        window.addEventListener('resize', this.onresize);\n        if (this.enabled && !this.readonly) {\n            EventHandler.add(this.element, 'click', this.elementClick, this);\n            if (this.type === 'Range' && this.drag) {\n                EventHandler.add(this.rangeBar, 'mousedown touchstart', this.rangeBarMousedown, this);\n            }\n            EventHandler.add(this.sliderContainer, 'keydown', this.keyDown, this);\n            EventHandler.add(this.sliderContainer, 'keyup', this.keyUp, this);\n            EventHandler.add(this.element, 'focusout', this.sliderFocusOut, this);\n            EventHandler.add(this.sliderContainer, 'mouseover mouseout touchstart touchend', this.hover, this);\n            this.wireFirstHandleEvt(false);\n            if (this.type === 'Range') {\n                this.wireSecondHandleEvt(false);\n            }\n            if (this.showButtons) {\n                this.wireButtonEvt(false);\n            }\n            this.wireMaterialTooltipEvent(false);\n            if (this.isForm) {\n                EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n            }\n        }\n    };\n    Slider.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.elementClick);\n        if (this.type === 'Range' && this.drag) {\n            EventHandler.remove(this.rangeBar, 'mousedown touchstart', this.rangeBarMousedown);\n        }\n        EventHandler.remove(this.sliderContainer, 'keydown', this.keyDown);\n        EventHandler.remove(this.sliderContainer, 'keyup', this.keyUp);\n        EventHandler.remove(this.element, 'focusout', this.sliderFocusOut);\n        EventHandler.remove(this.sliderContainer, 'mouseover mouseout touchstart touchend', this.hover);\n        this.wireFirstHandleEvt(true);\n        if (this.type === 'Range') {\n            this.wireSecondHandleEvt(true);\n        }\n        if (this.showButtons) {\n            this.wireButtonEvt(true);\n        }\n        this.wireMaterialTooltipEvent(true);\n        EventHandler.remove(this.element, 'reset', this.formResetHandler);\n    };\n    Slider.prototype.formResetHandler = function () {\n        this.setProperties({ 'value': this.formResetValue }, true);\n        this.setValue();\n    };\n    Slider.prototype.keyUp = function (event) {\n        if (event.keyCode === 9 && event.target.classList.contains(classNames.sliderHandle)) {\n            this.focusSliderElement();\n            if (!event.target.classList.contains(classNames.sliderTabHandle)) {\n                if (this.element.querySelector('.' + classNames.sliderTabHandle)) {\n                    this.element.querySelector('.' + classNames.sliderTabHandle).classList.remove(classNames.sliderTabHandle);\n                }\n                event.target.classList.add(classNames.sliderTabHandle);\n                var parentElement = event.target.parentElement;\n                if (parentElement === this.element) {\n                    parentElement.querySelector('.' + classNames.sliderTrack).classList.add(classNames.sliderTabTrack);\n                    if (this.type === 'Range' || this.type === 'MinRange') {\n                        parentElement.querySelector('.' + classNames.rangeBar).classList.add(classNames.sliderTabRange);\n                    }\n                }\n                if (this.type === 'Range') {\n                    (event.target.previousSibling).classList.contains(classNames.sliderHandle) ?\n                        this.activeHandle = 2 : this.activeHandle = 1;\n                }\n                this.getHandle().focus();\n                this.tooltipToggle(this.getHandle());\n            }\n        }\n        this.closeTooltip();\n        this.changeEvent('changed', event);\n    };\n    Slider.prototype.hover = function (event) {\n        if (!isNullOrUndefined(event)) {\n            if (event.type === 'mouseover' || event.type === 'touchmove' || event.type === 'mousemove' ||\n                event.type === 'pointermove' || event.type === 'touchstart') {\n                this.sliderContainer.classList.add(classNames.sliderHover);\n            }\n            else {\n                this.sliderContainer.classList.remove(classNames.sliderHover);\n            }\n        }\n    };\n    Slider.prototype.sliderFocusOut = function (event) {\n        if (event.relatedTarget !== this.secondHandle && event.relatedTarget !== this.firstHandle &&\n            event.relatedTarget !== this.element && event.relatedTarget !== this.firstBtn && event.relatedTarget !== this.secondBtn) {\n            this.closeMaterialTooltip();\n            if (this.element.querySelector('.' + classNames.sliderTabHandle)) {\n                this.element.querySelector('.' + classNames.sliderTabHandle).classList.remove(classNames.sliderTabHandle);\n            }\n            if (this.element.querySelector('.' + classNames.sliderTabTrack)) {\n                this.element.querySelector('.' + classNames.sliderTabTrack).classList.remove(classNames.sliderTabTrack);\n                if ((this.type === 'Range' || this.type === 'MinRange') &&\n                    this.element.querySelector('.' + classNames.sliderTabRange)) {\n                    this.element.querySelector('.' + classNames.sliderTabRange).classList.remove(classNames.sliderTabRange);\n                }\n            }\n            this.hiddenInput.focus();\n            this.hiddenInput.blur();\n            this.isElementFocused = false;\n        }\n    };\n    Slider.prototype.removeElement = function (element) {\n        if (element.parentNode) {\n            element.parentNode.removeChild(element);\n        }\n    };\n    Slider.prototype.changeSliderType = function (type, args) {\n        if (this.isMaterialTooltip && this.materialHandle) {\n            this.sliderContainer.classList.remove(classNames.materialSlider);\n            this.removeElement(this.materialHandle);\n            this.materialHandle = undefined;\n        }\n        this.removeElement(this.firstHandle);\n        this.firstHandle = undefined;\n        if (type !== 'Default') {\n            if (type === 'Range') {\n                this.removeElement(this.secondHandle);\n                this.secondHandle = undefined;\n            }\n            this.removeElement(this.rangeBar);\n            this.rangeBar = undefined;\n        }\n        if (this.tooltip.isVisible && !isNullOrUndefined(this.tooltipObj)) {\n            this.tooltipObj.destroy();\n            this.tooltipElement = undefined;\n            this.tooltipCollidedPosition = undefined;\n        }\n        if (this.limits.enabled) {\n            if (type === 'MinRange' || type === 'Default') {\n                if (!isNullOrUndefined(this.limitBarFirst)) {\n                    this.removeElement(this.limitBarFirst);\n                    this.limitBarFirst = undefined;\n                }\n            }\n            else {\n                if (!isNullOrUndefined(this.limitBarSecond)) {\n                    this.removeElement(this.limitBarSecond);\n                    this.limitBarSecond = undefined;\n                }\n            }\n        }\n        this.activeHandle = 1;\n        this.getThemeInitialization();\n        if (this.type === 'Range') {\n            this.rangeValueUpdate();\n        }\n        this.createRangeBar();\n        if (this.limits.enabled) {\n            this.createLimitBar();\n        }\n        this.setHandler();\n        this.setOrientClass();\n        this.wireFirstHandleEvt(false);\n        if (this.type === 'Range') {\n            this.wireSecondHandleEvt(false);\n        }\n        this.setValue();\n        if (this.tooltip.isVisible) {\n            this.renderTooltip();\n            this.wireMaterialTooltipEvent(false);\n        }\n        this.setBarColor();\n        if ((!isBlazor() && !this.isServerRendered) || args !== 'tooltip') {\n            this.updateConfig();\n        }\n    };\n    Slider.prototype.changeRtl = function () {\n        if (!this.enableRtl && this.type === 'Range') {\n            this.value = [this.handleVal2, this.handleVal1];\n        }\n        this.updateConfig();\n        if (this.tooltip.isVisible) {\n            this.tooltipObj.refresh(this.firstHandle);\n        }\n        if (this.showButtons) {\n            var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\n            attributes(enabledRTL ? this.secondBtn : this.firstBtn, { 'aria-label': 'Decrease', title: 'Decrease' });\n            attributes(enabledRTL ? this.firstBtn : this.secondBtn, { 'aria-label': 'Increase', title: 'Increase' });\n        }\n    };\n    Slider.prototype.changeOrientation = function () {\n        this.changeSliderType(this.type, 'null');\n    };\n    Slider.prototype.updateConfig = function () {\n        this.setEnableRTL();\n        this.setValue();\n        if (this.tooltip.isVisible) {\n            if (!isBlazor()) {\n                this.refreshTooltip(this.tooltipTarget);\n            }\n        }\n        if (this.ticks.placement !== 'None') {\n            if (this.ul) {\n                this.removeElement(this.ul);\n                this.ul = undefined;\n                this.renderScale();\n            }\n        }\n        this.limitsPropertyChange();\n    };\n    Slider.prototype.limitsPropertyChange = function () {\n        if (this.limits.enabled) {\n            if (isNullOrUndefined(this.limitBarFirst) && this.type !== 'Range') {\n                this.createLimitBar();\n            }\n            if (isNullOrUndefined(this.limitBarFirst) && isNullOrUndefined(this.limitBarSecond) && this.type === 'Range') {\n                this.createLimitBar();\n            }\n            this.setLimitBar();\n            this.setValue();\n        }\n        else {\n            if (!isNullOrUndefined(this.limitBarFirst)) {\n                detach(this.limitBarFirst);\n            }\n            if (!isNullOrUndefined(this.limitBarSecond)) {\n                detach(this.limitBarSecond);\n            }\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @private\n     */\n    Slider.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers.\n     * Also it removes the attributes and classes.\n     * @method destroy\n     * @return {void}\n     */\n    Slider.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.unwireEvents();\n        window.removeEventListener('resize', this.onresize);\n        removeClass([this.sliderContainer], [classNames.sliderDisabled]);\n        this.firstHandle.removeAttribute('aria-orientation');\n        if (this.type === 'Range') {\n            this.secondHandle.removeAttribute('aria-orientation');\n        }\n        if (!isBlazor() && !this.isServerRendered) {\n            this.sliderContainer.parentNode.insertBefore(this.element, this.sliderContainer);\n            detach(this.sliderContainer);\n        }\n        if (this.tooltip.isVisible) {\n            this.tooltipObj.destroy();\n        }\n        if (!isBlazor() && !this.isServerRendered) {\n            this.element.innerHTML = '';\n        }\n    };\n    /**\n     * Calls internally if any of the property value is changed.\n     * @private\n     */\n    // tslint:disable-next-line\n    Slider.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _this = this;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    this.setCSSClass(oldProp.cssClass);\n                    break;\n                case 'value':\n                    if (newProp && oldProp) {\n                        var value = isNullOrUndefined(newProp.value) ?\n                            (this.type === 'Range' ? [this.min, this.max] : this.min) : newProp.value;\n                        this.setProperties({ 'value': value }, true);\n                        if (!isNullOrUndefined(oldProp.value) && oldProp.value.toString() !== value.toString()) {\n                            this.setValue();\n                            if (!isBlazor() || !this.isServerRendered) {\n                                this.refreshTooltip(this.tooltipTarget);\n                            }\n                            if (this.type === 'Range') {\n                                if (isNullOrUndefined(newProp.value) || oldProp.value[1] === value[1]) {\n                                    this.activeHandle = 1;\n                                }\n                                else {\n                                    this.activeHandle = 2;\n                                }\n                            }\n                        }\n                    }\n                    break;\n                case 'min':\n                case 'step':\n                case 'max':\n                    if (isBlazor() && this.isServerRendered) {\n                        this.isServerRendered = false;\n                    }\n                    this.setMinMaxValue();\n                    if (isBlazor() && !this.isServerRendered) {\n                        this.isServerRendered = true;\n                    }\n                    break;\n                case 'tooltip':\n                    if (isBlazor() && this.isServerRendered) {\n                        this.isServerRendered = false;\n                    }\n                    if (!isNullOrUndefined(newProp.tooltip) && !isNullOrUndefined(oldProp.tooltip)) {\n                        this.setTooltip(prop);\n                    }\n                    if (isBlazor() && !this.isServerRendered) {\n                        this.isServerRendered = true;\n                    }\n                    break;\n                case 'type':\n                    if (isBlazor() && this.isServerRendered) {\n                        this.isServerRendered = false;\n                    }\n                    if (!isNullOrUndefined(oldProp) && Object.keys(oldProp).length\n                        && !isNullOrUndefined(oldProp.type)) {\n                        this.changeSliderType(oldProp.type, prop);\n                        this.setZindex();\n                    }\n                    if (isBlazor() && !this.isServerRendered) {\n                        this.isServerRendered = true;\n                    }\n                    break;\n                case 'enableRtl':\n                    if (isBlazor() && this.isServerRendered) {\n                        if (this.isMaterialTooltip) {\n                            this.sliderContainer.classList.add(classNames.materialSlider);\n                        }\n                        this.isServerRendered = false;\n                    }\n                    if (oldProp.enableRtl !== newProp.enableRtl && this.orientation !== 'Vertical') {\n                        this.rtl = oldProp.enableRtl;\n                        this.changeRtl();\n                    }\n                    if (isBlazor() && !this.isServerRendered) {\n                        this.isServerRendered = true;\n                    }\n                    break;\n                case 'limits':\n                    this.limitsPropertyChange();\n                    break;\n                case 'orientation':\n                    if (isBlazor() && this.isServerRendered) {\n                        this.isServerRendered = false;\n                    }\n                    this.changeOrientation();\n                    if (isBlazor() && !this.isServerRendered) {\n                        this.isServerRendered = true;\n                    }\n                    break;\n                case 'ticks':\n                    if (!isNullOrUndefined(this.sliderContainer.querySelector('.' + classNames.scale))) {\n                        if (!isBlazor() || !this.isServerRendered) {\n                            detach(this.ul);\n                        }\n                        Array.prototype.forEach.call(this.sliderContainer.classList, function (className) {\n                            if (className.match(/e-scale-/)) {\n                                _this.sliderContainer.classList.remove(className);\n                            }\n                        });\n                    }\n                    if (this.ticks.placement !== 'None') {\n                        this.renderScale();\n                        this.setZindex();\n                    }\n                    break;\n                case 'locale':\n                    if (this.showButtons) {\n                        this.buttonTitle();\n                    }\n                    break;\n                case 'showButtons':\n                    if (newProp.showButtons) {\n                        this.setButtons();\n                        this.reposition();\n                        if (this.enabled && !this.readonly) {\n                            this.wireButtonEvt(false);\n                        }\n                    }\n                    else {\n                        if (!isBlazor() || !this.isServerRendered) {\n                            if (this.firstBtn && this.secondBtn) {\n                                this.sliderContainer.removeChild(this.firstBtn);\n                                this.sliderContainer.removeChild(this.secondBtn);\n                                this.sliderContainer.classList.remove(classNames.sliderButtonClass);\n                                this.firstBtn = undefined;\n                                this.secondBtn = undefined;\n                                this.reposition();\n                            }\n                        }\n                    }\n                    if (isBlazor() && this.isServerRendered) {\n                        if (this.isMaterialTooltip) {\n                            this.sliderContainer.classList.add(classNames.materialSlider);\n                        }\n                    }\n                    break;\n                case 'enabled':\n                    this.setEnabled();\n                    if (isBlazor() && this.isServerRendered) {\n                        if (this.isMaterialTooltip) {\n                            this.sliderContainer.classList.add(classNames.materialSlider);\n                        }\n                    }\n                    break;\n                case 'readonly':\n                    this.setReadOnly();\n                    if (isBlazor() && this.isServerRendered) {\n                        if (this.isMaterialTooltip) {\n                            this.sliderContainer.classList.add(classNames.materialSlider);\n                        }\n                    }\n                    break;\n                case 'customValues':\n                    if (isBlazor() && this.isServerRendered) {\n                        this.isServerRendered = false;\n                    }\n                    this.setValue();\n                    this.reposition();\n                    if (isBlazor() && !this.isServerRendered) {\n                        this.isServerRendered = true;\n                    }\n                    break;\n                case 'colorRange':\n                    if (isBlazor() && this.isServerRendered) {\n                        this.isServerRendered = false;\n                    }\n                    this.reposition();\n                    if (isBlazor() && !this.isServerRendered) {\n                        this.isServerRendered = true;\n                    }\n                    break;\n                case 'width':\n                    this.setElementWidth(newProp.width);\n                    this.setMinMaxValue();\n                    if (this.limits) {\n                        this.limitsPropertyChange();\n                    }\n                    break;\n            }\n        }\n    };\n    Slider.prototype.setReadOnly = function () {\n        if (this.readonly) {\n            this.unwireEvents();\n            this.sliderContainer.classList.add(classNames.readonly);\n        }\n        else {\n            this.wireEvents();\n            this.sliderContainer.classList.remove(classNames.readonly);\n        }\n    };\n    Slider.prototype.setMinMaxValue = function () {\n        var _this = this;\n        this.setValue();\n        if (!isBlazor()) {\n            this.refreshTooltip(this.tooltipTarget);\n        }\n        if (!isNullOrUndefined(this.sliderContainer.querySelector('.' + classNames.scale))) {\n            if (this.ul) {\n                detach(this.ul);\n                Array.prototype.forEach.call(this.sliderContainer.classList, function (className) {\n                    if (className.match(/e-scale-/)) {\n                        _this.sliderContainer.classList.remove(className);\n                    }\n                });\n            }\n        }\n        if (this.ticks.placement !== 'None') {\n            this.renderScale();\n            this.setZindex();\n        }\n    };\n    Slider.prototype.setZindex = function () {\n        this.zIndex = 6;\n        if (!isNullOrUndefined(this.ticks) && this.ticks.placement !== 'None') {\n            this.ul.style.zIndex = (this.zIndex + -7) + '';\n            this.element.style.zIndex = (this.zIndex + 2) + '';\n        }\n        if (!this.isMaterial && !isNullOrUndefined(this.ticks) && this.ticks.placement === 'Both') {\n            this.element.style.zIndex = (this.zIndex + 2) + '';\n        }\n        this.firstHandle.style.zIndex = (this.zIndex + 3) + '';\n        if (this.type === 'Range') {\n            this.secondHandle.style.zIndex = (this.zIndex + 4) + '';\n        }\n    };\n    Slider.prototype.setTooltip = function (args) {\n        this.changeSliderType(this.type, args);\n    };\n    Slider.prototype.setBarColor = function () {\n        var trackPosition;\n        var trackClassName;\n        var child = this.sliderTrack.lastElementChild;\n        while (child) {\n            this.sliderTrack.removeChild(child);\n            child = this.sliderTrack.lastElementChild;\n        }\n        for (var i = 0; i < this.colorRange.length; i++) {\n            if (!isNullOrUndefined(this.colorRange[i].start) && !isNullOrUndefined(this.colorRange[i].end)) {\n                if (this.colorRange[i].end > this.colorRange[i].start) {\n                    if (this.colorRange[i].start < this.min) {\n                        this.colorRange[i].start = this.min;\n                    }\n                    if (this.colorRange[i].end > this.max) {\n                        this.colorRange[i].end = this.max;\n                    }\n                    var startingPosition = this.checkHandlePosition(this.colorRange[i].start);\n                    var endPosition = this.checkHandlePosition(this.colorRange[i].end);\n                    var trackContainer = this.createElement('div');\n                    trackContainer.style.backgroundColor = this.colorRange[i].color;\n                    trackContainer.style.border = '1px solid ' + this.colorRange[i].color;\n                    if (this.orientation === 'Horizontal') {\n                        trackClassName = classNames.sliderHorizantalColor;\n                        if (this.enableRtl) {\n                            if (isNullOrUndefined(this.customValues)) {\n                                trackPosition = this.checkHandlePosition(this.max) - this.checkHandlePosition(this.colorRange[i].end);\n                            }\n                            else {\n                                trackPosition = this.checkHandlePosition(this.customValues.length - this.colorRange[i].end - 1);\n                            }\n                        }\n                        else {\n                            trackPosition = this.checkHandlePosition(this.colorRange[i].start);\n                        }\n                        trackContainer.style.width = endPosition - startingPosition + 'px';\n                        trackContainer.style.left = trackPosition + 'px';\n                    }\n                    else {\n                        trackClassName = classNames.sliderVerticalColor;\n                        trackPosition = this.checkHandlePosition(this.colorRange[i].start);\n                        trackContainer.style.height = endPosition - startingPosition + 'px';\n                        trackContainer.style.bottom = trackPosition + 'px';\n                    }\n                    trackContainer.classList.add(trackClassName);\n                    this.sliderTrack.appendChild(trackContainer);\n                }\n            }\n        }\n    };\n    /**\n     * Gets the component name\n     * @private\n     */\n    Slider.prototype.getModuleName = function () {\n        return 'slider';\n    };\n    __decorate([\n        Property(null)\n    ], Slider.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], Slider.prototype, \"customValues\", void 0);\n    __decorate([\n        Property(1)\n    ], Slider.prototype, \"step\", void 0);\n    __decorate([\n        Property(null)\n    ], Slider.prototype, \"width\", void 0);\n    __decorate([\n        Property(0)\n    ], Slider.prototype, \"min\", void 0);\n    __decorate([\n        Property(100)\n    ], Slider.prototype, \"max\", void 0);\n    __decorate([\n        Property(false)\n    ], Slider.prototype, \"readonly\", void 0);\n    __decorate([\n        Property('Default')\n    ], Slider.prototype, \"type\", void 0);\n    __decorate([\n        Collection([{}], ColorRangeData)\n    ], Slider.prototype, \"colorRange\", void 0);\n    __decorate([\n        Complex({}, TicksData)\n    ], Slider.prototype, \"ticks\", void 0);\n    __decorate([\n        Complex({}, LimitData)\n    ], Slider.prototype, \"limits\", void 0);\n    __decorate([\n        Property(true)\n    ], Slider.prototype, \"enabled\", void 0);\n    __decorate([\n        Complex({}, TooltipData)\n    ], Slider.prototype, \"tooltip\", void 0);\n    __decorate([\n        Property(false)\n    ], Slider.prototype, \"showButtons\", void 0);\n    __decorate([\n        Property(true)\n    ], Slider.prototype, \"enableAnimation\", void 0);\n    __decorate([\n        Property('Horizontal')\n    ], Slider.prototype, \"orientation\", void 0);\n    __decorate([\n        Property('')\n    ], Slider.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], Slider.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"changed\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"renderingTicks\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"renderedTicks\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"tooltipChange\", void 0);\n    Slider = __decorate([\n        NotifyPropertyChanges\n    ], Slider);\n    return Slider;\n}(Component));\nexport { Slider };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Event, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { Browser, closest, detach, EventHandler, getInstance, select, selectAll, formatUnit } from '@syncfusion/ej2-base';\nimport { addClass, attributes, classList, isNullOrUndefined, L10n } from '@syncfusion/ej2-base';\nimport { remove, removeClass, rippleEffect } from '@syncfusion/ej2-base';\nimport { SplitButton, getModel } from '@syncfusion/ej2-splitbuttons';\nimport { Deferred } from '@syncfusion/ej2-splitbuttons';\nimport { Tooltip, getZindexPartial, Popup } from '@syncfusion/ej2-popups';\nimport { Input } from './../input/index';\nimport { NumericTextBox } from './../numerictextbox/index';\nimport { Slider } from './../slider/slider';\nvar APPLY = 'e-apply';\nvar CANCEL = 'e-cancel';\nvar CURRENT = 'e-current';\nvar CONTAINER = 'e-container';\nvar CTRLBTN = 'e-ctrl-btn';\nvar CTRLSWITCH = 'e-switch-ctrl-btn';\nvar DISABLED = 'e-disabled';\nvar FORMATSWITCH = 'e-value-switch-btn';\nvar HANDLER = 'e-handler';\nvar HEX = 'e-hex';\nvar HIDEHEX = 'e-hide-hex-value';\nvar HIDEOPACITY = 'e-hide-opacity';\nvar HIDERGBA = 'e-hide-switchable-value';\nvar HIDEVALUE = 'e-hide-value';\nvar HIDEVALUESWITCH = 'e-hide-valueswitcher';\nvar HSVAREA = 'e-hsv-color';\nvar HSVCONTAINER = 'e-hsv-container';\nvar INPUTWRAPPER = 'e-selected-value';\nvar MODESWITCH = 'e-mode-switch-btn';\nvar NOCOLOR = 'e-nocolor-item';\nvar OPACITY = 'e-opacity-value';\nvar PALETTES = 'e-palette';\nvar PALETTECONTENT = 'e-color-palette';\nvar PICKERCONTENT = 'e-color-picker';\nvar PREVIEW = 'e-preview-container';\nvar PREVIOUS = 'e-previous';\nvar RTL = 'e-rtl';\nvar SHOWVALUE = 'e-show-value';\nvar SELECT = 'e-selected';\nvar SPLITPREVIEW = 'e-split-preview';\nvar TILE = 'e-tile';\nvar presets = {\n    default: ['#000000', '#f44336', '#e91e63', '#9c27b0', '#673ab7', '#2196f3', '#03a9f4', '#00bcd4', '#009688', '#ffeb3b',\n        '#ffffff', '#ffebee', '#fce4ec', '#f3e5f5', '#ede7f6', '#e3f2fd', '#e1f5fe', '#e0f7fa', '#e0f2f1', '#fffde7',\n        '#f2f2f2', '#ffcdd2', '#f8bbd0', '#e1bee7', '#d1c4e9', '#bbdefb', '#b3e5fc', '#b2ebf2', '#b2dfdb', '#fff9c4',\n        '#e6e6e6', '#ef9a9a', '#f48fb1', '#ce93d8', '#b39ddb', '#90caf9', '#81d4fa', '#80deea', '#80cbc4', '#fff59d',\n        '#cccccc', '#e57373', '#f06292', '#ba68c8', '#9575cd', '#64b5f6', '#4fc3f7', '#4dd0e1', '#4db6ac', '#fff176',\n        '#b3b3b3', '#ef5350', '#ec407a', '#ab47bc', '#7e57c2', '#42a5f5', '#29b6f6', '#26c6da', '#26a69a', '#ffee58',\n        '#999999', '#e53935', '#d81b60', '#8e24aa', '#5e35b1', '#1e88e5', '#039be5', '#00acc1', '#00897b', '#fdd835',\n        '#808080', '#d32f2f', '#c2185b', '#7b1fa2', '#512da8', '#1976d2', '#0288d1', '#0097a7', '#00796b', '#fbc02d',\n        '#666666', '#c62828', '#ad1457', '#6a1b9a', '#4527a0', '#1565c0', '#0277bd', '#00838f', '#00695c', '#f9a825',\n        '#4d4d4d', '#b71c1c', '#880e4f', '#4a148c', '#311b92', '#0d47a1', '#01579b', '#006064', '#004d40', '#f57f17']\n};\n/**\n * ColorPicker component is a user interface to select and adjust color values. It provides supports for various\n * color specification like Red Green Blue, Hue Saturation Value and Hex codes.\n * ```html\n * <input type=\"color\" id=\"color-picker\">\n * ```\n * ```typescript\n * <script>\n *   let colorPickerObj: ColorPicker = new ColorPicker(null , \"#color-picker\");\n * </script>\n * ```\n */\nvar ColorPicker = /** @class */ (function (_super) {\n    __extends(ColorPicker, _super);\n    function ColorPicker(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    ColorPicker.prototype.preRender = function () {\n        var ele = this.element;\n        this.formElement = closest(this.element, 'form');\n        if (this.formElement) {\n            EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n        }\n        var localeText = { Apply: 'Apply', Cancel: 'Cancel', ModeSwitcher: 'Switch Mode' };\n        this.l10n = new L10n('colorpicker', localeText, this.locale);\n        if (ele.getAttribute('ejs-for') && !ele.getAttribute('name')) {\n            ele.setAttribute('name', ele.id);\n        }\n    };\n    /**\n     * To Initialize the component rendering\n     * @private\n     */\n    ColorPicker.prototype.render = function () {\n        this.initWrapper();\n        if (this.inline) {\n            this.createWidget();\n        }\n        else {\n            this.createSplitBtn();\n        }\n        if (!this.enableOpacity) {\n            addClass([this.container.parentElement], HIDEOPACITY);\n        }\n        this.renderComplete();\n    };\n    ColorPicker.prototype.initWrapper = function () {\n        var wrapper = this.createElement('div', { className: 'e-' + this.getModuleName() + '-wrapper' });\n        this.element.parentNode.insertBefore(wrapper, this.element);\n        wrapper.appendChild(this.element);\n        attributes(this.element, { 'tabindex': '-1', 'spellcheck': 'false' });\n        this.container = this.createElement('div', { className: CONTAINER });\n        this.getWrapper().appendChild(this.container);\n        var value = this.value ? this.roundValue(this.value).toLowerCase() : '#008000ff';\n        if (this.noColor && this.mode === 'Palette' && this.value === '') {\n            value = '';\n        }\n        var slicedValue = value.slice(0, 7);\n        if (isNullOrUndefined(this.initialInputValue)) {\n            this.initialInputValue = slicedValue;\n        }\n        this.element.value = slicedValue;\n        if (this.enableOpacity) {\n            this.setProperties({ 'value': value }, true);\n        }\n        else {\n            this.setProperties({ 'value': slicedValue }, true);\n        }\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([wrapper], this.cssClass.split(' '));\n        }\n        this.tileRipple = rippleEffect(this.container, { selector: '.' + TILE });\n        this.ctrlBtnRipple = rippleEffect(this.container, { selector: '.e-btn' });\n    };\n    ColorPicker.prototype.getWrapper = function () {\n        return this.element.parentElement;\n    };\n    ColorPicker.prototype.createWidget = function () {\n        if (this.mode === 'Palette') {\n            this.createPalette();\n            if (!this.inline) {\n                this.firstPaletteFocus();\n            }\n        }\n        else {\n            this.createPicker();\n            if (!this.inline) {\n                this.getDragHandler().focus();\n            }\n        }\n        this.isRgb = true;\n        this.createInput();\n        this.createCtrlBtn();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n        if (this.inline && this.disabled) {\n            this.toggleDisabled(true);\n        }\n        if (Browser.isDevice) {\n            this.refreshPopupPos();\n        }\n    };\n    ColorPicker.prototype.createSplitBtn = function () {\n        var _this = this;\n        var splitButton = this.createElement('button', { className: 'e-split-colorpicker' });\n        this.getWrapper().appendChild(splitButton);\n        this.splitBtn = new SplitButton({\n            iconCss: 'e-selected-color',\n            target: this.container,\n            disabled: this.disabled,\n            enableRtl: this.enableRtl,\n            open: this.onOpen.bind(this),\n            click: function (args) {\n                _this.trigger('change', {\n                    currentValue: { hex: _this.value.slice(0, 7), rgba: _this.convertToRgbString(_this.hexToRgb(_this.value)) },\n                    previousValue: { hex: null, rgba: null }, value: _this.value\n                });\n            }\n        });\n        this.splitBtn.createElement = this.createElement;\n        this.splitBtn.appendTo(splitButton);\n        var preview = this.createElement('span', { className: SPLITPREVIEW });\n        select('.e-selected-color', splitButton).appendChild(preview);\n        preview.style.backgroundColor = this.convertToRgbString(this.hexToRgb(this.value));\n        var popupEle = this.getPopupEle();\n        addClass([popupEle], 'e-colorpicker-popup');\n        if (this.cssClass) {\n            addClass([popupEle], this.cssClass.split(' '));\n        }\n        if (Browser.isDevice) {\n            var popupInst = this.getPopupInst();\n            popupInst.relateTo = document.body;\n            popupInst.position = { X: 'center', Y: 'center' };\n            popupInst.targetType = 'container';\n            popupInst.collision = { X: 'fit', Y: 'fit' };\n            popupInst.offsetY = 4;\n            popupEle.style.zIndex = getZindexPartial(this.splitBtn.element).toString();\n        }\n        this.bindCallBackEvent();\n    };\n    ColorPicker.prototype.onOpen = function (args) {\n        this.trigger('open', { element: this.container });\n    };\n    ColorPicker.prototype.getPopupInst = function () {\n        return getInstance(this.getPopupEle(), Popup);\n    };\n    ColorPicker.prototype.bindCallBackEvent = function () {\n        var _this = this;\n        this.splitBtn.beforeOpen = function (args) {\n            var callBackPromise = new Deferred();\n            _this.trigger('beforeOpen', args, function (observeOpenArgs) {\n                if (!observeOpenArgs.cancel) {\n                    var popupEle = _this.getPopupEle();\n                    popupEle.style.top = formatUnit(0 + pageYOffset);\n                    popupEle.style.left = formatUnit(0 + pageXOffset);\n                    popupEle.style.display = 'block';\n                    _this.createWidget();\n                    popupEle.style.display = '';\n                    if (Browser.isDevice) {\n                        _this.modal = _this.createElement('div');\n                        _this.modal.className = 'e-' + _this.getModuleName() + ' e-modal';\n                        _this.modal.style.display = 'none';\n                        document.body.insertBefore(_this.modal, popupEle);\n                        document.body.className += ' e-colorpicker-overflow';\n                        _this.modal.style.display = 'block';\n                        _this.modal.style.zIndex = (Number(popupEle.style.zIndex) - 1).toString();\n                    }\n                }\n                args.cancel = observeOpenArgs.cancel;\n                callBackPromise.resolve(observeOpenArgs);\n            });\n            return callBackPromise;\n        };\n        this.splitBtn.beforeClose = function (args) {\n            var callBackPromise = new Deferred();\n            if (!isNullOrUndefined(args.event)) {\n                var beforeCloseArgs = { element: _this.container, event: args.event, cancel: false };\n                _this.trigger('beforeClose', beforeCloseArgs, function (observedCloseArgs) {\n                    if (Browser.isDevice && args.event.target === _this.modal) {\n                        observedCloseArgs.cancel = true;\n                    }\n                    if (!observedCloseArgs.cancel) {\n                        _this.onPopupClose();\n                    }\n                    args.cancel = observedCloseArgs.cancel;\n                    callBackPromise.resolve(observedCloseArgs);\n                });\n            }\n            else {\n                callBackPromise.resolve(args);\n            }\n            return callBackPromise;\n        };\n    };\n    ColorPicker.prototype.onPopupClose = function () {\n        this.unWireEvents();\n        this.destroyOtherComp();\n        this.container.style.width = '';\n        select('.' + SPLITPREVIEW, this.splitBtn.element).style.backgroundColor\n            = this.convertToRgbString(this.hexToRgb(this.value));\n        this.container.innerHTML = '';\n        removeClass([this.container], [PICKERCONTENT, PALETTECONTENT]);\n        if (Browser.isDevice && this.modal) {\n            removeClass([document.body], 'e-colorpicker-overflow');\n            this.modal.style.display = 'none';\n            this.modal.outerHTML = '';\n            this.modal = null;\n        }\n    };\n    ColorPicker.prototype.createPalette = function () {\n        classList(this.container, [PALETTECONTENT], [PICKERCONTENT]);\n        if (this.presetColors) {\n            var paletteGroup = this.createElement('div', { className: 'e-custom-palette' });\n            this.appendElement(paletteGroup);\n            var keys = Object.keys(this.presetColors);\n            if (keys.length === 1) {\n                this.appendPalette(this.presetColors[keys[0]], keys[0], paletteGroup);\n            }\n            else {\n                for (var i = 0, len = keys.length; i < len; i++) {\n                    this.appendPalette(this.presetColors[keys[i]], keys[i], paletteGroup);\n                }\n            }\n            if (selectAll('.e-row', paletteGroup).length > 10) {\n                addClass([paletteGroup], 'e-palette-group');\n            }\n        }\n        else {\n            this.appendPalette(presets.default, 'default');\n        }\n        if (this.mode === 'Palette' && !this.modeSwitcher && this.noColor) {\n            this.setNoColor();\n        }\n        var width = parseInt(getComputedStyle(this.container).borderBottomWidth, 10);\n        this.container.style.width = formatUnit(this.container.children[0].offsetWidth + width + width);\n        this.rgb = this.hexToRgb(this.roundValue(this.value));\n        this.hsv = this.rgbToHsv.apply(this, this.rgb);\n    };\n    ColorPicker.prototype.firstPaletteFocus = function () {\n        if (!select('.' + SELECT, this.container.children[0])) {\n            selectAll('.' + PALETTES, this.container)[0].focus();\n        }\n    };\n    ColorPicker.prototype.appendPalette = function (colors, key, refEle) {\n        var palette = this.createElement('div', { className: PALETTES, attrs: { 'tabindex': '0' } });\n        if (refEle) {\n            refEle.appendChild(palette);\n        }\n        else {\n            this.appendElement(palette);\n        }\n        var row;\n        var tile;\n        var roundedColor;\n        for (var i = 0, len = colors.length; i < len; i++) {\n            if (i === 0 || i % this.columns === 0) {\n                row = this.createElement('div', {\n                    className: 'e-row', attrs: { 'role': 'row' }\n                });\n                palette.appendChild(row);\n            }\n            roundedColor = this.roundValue(colors[i]).toLowerCase();\n            tile = this.createElement('span', {\n                className: TILE, attrs: { 'role': 'gridcell', 'aria-label': roundedColor, 'aria-selected': 'false' }\n            });\n            this.trigger('beforeTileRender', { element: tile, presetName: key, value: colors[i] });\n            row.appendChild(tile);\n            if (this.value === roundedColor) {\n                this.addTileSelection(tile);\n                palette.focus();\n            }\n            tile.style.backgroundColor = this.convertToRgbString(this.hexToRgb(roundedColor));\n        }\n    };\n    ColorPicker.prototype.setNoColor = function () {\n        var noColorEle = this.container.querySelector('.e-row').children[0];\n        noColorEle.classList.add(NOCOLOR);\n        if (!this.value) {\n            noColorEle.classList.add(SELECT);\n            closest(noColorEle, '.' + PALETTES).focus();\n        }\n        ['aria-selected', 'aria-label'].forEach(function (attr) { noColorEle.removeAttribute(attr); });\n        noColorEle.style.backgroundColor = '';\n    };\n    ColorPicker.prototype.appendElement = function (ele, insertPos) {\n        if (insertPos === void 0) { insertPos = 0; }\n        var refEle = this.container.children[insertPos];\n        refEle ? this.container.insertBefore(ele, refEle) : this.container.appendChild(ele);\n    };\n    ColorPicker.prototype.addTileSelection = function (ele) {\n        ele.classList.add(SELECT);\n        ele.setAttribute('aria-selected', 'true');\n    };\n    ColorPicker.prototype.createPicker = function () {\n        classList(this.container, [PICKERCONTENT], [PALETTECONTENT]);\n        var hsvContainer = this.createElement('div', { className: HSVCONTAINER });\n        this.appendElement(hsvContainer);\n        hsvContainer.appendChild(this.createElement('div', { className: HSVAREA }));\n        var dragHandler = this.createElement('span', { className: HANDLER, attrs: { 'tabindex': '0' } });\n        hsvContainer.appendChild(dragHandler);\n        this.rgb = this.hexToRgb(this.value);\n        this.hsv = this.rgbToHsv.apply(this, this.rgb);\n        this.setHsvContainerBg();\n        this.setHandlerPosition();\n        this.createSlider();\n        this.createDragTooltip();\n    };\n    ColorPicker.prototype.setHsvContainerBg = function (h) {\n        if (h === void 0) { h = this.hsv[0]; }\n        this.getHsvContainer().style.backgroundColor = this.convertToRgbString(this.hsvToRgb(h, 100, 100, 1));\n    };\n    ColorPicker.prototype.getHsvContainer = function () {\n        return select('.' + HSVCONTAINER, this.container);\n    };\n    ColorPicker.prototype.setHandlerPosition = function () {\n        var dragHandler = this.getDragHandler();\n        var hsvArea = select('.' + HSVAREA, this.container);\n        if (this.enableRtl) {\n            dragHandler.style.left = formatUnit(hsvArea.offsetWidth * Math.abs(100 - this.hsv[1]) / 100);\n        }\n        else {\n            dragHandler.style.left = formatUnit(hsvArea.offsetWidth * this.hsv[1] / 100);\n        }\n        dragHandler.style.top = formatUnit(hsvArea.offsetHeight * (100 - this.hsv[2]) / 100);\n    };\n    ColorPicker.prototype.createSlider = function () {\n        var sliderPreviewWrapper = this.createElement('div', { className: 'e-slider-preview' });\n        this.appendElement(sliderPreviewWrapper, 1);\n        this.createPreview(sliderPreviewWrapper);\n        var sliderWrapper = this.createElement('div', { className: 'e-colorpicker-slider' });\n        sliderPreviewWrapper.insertBefore(sliderWrapper, sliderPreviewWrapper.children[0]);\n        var slider = this.createElement('div', { className: 'e-hue-slider' });\n        sliderWrapper.appendChild(slider);\n        this.hueSlider = new Slider({\n            value: this.hsv[0],\n            min: 0,\n            max: 359,\n            enableRtl: this.enableRtl,\n            enabled: !this.disabled,\n            change: this.hueChange.bind(this)\n        });\n        this.hueSlider.createElement = this.createElement;\n        this.hueSlider.appendTo(slider);\n        if (this.enableOpacity) {\n            slider = this.createElement('div', { className: 'e-opacity-slider' });\n            sliderWrapper.appendChild(slider);\n            this.createOpacitySlider(slider);\n        }\n    };\n    ColorPicker.prototype.createOpacitySlider = function (slider) {\n        this.opacitySlider = new Slider({\n            value: this.rgb[3] * 100,\n            min: 0,\n            max: 100,\n            enableRtl: this.enableRtl,\n            enabled: !this.disabled,\n            change: this.opacityChange.bind(this)\n        });\n        this.opacitySlider.createElement = this.createElement;\n        this.opacitySlider.appendTo(slider);\n        var opacityBgTrack = this.createElement('div', { className: 'e-opacity-empty-track' });\n        slider.appendChild(opacityBgTrack);\n        this.updateOpacitySliderBg();\n    };\n    ColorPicker.prototype.updateOpacitySliderBg = function () {\n        var direction = this.enableRtl ? 'to left' : 'to right';\n        select('.e-slider-track', this.opacitySlider.element).style.background =\n            'linear-gradient(' + direction + ', rgba(' + this.rgb.slice(0, 3) + ', 0) 0%, ' +\n                this.convertToRgbString(this.rgb.slice(0, 3)) + ' 100%)';\n    };\n    ColorPicker.prototype.hueChange = function (args) {\n        this.hsv[0] = args.value;\n        this.setHsvContainerBg();\n        this.convertToOtherFormat();\n    };\n    ColorPicker.prototype.opacityChange = function (args) {\n        var value = args.value;\n        var pValue = this.rgbToHex(this.rgb);\n        this.hsv[3] = value / 100;\n        this.rgb[3] = value / 100;\n        var cValue = this.rgbToHex(this.rgb);\n        this.updateOpacityInput(value);\n        var rgb = this.convertToRgbString(this.rgb);\n        this.updatePreview(rgb);\n        this.triggerEvent(cValue, pValue, rgb);\n    };\n    ColorPicker.prototype.updateOpacityInput = function (value) {\n        if (this.enableOpacity && !this.getWrapper().classList.contains(HIDEVALUE)) {\n            var opacityTextBoxInst = getInstance(select('.' + OPACITY, this.container), NumericTextBox);\n            opacityTextBoxInst.value = value;\n            opacityTextBoxInst.dataBind();\n        }\n    };\n    ColorPicker.prototype.createPreview = function (parentEle) {\n        var previewContainer = this.createElement('div', { className: PREVIEW });\n        parentEle.appendChild(previewContainer);\n        var preview = this.createElement('span', { className: 'e-preview ' + CURRENT });\n        previewContainer.appendChild(preview);\n        var colorValue = this.convertToRgbString(this.rgb);\n        preview.style.backgroundColor = colorValue;\n        preview = this.createElement('span', { className: 'e-preview ' + PREVIOUS });\n        previewContainer.appendChild(preview);\n        preview.style.backgroundColor = colorValue;\n    };\n    ColorPicker.prototype.isPicker = function () {\n        return !this.container.classList.contains(PALETTECONTENT);\n    };\n    ColorPicker.prototype.getPopupEle = function () {\n        return this.container.parentElement;\n    };\n    ColorPicker.prototype.createNumericInput = function (element, value, label, max) {\n        var _this = this;\n        var numericInput = new NumericTextBox({\n            value: value,\n            placeholder: label,\n            min: 0,\n            max: max,\n            format: '###.##',\n            showSpinButton: false,\n            floatLabelType: 'Always',\n            enableRtl: this.enableRtl,\n            enabled: !this.disabled,\n            readonly: this.isPicker() ? false : true,\n            change: function (args) {\n                if (args.event) {\n                    _this.inputHandler(args.event);\n                }\n            }\n        });\n        numericInput.createElement = this.createElement;\n        numericInput.appendTo(element);\n    };\n    ColorPicker.prototype.createInput = function () {\n        var isPicker = this.isPicker();\n        var wrapper = this.getWrapper();\n        if ((isPicker && !wrapper.classList.contains(HIDEVALUE)) || (!isPicker && wrapper.classList.contains(SHOWVALUE))) {\n            var inputWrap = this.createElement('div', { className: INPUTWRAPPER });\n            isPicker ? this.appendElement(inputWrap, 2) : this.appendElement(inputWrap, 1);\n            var container = this.createElement('div', { className: 'e-input-container' });\n            inputWrap.appendChild(container);\n            if (!wrapper.classList.contains(HIDEVALUESWITCH)) {\n                this.appendValueSwitchBtn(inputWrap);\n            }\n            if (!wrapper.classList.contains(HIDEHEX)) {\n                var hexInput = this.createElement('input', {\n                    className: HEX,\n                    attrs: { 'maxlength': '7', 'spellcheck': 'false' }\n                });\n                container.appendChild(hexInput);\n                Input.createInput({\n                    element: hexInput,\n                    floatLabelType: 'Always',\n                    properties: {\n                        placeholder: 'HEX',\n                        enableRtl: this.enableRtl,\n                        enabled: !this.disabled,\n                        readonly: this.isPicker() ? false : true\n                    }\n                }, this.createElement);\n                Input.setValue(this.value.slice(0, 7), hexInput);\n                hexInput.addEventListener('input', this.inputHandler.bind(this));\n            }\n            if (!wrapper.classList.contains(HIDERGBA)) {\n                var label = void 0;\n                var value = void 0;\n                if (this.isRgb) {\n                    label = 'RGB';\n                    value = this.rgb;\n                }\n                else {\n                    label = 'HSV';\n                    value = this.hsv;\n                }\n                var clsName = ['rh', 'gs', 'bv'];\n                for (var i = 0; i < 3; i++) {\n                    this.createNumericInput(container.appendChild(this.createElement('input', { className: 'e-' + clsName[i] + '-value' })), value[i], label[i], 255);\n                }\n                if (this.enableOpacity) {\n                    this.appendOpacityValue(container);\n                }\n            }\n        }\n    };\n    ColorPicker.prototype.appendOpacityValue = function (container) {\n        this.createNumericInput(container.appendChild(this.createElement('input', { className: OPACITY })), this.rgb[3] * 100, 'A', 100);\n    };\n    ColorPicker.prototype.appendValueSwitchBtn = function (targetEle) {\n        var valueSwitchBtn = this.createElement('button', {\n            className: 'e-icons e-css e-btn e-flat e-icon-btn ' + FORMATSWITCH\n        });\n        targetEle.appendChild(valueSwitchBtn);\n        if (this.isPicker() && !this.getWrapper().classList.contains(HIDERGBA)) {\n            valueSwitchBtn.addEventListener('click', this.formatSwitchHandler.bind(this));\n        }\n    };\n    ColorPicker.prototype.createCtrlBtn = function () {\n        if (this.modeSwitcher || this.showButtons) {\n            this.l10n.setLocale(this.locale);\n            var btnWrapper = this.createElement('div', { className: CTRLSWITCH });\n            this.container.appendChild(btnWrapper);\n            if (this.showButtons) {\n                var controlBtnWrapper = this.createElement('div', { className: CTRLBTN });\n                btnWrapper.appendChild(controlBtnWrapper);\n                var apply = this.l10n.getConstant('Apply');\n                controlBtnWrapper.appendChild(this.createElement('button', {\n                    innerHTML: apply,\n                    className: 'e-btn e-css e-flat e-primary e-small ' + APPLY,\n                    attrs: { 'title': apply }\n                }));\n                var cancel = this.l10n.getConstant('Cancel');\n                controlBtnWrapper.appendChild(this.createElement('button', {\n                    innerHTML: cancel,\n                    className: 'e-btn e-css e-flat e-small ' + CANCEL,\n                    attrs: { 'title': cancel }\n                }));\n            }\n            if (this.modeSwitcher) {\n                this.appendModeSwitchBtn();\n            }\n        }\n    };\n    ColorPicker.prototype.appendModeSwitchBtn = function () {\n        var modeSwitcher = this.createElement('button', {\n            className: 'e-icons e-btn e-flat e-icon-btn ' + MODESWITCH, attrs: { title: this.l10n.getConstant('ModeSwitcher') }\n        });\n        select('.' + CTRLSWITCH, this.container).insertBefore(modeSwitcher, select('.' + CTRLBTN, this.container));\n    };\n    ColorPicker.prototype.createDragTooltip = function () {\n        var _this = this;\n        var tooltip = new Tooltip({\n            opensOn: 'Custom',\n            showTipPointer: false,\n            cssClass: 'e-color-picker-tooltip',\n            beforeOpen: function (args) {\n                _this.tooltipEle = args.element;\n            },\n            animation: { open: { effect: 'None' }, close: { effect: 'None' } }\n        });\n        tooltip.createElement = this.createElement;\n        tooltip.appendTo(this.container);\n        tooltip.open(this.container);\n        this.tooltipEle.style.zIndex = getZindexPartial(this.tooltipEle).toString();\n        select('.e-tip-content', this.tooltipEle).appendChild(this.createElement('div', { className: 'e-tip-transparent' }));\n    };\n    ColorPicker.prototype.getTooltipInst = function () {\n        return getInstance(this.container, Tooltip);\n    };\n    ColorPicker.prototype.setTooltipOffset = function (value) {\n        this.getTooltipInst().offsetY = value;\n    };\n    ColorPicker.prototype.toggleDisabled = function (enable) {\n        enable ? this.getWrapper().classList.add(DISABLED) : this.getWrapper().classList.remove(DISABLED);\n        if (this.showButtons) {\n            ([].slice.call(selectAll('.e-btn', this.container))).forEach(function (ele) {\n                enable ? attributes(ele, { 'disabled': '' }) : ele.removeAttribute('disabled');\n            });\n        }\n    };\n    ColorPicker.prototype.convertToRgbString = function (rgb) {\n        return rgb.length ? rgb.length === 4 ? 'rgba(' + rgb.join() + ')' : 'rgb(' + rgb.join() + ')' : '';\n    };\n    ColorPicker.prototype.convertToHsvString = function (hsv) {\n        return hsv.length === 4 ? 'hsva(' + hsv.join() + ')' : 'hsv(' + hsv.join() + ')';\n    };\n    ColorPicker.prototype.updateHsv = function () {\n        this.hsv[1] = this.hsv[1] > 100 ? 100 : this.hsv[1];\n        this.hsv[2] = this.hsv[2] > 100 ? 100 : this.hsv[2];\n        this.setHandlerPosition();\n    };\n    ColorPicker.prototype.convertToOtherFormat = function (isKey) {\n        if (isKey === void 0) { isKey = false; }\n        var pValue = this.rgbToHex(this.rgb);\n        this.rgb = this.hsvToRgb.apply(this, this.hsv);\n        var cValue = this.rgbToHex(this.rgb);\n        var rgba = this.convertToRgbString(this.rgb);\n        this.updatePreview(rgba);\n        this.updateInput(cValue);\n        this.triggerEvent(cValue, pValue, rgba, isKey);\n    };\n    ColorPicker.prototype.updateInput = function (value) {\n        var wrapper = this.getWrapper();\n        if (!wrapper.classList.contains(HIDEVALUE)) {\n            if (!wrapper.classList.contains(HIDEHEX)) {\n                Input.setValue(value.substr(0, 7), select('.' + HEX, this.container));\n            }\n            if (!wrapper.classList.contains(HIDERGBA)) {\n                if (this.isRgb) {\n                    this.updateValue(this.rgb, false);\n                }\n                else {\n                    this.updateValue(this.hsv, false);\n                }\n            }\n        }\n    };\n    ColorPicker.prototype.updatePreview = function (value) {\n        if (this.enableOpacity) {\n            this.updateOpacitySliderBg();\n        }\n        select('.e-tip-transparent', this.tooltipEle).style.backgroundColor = value;\n        select('.' + PREVIEW + ' .' + CURRENT, this.container).style.backgroundColor = value;\n        select('.' + PREVIEW + ' .' + PREVIOUS, this.container).style.backgroundColor\n            = this.convertToRgbString(this.hexToRgb(this.value));\n    };\n    ColorPicker.prototype.getDragHandler = function () {\n        return select('.' + HANDLER, this.container);\n    };\n    ColorPicker.prototype.removeTileSelection = function () {\n        var selectedEle = [].slice.call(selectAll('.' + SELECT, this.container.children[0]));\n        selectedEle.forEach(function (ele) {\n            ele.classList.remove(SELECT);\n            ele.setAttribute('aria-selected', 'false');\n        });\n    };\n    ColorPicker.prototype.convertRgbToNumberArray = function (value) {\n        return (value.slice(value.indexOf('(') + 1, value.indexOf(')'))).split(',').map(function (n, i) {\n            return (i !== 3) ? parseInt(n, 10) : parseFloat(n);\n        });\n    };\n    /**\n     * To get color value in specified type.\n     * @param value - Specify the color value.\n     * @param type - Specify the type to which the specified color needs to be converted.\n     * @method getValue\n     * @return {string}\n     */\n    ColorPicker.prototype.getValue = function (value, type) {\n        if (!value) {\n            value = this.value;\n        }\n        type = !type ? 'hex' : type.toLowerCase();\n        if (value[0] === 'r') {\n            var cValue = this.convertRgbToNumberArray(value);\n            if (type === 'hex' || type === 'hexa') {\n                var hex = this.rgbToHex(cValue);\n                return type === 'hex' ? hex.slice(0, 7) : hex;\n            }\n            else {\n                if (type === 'hsv') {\n                    return this.convertToHsvString(this.rgbToHsv.apply(this, cValue.slice(0, 3)));\n                }\n                else {\n                    if (type === 'hsva') {\n                        return this.convertToHsvString(this.rgbToHsv.apply(this, cValue));\n                    }\n                    else {\n                        return 'null';\n                    }\n                }\n            }\n        }\n        else {\n            if (value[0] === 'h') {\n                var cValue = this.hsvToRgb.apply(this, this.convertRgbToNumberArray(value));\n                if (type === 'rgba') {\n                    return this.convertToRgbString(cValue);\n                }\n                else {\n                    if (type === 'hex' || type === 'hexa') {\n                        var hex = this.rgbToHex(cValue);\n                        return type === 'hex' ? hex.slice(0, 7) : hex;\n                    }\n                    else {\n                        if (type === 'rgb') {\n                            return this.convertToRgbString(cValue.slice(0, 3));\n                        }\n                        else {\n                            return 'null';\n                        }\n                    }\n                }\n            }\n            else {\n                value = this.roundValue(value);\n                var rgb = this.hexToRgb(value);\n                if (type === 'rgb' || type === 'hsv') {\n                    rgb = rgb.slice(0, 3);\n                }\n                if (type === 'rgba' || type === 'rgb') {\n                    return this.convertToRgbString(rgb);\n                }\n                else {\n                    if (type === 'hsva' || type === 'hsv') {\n                        return this.convertToHsvString(this.rgbToHsv.apply(this, rgb));\n                    }\n                    else {\n                        if (type === 'hex') {\n                            return value.slice(0, 7);\n                        }\n                        else {\n                            if (type === 'a') {\n                                return rgb[3].toString();\n                            }\n                            else {\n                                return 'null';\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * To show/hide ColorPicker popup based on current state of the SplitButton.\n     * @method toggle\n     * @return {void}\n     */\n    ColorPicker.prototype.toggle = function () {\n        this.container.parentElement.classList.contains('e-popup-close') ? this.splitBtn.toggle() : this.closePopup(null);\n    };\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    ColorPicker.prototype.getModuleName = function () {\n        return 'colorpicker';\n    };\n    /**\n     * Gets the properties to be maintained in the persisted state.\n     * @return {string}\n     */\n    ColorPicker.prototype.getPersistData = function () {\n        return this.addOnPersist(['value']);\n    };\n    ColorPicker.prototype.wireEvents = function () {\n        if (this.isPicker()) {\n            var dragHandler = this.getDragHandler();\n            EventHandler.add(dragHandler, 'keydown', this.pickerKeyDown, this);\n            EventHandler.add(this.getHsvContainer(), 'mousedown touchstart', this.handlerDown, this);\n            if (this.modeSwitcher || this.showButtons) {\n                this.addCtrlSwitchEvent();\n            }\n            EventHandler.add(select('.' + PREVIOUS, this.container), 'click', this.previewHandler, this);\n        }\n        else {\n            EventHandler.add(this.container, 'click', this.paletteClickHandler, this);\n            EventHandler.add(this.container, 'keydown', this.paletteKeyDown, this);\n        }\n    };\n    ColorPicker.prototype.formResetHandler = function () {\n        this.value = this.initialInputValue;\n        attributes(this.element, { 'value': this.initialInputValue });\n    };\n    ColorPicker.prototype.addCtrlSwitchEvent = function () {\n        var ctrlSwitchBtn = select('.' + CTRLSWITCH, this.container);\n        if (ctrlSwitchBtn) {\n            EventHandler.add(ctrlSwitchBtn, 'click', this.btnClickHandler, this);\n        }\n    };\n    ColorPicker.prototype.pickerKeyDown = function (e) {\n        switch (e.keyCode) {\n            case 39:\n                this.handlerDragPosition(1, this.enableRtl ? -1 : 1, e);\n                break;\n            case 37:\n                this.handlerDragPosition(1, this.enableRtl ? 1 : -1, e);\n                break;\n            case 38:\n                this.handlerDragPosition(2, 1, e);\n                break;\n            case 40:\n                this.handlerDragPosition(2, -1, e);\n                break;\n            case 13:\n                e.preventDefault();\n                var cValue = this.rgbToHex(this.rgb);\n                this.enterKeyHandler(cValue, e);\n        }\n    };\n    ColorPicker.prototype.enterKeyHandler = function (value, e) {\n        this.triggerChangeEvent(value);\n        if (!this.inline) {\n            this.closePopup(e);\n            this.splitBtn.element.focus();\n        }\n    };\n    ColorPicker.prototype.closePopup = function (e) {\n        var _this = this;\n        var beforeCloseArgs = { element: this.container, event: e, cancel: false };\n        this.trigger('beforeClose', beforeCloseArgs, function (observedcloseArgs) {\n            if (!observedcloseArgs.cancel) {\n                _this.splitBtn.toggle();\n                _this.onPopupClose();\n            }\n        });\n    };\n    ColorPicker.prototype.triggerChangeEvent = function (value) {\n        var hex = value.slice(0, 7);\n        this.trigger('change', {\n            currentValue: { hex: hex, rgba: this.convertToRgbString(this.rgb) },\n            previousValue: { hex: this.value.slice(0, 7), rgba: this.convertToRgbString(this.hexToRgb(this.value)) },\n            value: this.enableOpacity ? value : hex\n        });\n        if (this.enableOpacity) {\n            this.setProperties({ 'value': value }, true);\n        }\n        else {\n            this.setProperties({ 'value': hex }, true);\n        }\n        this.element.value = hex ? hex : '#000000';\n    };\n    ColorPicker.prototype.handlerDragPosition = function (prob, value, e) {\n        e.preventDefault();\n        this.hsv[prob] += value * (e.ctrlKey ? 1 : 3);\n        if (this.hsv[prob] < 0) {\n            this.hsv[prob] = 0;\n        }\n        this.updateHsv();\n        this.convertToOtherFormat(true);\n    };\n    ColorPicker.prototype.handlerDown = function (e) {\n        e.preventDefault();\n        var x;\n        var y;\n        if (e.type === 'mousedown') {\n            this.clientX = Math.abs(e.pageX - pageXOffset);\n            this.clientY = Math.abs(e.pageY - pageYOffset);\n            this.setTooltipOffset(8);\n        }\n        else {\n            this.clientX = Math.abs(e.changedTouches[0].pageX - pageXOffset);\n            this.clientY = Math.abs(e.changedTouches[0].pageY - pageYOffset);\n            this.setTooltipOffset(-8);\n        }\n        this.setHsv(this.clientX, this.clientY);\n        this.getDragHandler().style.transition = 'left .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1)';\n        this.updateHsv();\n        this.convertToOtherFormat();\n        this.getDragHandler().focus();\n        EventHandler.add(document, 'mousemove touchmove', this.handlerMove, this);\n        EventHandler.add(document, 'mouseup touchend', this.handlerEnd, this);\n    };\n    ColorPicker.prototype.handlerMove = function (e) {\n        if (e.type !== 'touchmove') {\n            e.preventDefault();\n        }\n        var x;\n        var y;\n        if (e.type === 'mousemove') {\n            x = Math.abs(e.pageX - pageXOffset);\n            y = Math.abs(e.pageY - pageYOffset);\n        }\n        else {\n            x = Math.abs(e.changedTouches[0].pageX - pageXOffset);\n            y = Math.abs(e.changedTouches[0].pageY - pageYOffset);\n        }\n        this.setHsv(x, y);\n        var dragHandler = this.getDragHandler();\n        var left = parseInt(dragHandler.style.left, 10);\n        var top = parseInt(dragHandler.style.top, 10);\n        this.updateHsv();\n        this.convertToOtherFormat();\n        this.getTooltipInst().refresh(dragHandler);\n        if (!this.tooltipEle.style.transform) {\n            if (Math.abs(this.clientX - x) > 8 || Math.abs(this.clientY - y) > 8) {\n                select('.' + HSVAREA, this.container).style.cursor = 'pointer';\n                dragHandler.style.transition = 'none';\n                if (!this.inline) {\n                    this.tooltipEle.style.zIndex = (parseInt(this.getPopupEle().style.zIndex, 10) + 1).toString();\n                }\n                this.tooltipEle.style.transform = 'rotate(45deg)';\n                dragHandler.classList.add('e-hide-handler');\n            }\n        }\n    };\n    ColorPicker.prototype.setHsv = function (clientX, clientY) {\n        var ele = select('.' + HSVAREA, this.container);\n        var position = ele.getBoundingClientRect();\n        if (this.enableRtl) {\n            clientX = clientX > position.right ? 0 : Math.abs(clientX - position.right);\n        }\n        else {\n            clientX = clientX > position.left ? Math.abs(clientX - position.left) : 0;\n        }\n        clientY = clientY > position.top ? Math.abs(clientY - position.top) : 0;\n        this.hsv[2] = Math.round(Number(100 * (ele.offsetHeight -\n            Math.max(0, Math.min(ele.offsetHeight, (clientY - ele.offsetTop)))) / ele.offsetHeight) * 10) / 10;\n        this.hsv[1] =\n            Math.round(Number(100 * (Math.max(0, Math.min(ele.offsetWidth, (clientX - ele.offsetLeft)))) / ele.offsetWidth) * 10) / 10;\n    };\n    ColorPicker.prototype.handlerEnd = function (e) {\n        if (e.type !== 'touchend') {\n            e.preventDefault();\n        }\n        EventHandler.remove(document, 'mousemove touchmove', this.handlerMove);\n        EventHandler.remove(document, 'mouseup touchend', this.handlerEnd);\n        var dragHandler = this.getDragHandler();\n        select('.' + HSVAREA, this.container).style.cursor = '';\n        if (this.tooltipEle.style.transform) {\n            this.tooltipEle.style.transform = '';\n            dragHandler.classList.remove('e-hide-handler');\n        }\n        if (!this.inline && !this.showButtons) {\n            this.closePopup(e);\n        }\n    };\n    ColorPicker.prototype.btnClickHandler = function (e) {\n        var target = e.target;\n        if (closest(target, '.' + MODESWITCH)) {\n            e.stopPropagation();\n            this.switchToPalette();\n        }\n        else {\n            if (target.classList.contains(APPLY) || target.classList.contains(CANCEL)) {\n                this.ctrlBtnClick(target, e);\n            }\n        }\n    };\n    ColorPicker.prototype.switchToPalette = function () {\n        this.trigger('beforeModeSwitch', { element: this.container, mode: 'Palette' });\n        this.unWireEvents();\n        this.destroyOtherComp();\n        detach(select('.e-slider-preview', this.container));\n        if (!this.getWrapper().classList.contains(HIDEVALUE)) {\n            remove(select('.' + INPUTWRAPPER, this.container));\n        }\n        detach(this.getHsvContainer());\n        this.createPalette();\n        this.firstPaletteFocus();\n        this.createInput();\n        this.refreshPopupPos();\n        this.wireEvents();\n        this.trigger('onModeSwitch', { element: this.container, mode: 'Palette' });\n    };\n    ColorPicker.prototype.refreshPopupPos = function () {\n        if (!this.inline) {\n            var popupEle = this.getPopupEle();\n            popupEle.style.left = formatUnit(0 + pageXOffset);\n            popupEle.style.top = formatUnit(0 + pageYOffset);\n            this.getPopupInst().refreshPosition(this.splitBtn.element.parentElement);\n        }\n    };\n    ColorPicker.prototype.formatSwitchHandler = function (e) {\n        var target = e.target.parentElement;\n        if (this.isRgb) {\n            this.updateValue(this.hsv, true, 3, [360, 100, 100]);\n            this.isRgb = false;\n        }\n        else {\n            this.updateValue(this.rgb, true, 2);\n            this.isRgb = true;\n        }\n    };\n    ColorPicker.prototype.updateValue = function (value, format, idx, max) {\n        var clsName = ['e-rh-value', 'e-gs-value', 'e-bv-value'];\n        var inst;\n        for (var i = 0, len = clsName.length; i < len; i++) {\n            inst = getInstance(select('.' + clsName[i], this.container), NumericTextBox);\n            inst.value = Math.round(value[i]);\n            if (format) {\n                inst.placeholder = clsName[i].substr(idx, 1).toUpperCase();\n                inst.max = max ? max[i] : 255;\n            }\n            inst.dataBind();\n        }\n    };\n    ColorPicker.prototype.previewHandler = function (e) {\n        var target = e.target;\n        var pValue = this.rgbToHex(this.rgb);\n        this.rgb = this.convertRgbToNumberArray(target.style.backgroundColor);\n        if (!this.rgb[3]) {\n            this.rgb[3] = 1;\n        }\n        var cValue = this.rgbToHex(this.rgb);\n        var hsv = this.rgbToHsv.apply(this, this.rgb);\n        if (hsv[0] !== this.hsv[0]) {\n            this.hueSlider.setProperties({ 'value': hsv[0] }, true);\n            this.hueSlider.refresh();\n        }\n        this.setHsvContainerBg(hsv[0]);\n        if (this.enableOpacity && hsv[3] !== this.hsv[3]) {\n            this.opacitySlider.setProperties({ 'value': hsv[3] * 100 }, true);\n            this.opacitySlider.refresh();\n            this.updateOpacitySliderBg();\n        }\n        this.hsv = hsv;\n        this.setHandlerPosition();\n        this.updateInput(cValue);\n        select('.' + PREVIEW + ' .' + CURRENT, this.container).style.backgroundColor = this.convertToRgbString(this.rgb);\n        this.triggerEvent(cValue, pValue, this.convertToRgbString(this.rgb));\n    };\n    ColorPicker.prototype.paletteClickHandler = function (e) {\n        e.preventDefault();\n        var target = e.target;\n        if (target.classList.contains(TILE)) {\n            this.removeTileSelection();\n            this.addTileSelection(target);\n            if (target.classList.contains(NOCOLOR)) {\n                this.noColorTile();\n            }\n            else {\n                var cValue = target.getAttribute('aria-label');\n                var pValue = this.rgbToHex(this.rgb);\n                this.rgb = this.hexToRgb(this.roundValue(cValue));\n                this.hsv = this.rgbToHsv.apply(this, this.rgb);\n                if (this.getWrapper().classList.contains(SHOWVALUE)) {\n                    this.updateInput(cValue);\n                }\n                this.triggerEvent(cValue, pValue, this.convertToRgbString(this.rgb));\n            }\n            if (!this.inline && !this.showButtons) {\n                this.closePopup(e);\n            }\n        }\n        else {\n            if (closest(target, '.' + MODESWITCH)) {\n                this.switchToPicker();\n            }\n            else {\n                if (target.classList.contains(APPLY) || target.classList.contains(CANCEL)) {\n                    this.ctrlBtnClick(target, e);\n                }\n                else {\n                    if (this.getWrapper().classList.contains(SHOWVALUE) && closest(target, '.' + FORMATSWITCH)) {\n                        this.formatSwitchHandler(e);\n                    }\n                }\n            }\n        }\n    };\n    ColorPicker.prototype.noColorTile = function (isKey) {\n        if (isKey === void 0) { isKey = false; }\n        var pValue = this.rgbToHex(this.rgb);\n        this.rgb = [];\n        this.hsv = [];\n        this.triggerEvent('', pValue, '', isKey);\n    };\n    ColorPicker.prototype.switchToPicker = function () {\n        var wrapper = this.getWrapper();\n        this.trigger('beforeModeSwitch', { element: this.container, mode: 'Picker' });\n        this.unWireEvents();\n        ([].slice.call(selectAll('.' + PALETTES, this.container))).forEach(function (ele) {\n            detach(ele);\n        });\n        if (wrapper.classList.contains(SHOWVALUE)) {\n            detach(select('.' + INPUTWRAPPER, this.container));\n        }\n        this.container.style.width = '';\n        var grpEle = select('.e-custom-palette', this.container);\n        if (this.presetColors) {\n            remove(grpEle);\n        }\n        this.createPicker();\n        this.getDragHandler().focus();\n        this.createInput();\n        this.refreshPopupPos();\n        this.wireEvents();\n        this.trigger('onModeSwitch', { element: this.container, mode: 'Picker' });\n    };\n    ColorPicker.prototype.ctrlBtnClick = function (ele, e) {\n        if (ele.classList.contains(APPLY)) {\n            var cValue = this.rgbToHex(this.rgb);\n            this.triggerChangeEvent(cValue);\n        }\n        if (!this.inline) {\n            this.closePopup(e);\n            this.splitBtn.element.focus();\n        }\n    };\n    ColorPicker.prototype.paletteKeyDown = function (e) {\n        var target = e.target;\n        if (!target.classList.contains(PALETTES)) {\n            return;\n        }\n        var selectedEle;\n        var idx;\n        var tiles = [].slice.call(selectAll('.' + TILE, target));\n        var prevSelectedEle = (tiles.filter(function (tile) { return tile.classList.contains('e-selected'); })).pop();\n        switch (!e.altKey && e.keyCode) {\n            case 39:\n                e.preventDefault();\n                selectedEle = prevSelectedEle ? tiles[this.tilePosition(tiles, prevSelectedEle, this.enableRtl ? -1 : 1)]\n                    : tiles[this.enableRtl ? tiles.length - 1 : 0];\n                this.keySelectionChanges(selectedEle);\n                break;\n            case 37:\n                e.preventDefault();\n                selectedEle = prevSelectedEle ? tiles[this.tilePosition(tiles, prevSelectedEle, this.enableRtl ? 1 : -1)]\n                    : tiles[this.enableRtl ? 0 : tiles.length - 1];\n                this.keySelectionChanges(selectedEle);\n                break;\n            case 38:\n                e.preventDefault();\n                idx = prevSelectedEle ? this.tilePosition(tiles, prevSelectedEle, -this.columns) : 0;\n                selectedEle = tiles[idx] ? tiles[idx] : tiles[idx - this.columns];\n                this.keySelectionChanges(selectedEle);\n                break;\n            case 40:\n                e.preventDefault();\n                idx = prevSelectedEle ? this.tilePosition(tiles, prevSelectedEle, this.columns) : tiles.length - 1;\n                if (tiles[idx]) {\n                    selectedEle = tiles[idx];\n                }\n                else {\n                    idx %= tiles.length;\n                    idx += tiles[tiles.length - 1].parentElement.childElementCount;\n                    selectedEle = tiles[idx];\n                }\n                this.keySelectionChanges(selectedEle);\n                break;\n            case 13:\n                e.preventDefault();\n                if (prevSelectedEle) {\n                    var cValue = prevSelectedEle.getAttribute('aria-label');\n                    this.enterKeyHandler(cValue ? cValue : '', e);\n                }\n        }\n    };\n    ColorPicker.prototype.keySelectionChanges = function (newEle) {\n        this.removeTileSelection();\n        this.addTileSelection(newEle);\n        if (newEle.classList.contains(NOCOLOR)) {\n            this.noColorTile(true);\n        }\n        else {\n            var cValue = newEle.getAttribute('aria-label');\n            var pValue = this.rgbToHex(this.rgb);\n            this.rgb = this.hexToRgb(cValue);\n            this.hsv = this.rgbToHsv.apply(this, this.rgb);\n            if (this.getWrapper().classList.contains(SHOWVALUE)) {\n                this.updateInput(cValue);\n            }\n            this.triggerEvent(cValue, pValue, this.convertToRgbString(this.rgb), true);\n        }\n    };\n    ColorPicker.prototype.tilePosition = function (items, element, cIdx) {\n        items = Array.prototype.slice.call(items);\n        var n = items.length;\n        var emptyCount = this.columns - items[n - 1].parentElement.childElementCount;\n        var idx = items.indexOf(element);\n        idx += cIdx;\n        idx < 0 ? idx += n + emptyCount : idx %= n + emptyCount;\n        return idx;\n    };\n    ColorPicker.prototype.inputHandler = function (e) {\n        var target = e.target;\n        if (!target.value.length) {\n            return;\n        }\n        var hsv;\n        var pValue;\n        var label = select('.e-float-text', target.parentElement).textContent;\n        switch (label) {\n            case 'HEX':\n                var value = '';\n                if ((target.value[0] === '#' && target.value.length !== 5) || (target.value[0] !== '#' && target.value.length !== 4)) {\n                    value = this.roundValue(target.value);\n                }\n                if (value.length === 9) {\n                    pValue = this.rgbToHex(this.rgb);\n                    this.rgb = this.hexToRgb(value + value.substr(-2));\n                    this.inputValueChange(this.rgbToHsv.apply(this, this.rgb), pValue, target.value);\n                }\n                else {\n                    return;\n                }\n                break;\n            case 'R':\n                if (this.rgb[0] !== Number(target.value)) {\n                    pValue = this.rgbToHex(this.rgb);\n                    this.rgb[0] = Number(target.value);\n                    hsv = this.rgbToHsv.apply(this, this.rgb);\n                    this.inputValueChange(hsv, pValue);\n                }\n                break;\n            case 'G':\n                if (this.rgb[1] !== Number(target.value)) {\n                    pValue = this.rgbToHex(this.rgb);\n                    this.rgb[1] = Number(target.value);\n                    hsv = this.rgbToHsv.apply(this, this.rgb);\n                    this.inputValueChange(hsv, pValue);\n                }\n                break;\n            case 'B':\n                if (this.rgb[2] !== Number(target.value)) {\n                    pValue = this.rgbToHex(this.rgb);\n                    this.rgb[2] = Number(target.value);\n                    hsv = this.rgbToHsv.apply(this, this.rgb);\n                    this.inputValueChange(hsv, pValue);\n                }\n                break;\n            case 'H':\n                this.hueSlider.value = Number(target.value);\n                break;\n            case 'S':\n                if (this.hsv[1] !== Number(target.value)) {\n                    this.hsv[1] = Number(target.value);\n                    this.updateHsv();\n                    this.convertToOtherFormat();\n                }\n                break;\n            case 'V':\n                if (this.hsv[2] !== Number(target.value)) {\n                    this.hsv[2] = Number(target.value);\n                    this.updateHsv();\n                    this.convertToOtherFormat();\n                }\n                break;\n            case 'A':\n                this.opacitySlider.value = Number(target.value);\n                break;\n        }\n    };\n    ColorPicker.prototype.inputValueChange = function (hsv, pValue, value) {\n        if (hsv[0] !== this.hsv[0]) {\n            this.hueSlider.setProperties({ 'value': hsv[0] }, true);\n            this.hueSlider.refresh();\n            this.setHsvContainerBg(hsv[0]);\n        }\n        this.hsv = hsv;\n        var cValue = this.rgbToHex(this.rgb);\n        this.setHandlerPosition();\n        this.updateInput(value ? value : cValue);\n        var rgba = this.convertToRgbString(this.rgb);\n        this.updatePreview(rgba);\n        this.triggerEvent(cValue, pValue, rgba);\n    };\n    ColorPicker.prototype.triggerEvent = function (cValue, pValue, rgba, isKey) {\n        if (isKey === void 0) { isKey = false; }\n        var hex = cValue.slice(0, 7);\n        if (!this.showButtons && !isKey) {\n            this.trigger('change', { currentValue: { hex: hex, rgba: rgba },\n                previousValue: { hex: this.value.slice(0, 7), rgba: this.convertToRgbString(this.hexToRgb(this.value)) }, value: cValue });\n            this.setProperties({ 'value': cValue }, true);\n            this.element.value = hex ? hex : '#000000';\n        }\n        else {\n            this.trigger('select', {\n                currentValue: { hex: hex, rgba: rgba },\n                previousValue: { hex: pValue.slice(0, 7), rgba: this.convertToRgbString(this.hexToRgb(pValue)) }\n            });\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers.\n     * Also it maintains the initial input element from the DOM.\n     * @method destroy\n     * @return {void}\n     */\n    ColorPicker.prototype.destroy = function () {\n        var _this = this;\n        var wrapper = this.getWrapper();\n        _super.prototype.destroy.call(this);\n        ['tabindex', 'spellcheck'].forEach(function (attr) { _this.element.removeAttribute(attr); });\n        if (this.inline) {\n            this.unWireEvents();\n            this.destroyOtherComp();\n        }\n        else {\n            if (this.isPopupOpen()) {\n                this.unWireEvents();\n                this.destroyOtherComp();\n            }\n            this.splitBtn.destroy();\n            this.splitBtn = null;\n        }\n        this.tileRipple();\n        this.tileRipple = null;\n        this.ctrlBtnRipple();\n        this.ctrlBtnRipple = null;\n        if (this.element.nextElementSibling) {\n            detach(this.element.nextElementSibling);\n        }\n        if (wrapper) {\n            wrapper.parentElement.insertBefore(this.element, wrapper);\n            detach(wrapper);\n        }\n        this.container = null;\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n        }\n    };\n    ColorPicker.prototype.destroyOtherComp = function () {\n        if (this.isPicker()) {\n            this.hueSlider.destroy();\n            if (this.enableOpacity) {\n                this.opacitySlider.destroy();\n                this.opacitySlider = null;\n            }\n            this.hueSlider = null;\n            var tooltipInst = this.getTooltipInst();\n            tooltipInst.close();\n            tooltipInst.destroy();\n            this.tooltipEle = null;\n        }\n    };\n    ColorPicker.prototype.isPopupOpen = function () {\n        return this.getPopupEle().classList.contains('e-popup-open');\n    };\n    ColorPicker.prototype.unWireEvents = function () {\n        if (this.isPicker()) {\n            var wrapper = this.getWrapper();\n            var dragHandler = this.getDragHandler();\n            EventHandler.remove(dragHandler, 'keydown', this.pickerKeyDown);\n            EventHandler.remove(this.getHsvContainer(), 'mousedown touchstart', this.handlerDown);\n            if (this.modeSwitcher || this.showButtons) {\n                EventHandler.remove(select('.' + CTRLSWITCH, this.container), 'click', this.btnClickHandler);\n            }\n            EventHandler.remove(select('.' + PREVIOUS, this.container), 'click', this.previewHandler);\n        }\n        else {\n            EventHandler.remove(this.container, 'click', this.paletteClickHandler);\n            EventHandler.remove(this.container, 'keydown', this.paletteKeyDown);\n        }\n    };\n    ColorPicker.prototype.roundValue = function (value) {\n        if (!value) {\n            return '';\n        }\n        if (value[0] !== '#') {\n            value = '#' + value;\n        }\n        var len = value.length;\n        if (len === 4) {\n            value += 'f';\n            len = 5;\n        }\n        if (len === 5) {\n            var tempValue = '';\n            for (var i = 1, len_1 = value.length; i < len_1; i++) {\n                tempValue += (value.charAt(i) + value.charAt(i));\n            }\n            value = '#' + tempValue;\n            len = 9;\n        }\n        if (len === 7) {\n            value += 'ff';\n        }\n        return value;\n    };\n    ColorPicker.prototype.hexToRgb = function (hex) {\n        if (!hex) {\n            return [];\n        }\n        hex = hex.trim();\n        if (hex.length !== 9) {\n            hex = this.roundValue(hex);\n        }\n        var opacity = Number((parseInt(hex.slice(-2), 16) / 255).toFixed(2));\n        hex = hex.slice(1, 7);\n        var bigInt = parseInt(hex, 16);\n        var h = [];\n        h.push((bigInt >> 16) & 255);\n        h.push((bigInt >> 8) & 255);\n        h.push(bigInt & 255);\n        h.push(opacity);\n        return h;\n    };\n    ColorPicker.prototype.rgbToHsv = function (r, g, b, opacity) {\n        if (this.rgb && !this.rgb.length) {\n            return [];\n        }\n        r /= 255;\n        g /= 255;\n        b /= 255;\n        var max = Math.max(r, g, b);\n        var min = Math.min(r, g, b);\n        var h;\n        var s;\n        var v = max;\n        var d = max - min;\n        s = max === 0 ? 0 : d / max;\n        if (max === min) {\n            h = 0;\n        }\n        else {\n            switch (max) {\n                case r:\n                    h = (g - b) / d + (g < b ? 6 : 0);\n                    break;\n                case g:\n                    h = (b - r) / d + 2;\n                    break;\n                case b:\n                    h = (r - g) / d + 4;\n                    break;\n            }\n            h /= 6;\n        }\n        var hsv = [Math.round(h * 360), Math.round(s * 1000) / 10, Math.round(v * 1000) / 10];\n        if (!isNullOrUndefined(opacity)) {\n            hsv.push(opacity);\n        }\n        return hsv;\n    };\n    ColorPicker.prototype.hsvToRgb = function (h, s, v, opacity) {\n        var r;\n        var g;\n        var b;\n        var i;\n        var f;\n        var p;\n        var q;\n        var t;\n        s /= 100;\n        v /= 100;\n        if (s === 0) {\n            r = g = b = v;\n            return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255), opacity];\n        }\n        h /= 60;\n        i = Math.floor(h);\n        f = h - i;\n        p = v * (1 - s);\n        q = v * (1 - s * f);\n        t = v * (1 - s * (1 - f));\n        switch (i) {\n            case 0:\n                r = v;\n                g = t;\n                b = p;\n                break;\n            case 1:\n                r = q;\n                g = v;\n                b = p;\n                break;\n            case 2:\n                r = p;\n                g = v;\n                b = t;\n                break;\n            case 3:\n                r = p;\n                g = q;\n                b = v;\n                break;\n            case 4:\n                r = t;\n                g = p;\n                b = v;\n                break;\n            default:\n                r = v;\n                g = p;\n                b = q;\n        }\n        var rgb = [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];\n        if (!isNullOrUndefined(opacity)) {\n            rgb.push(opacity);\n        }\n        return rgb;\n    };\n    ColorPicker.prototype.rgbToHex = function (rgb) {\n        return rgb.length ? ('#' + this.hex(rgb[0]) + this.hex(rgb[1]) + this.hex(rgb[2]) +\n            (!isNullOrUndefined(rgb[3]) ? (rgb[3] !== 0 ? (Math.round(rgb[3] * 255) + 0x10000).toString(16).substr(-2) : '00') : '')) : '';\n    };\n    ColorPicker.prototype.hex = function (x) {\n        return ('0' + x.toString(16)).slice(-2);\n    };\n    ColorPicker.prototype.changeModeSwitcherProp = function (prop) {\n        var ctrlSwitchWrapper = select('.' + CTRLSWITCH, this.container);\n        if (prop) {\n            if (ctrlSwitchWrapper) {\n                this.appendModeSwitchBtn();\n            }\n            else {\n                this.createCtrlBtn();\n                if (this.isPicker() && !this.disabled) {\n                    this.addCtrlSwitchEvent();\n                }\n            }\n        }\n        else {\n            if (ctrlSwitchWrapper) {\n                if (this.showButtons) {\n                    detach(select('.' + MODESWITCH, ctrlSwitchWrapper));\n                }\n                else {\n                    remove(ctrlSwitchWrapper);\n                }\n            }\n        }\n    };\n    ColorPicker.prototype.changeShowBtnProps = function (prop) {\n        var ctrlBtnWrapper = select('.' + CTRLSWITCH, this.container);\n        if (prop) {\n            if (ctrlBtnWrapper) {\n                remove(ctrlBtnWrapper);\n            }\n            this.createCtrlBtn();\n            if (this.isPicker() && !this.disabled) {\n                this.addCtrlSwitchEvent();\n            }\n        }\n        else {\n            if (this.modeSwitcher) {\n                detach(select('.' + CTRLBTN, ctrlBtnWrapper));\n            }\n            else {\n                remove(ctrlBtnWrapper);\n            }\n        }\n    };\n    ColorPicker.prototype.changeValueProp = function (newProp) {\n        if (this.isPicker()) {\n            this.rgb = this.hexToRgb(newProp);\n            this.hsv = this.rgbToHsv.apply(this, this.rgb);\n            this.setHandlerPosition();\n            detach(closest(this.hueSlider.element, '.e-slider-preview'));\n            this.createSlider();\n            this.setHsvContainerBg();\n            this.updateInput(newProp);\n            if (this.rgb.length === 4) {\n                this.updateOpacityInput(this.rgb[3] * 100);\n            }\n        }\n        else {\n            this.removeTileSelection();\n            var ele = select('span[aria-label=\"' + this.roundValue(newProp) + '\"]', this.container);\n            if (ele) {\n                this.addTileSelection(ele);\n            }\n        }\n    };\n    ColorPicker.prototype.setInputEleProps = function (prop) {\n        remove(select('.' + INPUTWRAPPER, this.container));\n        this.createInput();\n    };\n    ColorPicker.prototype.changeDisabledProp = function (newProp) {\n        if (this.isPicker()) {\n            this.hueSlider.enabled = !newProp;\n            this.opacitySlider.enabled = !newProp;\n            this.setInputEleProps(newProp);\n        }\n        if (newProp) {\n            this.toggleDisabled(true);\n            this.unWireEvents();\n        }\n        else {\n            this.toggleDisabled(false);\n            this.wireEvents();\n        }\n    };\n    ColorPicker.prototype.changeCssClassProps = function (newProp, oldProp) {\n        var wrapper = this.getWrapper();\n        var popupWrapper = this.getPopupEle();\n        if (oldProp) {\n            removeClass([wrapper, popupWrapper], oldProp.split(' '));\n        }\n        if (newProp) {\n            addClass([wrapper, popupWrapper], newProp.split(' '));\n        }\n    };\n    ColorPicker.prototype.changeRtlProps = function (newProp) {\n        if (newProp) {\n            addClass([this.getWrapper()], 'e-rtl');\n        }\n        else {\n            removeClass([this.getWrapper()], 'e-rtl');\n        }\n    };\n    ColorPicker.prototype.changePaletteProps = function () {\n        detach(this.container.children[0]);\n        this.container.style.width = '';\n        this.createPalette();\n    };\n    ColorPicker.prototype.changeOpacityProps = function (newProp) {\n        var wrapper = this.getWrapper();\n        if (newProp) {\n            removeClass([this.container.parentElement], HIDEOPACITY);\n            this.createOpacitySlider(select('.e-colorpicker-slider', this.container).appendChild(this.createElement('div', { className: 'e-opacity-slider' })));\n            if (!wrapper.classList.contains(HIDEVALUE) && !wrapper.classList.contains(HIDERGBA)) {\n                this.appendOpacityValue(select('.e-input-container', this.container));\n            }\n        }\n        else {\n            addClass([this.container.parentElement], HIDEOPACITY);\n            this.opacitySlider.destroy();\n            remove(this.opacitySlider.element);\n            this.opacitySlider = null;\n            if (!wrapper.classList.contains(HIDEVALUE) && !wrapper.classList.contains(HIDERGBA)) {\n                remove(select('.' + OPACITY, this.container).parentElement);\n            }\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {ColorPickerModel} newProp\n     * @param  {ColorPickerModel} oldProp\n     * @returns void\n     * @private\n     */\n    ColorPicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _this = this;\n        if (!isNullOrUndefined(newProp.value)) {\n            var value = this.roundValue(newProp.value);\n            if (value.length === 9) {\n                this.element.value = this.roundValue(value).slice(0, 7);\n                var preview = this.splitBtn && select('.' + SPLITPREVIEW, this.splitBtn.element);\n                if (preview) {\n                    preview.style.backgroundColor = this.convertToRgbString(this.hexToRgb(newProp.value));\n                }\n            }\n            else {\n                this.value = oldProp.value;\n            }\n        }\n        if (!this.inline && isNullOrUndefined(newProp.inline)) {\n            var otherCompModel = ['disabled', 'enableRtl'];\n            this.splitBtn.setProperties(getModel(newProp, otherCompModel));\n            if (!this.isPopupOpen()) {\n                this.changeCssClassProps(newProp.cssClass, oldProp.cssClass);\n                this.changeRtlProps(newProp.enableRtl);\n                return;\n            }\n        }\n        var _loop_1 = function (prop) {\n            switch (prop) {\n                case 'inline':\n                    if (newProp.inline) {\n                        this_1.getWrapper().appendChild(this_1.container);\n                        this_1.splitBtn.destroy();\n                        detach(this_1.element.nextElementSibling);\n                        if (!this_1.container.children.length) {\n                            this_1.createWidget();\n                        }\n                    }\n                    else {\n                        this_1.destroyOtherComp();\n                        this_1.unWireEvents();\n                        this_1.container.innerHTML = '';\n                        this_1.createSplitBtn();\n                    }\n                    break;\n                case 'cssClass':\n                    this_1.changeCssClassProps(newProp.cssClass, oldProp.cssClass);\n                    var props = newProp.cssClass.split(' ').concat(oldProp.cssClass.split(' '));\n                    props = props.reduce(function (a, b) { if (a.indexOf(b) < 0) {\n                        a.push(b);\n                    } return a; }, []);\n                    var count_1 = 0;\n                    props.forEach(function (cls) {\n                        if (count_1 === 0 &&\n                            (cls === HIDEVALUE || cls === HIDEVALUESWITCH || cls === SHOWVALUE || cls === HIDEHEX || cls === HIDERGBA)) {\n                            var inputWrap = select('.' + INPUTWRAPPER, _this.container);\n                            if (inputWrap) {\n                                remove(select('.' + INPUTWRAPPER, _this.container));\n                            }\n                            _this.createInput();\n                            count_1++;\n                        }\n                    });\n                    break;\n                case 'enableRtl':\n                    if (this_1.isPicker()) {\n                        this_1.hueSlider.enableRtl = newProp.enableRtl;\n                        if (this_1.enableOpacity) {\n                            this_1.opacitySlider.enableRtl = newProp.enableRtl;\n                        }\n                        this_1.setInputEleProps(newProp.enableRtl);\n                    }\n                    this_1.changeRtlProps(newProp.enableRtl);\n                    break;\n                case 'disabled':\n                    this_1.changeDisabledProp(newProp.disabled);\n                    break;\n                case 'value':\n                    if (this_1.value !== oldProp.value) {\n                        this_1.changeValueProp(newProp.value);\n                    }\n                    break;\n                case 'showButtons':\n                    this_1.changeShowBtnProps(newProp.showButtons);\n                    break;\n                case 'mode':\n                    if (newProp.mode === 'Picker') {\n                        this_1.switchToPicker();\n                    }\n                    else {\n                        this_1.switchToPalette();\n                    }\n                    break;\n                case 'modeSwitcher':\n                    this_1.changeModeSwitcherProp(newProp.modeSwitcher);\n                    break;\n                case 'columns':\n                case 'presetColors':\n                    if (!this_1.isPicker()) {\n                        this_1.changePaletteProps();\n                    }\n                    break;\n                case 'noColor':\n                    if (newProp.noColor) {\n                        if (this_1.mode === 'Palette' && !this_1.modeSwitcher) {\n                            this_1.setNoColor();\n                        }\n                    }\n                    else {\n                        this_1.changePaletteProps();\n                    }\n                    break;\n                case 'enableOpacity':\n                    this_1.changeOpacityProps(newProp.enableOpacity);\n                    break;\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            _loop_1(prop);\n        }\n    };\n    /**\n     * Sets the focus to Colorpicker\n     * its native method\n     * @public\n     */\n    ColorPicker.prototype.focusIn = function () {\n        this.element.parentElement.focus();\n    };\n    __decorate([\n        Property('#008000ff')\n    ], ColorPicker.prototype, \"value\", void 0);\n    __decorate([\n        Property('')\n    ], ColorPicker.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('Picker')\n    ], ColorPicker.prototype, \"mode\", void 0);\n    __decorate([\n        Property(true)\n    ], ColorPicker.prototype, \"modeSwitcher\", void 0);\n    __decorate([\n        Property(null)\n    ], ColorPicker.prototype, \"presetColors\", void 0);\n    __decorate([\n        Property(true)\n    ], ColorPicker.prototype, \"showButtons\", void 0);\n    __decorate([\n        Property(10)\n    ], ColorPicker.prototype, \"columns\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"inline\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"noColor\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(true)\n    ], ColorPicker.prototype, \"enableOpacity\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"beforeTileRender\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"beforeModeSwitch\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"onModeSwitch\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"created\", void 0);\n    ColorPicker = __decorate([\n        NotifyPropertyChanges\n    ], ColorPicker);\n    return ColorPicker;\n}(Component));\nexport { ColorPicker };\n","import { addClass, Browser, removeClass, EventHandler, formatUnit, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { getInstance, closest, selectAll, detach } from '@syncfusion/ej2-base';\nimport { Toolbar } from '@syncfusion/ej2-navigations';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport * as classes from '../base/classes';\nimport * as events from '../base/constant';\nimport { CLS_TOOLBAR, CLS_DROPDOWN_BTN, CLS_RTE_ELEMENTS, CLS_TB_BTN, CLS_INLINE_DROPDOWN, CLS_COLOR_CONTENT, CLS_FONT_COLOR_DROPDOWN, CLS_BACKGROUND_COLOR_DROPDOWN, CLS_COLOR_PALETTE, CLS_FONT_COLOR_PICKER, CLS_BACKGROUND_COLOR_PICKER, CLS_CUSTOM_TILE, CLS_NOCOLOR_ITEM } from '../base/classes';\nimport { ColorPicker } from '@syncfusion/ej2-inputs';\nimport { hasClass } from '../base/util';\n/**\n * `Toolbar renderer` module is used to render toolbar in RichTextEditor.\n * @hidden\n\n */\nvar ToolbarRenderer = /** @class */ (function () {\n    /**\n     * Constructor for toolbar renderer module\n     */\n    function ToolbarRenderer(parent) {\n        this.parent = parent;\n        this.wireEvent();\n    }\n    ToolbarRenderer.prototype.wireEvent = function () {\n        this.parent.on(events.destroy, this.unWireEvent, this);\n    };\n    ToolbarRenderer.prototype.unWireEvent = function () {\n        this.parent.off(events.destroy, this.unWireEvent);\n        if (this.popupOverlay) {\n            EventHandler.remove(this.popupOverlay, 'click touchmove', this.onPopupOverlay);\n        }\n        this.removePopupContainer();\n    };\n    ToolbarRenderer.prototype.toolbarBeforeCreate = function (e) {\n        if (this.mode === 'Extended') {\n            e.enableCollision = false;\n        }\n    };\n    ToolbarRenderer.prototype.toolbarCreated = function () {\n        this.parent.notify(events.toolbarCreated, this);\n    };\n    ToolbarRenderer.prototype.toolbarClicked = function (args) {\n        if (!this.parent.enabled) {\n            return;\n        }\n        if (!this.parent.readonly) {\n            this.parent.notify(events.toolbarClick, args);\n        }\n        this.parent.trigger('toolbarClick', args);\n    };\n    ToolbarRenderer.prototype.dropDownSelected = function (args) {\n        this.parent.notify(events.dropDownSelect, args);\n        this.onPopupOverlay();\n    };\n    ToolbarRenderer.prototype.beforeDropDownItemRender = function (args) {\n        if (this.parent.readonly || !this.parent.enabled) {\n            return;\n        }\n        this.parent.notify(events.beforeDropDownItemRender, args);\n    };\n    ToolbarRenderer.prototype.dropDownOpen = function (args) {\n        if (Browser.isDevice && !args.element.parentElement.classList.contains(classes.CLS_QUICK_DROPDOWN)) {\n            this.popupModal(args.element.parentElement);\n        }\n        this.parent.notify(events.selectionSave, args);\n    };\n    ToolbarRenderer.prototype.dropDownClose = function (args) {\n        this.removePopupContainer();\n        this.parent.notify(events.selectionRestore, args);\n    };\n    ToolbarRenderer.prototype.removePopupContainer = function () {\n        if (Browser.isDevice && !isNullOrUndefined(this.popupContainer)) {\n            var popupEle = this.popupContainer.querySelector('.e-dropdown-popup.e-tbar-btn.e-control');\n            if (popupEle) {\n                this.popupContainer.parentNode.insertBefore(popupEle, this.popupContainer.nextSibling);\n                popupEle.style.removeProperty('position');\n                removeClass([popupEle], 'e-popup-modal');\n            }\n            detach(this.popupContainer);\n            this.popupContainer = undefined;\n        }\n    };\n    /**\n     * renderToolbar method\n     * @hidden\n\n     */\n    ToolbarRenderer.prototype.renderToolbar = function (args) {\n        this.setPanel(args.target);\n        this.renderPanel();\n        this.mode = args.overflowMode;\n        args.rteToolbarObj.toolbarObj = new Toolbar({\n            items: args.items,\n            width: '100%',\n            overflowMode: args.overflowMode,\n            beforeCreate: this.toolbarBeforeCreate.bind(this),\n            created: this.toolbarCreated.bind(this),\n            clicked: this.toolbarClicked.bind(this),\n            enablePersistence: args.enablePersistence,\n            enableRtl: args.enableRtl\n        });\n        args.rteToolbarObj.toolbarObj.isStringTemplate = true;\n        args.rteToolbarObj.toolbarObj.createElement = this.parent.createElement;\n        args.rteToolbarObj.toolbarObj.appendTo(args.target);\n    };\n    /**\n     * renderDropDownButton method\n     * @hidden\n\n     */\n    ToolbarRenderer.prototype.renderDropDownButton = function (args) {\n        var _this = this;\n        var css;\n        args.element.classList.add(CLS_DROPDOWN_BTN);\n        css = args.cssClass + ' ' + CLS_RTE_ELEMENTS + ' ' + CLS_TB_BTN;\n        if (this.parent.inlineMode.enable && Browser.isDevice) {\n            css = css + ' ' + CLS_INLINE_DROPDOWN;\n        }\n        var proxy = this;\n        var dropDown = new DropDownButton({\n            items: args.items,\n            iconCss: args.iconCss,\n            cssClass: css,\n            content: args.content,\n            enablePersistence: this.parent.enablePersistence,\n            enableRtl: this.parent.enableRtl,\n            select: this.dropDownSelected.bind(this),\n            beforeOpen: function (args) {\n                if (proxy.parent.readonly || !proxy.parent.enabled) {\n                    args.cancel = true;\n                    return;\n                }\n                for (var index = 0; index < args.element.childNodes.length; index++) {\n                    var divNode = _this.parent.createElement('div');\n                    divNode.innerHTML = dropDown.content.trim();\n                    if (divNode.textContent.trim() !== ''\n                        && args.element.childNodes[index].textContent.trim() === divNode.textContent.trim()) {\n                        if (!args.element.childNodes[index].classList.contains('e-active')) {\n                            addClass([args.element.childNodes[index]], 'e-active');\n                        }\n                    }\n                    else {\n                        removeClass([args.element.childNodes[index]], 'e-active');\n                    }\n                }\n                proxy.parent.notify(events.beforeDropDownOpen, args);\n            },\n            close: this.dropDownClose.bind(this),\n            open: this.dropDownOpen.bind(this),\n            beforeItemRender: this.beforeDropDownItemRender.bind(this)\n        });\n        dropDown.isStringTemplate = true;\n        dropDown.createElement = proxy.parent.createElement;\n        dropDown.appendTo(args.element);\n        args.element.tabIndex = -1;\n        var popupElement = document.getElementById(dropDown.element.id + '-popup');\n        popupElement.setAttribute('aria-owns', this.parent.getID());\n        return dropDown;\n    };\n    ToolbarRenderer.prototype.onPopupOverlay = function (args) {\n        if (!isNullOrUndefined(this.popupOverlay)) {\n            closest(this.popupOverlay, '.e-popup-container').style.display = 'none';\n            this.popupOverlay.style.display = 'none';\n            removeClass([this.popupOverlay], 'e-popup-overlay');\n        }\n    };\n    ToolbarRenderer.prototype.setIsModel = function (element) {\n        if (!closest(element, '.e-popup-container')) {\n            this.popupContainer = this.parent.createElement('div', {\n                className: 'e-rte-modal-popup e-popup-container e-center'\n            });\n            element.parentNode.insertBefore(this.popupContainer, element);\n            this.popupContainer.appendChild(element);\n            this.popupContainer.style.zIndex = element.style.zIndex;\n            this.popupContainer.style.display = 'flex';\n            element.style.position = 'relative';\n            addClass([element], 'e-popup-modal');\n            this.popupOverlay = this.parent.createElement('div', { className: 'e-popup-overlay' });\n            this.popupOverlay.style.zIndex = (parseInt(element.style.zIndex, null) - 1).toString();\n            this.popupOverlay.style.display = 'block';\n            this.popupContainer.appendChild(this.popupOverlay);\n            EventHandler.add(this.popupOverlay, 'click touchmove', this.onPopupOverlay, this);\n        }\n        else {\n            element.parentElement.style.display = 'flex';\n            this.popupOverlay = element.nextElementSibling;\n            this.popupOverlay.style.display = 'block';\n            addClass([this.popupOverlay], 'e-popup-overlay');\n        }\n    };\n    ToolbarRenderer.prototype.paletteSelection = function (dropDownArgs, currentElement) {\n        var ele = dropDownArgs.element.querySelector('.e-control.e-colorpicker');\n        var colorbox = [].slice.call(selectAll('.e-tile', ele.parentElement));\n        removeClass(colorbox, 'e-selected');\n        var style = currentElement.querySelector('.' + CLS_RTE_ELEMENTS).style.borderBottomColor;\n        (colorbox.filter(function (colorbox) {\n            if (colorbox.style.backgroundColor === style) {\n                addClass([colorbox], 'e-selected');\n            }\n        }));\n    };\n    /**\n     * renderColorPickerDropDown method\n     * @hidden\n\n     */\n    ToolbarRenderer.prototype.renderColorPickerDropDown = function (args, item, colorPicker) {\n        var _this = this;\n        var proxy = this;\n        var css = CLS_RTE_ELEMENTS + ' ' + CLS_TB_BTN + ((this.parent.inlineMode) ? (' ' + CLS_INLINE_DROPDOWN) : '');\n        css += (' ' + ((item === 'backgroundcolor') ? CLS_BACKGROUND_COLOR_DROPDOWN : CLS_FONT_COLOR_DROPDOWN));\n        var content = proxy.parent.createElement('span', { className: CLS_COLOR_CONTENT });\n        var inlineEle = proxy.parent.createElement('span', { className: args.cssClass });\n        var range;\n        inlineEle.style.borderBottomColor = (item === 'backgroundcolor') ?\n            proxy.parent.backgroundColor.default : proxy.parent.fontColor.default;\n        content.appendChild(inlineEle);\n        var dropDown = new DropDownButton({\n            target: colorPicker.element.parentElement, cssClass: css,\n            enablePersistence: this.parent.enablePersistence, enableRtl: this.parent.enableRtl,\n            beforeOpen: function (dropDownArgs) {\n                if (proxy.parent.readonly || !proxy.parent.enabled) {\n                    dropDownArgs.cancel = true;\n                    return;\n                }\n                var element = (dropDownArgs.event) ? dropDownArgs.event.target : null;\n                proxy.currentElement = dropDown.element;\n                proxy.currentDropdown = dropDown;\n                proxy.paletteSelection(dropDownArgs, proxy.currentElement);\n                if (dropDownArgs.event && dropDownArgs.event.type === 'click' && (element.classList.contains(CLS_COLOR_CONTENT)\n                    || element.parentElement.classList.contains(CLS_COLOR_CONTENT))) {\n                    dropDownArgs.cancel = true;\n                    var colorpickerValue = element.classList.contains(CLS_RTE_ELEMENTS) ? element.style.borderBottomColor :\n                        element.querySelector('.' + CLS_RTE_ELEMENTS).style.borderBottomColor;\n                    proxy.parent.notify(events.selectionRestore, {});\n                    range = proxy.parent.formatter.editorManager.nodeSelection.getRange(proxy.parent.contentModule.getDocument());\n                    var parentNode = range.startContainer.parentNode;\n                    if ((range.startContainer.nodeName === 'TD' || range.startContainer.nodeName === 'TH' ||\n                        (closest(range.startContainer.parentNode, 'td,th')) ||\n                        (proxy.parent.iframeSettings.enable && !hasClass(parentNode.ownerDocument.querySelector('body'), 'e-lib')))\n                        && range.collapsed && args.subCommand === 'BackgroundColor') {\n                        proxy.parent.notify(events.tableColorPickerChanged, { item: { command: args.command, subCommand: args.subCommand,\n                                value: colorpickerValue }\n                        });\n                    }\n                    else {\n                        proxy.parent.notify(events.colorPickerChanged, { item: { command: args.command, subCommand: args.subCommand,\n                                value: colorpickerValue }\n                        });\n                    }\n                    return;\n                }\n                else {\n                    var ele = dropDownArgs.element.querySelector('.e-control.e-colorpicker');\n                    var inst = getInstance(ele, ColorPicker);\n                    inst.showButtons = (dropDownArgs.element.querySelector('.e-color-palette')) ? false : true;\n                    inst.dataBind();\n                }\n                dropDownArgs.element.onclick = function (args) {\n                    if (args.target.classList.contains('e-cancel')) {\n                        dropDown.toggle();\n                    }\n                };\n            },\n            open: function (dropDownArgs) {\n                _this.setColorPickerContentWidth(colorPicker);\n                var focusEle;\n                var ele = dropDownArgs.element.querySelector('.e-control.e-colorpicker');\n                if (dropDownArgs.element.querySelector('.e-color-palette')) {\n                    focusEle = ele.parentElement.querySelector('.e-palette');\n                }\n                else {\n                    focusEle = ele.parentElement.querySelector('e-handler');\n                }\n                if (focusEle) {\n                    focusEle.focus();\n                }\n                if (Browser.isDevice) {\n                    _this.popupModal(dropDownArgs.element.parentElement);\n                }\n                _this.pickerRefresh(dropDownArgs);\n            },\n            beforeClose: function (dropDownArgs) {\n                var element = (dropDownArgs.event) ? dropDownArgs.event.target : null;\n                if (dropDownArgs.event && dropDownArgs.event.type === 'click' && (element.classList.contains(CLS_COLOR_CONTENT)\n                    || element.parentElement.classList.contains(CLS_COLOR_CONTENT))) {\n                    var colorpickerValue = element.classList.contains(CLS_RTE_ELEMENTS) ? element.style.borderBottomColor :\n                        element.querySelector('.' + CLS_RTE_ELEMENTS).style.borderBottomColor;\n                    range = proxy.parent.formatter.editorManager.nodeSelection.getRange(proxy.parent.contentModule.getDocument());\n                    if ((range.startContainer.nodeName === 'TD' || range.startContainer.nodeName === 'TH' ||\n                        closest(range.startContainer.parentNode, 'td,th')) && range.collapsed) {\n                        proxy.parent.notify(events.tableColorPickerChanged, { item: { command: args.command, subCommand: args.subCommand,\n                                value: colorpickerValue }\n                        });\n                    }\n                    else {\n                        proxy.parent.notify(events.colorPickerChanged, { item: { command: args.command, subCommand: args.subCommand,\n                                value: colorpickerValue }\n                        });\n                    }\n                    return;\n                }\n            },\n            close: function (dropDownArgs) {\n                proxy.parent.notify(events.selectionRestore, {});\n                var dropElement = closest(dropDownArgs.element.parentElement, '.e-popup-container');\n                if (dropElement) {\n                    dropElement.style.display = 'none';\n                    dropElement.lastElementChild.style.display = 'none';\n                    removeClass([dropElement.lastElementChild], 'e-popup-overlay');\n                }\n                if (Browser.isDevice && !isNullOrUndefined(dropElement)) {\n                    var popupEle = dropElement.querySelector('.e-dropdown-popup.e-tbar-btn.e-control');\n                    if (popupEle) {\n                        dropElement.parentNode.insertBefore(popupEle, dropElement.nextSibling);\n                        popupEle.style.removeProperty('position');\n                        removeClass([popupEle], 'e-popup-modal');\n                    }\n                    detach(dropElement);\n                    proxy.popupContainer = undefined;\n                }\n            }\n        });\n        dropDown.isStringTemplate = true;\n        dropDown.createElement = proxy.parent.createElement;\n        dropDown.appendTo(args.element);\n        var popupElement = document.getElementById(dropDown.element.id + '-popup');\n        popupElement.setAttribute('aria-owns', this.parent.getID());\n        dropDown.element.insertBefore(content, dropDown.element.querySelector('.e-caret'));\n        args.element.tabIndex = -1;\n        dropDown.element.removeAttribute('type');\n        dropDown.element.onmousedown = function () { proxy.parent.notify(events.selectionSave, {}); };\n        dropDown.element.onkeydown = function () { proxy.parent.notify(events.selectionSave, {}); };\n        return dropDown;\n    };\n    ToolbarRenderer.prototype.pickerRefresh = function (dropDownArgs) {\n        if (this.parent.backgroundColor.mode === 'Picker') {\n            var popupElem = dropDownArgs.element.parentElement;\n            popupElem.style.width = (popupElem.offsetWidth + 5).toString() + 'px';\n            getInstance(popupElem, Popup).refreshPosition(popupElem);\n            popupElem.style.width = (popupElem.offsetWidth - 5).toString() + 'px';\n        }\n    };\n    ToolbarRenderer.prototype.popupModal = function (element) {\n        var popupInst = getInstance(element, Popup);\n        popupInst.relateTo = document.body;\n        popupInst.position = { X: 0, Y: 0 };\n        popupInst.targetType = 'container';\n        popupInst.collision = { X: 'fit', Y: 'fit' };\n        popupInst.offsetY = 4;\n        popupInst.dataBind();\n        this.setIsModel(element);\n    };\n    ToolbarRenderer.prototype.setColorPickerContentWidth = function (colorPicker) {\n        var colorPickerContent = colorPicker.element.nextSibling;\n        if (colorPickerContent.style.width === '0px') {\n            colorPickerContent.style.width = '';\n            var borderWidth = parseInt(getComputedStyle(colorPickerContent).borderBottomWidth, 10);\n            colorPickerContent.style.width = formatUnit(colorPickerContent.children[0].offsetWidth\n                + borderWidth + borderWidth);\n        }\n    };\n    /**\n     * renderColorPicker method\n     * @hidden\n\n     */\n    ToolbarRenderer.prototype.renderColorPicker = function (args, item) {\n        var proxy = this;\n        var value;\n        var colorPicker = new ColorPicker({\n            enablePersistence: this.parent.enablePersistence,\n            enableRtl: this.parent.enableRtl,\n            inline: true,\n            created: function () {\n                var value = (item === 'backgroundcolor') ? proxy.parent.backgroundColor.default : proxy.parent.fontColor.default;\n                colorPicker.setProperties({ value: value });\n            },\n            mode: ((item === 'backgroundcolor') ? proxy.parent.backgroundColor.mode : proxy.parent.fontColor.mode),\n            modeSwitcher: ((item === 'backgroundcolor') ? proxy.parent.backgroundColor.modeSwitcher : proxy.parent.fontColor.modeSwitcher),\n            beforeTileRender: function (args) {\n                args.element.classList.add(CLS_COLOR_PALETTE);\n                args.element.classList.add(CLS_CUSTOM_TILE);\n                if (args.value === '') {\n                    args.element.classList.add(CLS_NOCOLOR_ITEM);\n                }\n            },\n            change: function (colorPickerArgs) {\n                var colorpickerValue = colorPickerArgs.currentValue.rgba;\n                colorPickerArgs.item = {\n                    command: args.command,\n                    subCommand: args.subCommand,\n                    value: colorpickerValue\n                };\n                proxy.parent.notify(events.selectionRestore, {});\n                proxy.currentElement.querySelector('.' + CLS_RTE_ELEMENTS).style.borderBottomColor = colorpickerValue;\n                var range = proxy.parent.formatter.editorManager.nodeSelection.getRange(proxy.parent.contentModule.getDocument());\n                if ((range.startContainer.nodeName === 'TD' || range.startContainer.nodeName === 'TH' ||\n                    closest(range.startContainer.parentNode, 'td,th')) && range.collapsed && args.subCommand === 'BackgroundColor') {\n                    proxy.parent.notify(events.tableColorPickerChanged, colorPickerArgs);\n                }\n                else {\n                    proxy.parent.notify(events.colorPickerChanged, colorPickerArgs);\n                }\n                proxy.currentDropdown.toggle();\n            },\n            beforeModeSwitch: function (args) {\n                value = colorPicker.value;\n                if (value === '') {\n                    colorPicker.setProperties({ value: ((args.mode === 'Picker') ? '#008000ff' : '') }, true);\n                }\n                colorPicker.showButtons = args.mode === 'Palette' ? false : true;\n            }\n        });\n        colorPicker.isStringTemplate = true;\n        colorPicker.columns = (item === 'backgroundcolor') ? this.parent.backgroundColor.columns : this.parent.fontColor.columns;\n        colorPicker.presetColors = (item === 'backgroundcolor') ? this.parent.backgroundColor.colorCode :\n            this.parent.fontColor.colorCode;\n        colorPicker.cssClass = (item === 'backgroundcolor') ? CLS_BACKGROUND_COLOR_PICKER : CLS_FONT_COLOR_PICKER;\n        colorPicker.createElement = this.parent.createElement;\n        colorPicker.appendTo(document.body.querySelector(args.target));\n        return colorPicker;\n    };\n    /**\n     * The function is used to render Rich Text Editor toolbar\n     * @hidden\n\n     */\n    ToolbarRenderer.prototype.renderPanel = function () {\n        this.getPanel().classList.add(CLS_TOOLBAR);\n    };\n    /**\n     * Get the toolbar element of RichTextEditor\n     * @return {Element}\n     * @hidden\n\n     */\n    ToolbarRenderer.prototype.getPanel = function () {\n        return this.toolbarPanel;\n    };\n    /**\n     * Set the toolbar element of RichTextEditor\n     * @param  {Element} panel\n     * @hidden\n\n     */\n    ToolbarRenderer.prototype.setPanel = function (panel) {\n        this.toolbarPanel = panel;\n    };\n    return ToolbarRenderer;\n}());\nexport { ToolbarRenderer };\n","import { RenderType } from '../base/enum';\nimport { CLS_HR_SEPARATOR } from '../base/classes';\nimport * as events from '../base/constant';\nimport { getTooltipText, toObjectLowerCase } from '../base/util';\nimport { tools, templateItems } from '../models/items';\nimport { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\n/**\n * `Toolbar` module is used to handle Toolbar actions.\n */\nvar BaseToolbar = /** @class */ (function () {\n    function BaseToolbar(parent, serviceLocator) {\n        this.tools = {};\n        this.parent = parent;\n        this.locator = serviceLocator;\n        this.renderFactory = this.locator.getService('rendererFactory');\n        this.addEventListener();\n        if (this.parent.toolbarSettings && Object.keys(this.parent.toolbarSettings.itemConfigs).length > 0) {\n            extend(this.tools, tools, toObjectLowerCase(this.parent.toolbarSettings.itemConfigs), true);\n        }\n        else {\n            this.tools = tools;\n        }\n    }\n    BaseToolbar.prototype.addEventListener = function () {\n        this.parent.on(events.rtlMode, this.setRtl, this);\n        this.parent.on(events.destroy, this.removeEventListener, this);\n    };\n    BaseToolbar.prototype.removeEventListener = function () {\n        this.parent.off(events.rtlMode, this.setRtl);\n        this.parent.off(events.destroy, this.removeEventListener);\n    };\n    BaseToolbar.prototype.setRtl = function (args) {\n        if (!isNullOrUndefined(this.toolbarObj)) {\n            this.toolbarObj.setProperties({ enableRtl: args.enableRtl });\n        }\n    };\n    BaseToolbar.prototype.getTemplateObject = function (itemStr, container) {\n        var tagName;\n        switch (itemStr) {\n            case 'fontcolor':\n            case 'backgroundcolor':\n                tagName = 'span';\n                break;\n            default:\n                tagName = 'button';\n                break;\n        }\n        return {\n            command: this.tools[itemStr.toLocaleLowerCase()].command,\n            subCommand: this.tools[itemStr.toLocaleLowerCase()].subCommand,\n            template: this.parent.createElement(tagName, {\n                id: this.parent.getID() + '_' + container\n                    + '_' + this.tools[itemStr.toLocaleLowerCase()].id\n            }).outerHTML,\n            tooltipText: getTooltipText(itemStr, this.locator)\n        };\n    };\n    /**\n     * getObject method\n     * @hidden\n\n     */\n    BaseToolbar.prototype.getObject = function (item, container) {\n        var itemStr = item.toLowerCase();\n        if (templateItems.indexOf(itemStr) !== -1) {\n            return this.getTemplateObject(itemStr, container);\n        }\n        else {\n            switch (itemStr) {\n                case '|':\n                    return { type: 'Separator' };\n                case '-':\n                    return { type: 'Separator', cssClass: CLS_HR_SEPARATOR };\n                default:\n                    return {\n                        id: this.parent.getID() + '_' + container + '_' + this.tools[itemStr.toLocaleLowerCase()].id,\n                        prefixIcon: this.tools[itemStr.toLocaleLowerCase()].icon,\n                        tooltipText: getTooltipText(itemStr, this.locator),\n                        command: this.tools[itemStr.toLocaleLowerCase()].command,\n                        subCommand: this.tools[itemStr.toLocaleLowerCase()].subCommand\n                    };\n            }\n        }\n    };\n    /**\n     * @hidden\n\n     */\n    BaseToolbar.prototype.getItems = function (tbItems, container) {\n        var _this = this;\n        if (this.parent.toolbarSettings.items.length < 1) {\n            return [];\n        }\n        var items = [];\n        var _loop_1 = function (item) {\n            switch (typeof item) {\n                case 'string':\n                    items.push(this_1.getObject(item, container));\n                    break;\n                default:\n                    if (!isNullOrUndefined(item.click)) {\n                        var proxy_1 = item;\n                        var callback_1 = proxy_1.click;\n                        proxy_1.click = function () {\n                            if (proxy_1.undo && _this.parent.formatter.getUndoRedoStack().length === 0) {\n                                _this.parent.formatter.saveData();\n                            }\n                            callback_1.call(_this);\n                            if ((_this.parent.formatter.getUndoRedoStack()[_this.parent.formatter.getUndoRedoStack().length - 1].text.trim()\n                                === _this.parent.inputElement.innerHTML.trim())) {\n                                return;\n                            }\n                            if (proxy_1.undo) {\n                                _this.parent.formatter.saveData();\n                            }\n                        };\n                    }\n                    items.push(item);\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, tbItems_1 = tbItems; _i < tbItems_1.length; _i++) {\n            var item = tbItems_1[_i];\n            _loop_1(item);\n        }\n        return items;\n    };\n    BaseToolbar.prototype.getToolbarOptions = function (args) {\n        return {\n            target: args.target,\n            rteToolbarObj: this,\n            items: this.getItems(args.items, args.container),\n            overflowMode: args.mode,\n            enablePersistence: this.parent.enablePersistence,\n            enableRtl: this.parent.enableRtl\n        };\n    };\n    /**\n     * render method\n     * @hidden\n\n     */\n    BaseToolbar.prototype.render = function (args) {\n        this.toolbarRenderer = this.renderFactory.getRenderer(RenderType.Toolbar);\n        this.toolbarRenderer.renderToolbar(this.getToolbarOptions(args));\n    };\n    return BaseToolbar;\n}());\nexport { BaseToolbar };\n","import { addClass, isNullOrUndefined, removeClass, select, closest } from '@syncfusion/ej2-base';\nimport { RenderType } from '../base/enum';\nimport { getIndex } from '../base/util';\nimport * as events from '../base/constant';\nimport * as classes from '../base/classes';\nimport { getDropDownValue, getFormattedFontSize, getTooltipText } from '../base/util';\nimport * as model from '../models/items';\nimport { dispatchEvent } from '../base/util';\n/**\n * `Toolbar` module is used to handle Toolbar actions.\n */\nvar DropDownButtons = /** @class */ (function () {\n    function DropDownButtons(parent, serviceLocator) {\n        this.parent = parent;\n        this.locator = serviceLocator;\n        this.renderFactory = this.locator.getService('rendererFactory');\n        this.addEventListener();\n    }\n    DropDownButtons.prototype.initializeInstance = function () {\n        this.toolbarRenderer = this.renderFactory.getRenderer(RenderType.Toolbar);\n    };\n    DropDownButtons.prototype.beforeRender = function (args) {\n        var item = args.item;\n        if (item.cssClass) {\n            addClass([args.element], item.cssClass);\n        }\n        if (item.command === 'Alignments' || item.subCommand === 'JustifyLeft'\n            || item.subCommand === 'JustifyRight' || item.subCommand === 'JustifyCenter') {\n            args.element.setAttribute('title', getTooltipText(item.subCommand.toLocaleLowerCase(), this.locator));\n        }\n    };\n    DropDownButtons.prototype.dropdownContent = function (width, type, content) {\n        return ('<span style=\"display: inline-flex;' + 'width:' + ((type === 'quick') ? 'auto' : width) + '\" >' +\n            '<span class=\"e-rte-dropdown-btn-text\">' + content + '</span></span>');\n    };\n    /**\n     * renderDropDowns method\n     * @hidden\n\n     */\n    DropDownButtons.prototype.renderDropDowns = function (args) {\n        var _this = this;\n        this.initializeInstance();\n        var type = args.containerType;\n        var tbElement = args.container;\n        model.templateItems.forEach(function (item) {\n            var targetElement = undefined;\n            if (getIndex(item, args.items) !== -1) {\n                switch (item) {\n                    case 'formats':\n                        targetElement = select('#' + _this.parent.getID() + '_' + type + '_Formats', tbElement);\n                        if (isNullOrUndefined(targetElement) || targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n                            return;\n                        }\n                        var formatItem = _this.parent.format.types.slice();\n                        formatItem.forEach(function (item) {\n                            Object.defineProperties(item, {\n                                command: { value: 'Formats', enumerable: true }, subCommand: { value: item.value, enumerable: true }\n                            });\n                        });\n                        var formatContent = isNullOrUndefined(_this.parent.format.default) ? formatItem[0].text :\n                            _this.parent.format.default;\n                        _this.formatDropDown = _this.toolbarRenderer.renderDropDownButton({\n                            iconCss: ((type === 'quick') ? 'e-formats e-icons' : ''),\n                            content: _this.dropdownContent(_this.parent.format.width, type, ((type === 'quick') ? '' : getDropDownValue(formatItem, formatContent, 'text', 'text'))),\n                            cssClass: classes.CLS_DROPDOWN_POPUP + ' ' + classes.CLS_DROPDOWN_ITEMS + ' ' + classes.CLS_FORMATS_TB_BTN,\n                            itemName: 'Formats', items: formatItem, element: targetElement\n                        });\n                        break;\n                    case 'fontname':\n                        targetElement = select('#' + _this.parent.getID() + '_' + type + '_FontName', tbElement);\n                        if (isNullOrUndefined(targetElement) || targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n                            return;\n                        }\n                        var fontItem = _this.parent.fontFamily.items.slice();\n                        fontItem.forEach(function (item) {\n                            Object.defineProperties(item, {\n                                command: { value: 'Font', enumerable: true }, subCommand: { value: 'FontName', enumerable: true }\n                            });\n                        });\n                        var fontNameContent = isNullOrUndefined(_this.parent.fontFamily.default) ? fontItem[0].text :\n                            _this.parent.fontFamily.default;\n                        _this.fontNameDropDown = _this.toolbarRenderer.renderDropDownButton({\n                            iconCss: ((type === 'quick') ? 'e-font-name e-icons' : ''),\n                            content: _this.dropdownContent(_this.parent.fontFamily.width, type, ((type === 'quick') ? '' : getDropDownValue(fontItem, fontNameContent, 'text', 'text'))),\n                            cssClass: classes.CLS_DROPDOWN_POPUP + ' ' + classes.CLS_DROPDOWN_ITEMS + ' ' + classes.CLS_FONT_NAME_TB_BTN,\n                            itemName: 'FontName', items: fontItem, element: targetElement\n                        });\n                        if (!isNullOrUndefined(_this.parent.fontFamily.default)) {\n                            _this.getEditNode().style.fontFamily = _this.parent.fontFamily.default;\n                        }\n                        break;\n                    case 'fontsize':\n                        targetElement = select('#' + _this.parent.getID() + '_' + type + '_FontSize', tbElement);\n                        if (isNullOrUndefined(targetElement) || targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n                            return;\n                        }\n                        var fontsize = _this.parent.fontSize.items.slice();\n                        fontsize.forEach(function (item) {\n                            Object.defineProperties(item, {\n                                command: { value: 'Font', enumerable: true }, subCommand: { value: 'FontSize', enumerable: true }\n                            });\n                        });\n                        var fontSizeContent = isNullOrUndefined(_this.parent.fontSize.default) ? fontsize[1].text :\n                            _this.parent.fontSize.default;\n                        _this.fontSizeDropDown = _this.toolbarRenderer.renderDropDownButton({\n                            content: _this.dropdownContent(_this.parent.fontSize.width, type, getFormattedFontSize(getDropDownValue(fontsize, fontSizeContent.replace(/\\s/g, ''), 'value', 'text'))),\n                            cssClass: classes.CLS_DROPDOWN_POPUP + ' ' + classes.CLS_DROPDOWN_ITEMS + ' ' + classes.CLS_FONT_SIZE_TB_BTN,\n                            itemName: 'FontSize', items: fontsize, element: targetElement\n                        });\n                        if (!isNullOrUndefined(_this.parent.fontSize.default)) {\n                            _this.getEditNode().style.fontSize = _this.parent.fontSize.default;\n                        }\n                        break;\n                    case 'alignments':\n                        targetElement = select('#' + _this.parent.getID() + '_' + type + '_Alignments', tbElement);\n                        if (isNullOrUndefined(targetElement) || targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n                            return;\n                        }\n                        _this.alignDropDown = _this.toolbarRenderer.renderDropDownButton({\n                            iconCss: 'e-justify-left e-icons',\n                            cssClass: classes.CLS_DROPDOWN_POPUP + ' ' + classes.CLS_DROPDOWN_ITEMS,\n                            itemName: 'Alignments', items: model.alignmentItems, element: targetElement\n                        });\n                        break;\n                    case 'align':\n                        _this.imageAlignmentDropDown(type, tbElement, targetElement);\n                        break;\n                    case 'display':\n                        _this.imageDisplayDropDown(type, tbElement, targetElement);\n                        break;\n                    case 'tablerows':\n                        _this.rowDropDown(type, tbElement, targetElement);\n                        break;\n                    case 'tablecolumns':\n                        _this.columnDropDown(type, tbElement, targetElement);\n                        break;\n                    case 'tablecellverticalalign':\n                        _this.verticalAlignDropDown(type, tbElement, targetElement);\n                        break;\n                    case 'styles':\n                        _this.tableStylesDropDown(type, tbElement, targetElement);\n                        break;\n                }\n            }\n        });\n    };\n    DropDownButtons.prototype.getUpdateItems = function (items, value) {\n        var dropDownItems = items.slice();\n        dropDownItems.forEach(function (item) {\n            Object.defineProperties(item, {\n                command: { value: (value === 'Format' ? 'Formats' : 'Font'), enumerable: true },\n                subCommand: { value: (value === 'Format' ? item.value : value), enumerable: true }\n            });\n        });\n        return dropDownItems;\n    };\n    DropDownButtons.prototype.onPropertyChanged = function (model) {\n        var newProp = model.newProp;\n        var type;\n        var content;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'fontFamily':\n                    if (this.fontNameDropDown) {\n                        for (var _b = 0, _c = Object.keys(newProp.fontFamily); _b < _c.length; _b++) {\n                            var fontFamily = _c[_b];\n                            switch (fontFamily) {\n                                case 'default':\n                                case 'width':\n                                    var fontItems = this.fontNameDropDown.items;\n                                    type = !isNullOrUndefined(closest(this.fontNameDropDown.element, '.' + classes.CLS_QUICK_TB)) ?\n                                        'quick' : 'toolbar';\n                                    var fontNameContent = isNullOrUndefined(this.parent.fontFamily.default) ? fontItems[0].text :\n                                        this.parent.fontFamily.default;\n                                    content = this.dropdownContent(this.parent.fontFamily.width, type, ((type === 'quick') ? '' : getDropDownValue(fontItems, fontNameContent, 'text', 'text')));\n                                    this.fontNameDropDown.setProperties({ content: content });\n                                    if (!isNullOrUndefined(this.parent.fontFamily.default)) {\n                                        this.getEditNode().style.fontFamily = this.parent.fontFamily.default;\n                                    }\n                                    else {\n                                        this.getEditNode().style.removeProperty('font-family');\n                                    }\n                                    break;\n                                case 'items':\n                                    this.fontNameDropDown.setProperties({\n                                        items: this.getUpdateItems(newProp.fontFamily.items, 'FontName')\n                                    });\n                                    break;\n                            }\n                        }\n                    }\n                    break;\n                case 'fontSize':\n                    if (this.fontSizeDropDown) {\n                        for (var _d = 0, _e = Object.keys(newProp.fontSize); _d < _e.length; _d++) {\n                            var fontSize = _e[_d];\n                            switch (fontSize) {\n                                case 'default':\n                                case 'width':\n                                    var fontsize = this.fontSizeDropDown.items;\n                                    type = !isNullOrUndefined(closest(this.fontSizeDropDown.element, '.' + classes.CLS_QUICK_TB)) ? 'quick' : 'toolbar';\n                                    var fontSizeContent = isNullOrUndefined(this.parent.fontSize.default) ? fontsize[1].text :\n                                        this.parent.fontSize.default;\n                                    content = this.dropdownContent(this.parent.fontSize.width, type, getFormattedFontSize(getDropDownValue(fontsize, fontSizeContent.replace(/\\s/g, ''), 'value', 'text')));\n                                    this.fontSizeDropDown.setProperties({ content: content });\n                                    if (!isNullOrUndefined(this.parent.fontSize.default)) {\n                                        this.getEditNode().style.fontSize = this.parent.fontSize.default;\n                                    }\n                                    else {\n                                        this.getEditNode().style.removeProperty('font-size');\n                                    }\n                                    break;\n                                case 'items':\n                                    this.fontSizeDropDown.setProperties({\n                                        items: this.getUpdateItems(newProp.fontSize.items, 'FontSize')\n                                    });\n                                    break;\n                            }\n                        }\n                    }\n                    break;\n                case 'format':\n                    if (this.formatDropDown) {\n                        for (var _f = 0, _g = Object.keys(newProp.format); _f < _g.length; _f++) {\n                            var format = _g[_f];\n                            switch (format) {\n                                case 'default':\n                                case 'width':\n                                    var formatItems = this.formatDropDown.items;\n                                    type = !isNullOrUndefined(closest(this.formatDropDown.element, '.' + classes.CLS_QUICK_TB)) ? 'quick' : 'toolbar';\n                                    var formatContent = isNullOrUndefined(this.parent.format.default) ? formatItems[0].text :\n                                        this.parent.format.default;\n                                    content = this.dropdownContent(this.parent.format.width, type, ((type === 'quick') ? '' : getDropDownValue(formatItems, formatContent, 'text', 'text')));\n                                    this.formatDropDown.setProperties({ content: content });\n                                    break;\n                                case 'types':\n                                    this.formatDropDown.setProperties({\n                                        items: this.getUpdateItems(newProp.format.types, 'Format')\n                                    });\n                                    break;\n                            }\n                        }\n                    }\n                    break;\n            }\n        }\n    };\n    DropDownButtons.prototype.getEditNode = function () {\n        return this.parent.contentModule.getEditPanel();\n    };\n    DropDownButtons.prototype.rowDropDown = function (type, tbElement, targetElement) {\n        targetElement = select('#' + this.parent.getID() + '_' + type + '_TableRows', tbElement);\n        if (targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n            return;\n        }\n        this.tableRowsDropDown = this.toolbarRenderer.renderDropDownButton({\n            iconCss: 'e-table-rows e-icons',\n            cssClass: classes.CLS_DROPDOWN_POPUP + ' ' + classes.CLS_DROPDOWN_ITEMS + ' ' + classes.CLS_QUICK_DROPDOWN,\n            itemName: 'TableRows',\n            items: model.tableRowsItems,\n            element: targetElement\n        });\n    };\n    DropDownButtons.prototype.columnDropDown = function (type, tbElement, targetElement) {\n        targetElement = select('#' + this.parent.getID() + '_' + type + '_TableColumns', tbElement);\n        if (targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n            return;\n        }\n        this.tableColumnsDropDown = this.toolbarRenderer.renderDropDownButton({\n            iconCss: 'e-table-columns e-icons',\n            cssClass: classes.CLS_DROPDOWN_POPUP + ' ' + classes.CLS_DROPDOWN_ITEMS + ' ' + classes.CLS_QUICK_DROPDOWN,\n            itemName: 'TableColumns',\n            items: model.tableColumnsItems,\n            element: targetElement\n        });\n    };\n    DropDownButtons.prototype.verticalAlignDropDown = function (type, tbElement, targetElement) {\n        targetElement = select('#' + this.parent.getID() + '_' + type + '_TableCellVerticalAlign', tbElement);\n        if (targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n            return;\n        }\n        this.tableCellVerticalAlignDropDown = this.toolbarRenderer.renderDropDownButton({\n            iconCss: 'e-table-cell-ver-align e-icons',\n            cssClass: classes.CLS_DROPDOWN_POPUP + ' ' + classes.CLS_DROPDOWN_ITEMS + ' ' + classes.CLS_QUICK_DROPDOWN,\n            itemName: 'TableCellVerticalAlign',\n            items: model.TableCellVerticalAlignItems,\n            element: targetElement\n        });\n    };\n    DropDownButtons.prototype.imageDisplayDropDown = function (type, tbElement, targetElement) {\n        targetElement = select('#' + this.parent.getID() + '_' + type + '_Display', tbElement);\n        if (targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n            return;\n        }\n        this.displayDropDown = this.toolbarRenderer.renderDropDownButton({\n            iconCss: 'e-display e-icons',\n            cssClass: classes.CLS_DROPDOWN_POPUP + ' ' + classes.CLS_DROPDOWN_ITEMS + ' ' + classes.CLS_QUICK_DROPDOWN,\n            itemName: 'Display',\n            items: model.imageDisplayItems,\n            element: targetElement\n        });\n    };\n    DropDownButtons.prototype.imageAlignmentDropDown = function (type, tbElement, targetElement) {\n        targetElement = select('#' + this.parent.getID() + '_' + type + '_Align', tbElement);\n        if (targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n            return;\n        }\n        this.imageAlignDropDown = this.toolbarRenderer.renderDropDownButton({\n            iconCss: 'e-justify-left e-icons',\n            cssClass: classes.CLS_DROPDOWN_POPUP + ' ' + classes.CLS_DROPDOWN_ICONS + ' ' + classes.CLS_QUICK_DROPDOWN,\n            itemName: 'Align',\n            items: model.imageAlignItems,\n            element: targetElement\n        });\n    };\n    DropDownButtons.prototype.tableStylesDropDown = function (type, tbElement, targetElement) {\n        targetElement = select('#' + this.parent.getID() + '_' + type + '_Styles', tbElement);\n        if (targetElement.classList.contains(classes.CLS_DROPDOWN_BTN)) {\n            return;\n        }\n        this.imageAlignDropDown = this.toolbarRenderer.renderDropDownButton({\n            iconCss: 'e-style e-icons',\n            cssClass: classes.CLS_DROPDOWN_POPUP + ' ' + classes.CLS_DROPDOWN_ICONS + ' ' + classes.CLS_QUICK_DROPDOWN,\n            itemName: 'Styles',\n            items: this.parent.tableSettings.styles,\n            element: targetElement\n        });\n    };\n    DropDownButtons.prototype.removeDropDownClasses = function (target) {\n        removeClass([target], [\n            classes.CLS_DROPDOWN_BTN,\n            classes.CLS_DROPDOWN_POPUP,\n            classes.CLS_DROPDOWN_ICONS,\n            classes.CLS_DROPDOWN_ITEMS\n        ]);\n    };\n    /**\n     * destroyDropDowns method\n     * @hidden\n\n     */\n    DropDownButtons.prototype.destroyDropDowns = function () {\n        if (this.formatDropDown) {\n            this.removeDropDownClasses(this.formatDropDown.element);\n            this.formatDropDown.destroy();\n        }\n        if (this.fontNameDropDown) {\n            this.removeDropDownClasses(this.fontNameDropDown.element);\n            this.fontNameDropDown.destroy();\n        }\n        if (this.fontSizeDropDown) {\n            this.removeDropDownClasses(this.fontSizeDropDown.element);\n            this.fontSizeDropDown.destroy();\n        }\n        if (this.alignDropDown) {\n            this.removeDropDownClasses(this.alignDropDown.element);\n            this.alignDropDown.destroy();\n        }\n        if (this.imageAlignDropDown) {\n            this.removeDropDownClasses(this.imageAlignDropDown.element);\n            this.imageAlignDropDown.destroy();\n        }\n        if (this.displayDropDown) {\n            this.removeDropDownClasses(this.displayDropDown.element);\n            this.displayDropDown.destroy();\n        }\n        if (this.tableRowsDropDown) {\n            this.removeDropDownClasses(this.tableRowsDropDown.element);\n            this.tableRowsDropDown.destroy();\n        }\n        if (this.tableColumnsDropDown) {\n            this.removeDropDownClasses(this.tableColumnsDropDown.element);\n            this.tableColumnsDropDown.destroy();\n        }\n        if (this.tableCellVerticalAlignDropDown) {\n            this.removeDropDownClasses(this.tableCellVerticalAlignDropDown.element);\n            this.tableCellVerticalAlignDropDown.destroy();\n        }\n    };\n    DropDownButtons.prototype.setRtl = function (args) {\n        if (this.formatDropDown) {\n            this.formatDropDown.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.fontNameDropDown) {\n            this.fontNameDropDown.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.fontSizeDropDown) {\n            this.fontSizeDropDown.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.alignDropDown) {\n            this.alignDropDown.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.imageAlignDropDown) {\n            this.imageAlignDropDown.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.displayDropDown) {\n            this.displayDropDown.setProperties({ enableRtl: args.enableRtl });\n        }\n    };\n    DropDownButtons.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.beforeDropDownItemRender, this.beforeRender, this);\n        this.parent.on(events.iframeMouseDown, this.onIframeMouseDown, this);\n        this.parent.on(events.rtlMode, this.setRtl, this);\n        this.parent.on(events.destroy, this.removeEventListener, this);\n        this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n    };\n    DropDownButtons.prototype.onIframeMouseDown = function () {\n        dispatchEvent(document, 'mousedown');\n    };\n    DropDownButtons.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.iframeMouseDown, this.onIframeMouseDown);\n        this.parent.off(events.rtlMode, this.setRtl);\n        this.parent.off(events.beforeDropDownItemRender, this.beforeRender);\n        this.parent.off(events.destroy, this.removeEventListener);\n        this.parent.off(events.modelChanged, this.onPropertyChanged);\n    };\n    return DropDownButtons;\n}());\nexport { DropDownButtons };\n","import { isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { ServiceLocator } from '../services/service-locator';\nimport { RendererFactory } from '../services/renderer-factory';\n/**\n * `ToolbarAction` module is used to toolbar click action\n */\nvar ToolbarAction = /** @class */ (function () {\n    function ToolbarAction(parent) {\n        this.parent = parent;\n        this.addEventListener();\n        this.serviceLocator = new ServiceLocator;\n        this.serviceLocator.register('rendererFactory', new RendererFactory);\n    }\n    ToolbarAction.prototype.addEventListener = function () {\n        this.parent.on(events.toolbarClick, this.toolbarClick, this);\n        this.parent.on(events.dropDownSelect, this.dropDownSelect, this);\n        this.parent.on(events.colorPickerChanged, this.renderSelection, this);\n        this.parent.on(events.destroy, this.removeEventListener, this);\n    };\n    ToolbarAction.prototype.toolbarClick = function (args) {\n        if (isNOU(args.item)) {\n            return;\n        }\n        if (!isNOU(args.item.controlParent)) {\n            var activeEle = args.item.controlParent\n                .activeEle;\n            if (activeEle) {\n                activeEle.tabIndex = -1;\n            }\n        }\n        this.parent.notify(events.htmlToolbarClick, args);\n        this.parent.notify(events.markdownToolbarClick, args);\n    };\n    ToolbarAction.prototype.dropDownSelect = function (e) {\n        this.parent.notify(events.selectionRestore, {});\n        if (!(document.body.contains(document.body.querySelector('.e-rte-quick-toolbar'))\n            && e.item && (e.item.command === 'Images' || e.item.command === 'Display' || e.item.command === 'Table'))) {\n            var value = e.item.controlParent && this.parent.quickToolbarModule && this.parent.quickToolbarModule.tableQTBar\n                && this.parent.quickToolbarModule.tableQTBar.element.contains(e.item.controlParent.element) ? 'Table' : null;\n            this.parent.formatter.process(this.parent, e, e.originalEvent, value);\n        }\n        this.parent.notify(events.selectionSave, {});\n    };\n    ToolbarAction.prototype.renderSelection = function (args) {\n        this.parent.notify(events.selectionRestore, {});\n        this.parent.formatter.process(this.parent, args, args.originalEvent, null);\n        this.parent.notify(events.selectionSave, {});\n    };\n    ToolbarAction.prototype.removeEventListener = function () {\n        this.parent.off(events.toolbarClick, this.toolbarClick);\n        this.parent.off(events.dropDownSelect, this.dropDownSelect);\n        this.parent.off(events.colorPickerChanged, this.renderSelection);\n        this.parent.off(events.destroy, this.removeEventListener);\n    };\n    return ToolbarAction;\n}());\nexport { ToolbarAction };\n","import { addClass, Browser, EventHandler, detach, removeClass, select, selectAll, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, closest, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { setStyleAttribute, extend } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport * as classes from '../base/classes';\nimport { RenderType, ToolbarType } from '../base/enum';\nimport { setToolbarStatus, updateUndoRedoStatus, getTBarItemsIndex, getCollection, toObjectLowerCase, isIDevice } from '../base/util';\nimport * as model from '../models/items';\nimport { ToolbarRenderer } from '../renderer/toolbar-renderer';\nimport { BaseToolbar } from './base-toolbar';\nimport { DropDownButtons } from './dropdown-buttons';\nimport { ToolbarAction } from './toolbar-action';\n/**\n * `Toolbar` module is used to handle Toolbar actions.\n */\nvar Toolbar = /** @class */ (function () {\n    function Toolbar(parent, serviceLocator) {\n        this.parent = parent;\n        this.isToolbar = false;\n        this.locator = serviceLocator;\n        this.isTransformChild = false;\n        this.renderFactory = this.locator.getService('rendererFactory');\n        model.updateDropDownLocale(this.parent);\n        this.renderFactory.addRenderer(RenderType.Toolbar, new ToolbarRenderer(this.parent));\n        this.toolbarRenderer = this.renderFactory.getRenderer(RenderType.Toolbar);\n        this.baseToolbar = new BaseToolbar(this.parent, this.locator);\n        this.addEventListener();\n        if (this.parent.toolbarSettings && Object.keys(this.parent.toolbarSettings.itemConfigs).length > 0) {\n            extend(this.tools, model.tools, toObjectLowerCase(this.parent.toolbarSettings.itemConfigs), true);\n        }\n        else {\n            this.tools = model.tools;\n        }\n    }\n    Toolbar.prototype.initializeInstance = function () {\n        this.contentRenderer = this.renderFactory.getRenderer(RenderType.Content);\n        this.editableElement = this.contentRenderer.getEditPanel();\n        this.editPanel = this.contentRenderer.getPanel();\n    };\n    Toolbar.prototype.toolbarBindEvent = function () {\n        if (!this.parent.inlineMode.enable) {\n            this.keyBoardModule = new KeyboardEvents(this.getToolbarElement(), {\n                keyAction: this.toolBarKeyDown.bind(this), keyConfigs: this.parent.formatter.keyConfig, eventName: 'keydown'\n            });\n        }\n    };\n    Toolbar.prototype.toolBarKeyDown = function (e) {\n        switch (e.action) {\n            case 'escape':\n                this.parent.contentModule.getEditPanel().focus();\n                break;\n        }\n    };\n    Toolbar.prototype.createToolbarElement = function () {\n        this.tbElement = this.parent.createElement('div', { id: this.parent.getID() + '_toolbar' });\n        if (!Browser.isDevice && this.parent.inlineMode.enable && isIDevice()) {\n            return;\n        }\n        else {\n            if (this.parent.toolbarSettings.enableFloating && !this.parent.inlineMode.enable) {\n                this.tbWrapper = this.parent.createElement('div', {\n                    id: this.parent.getID() + '_toolbar_wrapper',\n                    innerHTML: this.tbElement.outerHTML,\n                    className: classes.CLS_TB_WRAP\n                });\n                this.tbElement = this.tbWrapper.firstElementChild;\n                this.parent.element.insertBefore(this.tbWrapper, this.editPanel);\n            }\n            else {\n                this.parent.element.insertBefore(this.tbElement, this.editPanel);\n            }\n        }\n    };\n    Toolbar.prototype.getToolbarMode = function () {\n        var tbMode;\n        switch (this.parent.toolbarSettings.type) {\n            case ToolbarType.Expand:\n                tbMode = 'Extended';\n                break;\n            case ToolbarType.Scrollable:\n                tbMode = 'Scrollable';\n                break;\n            default:\n                tbMode = 'MultiRow';\n        }\n        if (isIDevice() && this.parent.toolbarSettings.type === ToolbarType.Expand) {\n            tbMode = ToolbarType.Scrollable;\n        }\n        return tbMode;\n    };\n    Toolbar.prototype.checkToolbarResponsive = function (ele) {\n        if (!Browser.isDevice || isIDevice()) {\n            return false;\n        }\n        var tBarMode;\n        if (this.parent.toolbarSettings.type === ToolbarType.Expand) {\n            tBarMode = ToolbarType.MultiRow;\n        }\n        else {\n            tBarMode = this.parent.toolbarSettings.type;\n        }\n        this.baseToolbar.render({\n            container: ((this.parent.inlineMode.enable) ? 'quick' : 'toolbar'),\n            items: this.parent.toolbarSettings.items,\n            mode: tBarMode,\n            target: ele\n        });\n        if (this.parent.toolbarSettings.type === ToolbarType.Expand) {\n            addClass([ele], ['e-rte-tb-mobile']);\n            if (this.parent.inlineMode.enable) {\n                this.addFixedTBarClass();\n            }\n            else {\n                addClass([ele], [classes.CLS_TB_STATIC]);\n            }\n        }\n        this.wireEvents();\n        this.dropDownModule.renderDropDowns({\n            container: ele,\n            containerType: ((this.parent.inlineMode.enable) ? 'quick' : 'toolbar'),\n            items: this.parent.toolbarSettings.items\n        });\n        this.parent.notify(events.renderColorPicker, {\n            container: this.tbElement,\n            containerType: ((this.parent.inlineMode.enable) ? 'quick' : 'toolbar'),\n            items: this.parent.toolbarSettings.items\n        });\n        return true;\n    };\n    Toolbar.prototype.checkIsTransformChild = function () {\n        this.isTransformChild = false;\n        var transformElements = selectAll('[style*=\"transform\"]', document);\n        for (var i = 0; i < transformElements.length; i++) {\n            if (!isNullOrUndefined(transformElements[i].contains) && transformElements[i].contains(this.parent.element)) {\n                this.isTransformChild = true;\n                break;\n            }\n        }\n    };\n    Toolbar.prototype.toggleFloatClass = function (e) {\n        var topValue;\n        var isBody = false;\n        var isFloat = false;\n        var scrollParent;\n        var floatOffset = this.parent.floatingToolbarOffset;\n        if (e && this.parent.iframeSettings.enable && this.parent.inputElement.ownerDocument === e.target) {\n            scrollParent = e.target.body;\n        }\n        else if (e && e.target !== document) {\n            scrollParent = e.target;\n        }\n        else {\n            isBody = true;\n            scrollParent = document.body;\n        }\n        var tbHeight = this.getToolbarHeight() + this.getExpandTBarPopHeight();\n        if (this.isTransformChild) {\n            topValue = 0;\n            var scrollParentRelativeTop = 0;\n            var trgHeight = this.parent.element.offsetHeight;\n            if (isBody) {\n                var bodyStyle = window.getComputedStyle(scrollParent);\n                scrollParentRelativeTop = parseFloat(bodyStyle.marginTop.split('px')[0]) + parseFloat(bodyStyle.paddingTop.split('px')[0]);\n            }\n            var targetTop = this.parent.element.getBoundingClientRect().top;\n            var scrollParentYOffset = (Browser.isMSPointer && isBody) ? window.pageYOffset : scrollParent.parentElement.scrollTop;\n            var scrollParentRect = scrollParent.getBoundingClientRect();\n            var scrollParentTop = (!isBody) ? scrollParentRect.top : (scrollParentRect.top + scrollParentYOffset);\n            var outOfRange = ((targetTop - ((!isBody) ? scrollParentTop : 0)) + trgHeight > tbHeight + floatOffset) ? false : true;\n            if (targetTop > (scrollParentTop + floatOffset) || targetTop < -trgHeight || ((targetTop < 0) ? outOfRange : false)) {\n                isFloat = false;\n                removeClass([this.tbElement], [classes.CLS_TB_ABS_FLOAT]);\n            }\n            else if (targetTop < (scrollParentTop + floatOffset)) {\n                if (targetTop < 0) {\n                    topValue = (-targetTop) + scrollParentTop;\n                }\n                else {\n                    topValue = scrollParentTop - targetTop;\n                }\n                topValue = (isBody) ? topValue - scrollParentRelativeTop : topValue;\n                addClass([this.tbElement], [classes.CLS_TB_ABS_FLOAT]);\n                isFloat = true;\n            }\n        }\n        else {\n            var parent_1 = this.parent.element.getBoundingClientRect();\n            if (window.innerHeight < parent_1.top) {\n                return;\n            }\n            topValue = (e && e.target !== document) ? scrollParent.getBoundingClientRect().top : 0;\n            if ((parent_1.bottom < (floatOffset + tbHeight + topValue)) || parent_1.bottom < 0 || parent_1.top > floatOffset + topValue) {\n                isFloat = false;\n            }\n            else if (parent_1.top < floatOffset) {\n                isFloat = true;\n            }\n        }\n        if (!isFloat) {\n            removeClass([this.tbElement], [classes.CLS_TB_FLOAT]);\n            setStyleAttribute(this.tbElement, { top: 0 + 'px', width: '100%' });\n        }\n        else {\n            addClass([this.tbElement], [classes.CLS_TB_FLOAT]);\n            setStyleAttribute(this.tbElement, { width: this.parent.element.offsetWidth + 'px', top: (floatOffset + topValue) + 'px' });\n        }\n    };\n    Toolbar.prototype.renderToolbar = function () {\n        this.initializeInstance();\n        this.createToolbarElement();\n        if (this.checkToolbarResponsive(this.tbElement)) {\n            return;\n        }\n        if (this.parent.inlineMode.enable) {\n            this.parent.notify(events.renderInlineToolbar, {});\n        }\n        else {\n            this.baseToolbar.render({\n                container: 'toolbar',\n                items: this.parent.toolbarSettings.items,\n                mode: this.getToolbarMode(),\n                target: this.tbElement\n            });\n            if (!this.parent.inlineMode.enable) {\n                if (this.parent.toolbarSettings.enableFloating) {\n                    this.checkIsTransformChild();\n                    this.toggleFloatClass();\n                }\n                if (this.parent.toolbarSettings.type === ToolbarType.Expand) {\n                    addClass([this.parent.element], [classes.CLS_RTE_EXPAND_TB]);\n                }\n            }\n        }\n        this.wireEvents();\n        if (this.parent.inlineMode.enable && !isIDevice()) {\n            this.addFixedTBarClass();\n        }\n        if (!this.parent.inlineMode.enable) {\n            this.dropDownModule.renderDropDowns({\n                container: this.tbElement,\n                containerType: 'toolbar',\n                items: this.parent.toolbarSettings.items\n            });\n            this.parent.notify(events.renderColorPicker, {\n                container: this.tbElement,\n                containerType: 'toolbar',\n                items: this.parent.toolbarSettings.items\n            });\n            this.refreshToolbarOverflow();\n        }\n        var divEle = this.parent.element.querySelector('.e-rte-srctextarea');\n        var iframeEle = this.parent.element.querySelector('.e-source-content');\n        if ((!this.parent.iframeSettings.enable && (!isNOU(divEle) && divEle.style.display === 'block')) ||\n            (this.parent.iframeSettings.enable && (!isNOU(iframeEle) && iframeEle.style.display === 'block'))) {\n            this.parent.notify(events.updateToolbarItem, {\n                targetItem: 'SourceCode', updateItem: 'Preview',\n                baseToolbar: this.parent.getBaseToolbarObject()\n            });\n            this.parent.disableToolbarItem(this.parent.toolbarSettings.items);\n        }\n    };\n    /**\n     * addFixedTBarClass method\n     * @hidden\n\n     */\n    Toolbar.prototype.addFixedTBarClass = function () {\n        addClass([this.tbElement], [classes.CLS_TB_FIXED]);\n    };\n    /**\n     * removeFixedTBarClass method\n     * @hidden\n\n     */\n    Toolbar.prototype.removeFixedTBarClass = function () {\n        removeClass([this.tbElement], [classes.CLS_TB_FIXED]);\n    };\n    Toolbar.prototype.showFixedTBar = function () {\n        addClass([this.tbElement], [classes.CLS_SHOW]);\n        if (Browser.isIos) {\n            addClass([this.tbElement], [classes.CLS_TB_IOS_FIX]);\n        }\n    };\n    Toolbar.prototype.hideFixedTBar = function () {\n        (!this.isToolbar) ? removeClass([this.tbElement], [classes.CLS_SHOW, classes.CLS_TB_IOS_FIX]) : this.isToolbar = false;\n    };\n    /**\n     * updateItem method\n     * @hidden\n\n     */\n    Toolbar.prototype.updateItem = function (args) {\n        var item = this.tools[args.updateItem.toLocaleLowerCase()];\n        var trgItem = this.tools[args.targetItem.toLocaleLowerCase()];\n        var index = getTBarItemsIndex(getCollection(trgItem.subCommand), args.baseToolbar.toolbarObj.items)[0];\n        if (!isNOU(index)) {\n            var prefixId = this.parent.inlineMode.enable ? '_quick_' : '_toolbar_';\n            args.baseToolbar.toolbarObj.items[index].id = this.parent.getID() + prefixId + item.id;\n            args.baseToolbar.toolbarObj.items[index].prefixIcon = item.icon;\n            args.baseToolbar.toolbarObj.items[index].tooltipText = item.tooltip;\n            args.baseToolbar.toolbarObj.items[index].subCommand = item.subCommand;\n            args.baseToolbar.toolbarObj.dataBind();\n        }\n        else {\n            this.addTBarItem(args, 0);\n        }\n    };\n    Toolbar.prototype.updateToolbarStatus = function (args) {\n        if (!this.tbElement || (this.parent.inlineMode.enable && (isIDevice() || !Browser.isDevice))) {\n            return;\n        }\n        var options = {\n            args: args,\n            dropDownModule: this.dropDownModule,\n            parent: this.parent,\n            tbElements: selectAll('.' + classes.CLS_TB_ITEM, this.tbElement),\n            tbItems: this.baseToolbar.toolbarObj.items\n        };\n        setToolbarStatus(options, (this.parent.inlineMode.enable ? true : false));\n    };\n    Toolbar.prototype.fullScreen = function (e) {\n        this.parent.fullScreenModule.showFullScreen(e);\n    };\n    Toolbar.prototype.hideScreen = function (e) {\n        this.parent.fullScreenModule.hideFullScreen(e);\n    };\n    /**\n     * getBaseToolbar method\n     * @hidden\n\n     */\n    Toolbar.prototype.getBaseToolbar = function () {\n        return this.baseToolbar;\n    };\n    /**\n     * addTBarItem method\n     * @hidden\n\n     */\n    Toolbar.prototype.addTBarItem = function (args, index) {\n        args.baseToolbar.toolbarObj.addItems([args.baseToolbar.getObject(args.updateItem, 'toolbar')], index);\n    };\n    /**\n     * enableTBarItems method\n     * @hidden\n\n     */\n    Toolbar.prototype.enableTBarItems = function (baseToolbar, items, isEnable, muteToolbarUpdate) {\n        var trgItems = getTBarItemsIndex(getCollection(items), baseToolbar.toolbarObj.items);\n        this.tbItems = selectAll('.' + classes.CLS_TB_ITEM, baseToolbar.toolbarObj.element);\n        for (var i = 0; i < trgItems.length; i++) {\n            var item = this.tbItems[trgItems[i]];\n            if (item) {\n                baseToolbar.toolbarObj.enableItems(item, isEnable);\n            }\n        }\n        if (!select('.e-rte-srctextarea', this.parent.element) && !muteToolbarUpdate) {\n            updateUndoRedoStatus(baseToolbar, this.parent.formatter.editorManager.undoRedoManager.getUndoStatus());\n        }\n    };\n    /**\n     * removeTBarItems method\n     * @hidden\n\n     */\n    Toolbar.prototype.removeTBarItems = function (items) {\n        if (isNullOrUndefined(this.baseToolbar.toolbarObj)) {\n            this.baseToolbar = this.parent.getBaseToolbarObject();\n        }\n        var trgItems = getTBarItemsIndex(getCollection(items), this.baseToolbar.toolbarObj.items);\n        this.tbItems = (this.parent.inlineMode.enable) ? selectAll('.' + classes.CLS_TB_ITEM, this.baseToolbar.toolbarObj.element)\n            : selectAll('.' + classes.CLS_TB_ITEM, this.parent.element);\n        for (var i = 0; i < trgItems.length; i++) {\n            this.baseToolbar.toolbarObj.removeItems(this.tbItems[trgItems[i]]);\n        }\n    };\n    /**\n     * getExpandTBarPopHeight method\n     * @hidden\n\n     */\n    Toolbar.prototype.getExpandTBarPopHeight = function () {\n        var popHeight = 0;\n        if (this.parent.toolbarSettings.type === ToolbarType.Expand && this.tbElement.classList.contains('e-extended-toolbar')) {\n            var expandPopup = select('.e-toolbar-extended', this.tbElement);\n            if (expandPopup && this.tbElement.classList.contains('e-expand-open')\n                || expandPopup && expandPopup.classList.contains('e-popup-open')) {\n                addClass([expandPopup], [classes.CLS_VISIBLE]);\n                popHeight = popHeight + expandPopup.offsetHeight;\n                removeClass([expandPopup], [classes.CLS_VISIBLE]);\n            }\n            else {\n                removeClass([this.tbElement], [classes.CLS_EXPAND_OPEN]);\n            }\n        }\n        return popHeight;\n    };\n    /**\n     * getToolbarHeight method\n     * @hidden\n\n     */\n    Toolbar.prototype.getToolbarHeight = function () {\n        return this.tbElement.offsetHeight;\n    };\n    /**\n     * getToolbarElement method\n     * @hidden\n\n     */\n    Toolbar.prototype.getToolbarElement = function () {\n        return select('.' + classes.CLS_TOOLBAR, this.parent.element);\n    };\n    /**\n     * refreshToolbarOverflow method\n     * @hidden\n\n     */\n    Toolbar.prototype.refreshToolbarOverflow = function () {\n        this.baseToolbar.toolbarObj.refreshOverflow();\n    };\n    Toolbar.prototype.isToolbarDestroyed = function () {\n        return this.baseToolbar.toolbarObj && !this.baseToolbar.toolbarObj.isDestroyed;\n    };\n    Toolbar.prototype.destroyToolbar = function () {\n        if (this.isToolbarDestroyed()) {\n            this.parent.unWireScrollElementsEvents();\n            this.unWireEvents();\n            this.parent.notify(events.destroyColorPicker, {});\n            this.dropDownModule.destroyDropDowns();\n            this.baseToolbar.toolbarObj.destroy();\n            this.removeEventListener();\n            removeClass([this.parent.element], [classes.CLS_RTE_EXPAND_TB]);\n            var tbWrapper = select('.' + classes.CLS_TB_WRAP, this.parent.element);\n            var tbElement = select('.' + classes.CLS_TOOLBAR, this.parent.element);\n            if (!isNullOrUndefined(tbWrapper)) {\n                detach(tbWrapper);\n            }\n            else if (!isNullOrUndefined(tbElement)) {\n                detach(tbElement);\n            }\n        }\n    };\n    /**\n     * Destroys the ToolBar.\n     * @method destroy\n     * @return {void}\n     * @hidden\n\n     */\n    Toolbar.prototype.destroy = function () {\n        if (this.isToolbarDestroyed()) {\n            this.destroyToolbar();\n            if (this.keyBoardModule) {\n                this.keyBoardModule.destroy();\n            }\n        }\n    };\n    Toolbar.prototype.scrollHandler = function (e) {\n        if (!this.parent.inlineMode.enable) {\n            if (this.parent.toolbarSettings.enableFloating && this.getDOMVisibility(this.tbElement)) {\n                this.toggleFloatClass(e.args);\n            }\n        }\n    };\n    Toolbar.prototype.getDOMVisibility = function (el) {\n        if (!el.offsetParent && el.offsetWidth === 0 && el.offsetHeight === 0) {\n            return false;\n        }\n        return true;\n    };\n    Toolbar.prototype.mouseDownHandler = function () {\n        if (Browser.isDevice && this.parent.inlineMode.enable && !isIDevice()) {\n            this.showFixedTBar();\n        }\n    };\n    Toolbar.prototype.focusChangeHandler = function () {\n        if (Browser.isDevice && this.parent.inlineMode.enable && !isIDevice()) {\n            this.isToolbar = false;\n            this.hideFixedTBar();\n        }\n    };\n    Toolbar.prototype.dropDownBeforeOpenHandler = function () {\n        this.isToolbar = true;\n    };\n    Toolbar.prototype.tbFocusHandler = function (e) {\n        var activeElm = document.activeElement;\n        var isToolbaractive = closest(activeElm, '.e-rte-toolbar');\n        if (activeElm === this.parent.getToolbarElement() || isToolbaractive === this.parent.getToolbarElement()) {\n            var toolbarItem = this.parent.getToolbarElement().querySelectorAll('.e-expended-nav');\n            for (var i = 0; i < toolbarItem.length; i++) {\n                if (isNOU(this.parent.getToolbarElement().querySelector('.e-insert-table-btn'))) {\n                    toolbarItem[i].setAttribute('tabindex', '0');\n                }\n                else {\n                    toolbarItem[i].setAttribute('tabindex', '1');\n                }\n            }\n        }\n    };\n    Toolbar.prototype.tbKeydownHandler = function (e) {\n        if (e.target.classList.contains('e-dropdown-btn') ||\n            e.target.getAttribute('id') === this.parent.getID() + '_toolbar_CreateTable') {\n            e.target.setAttribute('tabindex', '0');\n        }\n    };\n    Toolbar.prototype.toolbarMouseDownHandler = function (e) {\n        var trg = closest(e.target, '.e-hor-nav');\n        if (trg && this.parent.toolbarSettings.type === ToolbarType.Expand && !isNOU(trg)) {\n            if (!trg.classList.contains('e-nav-active')) {\n                removeClass([this.tbElement], [classes.CLS_EXPAND_OPEN]);\n                this.parent.setContentHeight('toolbar', false);\n            }\n            else {\n                addClass([this.tbElement], [classes.CLS_EXPAND_OPEN]);\n                this.parent.setContentHeight('toolbar', true);\n            }\n        }\n        else if (Browser.isDevice || this.parent.inlineMode.enable) {\n            this.isToolbar = true;\n        }\n        if (isNOU(trg) && this.parent.toolbarSettings.type === ToolbarType.Expand) {\n            removeClass([this.tbElement], [classes.CLS_EXPAND_OPEN]);\n        }\n    };\n    Toolbar.prototype.wireEvents = function () {\n        if (this.parent.inlineMode.enable && isIDevice()) {\n            return;\n        }\n        EventHandler.add(this.tbElement, 'click mousedown', this.toolbarMouseDownHandler, this);\n        EventHandler.add(this.tbElement, 'focusin', this.tbFocusHandler, this);\n        EventHandler.add(this.tbElement, 'keydown', this.tbKeydownHandler, this);\n    };\n    Toolbar.prototype.unWireEvents = function () {\n        EventHandler.remove(this.tbElement, 'click mousedown', this.toolbarMouseDownHandler);\n        EventHandler.remove(this.tbElement, 'focusin', this.tbFocusHandler);\n        EventHandler.remove(this.tbElement, 'keydown', this.tbKeydownHandler);\n    };\n    Toolbar.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.dropDownModule = new DropDownButtons(this.parent, this.locator);\n        this.toolbarActionModule = new ToolbarAction(this.parent);\n        this.parent.on(events.initialEnd, this.renderToolbar, this);\n        this.parent.on(events.scroll, this.scrollHandler, this);\n        this.parent.on(events.bindOnEnd, this.toolbarBindEvent, this);\n        this.parent.on(events.toolbarUpdated, this.updateToolbarStatus, this);\n        this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n        this.parent.on(events.refreshBegin, this.onRefresh, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.enableFullScreen, this.fullScreen, this);\n        this.parent.on(events.disableFullScreen, this.hideScreen, this);\n        this.parent.on(events.updateToolbarItem, this.updateItem, this);\n        this.parent.on(events.beforeDropDownOpen, this.dropDownBeforeOpenHandler, this);\n        this.parent.on(events.expandPopupClick, this.parent.setContentHeight, this.parent);\n        this.parent.on(events.focusChange, this.focusChangeHandler, this);\n        this.parent.on(events.mouseDown, this.mouseDownHandler, this);\n        this.parent.on(events.sourceCodeMouseDown, this.mouseDownHandler, this);\n    };\n    Toolbar.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.initialEnd, this.renderToolbar);\n        this.parent.off(events.scroll, this.scrollHandler);\n        this.parent.off(events.bindOnEnd, this.toolbarBindEvent);\n        this.parent.off(events.toolbarUpdated, this.updateToolbarStatus);\n        this.parent.off(events.modelChanged, this.onPropertyChanged);\n        this.parent.off(events.refreshBegin, this.onRefresh);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off(events.enableFullScreen, this.parent.fullScreenModule.showFullScreen);\n        this.parent.off(events.disableFullScreen, this.parent.fullScreenModule.hideFullScreen);\n        this.parent.off(events.updateToolbarItem, this.updateItem);\n        this.parent.off(events.beforeDropDownOpen, this.dropDownBeforeOpenHandler);\n        this.parent.off(events.expandPopupClick, this.parent.setContentHeight);\n        this.parent.off(events.focusChange, this.focusChangeHandler);\n        this.parent.off(events.mouseDown, this.mouseDownHandler);\n        this.parent.off(events.sourceCodeMouseDown, this.mouseDownHandler);\n    };\n    Toolbar.prototype.onRefresh = function () {\n        this.refreshToolbarOverflow();\n        this.parent.setContentHeight('', true);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @hidden\n\n     */\n    Toolbar.prototype.onPropertyChanged = function (e) {\n        if (!isNullOrUndefined(e.newProp.inlineMode)) {\n            for (var _i = 0, _a = Object.keys(e.newProp.inlineMode); _i < _a.length; _i++) {\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'enable':\n                        this.refreshToolbar();\n                        break;\n                }\n            }\n        }\n        if (e.module !== this.getModuleName()) {\n            return;\n        }\n        this.refreshToolbar();\n    };\n    Toolbar.prototype.refreshToolbar = function () {\n        if (isNullOrUndefined(this.baseToolbar.toolbarObj)) {\n            this.baseToolbar = this.parent.getBaseToolbarObject();\n        }\n        var tbWrapper = select('.' + classes.CLS_TB_WRAP, this.parent.element);\n        var tbElement = select('.' + classes.CLS_TOOLBAR, this.parent.element);\n        if (tbElement || tbWrapper) {\n            this.destroyToolbar();\n        }\n        if (this.parent.toolbarSettings.enable) {\n            this.addEventListener();\n            this.renderToolbar();\n            this.parent.wireScrollElementsEvents();\n            if (!select('.e-rte-srctextarea', this.parent.element)) {\n                updateUndoRedoStatus(this.baseToolbar, this.parent.formatter.editorManager.undoRedoManager.getUndoStatus());\n            }\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     */\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    return Toolbar;\n}());\nexport { Toolbar };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { Event, EventHandler, isNullOrUndefined, isBlazor, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { addClass, detach, getUniqueID, isRippleEnabled, removeClass, rippleEffect, closest } from '@syncfusion/ej2-base';\nimport { wrapperInitialize, rippleMouseHandler, setHiddenInput } from './../common/common';\nvar CHECK = 'e-check';\nvar DISABLED = 'e-checkbox-disabled';\nvar FRAME = 'e-frame';\nvar INDETERMINATE = 'e-stop';\nvar LABEL = 'e-label';\nvar RIPPLE = 'e-ripple-container';\nvar RIPPLECHECK = 'e-ripple-check';\nvar RIPPLEINDETERMINATE = 'e-ripple-stop';\nvar RTL = 'e-rtl';\nvar WRAPPER = 'e-checkbox-wrapper';\nvar containerAttr = ['title', 'class', 'style', 'disabled', 'readonly', 'name', 'value'];\n/**\n * The CheckBox is a graphical user interface element that allows you to select one or more options from the choices.\n * It contains checked, unchecked, and indeterminate states.\n * ```html\n * <input type=\"checkbox\" id=\"checkbox\"/>\n * <script>\n * var checkboxObj = new CheckBox({ label: \"Default\" });\n * checkboxObj.appendTo(\"#checkbox\");\n * </script>\n * ```\n */\nvar CheckBox = /** @class */ (function (_super) {\n    __extends(CheckBox, _super);\n    /**\n     * Constructor for creating the widget\n     * @private\n     */\n    function CheckBox(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isFocused = false;\n        _this.isMouseClick = false;\n        return _this;\n    }\n    CheckBox.prototype.changeState = function (state) {\n        var ariaState;\n        var rippleSpan;\n        var frameSpan = this.getWrapper().getElementsByClassName(FRAME)[0];\n        if (isRippleEnabled) {\n            rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n        }\n        if (state === 'check') {\n            frameSpan.classList.remove(INDETERMINATE);\n            frameSpan.classList.add(CHECK);\n            if (rippleSpan) {\n                rippleSpan.classList.remove(RIPPLEINDETERMINATE);\n                rippleSpan.classList.add(RIPPLECHECK);\n            }\n            ariaState = 'true';\n            this.element.checked = true;\n        }\n        else if (state === 'uncheck') {\n            removeClass([frameSpan], [CHECK, INDETERMINATE]);\n            if (rippleSpan) {\n                removeClass([rippleSpan], [RIPPLECHECK, RIPPLEINDETERMINATE]);\n            }\n            ariaState = 'false';\n            this.element.checked = false;\n        }\n        else {\n            frameSpan.classList.remove(CHECK);\n            frameSpan.classList.add(INDETERMINATE);\n            if (rippleSpan) {\n                rippleSpan.classList.remove(RIPPLECHECK);\n                rippleSpan.classList.add(RIPPLEINDETERMINATE);\n            }\n            ariaState = 'mixed';\n            this.element.indeterminate = true;\n        }\n        this.getWrapper().setAttribute('aria-checked', ariaState);\n    };\n    CheckBox.prototype.clickHandler = function (event) {\n        if (this.isMouseClick) {\n            this.focusOutHandler();\n            this.isMouseClick = false;\n        }\n        if (this.indeterminate) {\n            this.changeState(this.checked ? 'check' : 'uncheck');\n            this.indeterminate = false;\n            this.element.indeterminate = false;\n        }\n        else if (this.checked) {\n            this.changeState('uncheck');\n            this.checked = false;\n        }\n        else {\n            this.changeState('check');\n            this.checked = true;\n        }\n        var changeEventArgs = { checked: this.element.checked, event: event };\n        this.trigger('change', changeEventArgs);\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    CheckBox.prototype.destroy = function () {\n        var _this = this;\n        var wrapper = this.getWrapper();\n        if (isBlazor() && this.isServerRendered) {\n            if (!this.disabled) {\n                this.wrapper = wrapper;\n                this.unWireEvents();\n            }\n        }\n        else {\n            if (this.wrapper) {\n                wrapper = this.wrapper;\n                _super.prototype.destroy.call(this);\n                if (!this.disabled) {\n                    this.unWireEvents();\n                }\n                if (this.tagName === 'INPUT') {\n                    if (this.getWrapper()) {\n                        wrapper.parentNode.insertBefore(this.element, wrapper);\n                    }\n                    detach(wrapper);\n                    this.element.checked = false;\n                    if (this.indeterminate) {\n                        this.element.indeterminate = false;\n                    }\n                    ['name', 'value', 'disabled'].forEach(function (key) {\n                        _this.element.removeAttribute(key);\n                    });\n                }\n                else {\n                    ['role', 'aria-checked', 'class'].forEach(function (key) {\n                        wrapper.removeAttribute(key);\n                    });\n                    wrapper.innerHTML = '';\n                }\n            }\n        }\n    };\n    CheckBox.prototype.focusHandler = function () {\n        this.isFocused = true;\n    };\n    CheckBox.prototype.focusOutHandler = function () {\n        this.getWrapper().classList.remove('e-focus');\n        this.isFocused = false;\n    };\n    /**\n     * Gets the module name.\n     * @private\n     */\n    CheckBox.prototype.getModuleName = function () {\n        return 'checkbox';\n    };\n    /**\n     * Gets the properties to be maintained in the persistence state.\n     * @private\n     */\n    CheckBox.prototype.getPersistData = function () {\n        return this.addOnPersist(['checked', 'indeterminate']);\n    };\n    CheckBox.prototype.getWrapper = function () {\n        if (this.element.parentElement) {\n            return this.element.parentElement.parentElement;\n        }\n        else {\n            return null;\n        }\n    };\n    CheckBox.prototype.initialize = function () {\n        if (isNullOrUndefined(this.initialCheckedValue)) {\n            this.initialCheckedValue = this.checked;\n        }\n        if (this.name) {\n            this.element.setAttribute('name', this.name);\n        }\n        if (this.value) {\n            this.element.setAttribute('value', this.value);\n        }\n        if (this.checked) {\n            this.changeState('check');\n        }\n        if (this.indeterminate) {\n            this.changeState();\n        }\n        if (this.disabled) {\n            this.setDisabled();\n        }\n    };\n    CheckBox.prototype.initWrapper = function () {\n        var wrapper = this.element.parentElement;\n        if (!wrapper.classList.contains(WRAPPER)) {\n            wrapper = this.createElement('div', {\n                className: WRAPPER, attrs: { 'role': 'checkbox', 'aria-checked': 'false' }\n            });\n            this.element.parentNode.insertBefore(wrapper, this.element);\n        }\n        var label = this.createElement('label', { attrs: { for: this.element.id } });\n        var frameSpan = this.createElement('span', { className: 'e-icons ' + FRAME });\n        wrapper.classList.add('e-wrapper');\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([wrapper], this.cssClass.split(' '));\n        }\n        wrapper.appendChild(label);\n        label.appendChild(this.element);\n        setHiddenInput(this, label);\n        label.appendChild(frameSpan);\n        if (isRippleEnabled) {\n            var rippleSpan = this.createElement('span', { className: RIPPLE });\n            if (this.labelPosition === 'Before') {\n                label.appendChild(rippleSpan);\n            }\n            else {\n                label.insertBefore(rippleSpan, frameSpan);\n            }\n            rippleEffect(rippleSpan, { duration: 400, isCenterRipple: true });\n        }\n        if (this.label) {\n            this.setText(this.label);\n        }\n    };\n    CheckBox.prototype.keyUpHandler = function () {\n        if (this.isFocused) {\n            this.getWrapper().classList.add('e-focus');\n        }\n    };\n    CheckBox.prototype.labelMouseHandler = function (e) {\n        this.isMouseClick = true;\n        var rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n        rippleMouseHandler(e, rippleSpan);\n    };\n    /**\n     * Called internally if any of the property value changes.\n     * @private\n     */\n    CheckBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var wrapper = this.getWrapper();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'checked':\n                    this.indeterminate = false;\n                    this.element.indeterminate = false;\n                    this.changeState(newProp.checked ? 'check' : 'uncheck');\n                    break;\n                case 'indeterminate':\n                    if (newProp.indeterminate) {\n                        this.changeState();\n                    }\n                    else {\n                        this.element.indeterminate = false;\n                        this.changeState(this.checked ? 'check' : 'uncheck');\n                    }\n                    break;\n                case 'disabled':\n                    if (newProp.disabled) {\n                        this.setDisabled();\n                        this.wrapper = this.getWrapper();\n                        this.unWireEvents();\n                    }\n                    else {\n                        this.element.disabled = false;\n                        wrapper.classList.remove(DISABLED);\n                        wrapper.setAttribute('aria-disabled', 'false');\n                        this.wireEvents();\n                    }\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([wrapper], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([wrapper], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        wrapper.classList.add(RTL);\n                    }\n                    else {\n                        wrapper.classList.remove(RTL);\n                    }\n                    break;\n                case 'label':\n                    this.setText(newProp.label);\n                    break;\n                case 'labelPosition':\n                    var label = wrapper.getElementsByClassName(LABEL)[0];\n                    var labelWrap = wrapper.getElementsByTagName('label')[0];\n                    detach(label);\n                    if (newProp.labelPosition === 'After') {\n                        labelWrap.appendChild(label);\n                    }\n                    else {\n                        labelWrap.insertBefore(label, wrapper.getElementsByClassName(FRAME)[0]);\n                    }\n                    break;\n                case 'name':\n                    this.element.setAttribute('name', newProp.name);\n                    break;\n                case 'value':\n                    this.element.setAttribute('value', newProp.value);\n                    break;\n                case 'htmlAttributes':\n                    this.updateHtmlAttributeToWrapper();\n                    break;\n            }\n        }\n    };\n    /**\n     * Initialize Angular, React and Unique ID support.\n     * @private\n     */\n    CheckBox.prototype.preRender = function () {\n        if (isBlazor() && this.isServerRendered) {\n            return;\n        }\n        var element = this.element;\n        this.formElement = closest(this.element, 'form');\n        this.tagName = this.element.tagName;\n        element = wrapperInitialize(this.createElement, 'EJS-CHECKBOX', 'checkbox', element, WRAPPER, 'checkbox');\n        this.element = element;\n        if (this.element.getAttribute('type') !== 'checkbox') {\n            this.element.setAttribute('type', 'checkbox');\n        }\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n    };\n    /**\n     * Initialize the control rendering.\n     * @private\n     */\n    CheckBox.prototype.render = function () {\n        if (isBlazor() && this.isServerRendered) {\n            if (isRippleEnabled) {\n                rippleEffect(this.getWrapper().getElementsByClassName(RIPPLE)[0], { duration: 400, isCenterRipple: true });\n            }\n        }\n        else {\n            this.initWrapper();\n            this.initialize();\n        }\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n        this.updateHtmlAttributeToWrapper();\n        this.renderComplete();\n        this.wrapper = this.getWrapper();\n    };\n    CheckBox.prototype.setDisabled = function () {\n        var wrapper = this.getWrapper();\n        this.element.disabled = true;\n        wrapper.classList.add(DISABLED);\n        wrapper.setAttribute('aria-disabled', 'true');\n    };\n    CheckBox.prototype.setText = function (text) {\n        var label = this.getWrapper().getElementsByClassName(LABEL)[0];\n        if (label) {\n            label.textContent = text;\n        }\n        else {\n            text = (this.enableHtmlSanitizer) ? SanitizeHtmlHelper.sanitize(text) : text;\n            label = this.createElement('span', { className: LABEL, innerHTML: text });\n            var labelWrap = this.getWrapper().getElementsByTagName('label')[0];\n            if (this.labelPosition === 'Before') {\n                labelWrap.insertBefore(label, this.getWrapper().getElementsByClassName(FRAME)[0]);\n            }\n            else {\n                labelWrap.appendChild(label);\n            }\n        }\n    };\n    CheckBox.prototype.changeHandler = function (e) {\n        e.stopPropagation();\n    };\n    CheckBox.prototype.formResetHandler = function () {\n        this.checked = this.initialCheckedValue;\n        this.element.checked = this.initialCheckedValue;\n    };\n    CheckBox.prototype.unWireEvents = function () {\n        var wrapper = this.wrapper;\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        EventHandler.remove(this.element, 'keyup', this.keyUpHandler);\n        EventHandler.remove(this.element, 'focus', this.focusHandler);\n        EventHandler.remove(this.element, 'focusout', this.focusOutHandler);\n        var label = wrapper.getElementsByTagName('label')[0];\n        EventHandler.remove(label, 'mousedown', this.labelMouseHandler);\n        EventHandler.remove(label, 'mouseup', this.labelMouseHandler);\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n        }\n        if (this.tagName === 'EJS-CHECKBOX') {\n            EventHandler.remove(this.element, 'change', this.changeHandler);\n        }\n    };\n    CheckBox.prototype.wireEvents = function () {\n        var wrapper = this.getWrapper();\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        EventHandler.add(this.element, 'keyup', this.keyUpHandler, this);\n        EventHandler.add(this.element, 'focus', this.focusHandler, this);\n        EventHandler.add(this.element, 'focusout', this.focusOutHandler, this);\n        var label = wrapper.getElementsByTagName('label')[0];\n        EventHandler.add(label, 'mousedown', this.labelMouseHandler, this);\n        EventHandler.add(label, 'mouseup', this.labelMouseHandler, this);\n        if (this.formElement) {\n            EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n        }\n        if (this.tagName === 'EJS-CHECKBOX') {\n            EventHandler.add(this.element, 'change', this.changeHandler, this);\n        }\n    };\n    CheckBox.prototype.updateHtmlAttributeToWrapper = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (containerAttr.indexOf(key) > -1) {\n                    var wrapper = this.getWrapper();\n                    if (key === 'class') {\n                        addClass([wrapper], this.htmlAttributes[key].split(' '));\n                    }\n                    else if (key === 'title') {\n                        wrapper.setAttribute(key, this.htmlAttributes[key]);\n                    }\n                    else if (key === 'style') {\n                        var frameSpan = this.getWrapper().getElementsByClassName(FRAME)[0];\n                        frameSpan.setAttribute(key, this.htmlAttributes[key]);\n                    }\n                    else {\n                        this.element.setAttribute(key, this.htmlAttributes[key]);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Click the CheckBox element\n     * its native method\n     * @public\n     */\n    CheckBox.prototype.click = function () {\n        this.element.click();\n    };\n    /**\n     * Sets the focus to CheckBox\n     * its native method\n     * @public\n     */\n    CheckBox.prototype.focusIn = function () {\n        this.element.focus();\n    };\n    __decorate([\n        Event()\n    ], CheckBox.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], CheckBox.prototype, \"created\", void 0);\n    __decorate([\n        Property(false)\n    ], CheckBox.prototype, \"checked\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], CheckBox.prototype, \"disabled\", void 0);\n    __decorate([\n        Property(false)\n    ], CheckBox.prototype, \"indeterminate\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"label\", void 0);\n    __decorate([\n        Property('After')\n    ], CheckBox.prototype, \"labelPosition\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"name\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"value\", void 0);\n    __decorate([\n        Property(false)\n    ], CheckBox.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property({})\n    ], CheckBox.prototype, \"htmlAttributes\", void 0);\n    CheckBox = __decorate([\n        NotifyPropertyChanges\n    ], CheckBox);\n    return CheckBox;\n}(Component));\nexport { CheckBox };\n","/**\n * Defines common util methods used by Rich Text Editor.\n */\nimport { isNullOrUndefined, Browser, createElement, detach } from '@syncfusion/ej2-base';\nimport * as classes from '../rich-text-editor/base/classes';\nvar inlineNode = ['a', 'abbr', 'acronym', 'audio', 'b', 'bdi', 'bdo', 'big', 'br', 'button',\n    'canvas', 'cite', 'code', 'data', 'datalist', 'del', 'dfn', 'em', 'embed', 'font', 'i', 'iframe', 'img', 'input',\n    'ins', 'kbd', 'label', 'map', 'mark', 'meter', 'noscript', 'object', 'output', 'picture', 'progress',\n    'q', 'ruby', 's', 'samp', 'script', 'select', 'slot', 'small', 'span', 'strong', 'strike', 'sub', 'sup', 'svg',\n    'template', 'textarea', 'time', 'u', 'tt', 'var', 'video', 'wbr'];\nexport function isIDevice() {\n    var result = false;\n    if (Browser.isDevice && Browser.isIos) {\n        result = true;\n    }\n    return result;\n}\nexport function setEditFrameFocus(editableElement, selector) {\n    if (editableElement.nodeName === 'BODY' && !isNullOrUndefined(selector)) {\n        var iframe = top.window.document.querySelector(selector);\n        if (!isNullOrUndefined(iframe)) {\n            iframe.contentWindow.focus();\n        }\n    }\n}\nexport function updateTextNode(value) {\n    var tempNode = document.createElement('div');\n    tempNode.innerHTML = value;\n    tempNode.setAttribute('class', 'tempDiv');\n    var resultElm = document.createElement('div');\n    var childNodes = tempNode.childNodes;\n    if (childNodes.length > 0) {\n        var isPreviousInlineElem = void 0;\n        var previousParent = void 0;\n        var paraElm = void 0;\n        while (tempNode.firstChild) {\n            if ((tempNode.firstChild.nodeName === '#text' &&\n                (tempNode.firstChild.textContent.indexOf('\\n') < 0 || tempNode.firstChild.textContent.trim() !== '')) ||\n                inlineNode.indexOf(tempNode.firstChild.nodeName.toLocaleLowerCase()) >= 0) {\n                if (!isPreviousInlineElem) {\n                    paraElm = createElement('p');\n                    resultElm.appendChild(paraElm);\n                    paraElm.appendChild(tempNode.firstChild);\n                }\n                else {\n                    previousParent.appendChild(tempNode.firstChild);\n                }\n                previousParent = paraElm;\n                isPreviousInlineElem = true;\n            }\n            else if (tempNode.firstChild.nodeName === '#text' && (tempNode.firstChild.textContent === '\\n' ||\n                (tempNode.firstChild.textContent.indexOf('\\n') >= 0 && tempNode.firstChild.textContent.trim() === ''))) {\n                detach(tempNode.firstChild);\n            }\n            else {\n                resultElm.appendChild(tempNode.firstChild);\n                isPreviousInlineElem = false;\n            }\n        }\n        var tableElm = resultElm.querySelectorAll('table');\n        for (var i = 0; i < tableElm.length; i++) {\n            if (tableElm[i].getAttribute('border') === '0') {\n                tableElm[i].removeAttribute('border');\n            }\n            var tdElm = tableElm[i].querySelectorAll('td');\n            for (var j = 0; j < tdElm.length; j++) {\n                tdElm[j].style.removeProperty('border');\n            }\n            if (!tableElm[i].classList.contains(classes.CLS_TABLE)) {\n                tableElm[i].classList.add(classes.CLS_TABLE);\n            }\n        }\n        var imageElm = resultElm.querySelectorAll('img');\n        for (var i = 0; i < imageElm.length; i++) {\n            if (!imageElm[i].classList.contains(classes.CLS_RTE_IMAGE)) {\n                imageElm[i].classList.add(classes.CLS_RTE_IMAGE);\n            }\n            if (!(imageElm[i].classList.contains(classes.CLS_IMGINLINE) ||\n                imageElm[i].classList.contains(classes.CLS_IMGBREAK))) {\n                imageElm[i].classList.add(classes.CLS_IMGINLINE);\n            }\n        }\n    }\n    return resultElm.innerHTML;\n}\n","import { EventHandler, detach, isNullOrUndefined, select, isBlazor, extend } from '@syncfusion/ej2-base';\nimport { closest, addClass, removeClass, Browser } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { CLS_RTE_ELEMENTS } from '../base/classes';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\nimport { RenderType } from '../base/enum';\nimport { dispatchEvent, parseHtml } from '../base/util';\nimport { isIDevice } from '../../common/util';\n/**\n * `Link` module is used to handle undo actions.\n */\nvar Link = /** @class */ (function () {\n    function Link(parent, serviceLocator) {\n        this.parent = parent;\n        this.rteID = parent.element.id;\n        this.i10n = serviceLocator.getService('rteLocale');\n        this.addEventListener();\n        this.serviceLocator = serviceLocator;\n        this.rendererFactory = serviceLocator.getService('rendererFactory');\n        this.dialogRenderObj = serviceLocator.getService('dialogRenderObject');\n    }\n    Link.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.insertLink, this.linkDialog, this);\n        this.parent.on(events.keyDown, this.onKeyDown, this);\n        this.parent.on(events.insertCompleted, this.showLinkQuickToolbar, this);\n        this.parent.on(events.linkToolbarAction, this.onToolbarAction, this);\n        this.parent.on(events.iframeMouseDown, this.onIframeMouseDown, this);\n        this.parent.on(events.unLink, this.removeLink, this);\n        this.parent.on(events.editLink, this.editLink, this);\n        this.parent.on(events.openLink, this.openLink, this);\n        this.parent.on(events.editAreaClick, this.editAreaClickHandler, this);\n        this.parent.on(events.destroy, this.destroy, this);\n    };\n    Link.prototype.onToolbarAction = function (args) {\n        var item = args.args.item;\n        switch (item.subCommand) {\n            case 'OpenLink':\n                this.parent.notify(events.openLink, args);\n                break;\n            case 'EditLink':\n                this.parent.notify(events.editLink, args);\n                break;\n            case 'RemoveLink':\n                this.parent.notify(events.unLink, args);\n                break;\n        }\n    };\n    Link.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.insertLink, this.linkDialog);\n        this.parent.off(events.keyDown, this.onKeyDown);\n        this.parent.off(events.insertCompleted, this.showLinkQuickToolbar);\n        this.parent.off(events.linkToolbarAction, this.onToolbarAction);\n        this.parent.off(events.unLink, this.removeLink);\n        this.parent.off(events.iframeMouseDown, this.onIframeMouseDown);\n        this.parent.off(events.editLink, this.editLink);\n        this.parent.off(events.openLink, this.openLink);\n        this.parent.off(events.editAreaClick, this.editAreaClickHandler);\n        this.parent.off(events.destroy, this.destroy);\n    };\n    Link.prototype.onIframeMouseDown = function () {\n        if (this.dialogObj) {\n            this.dialogObj.hide({ returnValue: true });\n        }\n    };\n    Link.prototype.showLinkQuickToolbar = function (e) {\n        if (e.args.action !== 'enter' && e.args.action !== 'space') {\n            var pageX = void 0;\n            var pageY = void 0;\n            if (e.type !== 'Links' || isNullOrUndefined(this.parent.quickToolbarModule) ||\n                isNullOrUndefined(this.parent.quickToolbarModule.linkQTBar)) {\n                return;\n            }\n            this.quickToolObj = this.parent.quickToolbarModule;\n            var parentTop = this.parent.element.getBoundingClientRect().top;\n            var parentLeft = this.parent.element.getBoundingClientRect().left;\n            var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n            var target_1;\n            [].forEach.call(e.elements, function (element, index) {\n                if (index === 0) {\n                    target_1 = ((element.nodeName === '#text') ? (element.parentNode) : element);\n                }\n            });\n            if (e.isNotify) {\n                var tbElement = this.parent.toolbarModule.getToolbarElement();\n                var linkTop = target_1.getBoundingClientRect().top;\n                var linkLeft = target_1.getBoundingClientRect().left;\n                var linkPos = linkTop - parentTop;\n                var tbHeight = (tbElement) ? (tbElement.offsetHeight + this.parent.toolbarModule.getExpandTBarPopHeight()) : 0;\n                pageX = (this.parent.iframeSettings.enable) ? parentLeft + linkLeft : target_1.getBoundingClientRect().left;\n                pageY = window.pageYOffset + ((this.parent.iframeSettings.enable) ?\n                    (parentTop + tbHeight + linkTop) : (parentTop + linkPos));\n            }\n            else {\n                var args = void 0;\n                args = e.args.touches ? e.args.changedTouches[0] : args = e.args;\n                pageX = (this.parent.iframeSettings.enable) ? window.pageXOffset + parentLeft + args.clientX : args.pageX;\n                pageY = (this.parent.iframeSettings.enable) ? window.pageYOffset + parentTop + args.clientY : args.pageY;\n            }\n            if (this.quickToolObj.linkQTBar) {\n                this.quickToolObj.linkQTBar.showPopup(pageX, pageY, range.endContainer);\n            }\n        }\n    };\n    Link.prototype.hideLinkQuickToolbar = function () {\n        if (this.quickToolObj && this.quickToolObj.linkQTBar && document.body.contains(this.quickToolObj.linkQTBar.element)) {\n            this.quickToolObj.linkQTBar.hidePopup();\n        }\n    };\n    Link.prototype.editAreaClickHandler = function (e) {\n        if (this.parent.readonly) {\n            this.hideLinkQuickToolbar();\n            return;\n        }\n        var args = e.args;\n        var showOnRightClick = this.parent.quickToolbarSettings.showOnRightClick;\n        if (args.which === 2 || (showOnRightClick && args.which === 1) || (!showOnRightClick && args.which === 3)) {\n            return;\n        }\n        if (this.parent.editorMode === 'HTML' && this.parent.quickToolbarModule && this.parent.quickToolbarModule.linkQTBar) {\n            this.quickToolObj = this.parent.quickToolbarModule;\n            var target = args.target;\n            target = this.getAnchorNode(target);\n            this.contentModule = this.rendererFactory.getRenderer(RenderType.Content);\n            var isPopupOpen = this.quickToolObj.linkQTBar.element.classList.contains('e-rte-pop');\n            if (target.nodeName === 'A' && (target.childNodes.length > 0 && target.childNodes[0].nodeName !== 'IMG') &&\n                e.args.target.nodeName !== 'IMG') {\n                if (isPopupOpen) {\n                    return;\n                }\n                this.showLinkQuickToolbar({\n                    args: args,\n                    isNotify: false,\n                    type: 'Links',\n                    elements: [args.target]\n                });\n            }\n            else {\n                this.hideLinkQuickToolbar();\n            }\n        }\n    };\n    Link.prototype.onKeyDown = function (event) {\n        var originalEvent = event.args;\n        switch (originalEvent.action) {\n            case 'escape':\n                if (!isNullOrUndefined(this.dialogObj)) {\n                    this.dialogObj.close();\n                }\n                break;\n            case 'insert-link':\n                if (this.parent.editorMode === 'HTML') {\n                    var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n                    var save = this.parent.formatter.editorManager.nodeSelection.save(range, this.parent.contentModule.getDocument());\n                    var selectNodeEle = this.parent.formatter.editorManager.nodeSelection.getNodeCollection(range);\n                    var selectParentEle = this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(range);\n                    var eventArgs = {\n                        args: event.args, selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n                    };\n                    this.linkDialog(eventArgs);\n                }\n                else {\n                    var textArea = this.parent.contentModule.getEditPanel();\n                    this.parent.formatter.editorManager.markdownSelection.save(textArea.selectionStart, textArea.selectionEnd);\n                    this.linkDialog({\n                        args: {\n                            item: { command: 'Links', subCommand: 'Link' },\n                            originalEvent: originalEvent\n                        },\n                        member: 'link',\n                        text: this.parent.formatter.editorManager.markdownSelection.getSelectedText(this.parent.contentModule.getEditPanel()),\n                        module: 'Markdown',\n                        name: 'insertLink'\n                    });\n                }\n                originalEvent.preventDefault();\n                break;\n        }\n    };\n    Link.prototype.linkDialog = function (e, inputDetails) {\n        var _this = this;\n        if (this.dialogObj) {\n            this.dialogObj.hide({ returnValue: true });\n            return;\n        }\n        if (this.parent.editorMode === 'HTML' && (e.selectParent.length > 0 &&\n            !isNullOrUndefined(e.selectParent[0].classList) &&\n            e.selectParent[0].classList.contains('e-rte-anchor')) && isNullOrUndefined(inputDetails)) {\n            this.editLink(e);\n            return;\n        }\n        var selectText;\n        var linkWebAddress = this.i10n.getConstant('linkWebUrl');\n        var linkDisplayText = this.i10n.getConstant('linkText');\n        var linkTooltip = this.i10n.getConstant('linkTooltipLabel');\n        var urlPlace = this.i10n.getConstant('linkurl');\n        var textPlace = this.i10n.getConstant('textPlaceholder');\n        var title = this.i10n.getConstant('linkTitle');\n        var linkDialogEle = this.parent.createElement('div', { className: 'e-rte-link-dialog', id: this.rteID + '_rtelink' });\n        this.parent.element.appendChild(linkDialogEle);\n        var linkContent = this.parent.createElement('div', {\n            className: 'e-rte-linkcontent', id: this.rteID + '_linkContent'\n        });\n        var htmlTextbox = (this.parent.editorMode === 'HTML') ? '<label>' + linkTooltip +\n            '</label></div><div class=\"e-rte-field\">' +\n            '<input type=\"text\" data-role =\"none\" spellcheck=\"false\" placeholder = \"' + title + '\" class=\"e-input e-rte-linkTitle\"></div>' +\n            '<div class=\"e-rte-label\"></div>' + '<div class=\"e-rte-field\">' +\n            '<input type=\"checkbox\" class=\"e-rte-linkTarget\"  data-role =\"none\"></div>' : '';\n        var content = '<div class=\"e-rte-label\"><label>' + linkWebAddress + '</label></div>' + '<div class=\"e-rte-field\">' +\n            '<input type=\"text\" data-role =\"none\" spellcheck=\"false\" placeholder=\"' + urlPlace + '\" class=\"e-input e-rte-linkurl\"/></div>' +\n            '<div class=\"e-rte-label\">' + '<label>' + linkDisplayText + '</label></div><div class=\"e-rte-field\"> ' +\n            '<input type=\"text\" data-role =\"none\" spellcheck=\"false\" class=\"e-input e-rte-linkText\" placeholder=\"' + textPlace + '\">' +\n            '</div><div class=\"e-rte-label\">' + htmlTextbox;\n        var contentElem = parseHtml(content);\n        linkContent.appendChild(contentElem);\n        var linkTarget = linkContent.querySelector('.e-rte-linkTarget');\n        var linkUrl = linkContent.querySelector('.e-rte-linkurl');\n        var linkText = linkContent.querySelector('.e-rte-linkText');\n        var linkTitle = linkContent.querySelector('.e-rte-linkTitle');\n        var linkOpenLabel = this.i10n.getConstant('linkOpenInNewWindow');\n        this.checkBoxObj = new CheckBox({ label: linkOpenLabel, checked: true, enableRtl: this.parent.enableRtl });\n        this.checkBoxObj.isStringTemplate = true;\n        this.checkBoxObj.createElement = this.parent.createElement;\n        this.checkBoxObj.appendTo(linkTarget);\n        selectText = (this.parent.editorMode === 'HTML') ? e.selection.getRange(this.parent.contentModule.getDocument()).toString() :\n            e.text;\n        var linkInsert = this.i10n.getConstant('dialogInsert');\n        var linkCancel = this.i10n.getConstant('dialogCancel');\n        var selection = e.selection;\n        var selectObj = { selfLink: this, selection: e.selection, selectParent: e.selectParent, args: e.args };\n        var dialogModel = {\n            header: this.i10n.getConstant('linkHeader'),\n            content: linkContent,\n            cssClass: CLS_RTE_ELEMENTS,\n            enableRtl: this.parent.enableRtl,\n            locale: this.parent.locale,\n            showCloseIcon: true, closeOnEscape: true, width: (Browser.isDevice) ? '290px' : '310px', height: 'inherit',\n            isModal: Browser.isDevice,\n            buttons: [{\n                    click: this.insertlink.bind(selectObj),\n                    buttonModel: { content: linkInsert, cssClass: 'e-flat e-insertLink', isPrimary: true }\n                },\n                { click: this.cancelDialog.bind(selectObj), buttonModel: { cssClass: 'e-flat', content: linkCancel } }],\n            target: (Browser.isDevice) ? document.body : this.parent.element,\n            animationSettings: { effect: 'None' },\n            close: function (event) {\n                _this.parent.isBlur = false;\n                if (event && event.event.returnValue) {\n                    if (_this.parent.editorMode === 'HTML') {\n                        selection.restore();\n                    }\n                    else {\n                        _this.parent.formatter.editorManager.markdownSelection.restore(_this.parent.contentModule.getEditPanel());\n                    }\n                }\n                _this.dialogObj.destroy();\n                detach(_this.dialogObj.element);\n                var args = isBlazor() ? null : _this.dialogObj;\n                _this.dialogRenderObj.close(args);\n                _this.dialogObj = null;\n            },\n        };\n        this.dialogObj = this.dialogRenderObj.render(dialogModel);\n        this.dialogObj.createElement = this.parent.createElement;\n        this.dialogObj.appendTo(linkDialogEle);\n        linkDialogEle.style.maxHeight = 'inherit';\n        if (!isNullOrUndefined(inputDetails)) {\n            linkUrl.value = inputDetails.url;\n            linkText.value = inputDetails.text;\n            linkTitle.value = inputDetails.title;\n            (inputDetails.target) ? this.checkBoxObj.checked = true : this.checkBoxObj.checked = false;\n            this.dialogObj.header = inputDetails.header;\n            this.dialogObj.element.querySelector('.e-insertLink').textContent = inputDetails.btnText;\n        }\n        this.checkUrl(false);\n        if ((this.parent.editorMode === 'HTML' && isNullOrUndefined(inputDetails) && ((!isNullOrUndefined(selectText)\n            && selectText !== '') && (e.selection.range.startOffset === 0) || e.selection.range.startOffset !==\n            e.selection.range.endOffset)) || e.module === 'Markdown') {\n            linkText.value = selectText;\n        }\n        EventHandler.add(this.parent.element.ownerDocument, 'mousedown', this.onDocumentClick, this);\n        if (this.quickToolObj) {\n            this.hideLinkQuickToolbar();\n            if (this.quickToolObj.inlineQTBar && document.body.contains(this.quickToolObj.inlineQTBar.element)) {\n                this.quickToolObj.inlineQTBar.hidePopup();\n            }\n        }\n    };\n    Link.prototype.insertlink = function (e) {\n        var linkEle = this.selfLink.dialogObj.element;\n        var linkUrl = linkEle.querySelector('.e-rte-linkurl').value;\n        var linkText = linkEle.querySelector('.e-rte-linkText').value;\n        var linkTitle;\n        if (this.selfLink.parent.editorMode === 'HTML') {\n            linkTitle = linkEle.querySelector('.e-rte-linkTitle').value;\n        }\n        var target = (this.selfLink.checkBoxObj.checked) ? '_blank' : null;\n        if (linkUrl === '') {\n            this.selfLink.checkUrl(true);\n            return;\n        }\n        if (!this.selfLink.isUrl(linkUrl)) {\n            linkText = (linkText === '') ? linkUrl : linkText;\n            if (!this.selfLink.parent.enableAutoUrl) {\n                linkUrl = linkUrl.indexOf('http') > -1 ? linkUrl : 'http://' + linkUrl;\n            }\n            else {\n                linkUrl = linkUrl;\n            }\n        }\n        else {\n            this.selfLink.checkUrl(false);\n        }\n        var proxy = this.selfLink;\n        if (proxy.parent.editorMode === 'HTML' && isNullOrUndefined(closest(this.selection.range.startContainer.parentNode, '#' + proxy.parent.contentModule.getPanel().id))) {\n            proxy.parent.contentModule.getEditPanel().focus();\n            if (Browser.isIE && proxy.parent.iframeSettings.enable) {\n                this.selection.restore();\n            }\n            var range = proxy.parent.formatter.editorManager.nodeSelection.getRange(proxy.parent.contentModule.getDocument());\n            this.selection = proxy.parent.formatter.editorManager.nodeSelection.save(range, proxy.parent.contentModule.getDocument());\n            this.selectParent = proxy.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(range);\n        }\n        var value = {\n            url: linkUrl, text: linkText, title: linkTitle, target: target,\n            selection: this.selection, selectParent: this.selectParent\n        };\n        if (document.body.contains(proxy.dialogObj.element)) {\n            this.selfLink.dialogObj.hide({ returnValue: false });\n        }\n        if (isIDevice() && proxy.parent.iframeSettings.enable) {\n            select('iframe', proxy.parent.element).contentWindow.focus();\n        }\n        if (proxy.parent.editorMode === 'HTML') {\n            this.selection.restore();\n        }\n        if (proxy.parent.formatter.getUndoRedoStack().length === 0) {\n            proxy.parent.formatter.saveData();\n        }\n        var argsValue;\n        if (this.args.code === 'KeyK') {\n            var originalEvent = this.args;\n            extend(this.args, { item: { command: 'Links', subCommand: 'CreateLink' }, originalEvent: originalEvent }, true);\n            var argsVal = {\n                item: { command: 'Links', subCommand: 'CreateLink' }, originalEvent: originalEvent\n            };\n            argsValue = argsVal;\n        }\n        else {\n            argsValue = this.args;\n        }\n        this.selfLink.parent.formatter.process(this.selfLink.parent, argsValue, this.args.originalEvent, value);\n        this.selfLink.parent.contentModule.getEditPanel().focus();\n    };\n    Link.prototype.isUrl = function (url) {\n        var regexp = /(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?/gi;\n        return regexp.test(url);\n    };\n    Link.prototype.checkUrl = function (e) {\n        var linkEle = this.dialogObj.element;\n        var linkUrl = linkEle.querySelector('.e-rte-linkurl');\n        if (e) {\n            addClass([linkUrl], 'e-error');\n            linkUrl.setSelectionRange(0, linkUrl.value.length);\n            linkUrl.focus();\n        }\n        else {\n            removeClass([linkUrl], 'e-error');\n        }\n    };\n    Link.prototype.removeLink = function (e) {\n        if (this.parent.formatter.getUndoRedoStack().length === 0) {\n            this.parent.formatter.saveData();\n        }\n        this.parent.formatter.process(this.parent, e.args, e.args, {\n            selectNode: e.selectNode, selectParent: e.selectParent, selection: e.selection,\n            subCommand: e.args.item.subCommand\n        });\n        if (isIDevice() && this.parent.iframeSettings.enable) {\n            select('iframe', this.parent.element).contentWindow.focus();\n        }\n        else {\n            this.parent.contentModule.getEditPanel().focus();\n        }\n        this.hideLinkQuickToolbar();\n    };\n    Link.prototype.openLink = function (e) {\n        var selectParentEle = this.getAnchorNode(e.selectParent[0]);\n        if (selectParentEle.classList.contains('e-rte-anchor') || selectParentEle.tagName === 'A') {\n            this.parent.formatter.process(this.parent, e.args, e.args, {\n                url: selectParentEle.href,\n                target: selectParentEle.target === '' ? '_self' : '_blank', selectNode: e.selectNode,\n                subCommand: e.args.item.subCommand\n            });\n        }\n    };\n    Link.prototype.getAnchorNode = function (element) {\n        var selectParent = closest(element, 'a');\n        return (selectParent ? selectParent : element);\n    };\n    Link.prototype.editLink = function (e) {\n        var selectedNode = this.getAnchorNode(e.selectNode[0]);\n        var selectParentEle = this.getAnchorNode(e.selectParent[0]);\n        selectParentEle = selectedNode.nodeName === 'A' ? selectedNode : selectParentEle;\n        if (selectParentEle.classList.contains('e-rte-anchor') || selectParentEle.tagName === 'A') {\n            var linkUpdate = this.i10n.getConstant('dialogUpdate');\n            var inputDetails = {\n                url: selectParentEle.getAttribute('href'), text: selectParentEle.innerText,\n                title: selectParentEle.title, target: selectParentEle.target,\n                header: this.i10n.getConstant('editLink'), btnText: linkUpdate\n            };\n            this.linkDialog(e, inputDetails);\n        }\n    };\n    Link.prototype.cancelDialog = function (e) {\n        this.selfLink.parent.isBlur = false;\n        this.selfLink.dialogObj.hide({ returnValue: true });\n        if (isIDevice()) {\n            this.selection.restore();\n        }\n        else {\n            this.selfLink.parent.contentModule.getEditPanel().focus();\n        }\n    };\n    Link.prototype.onDocumentClick = function (e) {\n        var target = e.target;\n        if (!isNullOrUndefined(this.dialogObj) && ((!closest(target, '#' + this.dialogObj.element.id) && this.parent.toolbarSettings.enable &&\n            this.parent.getToolbarElement() && !this.parent.getToolbarElement().contains(e.target)) ||\n            (((this.parent.getToolbarElement() && this.parent.getToolbarElement().contains(e.target)) ||\n                this.parent.inlineMode.enable && !closest(target, '#' + this.dialogObj.element.id)) &&\n                !closest(target, '#' + this.parent.getID() + '_toolbar_CreateLink') &&\n                !target.querySelector('#' + this.parent.getID() + '_toolbar_CreateLink')))) {\n            this.dialogObj.hide({ returnValue: true });\n            this.parent.isBlur = true;\n            dispatchEvent(this.parent.element, 'focusout');\n        }\n    };\n    /**\n     * Destroys the ToolBar.\n     * @method destroy\n     * @return {void}\n     * @hidden\n\n     */\n    Link.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    /**\n     * For internal use only - Get the module name.\n     */\n    Link.prototype.getModuleName = function () {\n        return 'link';\n    };\n    return Link;\n}());\nexport { Link };\n","import { isNullOrUndefined, classList, createElement } from '@syncfusion/ej2-base';\nvar globalTimeOut = {};\nvar spinTemplate = null;\nvar spinCSSClass = null;\nvar DEFT_MAT_WIDTH = 30;\nvar DEFT_FAB_WIDTH = 30;\nvar DEFT_BOOT_WIDTH = 30;\nvar DEFT_BOOT4_WIDTH = 36;\nvar CLS_SHOWSPIN = 'e-spin-show';\nvar CLS_HIDESPIN = 'e-spin-hide';\nvar CLS_MATERIALSPIN = 'e-spin-material';\nvar CLS_FABRICSPIN = 'e-spin-fabric';\nvar CLS_BOOTSPIN = 'e-spin-bootstrap';\nvar CLS_BOOT4SPIN = 'e-spin-bootstrap4';\nvar CLS_HIGHCONTRASTSPIN = 'e-spin-high-contrast';\nvar CLS_SPINWRAP = 'e-spinner-pane';\nvar CLS_SPININWRAP = 'e-spinner-inner';\nvar CLS_SPINCIRCLE = 'e-path-circle';\nvar CLS_SPINARC = 'e-path-arc';\nvar CLS_SPINLABEL = 'e-spin-label';\nvar CLS_SPINTEMPLATE = 'e-spin-template';\n/**\n * Function to change the Spinners in a page globally from application end.\n * ```\n * E.g : blazorSpinner({ action: \"Create\", options: {target: targetElement}, type: \"\" });\n * ```\n * @param args\n * @private\n */\nexport function Spinner(action, options, target, type) {\n    switch (action) {\n        case 'Create':\n            var element = document.querySelector(options.target);\n            var args = { type: type, target: element, cssClass: options.cssClass,\n                label: options.label, width: options.width };\n            createSpinner(args);\n            break;\n        case 'Show':\n            showSpinner(document.querySelector(target));\n            break;\n        case 'Hide':\n            hideSpinner(document.querySelector(target));\n            break;\n        case 'Set':\n            var setArgs = { cssClass: options.cssClass, type: type };\n            setSpinner(setArgs);\n            break;\n    }\n}\n/**\n * Create a spinner for the specified target element.\n * ```\n * E.g : createSpinner({ target: targetElement, width: '34px', label: 'Loading..' });\n * ```\n * @param args\n * @private\n */\nexport function createSpinner(args, internalCreateElement) {\n    if (!args.target) {\n        return;\n    }\n    var radius;\n    var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n    var container = create_spinner_container(args.target, makeElement);\n    if (!isNullOrUndefined(args.cssClass)) {\n        container.wrap.classList.add(args.cssClass);\n    }\n    if (!isNullOrUndefined(args.template) || !isNullOrUndefined(spinTemplate)) {\n        var template = !isNullOrUndefined(args.template) ? args.template : spinTemplate;\n        container.wrap.classList.add(CLS_SPINTEMPLATE);\n        replaceContent(container.wrap, template, spinCSSClass);\n    }\n    else {\n        var theme = !isNullOrUndefined(args.type) ? args.type : getTheme(container.wrap);\n        var width = !isNullOrUndefined(args.width) ? args.width : undefined;\n        radius = calculateRadius(width, theme);\n        setTheme(theme, container.wrap, radius, makeElement);\n        if (!isNullOrUndefined(args.label)) {\n            createLabel(container.inner_wrap, args.label, makeElement);\n        }\n    }\n    container.wrap.classList.add(CLS_HIDESPIN);\n    container = null;\n}\nfunction createLabel(container, label, makeElement) {\n    var labelEle = makeElement('div', {});\n    labelEle.classList.add(CLS_SPINLABEL);\n    labelEle.textContent = label;\n    container.appendChild(labelEle);\n    return labelEle;\n}\nfunction createMaterialSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Material', radius: radius };\n    create_material_element(container, uniqueID, makeElement, CLS_MATERIALSPIN);\n    mat_calculate_attributes(radius, container, 'Material', CLS_MATERIALSPIN);\n}\nfunction createBootstrap4Spinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Bootstrap4', radius: radius };\n    create_material_element(container, uniqueID, makeElement, CLS_BOOT4SPIN);\n    mat_calculate_attributes(radius, container, 'Bootstrap4', CLS_BOOT4SPIN);\n}\nfunction startMatAnimate(container, uniqueID, radius) {\n    var globalObject = {};\n    var timeOutVar = 0;\n    globalTimeOut[uniqueID].timeOut = 0;\n    globalObject[uniqueID] = globalVariables(uniqueID, radius, 0, 0);\n    var spinnerInfo = { uniqueID: uniqueID, container: container, globalInfo: globalObject, timeOutVar: timeOutVar };\n    animateMaterial(spinnerInfo);\n}\nfunction createFabricSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Fabric', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_FABRICSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_FABRICSPIN);\n}\nfunction createHighContrastSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'HighContrast', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_HIGHCONTRASTSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_HIGHCONTRASTSPIN);\n}\nfunction getTheme(container) {\n    var theme = window.getComputedStyle(container, ':after').getPropertyValue('content');\n    return theme.replace(/['\"]+/g, '');\n}\nfunction setTheme(theme, container, radius, makeElement) {\n    var innerContainer = container.querySelector('.' + CLS_SPININWRAP);\n    var svg = innerContainer.querySelector('svg');\n    if (!isNullOrUndefined(svg)) {\n        innerContainer.removeChild(svg);\n    }\n    switch (theme) {\n        case 'Material':\n            createMaterialSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'Fabric':\n            createFabricSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'Bootstrap':\n            createBootstrapSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'HighContrast':\n            createHighContrastSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'Bootstrap4':\n            createBootstrap4Spinner(innerContainer, radius, makeElement);\n            break;\n    }\n}\nfunction createBootstrapSpinner(innerContainer, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Bootstrap', radius: radius };\n    create_bootstrap_element(innerContainer, uniqueID, makeElement);\n    boot_calculate_attributes(innerContainer, radius);\n}\nfunction create_bootstrap_element(innerContainer, uniqueID, makeElement) {\n    var svgBoot = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    var viewBoxValue = 64;\n    var trans = 32;\n    var defaultRadius = 2;\n    svgBoot.setAttribute('id', uniqueID);\n    svgBoot.setAttribute('class', CLS_BOOTSPIN);\n    svgBoot.setAttribute('viewBox', '0 0 ' + viewBoxValue + ' ' + viewBoxValue);\n    innerContainer.insertBefore(svgBoot, innerContainer.firstChild);\n    for (var item = 0; item <= 7; item++) {\n        var bootCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n        bootCircle.setAttribute('class', CLS_SPINCIRCLE + '_' + item);\n        bootCircle.setAttribute('r', defaultRadius + '');\n        bootCircle.setAttribute('transform', 'translate(' + trans + ',' + trans + ')');\n        svgBoot.appendChild(bootCircle);\n    }\n}\nfunction boot_calculate_attributes(innerContainer, radius) {\n    var svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n    svg.style.width = svg.style.height = radius + 'px';\n    var x = 0;\n    var y = 0;\n    var rad = 24;\n    var startArc = 90;\n    for (var item = 0; item <= 7; item++) {\n        var start = defineArcPoints(x, y, rad, startArc);\n        var circleEle = svg.querySelector('.' + CLS_SPINCIRCLE + '_' + item);\n        circleEle.setAttribute('cx', start.x + '');\n        circleEle.setAttribute('cy', start.y + '');\n        startArc = startArc >= 360 ? 0 : startArc;\n        startArc = startArc + 45;\n    }\n}\nfunction generateSeries(begin, stop) {\n    var series = [];\n    var start = begin;\n    var end = stop;\n    var increment = false;\n    var count = 1;\n    formSeries(start);\n    function formSeries(i) {\n        series.push(i);\n        if (i !== end || count === 1) {\n            if (i <= start && i > 1 && !increment) {\n                i = parseFloat((i - 0.2).toFixed(2));\n            }\n            else if (i === 1) {\n                i = 7;\n                i = parseFloat((i + 0.2).toFixed(2));\n                increment = true;\n            }\n            else if (i < 8 && increment) {\n                i = parseFloat((i + 0.2).toFixed(2));\n                if (i === 8) {\n                    increment = false;\n                }\n            }\n            else if (i <= 8 && !increment) {\n                i = parseFloat((i - 0.2).toFixed(2));\n            }\n            ++count;\n            formSeries(i);\n        }\n    }\n    return series;\n}\nfunction animateBootstrap(innerContainer) {\n    var svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n    var id = svg.getAttribute('id');\n    for (var i = 1; i <= 8; i++) {\n        var circleEle = (innerContainer.getElementsByClassName('e-path-circle_' +\n            (i === 8 ? 0 : i))[0]);\n        rotation(circleEle, i, i, generateSeries(i, i), id);\n    }\n    function rotation(circle, start, end, series, id) {\n        var count = 0;\n        boot_animate(start);\n        function boot_animate(radius) {\n            if (globalTimeOut[id].isAnimate) {\n                ++count;\n                circle.setAttribute('r', radius + '');\n                if (count >= series.length) {\n                    count = 0;\n                }\n                globalTimeOut[id].timeOut = setTimeout(boot_animate.bind(null, series[count]), 18);\n            }\n        }\n    }\n}\nfunction replaceContent(container, template, cssClass) {\n    if (!isNullOrUndefined(cssClass)) {\n        container.classList.add(cssClass);\n    }\n    var inner = container.querySelector('.e-spinner-inner');\n    inner.innerHTML = template;\n}\nfunction calculateRadius(width, theme) {\n    var defaultSize;\n    switch (theme) {\n        case 'Material':\n            defaultSize = DEFT_MAT_WIDTH;\n            break;\n        case 'Fabric':\n            defaultSize = DEFT_FAB_WIDTH;\n            break;\n        case 'Bootstrap4':\n            defaultSize = DEFT_BOOT4_WIDTH;\n            break;\n        default:\n            defaultSize = DEFT_BOOT_WIDTH;\n    }\n    width = width ? parseFloat(width + '') : defaultSize;\n    return theme === 'Bootstrap' ? width : width / 2;\n}\nfunction globalVariables(id, radius, count, previousId) {\n    return {\n        radius: radius,\n        count: count,\n        previousId: previousId\n    };\n}\nfunction random_generator() {\n    var random = '';\n    var combine = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    for (var i = 0; i < 5; i++) {\n        random += combine.charAt(Math.floor(Math.random() * combine.length));\n    }\n    return random;\n}\nfunction create_fabric_element(innerCon, uniqueID, themeClass, makeElement) {\n    var svgFabric = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svgFabric.setAttribute('id', uniqueID);\n    svgFabric.setAttribute('class', themeClass);\n    var fabricCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    fabricCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n    var fabricCircleArc = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    fabricCircleArc.setAttribute('class', CLS_SPINARC);\n    innerCon.insertBefore(svgFabric, innerCon.firstChild);\n    svgFabric.appendChild(fabricCirclePath);\n    svgFabric.appendChild(fabricCircleArc);\n}\nfunction create_material_element(innerContainer, uniqueID, makeElement, cls) {\n    var svgMaterial = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svgMaterial.setAttribute('class', cls);\n    svgMaterial.setAttribute('id', uniqueID);\n    var matCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    matCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n    innerContainer.insertBefore(svgMaterial, innerContainer.firstChild);\n    svgMaterial.appendChild(matCirclePath);\n}\nfunction create_spinner_container(target, makeElement) {\n    var spinnerContainer = makeElement('div', {});\n    spinnerContainer.classList.add(CLS_SPINWRAP);\n    var spinnerInnerContainer = makeElement('div', {});\n    spinnerInnerContainer.classList.add(CLS_SPININWRAP);\n    target.appendChild(spinnerContainer);\n    spinnerContainer.appendChild(spinnerInnerContainer);\n    return { wrap: spinnerContainer, inner_wrap: spinnerInnerContainer };\n}\nfunction animateMaterial(spinnerInfo) {\n    var start = 1;\n    var end = 149;\n    var duration = 1333;\n    var max = 75;\n    createCircle(start, end, easeAnimation, duration, spinnerInfo.globalInfo[spinnerInfo.uniqueID].count, max, spinnerInfo);\n    spinnerInfo.globalInfo[spinnerInfo.uniqueID].count = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].count % 4;\n}\nfunction createCircle(start, end, easing, duration, count, max, spinnerInfo) {\n    var id = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId;\n    var startTime = new Date().getTime();\n    var change = end - start;\n    var diameter = getSize((spinnerInfo.globalInfo[spinnerInfo.uniqueID].radius * 2) + '');\n    var strokeSize = getStrokeSize(diameter);\n    var rotate = -90 * (spinnerInfo.globalInfo[spinnerInfo.uniqueID].count || 0);\n    mat_animation(spinnerInfo);\n    function mat_animation(spinnerInfo) {\n        var currentTime = Math.max(0, Math.min(new Date().getTime() - startTime, duration));\n        updatePath(easing(currentTime, start, change, duration), spinnerInfo.container);\n        if (id === spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId && currentTime < duration) {\n            globalTimeOut[spinnerInfo.uniqueID].timeOut = setTimeout(mat_animation.bind(null, spinnerInfo), 1);\n        }\n        else {\n            animateMaterial(spinnerInfo);\n        }\n    }\n    function updatePath(value, container) {\n        if ((!isNullOrUndefined(container.querySelector('svg.e-spin-material')))\n            && (!isNullOrUndefined(container.querySelector('svg.e-spin-material').querySelector('path.e-path-circle')))) {\n            var svg = container.querySelector('svg.e-spin-material');\n            var path = svg.querySelector('path.e-path-circle');\n            path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, value, max) + '');\n            path.setAttribute('transform', 'rotate(' + (rotate) + ' ' + diameter / 2 + ' ' + diameter / 2 + ')');\n        }\n    }\n}\nfunction mat_calculate_attributes(radius, container, type, cls) {\n    var diameter = radius * 2;\n    var svg = container.querySelector('svg.' + cls);\n    var path = svg.querySelector('path.e-path-circle');\n    var strokeSize = getStrokeSize(diameter);\n    var transformOrigin = (diameter / 2) + 'px';\n    svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n    svg.style.width = svg.style.height = diameter + 'px';\n    svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n    path.setAttribute('d', drawArc(diameter, strokeSize));\n    if (type === 'Material') {\n        path.setAttribute('stroke-width', strokeSize + '');\n        path.setAttribute('stroke-dasharray', ((diameter - strokeSize) * Math.PI * 0.75) + '');\n        path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, 1, 75) + '');\n    }\n}\nfunction getSize(value) {\n    var parsed = parseFloat(value);\n    return parsed;\n}\nfunction drawArc(diameter, strokeSize) {\n    var radius = diameter / 2;\n    var offset = strokeSize / 2;\n    return 'M' + radius + ',' + offset\n        + 'A' + (radius - offset) + ',' + (radius - offset) + ' 0 1 1 ' + offset + ',' + radius;\n}\nfunction getStrokeSize(diameter) {\n    return 10 / 100 * diameter;\n}\nfunction getDashOffset(diameter, strokeSize, value, max) {\n    return (diameter - strokeSize) * Math.PI * ((3 * (max) / 100) - (value / 100));\n}\nfunction easeAnimation(current, start, change, duration) {\n    var timestamp = (current /= duration) * current;\n    var timecount = timestamp * current;\n    return start + change * (6 * timecount * timestamp + -15 * timestamp * timestamp + 10 * timecount);\n}\nfunction fb_calculate_attributes(radius, innerConainer, trgClass) {\n    var centerX = radius;\n    var centerY = radius;\n    var diameter = radius * 2;\n    var startArc = 315;\n    var endArc = 45;\n    var svg = innerConainer.querySelector('.' + trgClass);\n    var circle = svg.querySelector('.e-path-circle');\n    var path = svg.querySelector('.e-path-arc');\n    var transformOrigin = (diameter / 2) + 'px';\n    circle.setAttribute('d', defineCircle(centerX, centerY, radius));\n    path.setAttribute('d', defineArc(centerX, centerY, radius, startArc, endArc));\n    svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n    svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n    svg.style.width = svg.style.height = diameter + 'px';\n}\nfunction defineArcPoints(centerX, centerY, radius, angle) {\n    var radians = (angle - 90) * Math.PI / 180.0;\n    return {\n        x: centerX + (radius * Math.cos(radians)),\n        y: centerY + (radius * Math.sin(radians))\n    };\n}\nfunction defineArc(x, y, radius, startArc, endArc) {\n    var start = defineArcPoints(x, y, radius, endArc);\n    var end = defineArcPoints(x, y, radius, startArc);\n    var d = [\n        'M', start.x, start.y,\n        'A', radius, radius, 0, 0, 0, end.x, end.y\n    ].join(' ');\n    return d;\n}\nfunction defineCircle(x, y, radius) {\n    var d = [\n        'M', x, y,\n        'm', -radius, 0,\n        'a', radius, radius, 0, 1, 0, radius * 2, 0,\n        'a', radius, radius, 0, 1, 0, -radius * 2, 0,\n    ].join(' ');\n    return d;\n}\n/**\n * Function to show the Spinner.\n * @param container - Specify the target of the Spinner.\n * @private\n */\nexport function showSpinner(container) {\n    showHideSpinner(container, false);\n    container = null;\n}\nfunction showHideSpinner(container, isHide) {\n    var spinnerWrap;\n    if (container) {\n        spinnerWrap = container.classList.contains(CLS_SPINWRAP) ? container :\n            container.querySelector('.' + CLS_SPINWRAP);\n    }\n    if (container && spinnerWrap) {\n        var inner = spinnerWrap.querySelector('.' + CLS_SPININWRAP);\n        var spinCheck = void 0;\n        spinCheck = isHide ? !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_HIDESPIN) :\n            !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_SHOWSPIN);\n        if (spinCheck) {\n            var svgEle = spinnerWrap.querySelector('svg');\n            if (isNullOrUndefined(svgEle)) {\n                return;\n            }\n            var id = svgEle.getAttribute('id');\n            globalTimeOut[id].isAnimate = !isHide;\n            switch (globalTimeOut[id].type) {\n                case 'Material':\n                    isHide ? clearTimeout(globalTimeOut[id].timeOut) : startMatAnimate(inner, id, globalTimeOut[id].radius);\n                    break;\n                case 'Bootstrap':\n                    isHide ? clearTimeout(globalTimeOut[id].timeOut) : animateBootstrap(inner);\n                    break;\n            }\n        }\n        isHide ? classList(spinnerWrap, [CLS_HIDESPIN], [CLS_SHOWSPIN]) : classList(spinnerWrap, [CLS_SHOWSPIN], [CLS_HIDESPIN]);\n        container = null;\n    }\n}\n/**\n * Function to hide the Spinner.\n * @param container - Specify the target of the Spinner.\n * @private\n */\nexport function hideSpinner(container) {\n    showHideSpinner(container, true);\n    container = null;\n}\n/**\n * Function to change the Spinners in a page globally from application end.\n * ```\n * E.g : setSpinner({ cssClass: 'custom-css'; type: 'Material' });\n * ```\n * @param args\n * @private\n */\nexport function setSpinner(args, internalCreateElement) {\n    var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n    if (args.template !== undefined) {\n        spinTemplate = args.template;\n        if (args.template !== undefined) {\n            spinCSSClass = args.cssClass;\n        }\n    }\n    var container = document.querySelectorAll('.' + CLS_SPINWRAP);\n    for (var index = 0; index < container.length; index++) {\n        ensureTemplate(args.template, container[index], args.type, args.cssClass, makeElement);\n    }\n}\nfunction ensureTemplate(template, container, theme, cssClass, makeEle) {\n    if (isNullOrUndefined(template) && !container.classList.contains(CLS_SPINTEMPLATE)) {\n        replaceTheme(container, theme, cssClass, makeEle);\n        if (container.classList.contains(CLS_SHOWSPIN)) {\n            container.classList.remove(CLS_SHOWSPIN);\n            showSpinner(container);\n        }\n        else {\n            container.classList.remove(CLS_HIDESPIN);\n            hideSpinner(container);\n        }\n    }\n    else {\n        spinTemplate = template;\n        if (!isNullOrUndefined(cssClass)) {\n            spinCSSClass = cssClass;\n        }\n    }\n}\nfunction replaceTheme(container, theme, cssClass, makeEle) {\n    if (!isNullOrUndefined(cssClass)) {\n        container.classList.add(cssClass);\n    }\n    var svgElement = container.querySelector('svg');\n    var radius = theme === 'Bootstrap' ? parseFloat(svgElement.style.height) : parseFloat(svgElement.style.height) / 2;\n    var classNames = svgElement.getAttribute('class');\n    var svgClassList = classNames.split(/\\s/);\n    if (svgClassList.indexOf('e-spin-material') >= 0) {\n        var id = svgElement.getAttribute('id');\n        clearTimeout(globalTimeOut[id].timeOut);\n    }\n    setTheme(theme, container, radius, makeEle);\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, EventHandler, L10n, compile, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, detach, append, Animation } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, KeyboardEvents, setValue, getValue, ChildProperty } from '@syncfusion/ej2-base';\nimport { Collection, Complex, Browser, Ajax, getUniqueID, closest } from '@syncfusion/ej2-base';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { updateBlazorTemplate, resetBlazorTemplate, isBlazor } from '@syncfusion/ej2-base';\nvar ROOT = 'e-uploader';\nvar CONTROL_WRAPPER = 'e-upload e-control-wrapper';\nvar INPUT_WRAPPER = 'e-file-select';\nvar DROP_AREA = 'e-file-drop';\nvar DROP_WRAPPER = 'e-file-select-wrap';\nvar LIST_PARENT = 'e-upload-files';\nvar FILE = 'e-upload-file-list';\nvar STATUS = 'e-file-status';\nvar ACTION_BUTTONS = 'e-upload-actions';\nvar UPLOAD_BUTTONS = 'e-file-upload-btn e-css e-btn e-flat e-primary';\nvar CLEAR_BUTTONS = 'e-file-clear-btn e-css e-btn e-flat';\nvar FILE_NAME = 'e-file-name';\nvar FILE_TYPE = 'e-file-type';\nvar FILE_SIZE = 'e-file-size';\nvar REMOVE_ICON = 'e-file-remove-btn';\nvar DELETE_ICON = 'e-file-delete-btn';\nvar SPINNER_PANE = 'e-spinner-pane';\nvar ABORT_ICON = 'e-file-abort-btn';\nvar RETRY_ICON = 'e-file-reload-btn';\nvar DRAG_HOVER = 'e-upload-drag-hover';\nvar PROGRESS_WRAPPER = 'e-upload-progress-wrap';\nvar PROGRESSBAR = 'e-upload-progress-bar';\nvar PROGRESSBAR_TEXT = 'e-progress-bar-text';\nvar UPLOAD_INPROGRESS = 'e-upload-progress';\nvar UPLOAD_SUCCESS = 'e-upload-success';\nvar UPLOAD_FAILED = 'e-upload-fails';\nvar TEXT_CONTAINER = 'e-file-container';\nvar VALIDATION_FAILS = 'e-validation-fails';\nvar RTL = 'e-rtl';\nvar DISABLED = 'e-disabled';\nvar RTL_CONTAINER = 'e-rtl-container';\nvar ICON_FOCUSED = 'e-clear-icon-focus';\nvar PROGRESS_INNER_WRAPPER = 'e-progress-inner-wrap';\nvar PAUSE_UPLOAD = 'e-file-pause-btn';\nvar RESUME_UPLOAD = 'e-file-play-btn';\nvar RESTRICT_RETRY = 'e-restrict-retry';\nvar wrapperAttr = ['title', 'style', 'class'];\nvar FORM_UPLOAD = 'e-form-upload';\nvar HIDDEN_INPUT = 'e-hidden-file-input';\nvar INVALID_FILE = 'e-file-invalid';\nvar INFORMATION = 'e-file-information';\nvar FilesProp = /** @class */ (function (_super) {\n    __extends(FilesProp, _super);\n    function FilesProp() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], FilesProp.prototype, \"name\", void 0);\n    __decorate([\n        Property(null)\n    ], FilesProp.prototype, \"size\", void 0);\n    __decorate([\n        Property('')\n    ], FilesProp.prototype, \"type\", void 0);\n    return FilesProp;\n}(ChildProperty));\nexport { FilesProp };\nvar ButtonsProps = /** @class */ (function (_super) {\n    __extends(ButtonsProps, _super);\n    function ButtonsProps() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Browse...')\n    ], ButtonsProps.prototype, \"browse\", void 0);\n    __decorate([\n        Property('Upload')\n    ], ButtonsProps.prototype, \"upload\", void 0);\n    __decorate([\n        Property('Clear')\n    ], ButtonsProps.prototype, \"clear\", void 0);\n    return ButtonsProps;\n}(ChildProperty));\nexport { ButtonsProps };\nvar AsyncSettings = /** @class */ (function (_super) {\n    __extends(AsyncSettings, _super);\n    function AsyncSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], AsyncSettings.prototype, \"saveUrl\", void 0);\n    __decorate([\n        Property('')\n    ], AsyncSettings.prototype, \"removeUrl\", void 0);\n    __decorate([\n        Property(0)\n    ], AsyncSettings.prototype, \"chunkSize\", void 0);\n    __decorate([\n        Property(3)\n    ], AsyncSettings.prototype, \"retryCount\", void 0);\n    __decorate([\n        Property(500)\n    ], AsyncSettings.prototype, \"retryAfterDelay\", void 0);\n    return AsyncSettings;\n}(ChildProperty));\nexport { AsyncSettings };\n/**\n * The uploader component allows to upload images, documents, and other files from local to server.\n * ```html\n * <input type='file' name='images[]' id='upload'/>\n * ```\n * ```typescript\n * <script>\n *   var uploadObj = new Uploader();\n *   uploadObj.appendTo('#upload');\n * </script>\n * ```\n */\nvar Uploader = /** @class */ (function (_super) {\n    __extends(Uploader, _super);\n    /**\n     * Triggers when change the Uploader value.\n     */\n    function Uploader(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.initialAttr = { accept: null, multiple: false, disabled: false };\n        _this.uploadedFilesData = [];\n        _this.base64String = [];\n        _this.isForm = false;\n        _this.allTypes = false;\n        _this.pausedData = [];\n        _this.uploadMetaData = [];\n        _this.tabIndex = '0';\n        _this.btnTabIndex = '0';\n        _this.disableKeyboardNavigation = false;\n        _this.count = -1;\n        _this.actionCompleteCount = 0;\n        _this.flag = true;\n        _this.selectedFiles = [];\n        _this.uploaderName = 'UploadFiles';\n        _this.fileStreams = [];\n        _this.newFileRef = 0;\n        _this.isFirstFileOnSelection = false;\n        /**\n         * Get the file item(li) which are shown in file list.\n         * @private\n         */\n        _this.fileList = [];\n        /**\n         * Get the data of files which are shown in file list.\n         * @private\n         */\n        _this.filesData = [];\n        _this.uploaderOptions = options;\n        return _this;\n    }\n    /**\n     * Calls internally if any of the property value is changed.\n     * @private\n     */\n    Uploader.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowedExtensions':\n                    this.setExtensions(this.allowedExtensions);\n                    this.clearAll();\n                    break;\n                case 'enabled':\n                    this.setControlStatus();\n                    break;\n                case 'multiple':\n                    this.setMultipleSelection();\n                    break;\n                case 'enableRtl':\n                    this.setRTL();\n                    this.reRenderFileList();\n                    break;\n                case 'buttons':\n                    this.buttons.browse = isNullOrUndefined(this.buttons.browse) ? '' : this.buttons.browse;\n                    this.buttons.clear = isNullOrUndefined(this.buttons.clear) ? '' : this.buttons.clear;\n                    this.buttons.upload = isNullOrUndefined(this.buttons.upload) ? '' : this.buttons.upload;\n                    this.renderButtonTemplates();\n                    break;\n                case 'dropArea':\n                    this.unBindDropEvents();\n                    this.updateDropArea();\n                    break;\n                case 'htmlAttributes':\n                    this.updateHTMLAttrToElement();\n                    this.updateHTMLAttrToWrapper();\n                    this.checkHTMLAttributes(true);\n                    break;\n                case 'files':\n                    this.renderPreLoadFiles();\n                    break;\n                case 'directoryUpload':\n                    this.updateDirectoryAttributes();\n                    break;\n                case 'template':\n                    if (!this.isServerBlazor) {\n                        this.clearAll();\n                    }\n                    break;\n                case 'minFileSize':\n                case 'maxFileSize':\n                case 'autoUpload':\n                    this.clearAll();\n                    break;\n                case 'sequentialUpload':\n                    this.clearAll();\n                    break;\n                case 'locale':\n                    this.l10n.setLocale(this.locale);\n                    this.setLocalizedTexts();\n                    this.preLocaleObj = getValue('currentLocale', this.l10n);\n                    break;\n                case 'cssClass':\n                    this.setCSSClass(oldProp.cssClass);\n                    break;\n            }\n        }\n    };\n    Uploader.prototype.setLocalizedTexts = function () {\n        if (isNullOrUndefined(this.template)) {\n            if (typeof (this.buttons.browse) === 'string') {\n                this.browseButton.innerText = (this.buttons.browse === 'Browse...') ?\n                    this.localizedTexts('Browse') : this.buttons.browse;\n                this.browseButton.setAttribute('title', this.browseButton.innerText);\n                if (this.uploadWrapper && !isNullOrUndefined(this.uploadWrapper.querySelector('.' + DROP_AREA))) {\n                    this.uploadWrapper.querySelector('.' + DROP_AREA).innerHTML = this.localizedTexts('dropFilesHint');\n                }\n            }\n            this.updateFileList();\n        }\n    };\n    Uploader.prototype.getKeyValue = function (val) {\n        var keyValue;\n        for (var _i = 0, _a = Object.keys(this.preLocaleObj); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (this.preLocaleObj[key] === val) {\n                keyValue = key;\n            }\n        }\n        return keyValue;\n    };\n    Uploader.prototype.updateFileList = function () {\n        var element;\n        /* istanbul ignore next */\n        if (this.fileList.length > 0 && !isNullOrUndefined(this.uploadWrapper.querySelector('.' + LIST_PARENT))) {\n            for (var i = 0; i < this.fileList.length; i++) {\n                element = this.fileList[i].querySelector('.e-file-status');\n                element.innerHTML = this.localizedTexts(this.getKeyValue(this.filesData[i].status));\n                this.filesData[i].status = this.localizedTexts(this.getKeyValue(this.filesData[i].status));\n                if (this.fileList[i].classList.contains(UPLOAD_SUCCESS)) {\n                    this.fileList[i].querySelector('.e-icons').setAttribute('title', this.localizedTexts('delete'));\n                }\n                if (this.fileList[i].querySelector('.e-file-play-btn')) {\n                    this.fileList[i].querySelector('.e-icons').setAttribute('title', this.localizedTexts('resume'));\n                }\n                if (this.fileList[i].querySelector('.e-file-remove-btn')) {\n                    this.fileList[i].querySelector('.e-icons').setAttribute('title', this.localizedTexts('remove'));\n                }\n                if (this.fileList[i].querySelector('.e-file-reload-btn')) {\n                    this.fileList[i].querySelector('.e-icons').setAttribute('title', this.localizedTexts('retry'));\n                }\n                if (!this.autoUpload) {\n                    this.uploadButton.innerText = (this.buttons.upload === 'Upload') ?\n                        this.localizedTexts('Upload') : this.buttons.upload;\n                    this.uploadButton.setAttribute('title', this.localizedTexts('Upload'));\n                    this.clearButton.innerText = (this.buttons.clear === 'Clear') ?\n                        this.localizedTexts('Clear') : this.buttons.clear;\n                    this.clearButton.setAttribute('title', this.localizedTexts('Clear'));\n                }\n            }\n        }\n    };\n    Uploader.prototype.reRenderFileList = function () {\n        if (this.listParent) {\n            detach(this.listParent);\n            this.listParent = null;\n            this.fileList = [];\n            this.createFileList(this.filesData);\n            if (this.actionButtons) {\n                this.removeActionButtons();\n                this.renderActionButtons();\n                this.checkActionButtonStatus();\n            }\n        }\n    };\n    Uploader.prototype.preRender = function () {\n        this.localeText = { Browse: 'Browse...', Clear: 'Clear', Upload: 'Upload',\n            dropFilesHint: 'Or drop files here', invalidMaxFileSize: 'File size is too large',\n            invalidMinFileSize: 'File size is too small', invalidFileType: 'File type is not allowed',\n            uploadFailedMessage: 'File failed to upload', uploadSuccessMessage: 'File uploaded successfully',\n            removedSuccessMessage: 'File removed successfully', removedFailedMessage: 'Unable to remove file', inProgress: 'Uploading',\n            readyToUploadMessage: 'Ready to upload', abort: 'Abort', remove: 'Remove', cancel: 'Cancel', delete: 'Delete file',\n            pauseUpload: 'File upload paused', pause: 'Pause', resume: 'Resume', retry: 'Retry',\n            fileUploadCancel: 'File upload canceled', invalidFileSelection: 'Invalid files selected', totalFiles: 'Total files',\n            size: 'Size'\n        };\n        this.l10n = new L10n('uploader', this.localeText, this.locale);\n        this.preLocaleObj = getValue('currentLocale', this.l10n);\n        this.isServerBlazor = (isBlazor() && this.isServerRendered) ? true : false;\n        this.isBlazorTemplate = this.isServerBlazor && this.template !== '' && !isNullOrUndefined(this.template) ? true : false;\n        this.isBlazorSaveUrl = (this.isServerRendered &&\n            (this.asyncSettings.saveUrl === '' || isNullOrUndefined(this.asyncSettings.saveUrl))) ? true : false;\n        if (this.isBlazorSaveUrl && this.sequentialUpload) {\n            this.sequentialUpload = false;\n        }\n        if (!this.isBlazorSaveUrl) {\n            this.formRendered();\n        }\n        if (!this.isServerBlazor) {\n            this.updateHTMLAttrToElement();\n            this.checkHTMLAttributes(false);\n            // tslint:disable-next-line\n            var ejInstance = getValue('ej2_instances', this.element);\n            /* istanbul ignore next */\n            if (this.element.tagName === 'EJS-UPLOADER') {\n                var inputElement = this.createElement('input', { attrs: { type: 'file' } });\n                var index = 0;\n                for (index; index < this.element.attributes.length; index++) {\n                    inputElement.setAttribute(this.element.attributes[index].nodeName, this.element.attributes[index].nodeValue);\n                    inputElement.innerHTML = this.element.innerHTML;\n                }\n                if (!inputElement.hasAttribute('name')) {\n                    inputElement.setAttribute('name', 'UploadFiles');\n                }\n                this.element.appendChild(inputElement);\n                this.element = inputElement;\n                setValue('ej2_instances', ejInstance, this.element);\n            }\n            /* istanbul ignore next */\n            if (ejInstance[0].isPureReactComponent) {\n                if (!isNullOrUndefined(ejInstance[0].props.name)) {\n                    this.element.setAttribute('name', ejInstance[0].props.name);\n                }\n                else if (!isNullOrUndefined(ejInstance[0].props.id) && isNullOrUndefined(ejInstance[0].props.name)) {\n                    this.element.setAttribute('name', ejInstance[0].props.id);\n                }\n                else {\n                    this.element.setAttribute('name', 'UploadFiles');\n                }\n            }\n            if (isNullOrUndefined(this.element.getAttribute('name'))) {\n                this.element.setAttribute('name', this.element.getAttribute('id'));\n            }\n            if (!this.element.hasAttribute('type')) {\n                this.element.setAttribute('type', 'file');\n            }\n            this.updateDirectoryAttributes();\n        }\n        this.keyConfigs = {\n            enter: 'enter'\n        };\n        if (this.element.hasAttribute('tabindex')) {\n            this.tabIndex = this.element.getAttribute('tabindex');\n        }\n        this.browserName = Browser.info.name;\n        this.uploaderName = this.element.getAttribute('name');\n    };\n    Uploader.prototype.formRendered = function () {\n        var parentEle = closest(this.element, 'form');\n        if (!isNullOrUndefined(parentEle)) {\n            for (; parentEle && parentEle !== document.documentElement; parentEle = parentEle.parentElement) {\n                if (parentEle.tagName === 'FORM') {\n                    this.isForm = true;\n                    this.formElement = parentEle;\n                    parentEle.setAttribute('enctype', 'multipart/form-data');\n                    parentEle.setAttribute('encoding', 'multipart/form-data');\n                }\n            }\n        }\n    };\n    Uploader.prototype.getPersistData = function () {\n        return this.addOnPersist(['filesData']);\n    };\n    /**\n     * Return the module name of the component.\n     */\n    Uploader.prototype.getModuleName = function () {\n        return 'uploader';\n    };\n    Uploader.prototype.updateDirectoryAttributes = function () {\n        if (this.directoryUpload) {\n            this.element.setAttribute('directory', 'true');\n            this.element.setAttribute('webkitdirectory', 'true');\n        }\n        else {\n            this.element.removeAttribute('directory');\n            this.element.removeAttribute('webkitdirectory');\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    Uploader.prototype.render = function () {\n        if (!this.isServerBlazor) {\n            this.renderBrowseButton();\n            this.initializeUpload();\n            this.updateHTMLAttrToWrapper();\n            this.wireEvents();\n            this.setMultipleSelection();\n            this.setExtensions(this.allowedExtensions);\n            this.setRTL();\n            this.renderPreLoadFiles();\n            this.setControlStatus();\n            this.setCSSClass();\n        }\n        else {\n            this.dropAreaWrapper = closest(this.element, '.' + DROP_WRAPPER);\n            this.uploadWrapper = closest(this.element, '.e-upload.e-control-wrapper');\n            this.browseButton = this.dropAreaWrapper.querySelector('button.e-upload-browse-btn');\n            this.setDropArea();\n            this.renderPreLoadFiles();\n            this.wireEvents();\n        }\n        this.renderComplete();\n    };\n    Uploader.prototype.renderBrowseButton = function () {\n        this.browseButton = this.createElement('button', { className: 'e-css e-btn', attrs: { 'type': 'button' } });\n        this.browseButton.setAttribute('tabindex', this.tabIndex);\n        if (typeof (this.buttons.browse) === 'string') {\n            this.browseButton.textContent = (this.buttons.browse === 'Browse...') ?\n                this.localizedTexts('Browse') : this.buttons.browse;\n            this.browseButton.setAttribute('title', this.browseButton.innerText);\n        }\n        else {\n            this.browseButton.appendChild(this.buttons.browse);\n        }\n        this.element.setAttribute('aria-label', 'Uploader');\n    };\n    Uploader.prototype.renderActionButtons = function () {\n        this.element.setAttribute('tabindex', '-1');\n        if (!(this.isBlazorSaveUrl || this.isBlazorTemplate)) {\n            this.actionButtons = this.createElement('div', { className: ACTION_BUTTONS });\n            this.uploadButton = this.createElement('button', { className: UPLOAD_BUTTONS,\n                attrs: { 'type': 'button', 'tabindex': this.btnTabIndex } });\n            this.clearButton = this.createElement('button', { className: CLEAR_BUTTONS,\n                attrs: { 'type': 'button', 'tabindex': this.btnTabIndex } });\n            this.actionButtons.appendChild(this.clearButton);\n            this.actionButtons.appendChild(this.uploadButton);\n            this.renderButtonTemplates();\n            this.uploadWrapper.appendChild(this.actionButtons);\n            this.browseButton.blur();\n            this.uploadButton.focus();\n            this.wireActionButtonEvents();\n        }\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.serverActionButtonsEventBind = function (element) {\n        if (element && !this.isForm) {\n            this.browseButton.blur();\n            this.actionButtons = element;\n            this.uploadButton = this.actionButtons.querySelector('.e-file-upload-btn');\n            this.clearButton = this.actionButtons.querySelector('.e-file-clear-btn');\n            this.uploadButton.focus();\n            this.unwireActionButtonEvents();\n            this.wireActionButtonEvents();\n            this.checkActionButtonStatus();\n        }\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.serverUlElement = function (element) {\n        if (element) {\n            if (this.isBlazorSaveUrl || this.isBlazorTemplate) {\n                this.listParent = element;\n                this.fileList = [].slice.call(this.listParent.querySelectorAll('li'));\n                this.serverRemoveIconBindEvent();\n                if (!this.isForm) {\n                    this.checkAutoUpload(this.filesData);\n                }\n            }\n        }\n    };\n    Uploader.prototype.wireActionButtonEvents = function () {\n        EventHandler.add(this.uploadButton, 'click', this.uploadButtonClick, this);\n        EventHandler.add(this.clearButton, 'click', this.clearButtonClick, this);\n    };\n    Uploader.prototype.unwireActionButtonEvents = function () {\n        EventHandler.remove(this.uploadButton, 'click', this.uploadButtonClick);\n        EventHandler.remove(this.clearButton, 'click', this.clearButtonClick);\n    };\n    Uploader.prototype.removeActionButtons = function () {\n        if (this.actionButtons) {\n            this.unwireActionButtonEvents();\n            if (!(this.isBlazorSaveUrl || this.isBlazorTemplate)) {\n                detach(this.actionButtons);\n            }\n            this.actionButtons = null;\n        }\n    };\n    Uploader.prototype.renderButtonTemplates = function () {\n        if (typeof (this.buttons.browse) === 'string') {\n            this.browseButton.textContent = (this.buttons.browse === 'Browse...') ?\n                this.localizedTexts('Browse') : this.buttons.browse;\n            this.browseButton.setAttribute('title', this.browseButton.textContent);\n        }\n        else {\n            this.browseButton.innerHTML = '';\n            this.browseButton.appendChild(this.buttons.browse);\n        }\n        if (this.uploadButton) {\n            var uploadText = void 0;\n            uploadText = isNullOrUndefined(this.buttons.upload) ? 'Upload' : this.buttons.upload;\n            this.buttons.upload = uploadText;\n            if (typeof (this.buttons.upload) === 'string') {\n                this.uploadButton.textContent = (this.buttons.upload === 'Upload') ?\n                    this.localizedTexts('Upload') : this.buttons.upload;\n                this.uploadButton.setAttribute('title', this.uploadButton.textContent);\n            }\n            else {\n                this.uploadButton.innerHTML = '';\n                this.uploadButton.appendChild(this.buttons.upload);\n            }\n        }\n        if (this.clearButton) {\n            var clearText = void 0;\n            clearText = isNullOrUndefined(this.buttons.clear) ? 'Clear' : this.buttons.clear;\n            this.buttons.clear = clearText;\n            if (typeof (this.buttons.clear) === 'string') {\n                this.clearButton.textContent = (this.buttons.clear === 'Clear') ?\n                    this.localizedTexts('Clear') : this.buttons.clear;\n                this.clearButton.setAttribute('title', this.clearButton.textContent);\n            }\n            else {\n                this.clearButton.innerHTML = '';\n                this.clearButton.appendChild(this.buttons.clear);\n            }\n        }\n    };\n    Uploader.prototype.initializeUpload = function () {\n        this.element.setAttribute('tabindex', '-1');\n        var inputWrapper = this.createElement('span', { className: INPUT_WRAPPER });\n        this.element.parentElement.insertBefore(inputWrapper, this.element);\n        this.dropAreaWrapper = this.createElement('div', { className: DROP_WRAPPER });\n        this.element.parentElement.insertBefore(this.dropAreaWrapper, this.element);\n        inputWrapper.appendChild(this.element);\n        this.dropAreaWrapper.appendChild(this.browseButton);\n        this.dropAreaWrapper.appendChild(inputWrapper);\n        this.uploadWrapper = this.createElement('div', { className: CONTROL_WRAPPER });\n        this.dropAreaWrapper.parentElement.insertBefore(this.uploadWrapper, this.dropAreaWrapper);\n        this.uploadWrapper.appendChild(this.dropAreaWrapper);\n        this.setDropArea();\n    };\n    Uploader.prototype.renderPreLoadFiles = function () {\n        if (this.files.length) {\n            if (this.enablePersistence && this.filesData.length) {\n                this.createFileList(this.filesData);\n                return;\n            }\n            if (isNullOrUndefined(this.files[0].size)) {\n                return;\n            }\n            var files = [].slice.call(this.files);\n            var filesData = [];\n            if (!this.multiple) {\n                this.clearData();\n                files = [files[0]];\n            }\n            for (var _i = 0, files_1 = files; _i < files_1.length; _i++) {\n                var data = files_1[_i];\n                var fileData = {\n                    name: data.name + '.' + data.type.split('.')[data.type.split('.').length - 1],\n                    rawFile: '',\n                    size: data.size,\n                    status: this.localizedTexts('uploadSuccessMessage'),\n                    type: data.type,\n                    validationMessages: { minSize: '', maxSize: '' },\n                    statusCode: '2'\n                };\n                filesData.push(fileData);\n                this.filesData.push(fileData);\n            }\n            this.createFileList(filesData);\n            if (!this.autoUpload && this.listParent && !this.actionButtons && (!this.isForm || this.allowUpload()) && this.showFileList) {\n                this.renderActionButtons();\n            }\n            this.checkActionButtonStatus();\n            if (this.sequentialUpload) {\n                this.count = this.filesData.length - 1;\n            }\n        }\n    };\n    Uploader.prototype.checkActionButtonStatus = function () {\n        if (this.actionButtons) {\n            var length_1 = this.uploadWrapper.querySelectorAll('.' + VALIDATION_FAILS).length +\n                this.uploadWrapper.querySelectorAll('.e-upload-fails:not(.e-upload-progress)').length +\n                this.uploadWrapper.querySelectorAll('span.' + UPLOAD_SUCCESS).length +\n                this.uploadWrapper.querySelectorAll('span.' + UPLOAD_INPROGRESS).length;\n            if (length_1 > 0 && length_1 === this.uploadWrapper.querySelectorAll('li').length) {\n                this.uploadButton.setAttribute('disabled', 'disabled');\n            }\n            else {\n                this.uploadButton.removeAttribute('disabled');\n            }\n        }\n    };\n    Uploader.prototype.setDropArea = function () {\n        var dropTextArea = this.dropAreaWrapper.querySelector('.e-file-drop');\n        if (this.dropArea) {\n            this.dropZoneElement = (typeof (this.dropArea) !== 'string') ? this.dropArea :\n                document.querySelector(this.dropArea);\n            var element = this.element;\n            var enableDropText = false;\n            while (element.parentNode) {\n                element = element.parentNode;\n                if (element === this.dropZoneElement) {\n                    enableDropText = true;\n                    if (!dropTextArea) {\n                        this.createDropTextHint();\n                    }\n                    else if (!this.isServerBlazor) {\n                        dropTextArea.innerHTML = this.localizedTexts('dropFilesHint');\n                    }\n                }\n            }\n            if (!enableDropText && dropTextArea) {\n                dropTextArea.remove();\n            }\n        }\n        else if (!isNullOrUndefined(this.uploaderOptions) && this.uploaderOptions.dropArea === undefined) {\n            this.createDropTextHint();\n            this.dropZoneElement = this.uploadWrapper;\n            this.setProperties({ dropArea: this.uploadWrapper }, true);\n        }\n        this.bindDropEvents();\n    };\n    Uploader.prototype.updateDropArea = function () {\n        if (this.dropArea) {\n            this.setDropArea();\n        }\n        else {\n            this.dropZoneElement = null;\n            var dropTextArea = this.dropAreaWrapper.querySelector('.e-file-drop');\n            if (dropTextArea) {\n                dropTextArea.remove();\n            }\n        }\n    };\n    Uploader.prototype.createDropTextHint = function () {\n        if (!this.isServerBlazor) {\n            var fileDropArea = this.createElement('span', { className: DROP_AREA });\n            fileDropArea.innerHTML = this.localizedTexts('dropFilesHint');\n            this.dropAreaWrapper.appendChild(fileDropArea);\n        }\n    };\n    Uploader.prototype.updateHTMLAttrToElement = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var pro = _a[_i];\n                if (wrapperAttr.indexOf(pro) < 0) {\n                    this.element.setAttribute(pro, this.htmlAttributes[pro]);\n                }\n            }\n        }\n    };\n    Uploader.prototype.updateHTMLAttrToWrapper = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var pro = _a[_i];\n                if (wrapperAttr.indexOf(pro) > -1) {\n                    if (pro === 'class') {\n                        var updatedClassValues = (this.htmlAttributes[pro].replace(/\\s+/g, ' ')).trim();\n                        if (updatedClassValues !== '') {\n                            addClass([this.uploadWrapper], updatedClassValues.split(' '));\n                        }\n                    }\n                    else if (pro === 'style') {\n                        var uploadStyle = this.uploadWrapper.getAttribute(pro);\n                        uploadStyle = !isNullOrUndefined(uploadStyle) ? (uploadStyle + this.htmlAttributes[pro]) :\n                            this.htmlAttributes[pro];\n                        this.uploadWrapper.setAttribute(pro, uploadStyle);\n                    }\n                    else {\n                        this.uploadWrapper.setAttribute(pro, this.htmlAttributes[pro]);\n                    }\n                }\n            }\n        }\n    };\n    Uploader.prototype.setMultipleSelection = function () {\n        if (this.multiple && !this.element.hasAttribute('multiple')) {\n            var newAttr = document.createAttribute('multiple');\n            newAttr.value = 'multiple';\n            this.element.setAttributeNode(newAttr);\n        }\n        else if (!this.multiple) {\n            this.element.removeAttribute('multiple');\n        }\n    };\n    Uploader.prototype.checkAutoUpload = function (fileData) {\n        if (this.autoUpload) {\n            if (this.sequentialUpload) {\n                /* istanbul ignore next */\n                this.sequenceUpload(fileData);\n            }\n            else {\n                this.upload(fileData);\n            }\n            this.removeActionButtons();\n        }\n        else if (!this.actionButtons) {\n            this.renderActionButtons();\n        }\n        this.checkActionButtonStatus();\n    };\n    Uploader.prototype.sequenceUpload = function (fileData) {\n        if (this.filesData.length - fileData.length === 0 ||\n            this.filesData[(this.filesData.length - fileData.length - 1)].statusCode !== '1') {\n            ++this.count;\n            var isFileListCreated = this.showFileList ? false : true;\n            if (typeof this.filesData[this.count] === 'object') {\n                this.isFirstFileOnSelection = false;\n                this.upload(this.filesData[this.count], isFileListCreated);\n                if (this.filesData[this.count].statusCode === '0') {\n                    this.sequenceUpload(fileData);\n                }\n            }\n            else {\n                --this.count;\n            }\n        }\n    };\n    Uploader.prototype.setCSSClass = function (oldCSSClass) {\n        var updatedCssClassValue = this.cssClass;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassValue = (this.cssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(this.cssClass) && updatedCssClassValue !== '') {\n            addClass([this.uploadWrapper], updatedCssClassValue.split(updatedCssClassValue.indexOf(',') > -1 ? ',' : ' '));\n        }\n        var updatedOldCssClass = oldCSSClass;\n        if (!isNullOrUndefined(oldCSSClass)) {\n            updatedOldCssClass = (oldCSSClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(oldCSSClass) && updatedOldCssClass !== '') {\n            removeClass([this.uploadWrapper], updatedOldCssClass.split(' '));\n        }\n    };\n    Uploader.prototype.wireEvents = function () {\n        EventHandler.add(this.browseButton, 'click', this.browseButtonClick, this);\n        EventHandler.add(this.element, 'change', this.onSelectFiles, this);\n        EventHandler.add(document, 'click', this.removeFocus, this);\n        this.keyboardModule = new KeyboardEvents(this.uploadWrapper, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown',\n        });\n        if (this.isForm) {\n            EventHandler.add(this.formElement, 'reset', this.resetForm, this);\n        }\n    };\n    Uploader.prototype.unWireEvents = function () {\n        EventHandler.remove(this.browseButton, 'click', this.browseButtonClick);\n        EventHandler.remove(this.element, 'change', this.onSelectFiles);\n        EventHandler.remove(document, 'click', this.removeFocus);\n        if (this.isForm) {\n            EventHandler.remove(this.formElement, 'reset', this.resetForm);\n        }\n        this.keyboardModule.destroy();\n    };\n    Uploader.prototype.resetForm = function () {\n        this.clearAll();\n    };\n    Uploader.prototype.keyActionHandler = function (e) {\n        var targetElement = e.target;\n        switch (e.action) {\n            case 'enter':\n                if (e.target === this.clearButton) {\n                    this.clearButtonClick();\n                }\n                else if (e.target === this.uploadButton) {\n                    this.uploadButtonClick();\n                }\n                else if (e.target === this.browseButton) {\n                    this.browseButtonClick();\n                }\n                else if (targetElement.classList.contains(PAUSE_UPLOAD)) {\n                    var metaData = this.getCurrentMetaData(null, e);\n                    metaData.file.statusCode = '4';\n                    metaData.file.status = this.localizedTexts('pauseUpload');\n                    this.abortUpload(metaData, false);\n                }\n                else if (targetElement.classList.contains(RESUME_UPLOAD)) {\n                    this.resumeUpload(this.getCurrentMetaData(null, e), e);\n                }\n                else if (targetElement.classList.contains(RETRY_ICON)) {\n                    var metaData = this.getCurrentMetaData(null, e);\n                    if (!isNullOrUndefined(metaData)) {\n                        metaData.file.statusCode = '1';\n                        metaData.file.status = this.localizedTexts('readyToUploadMessage');\n                        this.chunkUpload(metaData.file);\n                    }\n                    else {\n                        var target = e.target.parentElement;\n                        var fileData = this.filesData[this.fileList.indexOf(target)];\n                        this.retry(fileData);\n                    }\n                }\n                else {\n                    this.removeFiles(e);\n                    if (!targetElement.classList.contains(ABORT_ICON)) {\n                        this.browseButton.focus();\n                    }\n                }\n                e.preventDefault();\n                e.stopPropagation();\n                break;\n        }\n    };\n    Uploader.prototype.getCurrentMetaData = function (fileInfo, e) {\n        var fileData;\n        var targetMetaData;\n        if (isNullOrUndefined(fileInfo)) {\n            var target = e.target.parentElement;\n            fileData = this.filesData[this.fileList.indexOf(target)];\n        }\n        else {\n            fileData = fileInfo;\n        }\n        for (var i = 0; i < this.uploadMetaData.length; i++) {\n            if (this.uploadMetaData[i].file.name === fileData.name) {\n                targetMetaData = this.uploadMetaData[i];\n            }\n        }\n        return targetMetaData;\n    };\n    Uploader.prototype.removeFocus = function () {\n        if (this.uploadWrapper && this.listParent && this.listParent.querySelector('.' + ICON_FOCUSED)) {\n            document.activeElement.blur();\n            this.listParent.querySelector('.' + ICON_FOCUSED).classList.remove(ICON_FOCUSED);\n        }\n    };\n    Uploader.prototype.browseButtonClick = function () {\n        this.element.click();\n    };\n    Uploader.prototype.uploadButtonClick = function () {\n        if (this.sequentialUpload) {\n            this.sequenceUpload(this.filesData);\n        }\n        else {\n            this.upload(this.filesData);\n        }\n    };\n    Uploader.prototype.clearButtonClick = function () {\n        this.clearAll();\n        /* istanbul ignore next */\n        if (this.sequentialUpload) {\n            this.count = -1;\n        }\n        this.actionCompleteCount = 0;\n    };\n    Uploader.prototype.bindDropEvents = function () {\n        if (this.dropZoneElement) {\n            EventHandler.add(this.dropZoneElement, 'drop', this.dropElement, this);\n            EventHandler.add(this.dropZoneElement, 'dragover', this.dragHover, this);\n            EventHandler.add(this.dropZoneElement, 'dragleave', this.onDragLeave, this);\n            EventHandler.add(this.dropZoneElement, 'paste', this.onPasteFile, this);\n        }\n    };\n    Uploader.prototype.unBindDropEvents = function () {\n        if (this.dropZoneElement) {\n            EventHandler.remove(this.dropZoneElement, 'drop', this.dropElement);\n            EventHandler.remove(this.dropZoneElement, 'dragover', this.dragHover);\n            EventHandler.remove(this.dropZoneElement, 'dragleave', this.onDragLeave);\n        }\n    };\n    Uploader.prototype.onDragLeave = function (e) {\n        this.dropZoneElement.classList.remove(DRAG_HOVER);\n    };\n    Uploader.prototype.dragHover = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        this.dropZoneElement.classList.add(DRAG_HOVER);\n        if (this.dropEffect !== 'Default') {\n            e.dataTransfer.dropEffect = this.dropEffect.toLowerCase();\n        }\n        e.preventDefault();\n        e.stopPropagation();\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.dropElement = function (e) {\n        this.dropZoneElement.classList.remove(DRAG_HOVER);\n        this.onSelectFiles(e);\n        e.preventDefault();\n        e.stopPropagation();\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.onPasteFile = function (event) {\n        var item = event.clipboardData.items;\n        if (item.length !== 1) {\n            return;\n        }\n        var pasteFile = [].slice.call(item)[0];\n        if ((pasteFile.kind === 'file') && pasteFile.type.match('^image/')) {\n            this.renderSelectedFiles(event, [pasteFile.getAsFile()], false, true);\n        }\n    };\n    Uploader.prototype.getSelectedFiles = function (index) {\n        var data = [];\n        var liElement = this.fileList[index];\n        var allFiles = this.getFilesData();\n        var nameElements = +liElement.getAttribute('data-files-count');\n        var startIndex = 0;\n        for (var i = 0; i < index; i++) {\n            startIndex += (+this.fileList[i].getAttribute('data-files-count'));\n        }\n        for (var j = startIndex; j < (startIndex + nameElements); j++) {\n            data.push(allFiles[j]);\n        }\n        return data;\n    };\n    Uploader.prototype.removeFiles = function (args) {\n        if (!this.enabled) {\n            return;\n        }\n        var selectedElement = args.target.parentElement;\n        if (this.isBlazorSaveUrl) {\n            this.fileList = [].slice.call(this.uploadWrapper.querySelectorAll('li'));\n        }\n        var index = this.fileList.indexOf(selectedElement);\n        var liElement = this.fileList[index];\n        var formUpload = this.isFormUpload();\n        var fileData = formUpload ? this.getSelectedFiles(index) : this.getFilesInArray(this.filesData[index]);\n        if (isNullOrUndefined(fileData)) {\n            return;\n        }\n        if (args.target.classList.contains(ABORT_ICON) && !formUpload) {\n            fileData[0].statusCode = '5';\n            if (!isNullOrUndefined(liElement)) {\n                var spinnerTarget = liElement.querySelector('.' + ABORT_ICON);\n                createSpinner({ target: spinnerTarget, width: '20px' });\n                showSpinner(spinnerTarget);\n            }\n            if (this.sequentialUpload) {\n                /* istanbul ignore next */\n                this.uploadSequential();\n            }\n            if (!(liElement.classList.contains(RESTRICT_RETRY))) {\n                this.checkActionComplete(true);\n            }\n        }\n        else if (!closest(args.target, '.' + SPINNER_PANE)) {\n            this.remove(fileData, false, false, true, args);\n        }\n        this.element.value = '';\n        this.checkActionButtonStatus();\n    };\n    Uploader.prototype.removeFilesData = function (file, customTemplate) {\n        var index;\n        if (customTemplate) {\n            if (!this.showFileList) {\n                index = this.filesData.indexOf(file);\n                this.filesData.splice(index, 1);\n            }\n            return;\n        }\n        var selectedElement = this.getLiElement(file);\n        if (isNullOrUndefined(selectedElement)) {\n            return;\n        }\n        if (!this.isBlazorSaveUrl) {\n            detach(selectedElement);\n        }\n        index = this.fileList.indexOf(selectedElement);\n        this.fileList.splice(index, 1);\n        this.filesData.splice(index, 1);\n        if (!this.isBlazorSaveUrl) {\n            if (this.fileList.length === 0 && !isNullOrUndefined(this.listParent)) {\n                detach(this.listParent);\n                this.listParent = null;\n                this.removeActionButtons();\n            }\n            if (this.sequentialUpload) {\n                /* istanbul ignore next */\n                if (index <= this.count) {\n                    --this.count;\n                }\n            }\n        }\n        else {\n            // tslint:disable-next-line\n            this.interopAdaptor.invokeMethodAsync('removeFileData', index);\n        }\n    };\n    Uploader.prototype.removeUploadedFile = function (file, eventArgs, removeDirectly, custom) {\n        var _this = this;\n        var selectedFiles = file;\n        var ajax = new Ajax(this.asyncSettings.removeUrl, 'POST', true, null);\n        ajax.emitError = false;\n        var formData = new FormData();\n        ajax.beforeSend = function (e) {\n            eventArgs.currentRequest = ajax.httpRequest;\n            if (isBlazor()) {\n                if (_this.currentRequestHeader) {\n                    _this.updateCustomheader(ajax.httpRequest, _this.currentRequestHeader);\n                }\n                if (_this.customFormDatas) {\n                    _this.updateFormData(formData, _this.customFormDatas);\n                }\n            }\n            if (!removeDirectly) {\n                _this.trigger('removing', eventArgs, function (eventArgs) {\n                    if (eventArgs.cancel) {\n                        e.cancel = true;\n                    }\n                    else {\n                        _this.removingEventCallback(eventArgs, formData, selectedFiles, file);\n                    }\n                });\n            }\n            else {\n                _this.removingEventCallback(eventArgs, formData, selectedFiles, file);\n            }\n        };\n        if (this.isServerBlazor) {\n            var name_1 = this.element.getAttribute('name');\n            if (!isNullOrUndefined(selectedFiles.rawFile) && selectedFiles.rawFile !== '') {\n                formData.append(name_1, selectedFiles.rawFile, selectedFiles.name);\n            }\n            else {\n                formData.append(name_1, selectedFiles.name);\n            }\n        }\n        ajax.onLoad = function (e) { _this.removeCompleted(e, selectedFiles, custom); return {}; };\n        /* istanbul ignore next */\n        ajax.onError = function (e) { _this.removeFailed(e, selectedFiles, custom); return {}; };\n        ajax.send(formData);\n    };\n    Uploader.prototype.removingEventCallback = function (eventArgs, formData, selectedFiles, file) {\n        /* istanbul ignore next */\n        var name = this.element.getAttribute('name');\n        var liElement = this.getLiElement(file);\n        if (!isNullOrUndefined(liElement) && (!isNullOrUndefined(liElement.querySelector('.' + DELETE_ICON)) ||\n            !isNullOrUndefined(liElement.querySelector('.' + REMOVE_ICON)))) {\n            var spinnerTarget = void 0;\n            spinnerTarget = liElement.querySelector('.' + DELETE_ICON) ? liElement.querySelector('.' + DELETE_ICON) :\n                liElement.querySelector('.' + REMOVE_ICON);\n            createSpinner({ target: spinnerTarget, width: '20px' });\n            showSpinner(spinnerTarget);\n        }\n        if (!this.isServerBlazor) {\n            if (eventArgs.postRawFile && !isNullOrUndefined(selectedFiles.rawFile) && selectedFiles.rawFile !== '') {\n                formData.append(name, selectedFiles.rawFile, selectedFiles.name);\n            }\n            else {\n                formData.append(name, selectedFiles.name);\n            }\n            this.updateFormData(formData, eventArgs.customFormData);\n        }\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.updateFormData = function (formData, customData) {\n        if (customData.length > 0 && customData[0]) {\n            var _loop_1 = function (i) {\n                var data = customData[i];\n                // tslint:disable-next-line\n                var value = Object.keys(data).map(function (e) {\n                    return data[e];\n                });\n                formData.append(Object.keys(data)[0], value);\n            };\n            for (var i = 0; i < customData.length; i++) {\n                _loop_1(i);\n            }\n        }\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.updateCustomheader = function (request, currentRequest) {\n        if (currentRequest.length > 0 && currentRequest[0]) {\n            var _loop_2 = function (i) {\n                var data = currentRequest[i];\n                // tslint:disable-next-line\n                var value = Object.keys(data).map(function (e) {\n                    return data[e];\n                });\n                request.setRequestHeader(Object.keys(data)[0], value);\n            };\n            for (var i = 0; i < currentRequest.length; i++) {\n                _loop_2(i);\n            }\n        }\n    };\n    Uploader.prototype.removeCompleted = function (e, files, customTemplate) {\n        var response = e && e.currentTarget ? this.getResponse(e) : null;\n        var status = e.target;\n        if (status.readyState === 4 && status.status >= 200 && status.status <= 299) {\n            var args = {\n                e: e, response: response, operation: 'remove', file: this.updateStatus(files, this.localizedTexts('removedSuccessMessage'), '2')\n            };\n            this.trigger('success', args);\n            this.removeFilesData(files, customTemplate);\n            var index = this.uploadedFilesData.indexOf(files);\n            this.uploadedFilesData.splice(index, 1);\n            this.trigger('change', { files: this.uploadedFilesData });\n        }\n        else {\n            this.removeFailed(e, files, customTemplate);\n        }\n    };\n    Uploader.prototype.removeFailed = function (e, files, customTemplate) {\n        var response = e && e.currentTarget ? this.getResponse(e) : null;\n        var args = {\n            e: e, response: response, operation: 'remove', file: this.updateStatus(files, this.localizedTexts('removedFailedMessage'), '0')\n        };\n        if (!customTemplate) {\n            var index = this.filesData.indexOf(files);\n            var rootElement = this.fileList[index];\n            if (rootElement) {\n                rootElement.classList.remove(UPLOAD_SUCCESS);\n                rootElement.classList.add(UPLOAD_FAILED);\n                var statusElement = rootElement.querySelector('.' + STATUS);\n                if (statusElement) {\n                    statusElement.classList.remove(UPLOAD_SUCCESS);\n                    statusElement.classList.add(UPLOAD_FAILED);\n                }\n            }\n            this.checkActionButtonStatus();\n        }\n        this.trigger('failure', args);\n        var liElement = this.getLiElement(files);\n        /* istanbul ignore next */\n        if (!isNullOrUndefined(liElement) && !isNullOrUndefined(liElement.querySelector('.' + DELETE_ICON))) {\n            var spinnerTarget = liElement.querySelector('.' + DELETE_ICON);\n            hideSpinner(spinnerTarget);\n            detach(liElement.querySelector('.e-spinner-pane'));\n        }\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.getFilesFromFolder = function (event) {\n        this.filesEntries = [];\n        var items;\n        items = this.multiple ? event.dataTransfer.items : [event.dataTransfer.items[0]];\n        var validDirectoryUpload = this.checkDirectoryUpload(items);\n        if (!validDirectoryUpload) {\n            return;\n        }\n        var _loop_3 = function (i) {\n            // tslint:disable-next-line\n            var item = items[i].webkitGetAsEntry();\n            if (item.isFile) {\n                var files_2 = [];\n                // tslint:disable-next-line\n                (item).file(function (fileObj) {\n                    var path = item.fullPath;\n                    files_2.push({ 'path': path, 'file': fileObj });\n                });\n                this_1.renderSelectedFiles(event, files_2, true);\n            }\n            else if (item.isDirectory) {\n                this_1.traverseFileTree(item, event);\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < items.length; i++) {\n            _loop_3(i);\n        }\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.checkDirectoryUpload = function (items) {\n        for (var i = 0; items && i < items.length; i++) {\n            // tslint:disable-next-line\n            var item = items[i].webkitGetAsEntry();\n            if (item.isDirectory) {\n                return true;\n            }\n        }\n        return false;\n    };\n    // tslint:disable\n    /* istanbul ignore next */\n    Uploader.prototype.traverseFileTree = function (item, event) {\n        if (item.isFile) {\n            this.filesEntries.push(item);\n        }\n        else if (item.isDirectory) {\n            // tslint:disable-next-line\n            var directoryReader = item.createReader();\n            // tslint:disable-next-line\n            this.readFileFromDirectory(directoryReader, event);\n        }\n    };\n    // tslint:disable\n    /* istanbul ignore next */\n    Uploader.prototype.readFileFromDirectory = function (directoryReader, event) {\n        var _this = this;\n        // tslint:disable-next-line\n        directoryReader.readEntries(function (entries) {\n            for (var i = 0; i < entries.length; i++) {\n                _this.traverseFileTree(entries[i]);\n                // tslint:disable-next-line\n            }\n            ;\n            _this.pushFilesEntries(event);\n            if (entries.length) {\n                _this.readFileFromDirectory(directoryReader);\n            }\n        });\n    };\n    Uploader.prototype.pushFilesEntries = function (event) {\n        var _this = this;\n        var files = [];\n        var _loop_4 = function (i) {\n            // tslint:disable-next-line\n            this_2.filesEntries[i].file(function (fileObj) {\n                if (_this.filesEntries) {\n                    var path = _this.filesEntries[i].fullPath;\n                    files.push({ 'path': path, 'file': fileObj });\n                    if (i === _this.filesEntries.length - 1) {\n                        _this.filesEntries = [];\n                        _this.renderSelectedFiles(event, files, true);\n                    }\n                }\n            });\n        };\n        var this_2 = this;\n        for (var i = 0; i < this.filesEntries.length; i++) {\n            _loop_4(i);\n        }\n    };\n    // tslint:enable\n    Uploader.prototype.onSelectFiles = function (args) {\n        if (!this.enabled) {\n            return;\n        }\n        var targetFiles;\n        /* istanbul ignore next */\n        if (args.type === 'drop') {\n            if (this.directoryUpload) {\n                this.getFilesFromFolder(args);\n            }\n            else {\n                var files = this.sortFilesList = args.dataTransfer.files;\n                if (this.browserName !== 'msie' && this.browserName !== 'edge') {\n                    this.element.files = files;\n                }\n                targetFiles = this.multiple ? this.sortFileList(files) : [files[0]];\n                this.renderSelectedFiles(args, targetFiles);\n            }\n        }\n        else {\n            targetFiles = [].slice.call(args.target.files);\n            this.renderSelectedFiles(args, targetFiles);\n        }\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.getBase64 = function (file) {\n        return new Promise(function (resolve, reject) {\n            var fileReader = new FileReader();\n            fileReader.readAsDataURL(file);\n            fileReader.onload = function () { return resolve(fileReader.result); };\n            fileReader.onerror = function (error) { return reject(error); };\n        });\n    };\n    /* istanbul ignore next */\n    /* tslint:ignore */\n    Uploader.prototype.renderSelectedFiles = function (args, \n    // tslint:disable-next-line\n    targetFiles, directory, paste) {\n        var _this = this;\n        this.base64String = [];\n        // tslint:disable-next-line\n        var eventArgs = {\n            event: args,\n            cancel: false,\n            filesData: [],\n            isModified: false,\n            modifiedFilesData: [],\n            progressInterval: '',\n            isCanceled: false,\n            currentRequest: null,\n            customFormData: null\n        };\n        /* istanbul ignore next */\n        if (targetFiles.length < 1) {\n            eventArgs.isCanceled = true;\n            this.trigger('selected', eventArgs);\n            return;\n        }\n        this.flag = true;\n        var fileData = [];\n        if (!this.multiple) {\n            this.clearData(true);\n            targetFiles = [targetFiles[0]];\n        }\n        for (var i = 0; i < targetFiles.length; i++) {\n            var file = directory ? targetFiles[i].file : targetFiles[i];\n            this.updateInitialFileDetails(args, targetFiles, file, i, fileData, directory, paste);\n        }\n        eventArgs.filesData = fileData;\n        if (this.allowedExtensions.indexOf('*') > -1) {\n            this.allTypes = true;\n        }\n        if (!this.allTypes) {\n            fileData = this.checkExtension(fileData);\n        }\n        this.trigger('selected', eventArgs, function (eventArgs) {\n            _this._internalRenderSelect(eventArgs, fileData);\n        });\n    };\n    Uploader.prototype.updateInitialFileDetails = function (args, \n    // tslint:disable-next-line\n    targetFiles, file, i, fileData, directory, paste) {\n        var fileName = directory ? targetFiles[i].path.substring(1, targetFiles[i].path.length) : paste ?\n            getUniqueID(file.name.substring(0, file.name.lastIndexOf('.'))) + '.' + this.getFileType(file.name) :\n            this.directoryUpload ? targetFiles[i].webkitRelativePath : file.name;\n        var fileDetails = {\n            name: fileName,\n            rawFile: file,\n            size: file.size,\n            status: this.localizedTexts('readyToUploadMessage'),\n            type: this.getFileType(file.name),\n            validationMessages: this.validatedFileSize(file.size),\n            statusCode: '1',\n            id: getUniqueID(file.name.substring(0, file.name.lastIndexOf('.'))) + '.' + this.getFileType(file.name)\n        };\n        /* istanbul ignore next */\n        if (paste) {\n            fileDetails.fileSource = 'paste';\n        }\n        fileDetails.status = fileDetails.validationMessages.minSize !== '' ? this.localizedTexts('invalidMinFileSize') :\n            fileDetails.validationMessages.maxSize !== '' ? this.localizedTexts('invalidMaxFileSize') : fileDetails.status;\n        if (fileDetails.validationMessages.minSize !== '' || fileDetails.validationMessages.maxSize !== '') {\n            fileDetails.statusCode = '0';\n        }\n        fileData.push(fileDetails);\n    };\n    Uploader.prototype._internalRenderSelect = function (eventArgs, fileData) {\n        if (!eventArgs.cancel) {\n            /* istanbul ignore next */\n            if (isBlazor()) {\n                this.currentRequestHeader = eventArgs.currentRequest;\n                this.customFormDatas = eventArgs.customFormData;\n            }\n            this.selectedFiles = this.selectedFiles.concat(fileData);\n            this.btnTabIndex = this.disableKeyboardNavigation ? '-1' : '0';\n            if (this.showFileList) {\n                if (eventArgs.isModified && eventArgs.modifiedFilesData.length > 0) {\n                    for (var j = 0; j < eventArgs.modifiedFilesData.length; j++) {\n                        for (var k = 0; k < fileData.length; k++) {\n                            if (eventArgs.modifiedFilesData[j].id === fileData[k].id) {\n                                eventArgs.modifiedFilesData[j].rawFile = fileData[k].rawFile;\n                            }\n                        }\n                    }\n                    var dataFiles = this.allTypes ? eventArgs.modifiedFilesData :\n                        this.checkExtension(eventArgs.modifiedFilesData);\n                    this.updateSortedFileList(dataFiles);\n                    this.filesData = dataFiles;\n                    if (!this.isForm || this.allowUpload()) {\n                        this.checkAutoUpload(dataFiles);\n                    }\n                }\n                else {\n                    this.createFileList(fileData, true);\n                    if (!(this.isBlazorSaveUrl || this.isBlazorTemplate)) {\n                        this.filesData = this.filesData.concat(fileData);\n                    }\n                    if (!this.isForm || this.allowUpload()) {\n                        if (!(this.isBlazorSaveUrl || this.isBlazorTemplate)) {\n                            this.checkAutoUpload(fileData);\n                        }\n                    }\n                }\n                if (!isNullOrUndefined(eventArgs.progressInterval) && eventArgs.progressInterval !== '') {\n                    this.progressInterval = eventArgs.progressInterval;\n                }\n            }\n            else {\n                this.filesData = this.filesData.concat(fileData);\n                if (this.isBlazorSaveUrl) {\n                    // tslint:disable-next-line\n                    this.interopAdaptor.invokeMethodAsync('updateServerFileData', this.filesData, this.isForm);\n                }\n                if (this.autoUpload) {\n                    this.upload(this.filesData, true);\n                }\n            }\n            this.raiseActionComplete();\n            this.isFirstFileOnSelection = true;\n        }\n    };\n    Uploader.prototype.allowUpload = function () {\n        var allowFormUpload = false;\n        if (this.isForm && (!isNullOrUndefined(this.asyncSettings.saveUrl) && this.asyncSettings.saveUrl !== '')) {\n            allowFormUpload = true;\n        }\n        return allowFormUpload;\n    };\n    Uploader.prototype.isFormUpload = function () {\n        var isFormUpload = false;\n        if (this.isForm && ((isNullOrUndefined(this.asyncSettings.saveUrl) || this.asyncSettings.saveUrl === '')\n            && (isNullOrUndefined(this.asyncSettings.removeUrl) || this.asyncSettings.removeUrl === ''))) {\n            isFormUpload = true;\n        }\n        return isFormUpload;\n    };\n    Uploader.prototype.clearData = function (singleUpload) {\n        if (!isNullOrUndefined(this.listParent) && !(this.isBlazorSaveUrl || this.isBlazorTemplate)) {\n            detach(this.listParent);\n            this.listParent = null;\n        }\n        if (this.browserName !== 'msie' && !singleUpload) {\n            this.element.value = '';\n        }\n        this.fileList = [];\n        this.filesData = [];\n        if (this.isBlazorSaveUrl || this.isBlazorTemplate) {\n            // tslint:disable-next-line\n            this.interopAdaptor.invokeMethodAsync('clearAll');\n        }\n        else {\n            this.removeActionButtons();\n        }\n    };\n    Uploader.prototype.updateSortedFileList = function (filesData) {\n        var previousListClone = this.createElement('div', { id: 'clonewrapper' });\n        var added = -1;\n        var removedList;\n        if (this.listParent) {\n            for (var i = 0; i < this.listParent.querySelectorAll('li').length; i++) {\n                var liElement = this.listParent.querySelectorAll('li')[i];\n                previousListClone.appendChild(liElement.cloneNode(true));\n            }\n            removedList = this.listParent.querySelectorAll('li');\n            for (var _i = 0, removedList_1 = removedList; _i < removedList_1.length; _i++) {\n                var item = removedList_1[_i];\n                detach(item);\n            }\n            this.removeActionButtons();\n            var oldList = [].slice.call(previousListClone.childNodes);\n            detach(this.listParent);\n            this.listParent = null;\n            this.fileList = [];\n            this.createParentUL();\n            for (var index = 0; index < filesData.length; index++) {\n                for (var j = 0; j < this.filesData.length; j++) {\n                    if (this.filesData[j].name === filesData[index].name) {\n                        this.listParent.appendChild(oldList[j]);\n                        EventHandler.add(oldList[j].querySelector('.e-icons'), 'click', this.removeFiles, this);\n                        this.fileList.push(oldList[j]);\n                        added = index;\n                    }\n                }\n                if (added !== index) {\n                    this.createFileList([filesData[index]]);\n                }\n            }\n        }\n        else {\n            this.createFileList(filesData);\n        }\n    };\n    Uploader.prototype.isBlank = function (str) {\n        return (!str || /^\\s*$/.test(str));\n    };\n    Uploader.prototype.checkExtension = function (files) {\n        var dropFiles = files;\n        if (!this.isBlank(this.allowedExtensions)) {\n            var allowedExtensions = [];\n            var extensions = this.allowedExtensions.split(',');\n            for (var _i = 0, extensions_1 = extensions; _i < extensions_1.length; _i++) {\n                var extension = extensions_1[_i];\n                allowedExtensions.push(extension.trim().toLocaleLowerCase());\n            }\n            for (var i = 0; i < files.length; i++) {\n                if (allowedExtensions.indexOf(('.' + files[i].type).toLocaleLowerCase()) === -1) {\n                    files[i].status = this.localizedTexts('invalidFileType');\n                    files[i].statusCode = '0';\n                }\n            }\n        }\n        return dropFiles;\n    };\n    Uploader.prototype.validatedFileSize = function (fileSize) {\n        var minSizeError = '';\n        var maxSizeError = '';\n        if (fileSize < this.minFileSize) {\n            minSizeError = this.localizedTexts('invalidMinFileSize');\n        }\n        else if (fileSize > this.maxFileSize) {\n            maxSizeError = this.localizedTexts('invalidMaxFileSize');\n        }\n        else {\n            minSizeError = '';\n            maxSizeError = '';\n        }\n        var errorMessage = { minSize: minSizeError, maxSize: maxSizeError };\n        return errorMessage;\n    };\n    Uploader.prototype.isPreLoadFile = function (fileData) {\n        var isPreload = false;\n        for (var i = 0; i < this.files.length; i++) {\n            if (this.files[i].name === fileData.name.slice(0, fileData.name.lastIndexOf('.')) && this.files[i].type === fileData.type) {\n                isPreload = true;\n            }\n        }\n        return isPreload;\n    };\n    Uploader.prototype.createCustomfileList = function (fileData) {\n        this.createParentUL();\n        resetBlazorTemplate(this.element.id + 'Template', 'Template');\n        for (var _i = 0, fileData_1 = fileData; _i < fileData_1.length; _i++) {\n            var listItem = fileData_1[_i];\n            var liElement = this.createElement('li', { className: FILE, attrs: { 'data-file-name': listItem.name } });\n            this.uploadTemplateFn = this.templateComplier(this.template);\n            var fromElements = [].slice.call(this.uploadTemplateFn(listItem, this, 'template', this.element.id + 'Template', this.isStringTemplate));\n            var index = fileData.indexOf(listItem);\n            append(fromElements, liElement);\n            var eventArgs = {\n                element: liElement,\n                fileInfo: listItem,\n                index: index,\n                isPreload: this.isPreLoadFile(listItem)\n            };\n            var eventsArgs = {\n                element: liElement,\n                fileInfo: listItem,\n                index: index,\n                isPreload: this.isPreLoadFile(listItem)\n            };\n            this.trigger('rendering', eventArgs);\n            this.trigger('fileListRendering', eventsArgs);\n            this.listParent.appendChild(liElement);\n            this.fileList.push(liElement);\n        }\n        updateBlazorTemplate(this.element.id + 'Template', 'Template', this, false);\n    };\n    Uploader.prototype.createParentUL = function () {\n        if (isNullOrUndefined(this.listParent)) {\n            this.listParent = this.createElement('ul', { className: LIST_PARENT });\n            this.uploadWrapper.appendChild(this.listParent);\n        }\n    };\n    Uploader.prototype.formFileList = function (fileData, files) {\n        var fileList = this.createElement('li', { className: FILE });\n        fileList.setAttribute('data-files-count', fileData.length + '');\n        var fileContainer = this.createElement('span', { className: TEXT_CONTAINER });\n        var statusMessage;\n        for (var _i = 0, fileData_2 = fileData; _i < fileData_2.length; _i++) {\n            var listItem = fileData_2[_i];\n            var fileNameEle = this.createElement('span', { className: FILE_NAME });\n            fileNameEle.innerHTML = this.getFileNameOnly(listItem.name);\n            var fileTypeEle = this.createElement('span', { className: FILE_TYPE });\n            fileTypeEle.innerHTML = '.' + this.getFileType(listItem.name);\n            if (!this.enableRtl) {\n                fileContainer.appendChild(fileNameEle);\n                fileContainer.appendChild(fileTypeEle);\n            }\n            else {\n                var rtlContainer = this.createElement('span', { className: RTL_CONTAINER });\n                rtlContainer.appendChild(fileTypeEle);\n                rtlContainer.appendChild(fileNameEle);\n                fileContainer.appendChild(rtlContainer);\n            }\n            this.truncateName(fileNameEle);\n            statusMessage = this.formValidateFileInfo(listItem, fileList);\n        }\n        fileList.appendChild(fileContainer);\n        this.setListToFileInfo(fileData, fileList);\n        var index = this.listParent.querySelectorAll('li').length;\n        var infoEle = this.createElement('span');\n        if (fileList.classList.contains(INVALID_FILE)) {\n            infoEle.classList.add(STATUS);\n            infoEle.classList.add(INVALID_FILE);\n            infoEle.innerText = fileData.length > 1 ? this.localizedTexts('invalidFileSelection') : statusMessage;\n        }\n        else {\n            infoEle.classList.add(fileData.length > 1 ? INFORMATION : FILE_SIZE);\n            infoEle.innerText = fileData.length > 1 ? this.localizedTexts('totalFiles') + ': ' + fileData.length + ' , '\n                + this.localizedTexts('size') + ': ' +\n                this.bytesToSize(this.getFileSize(fileData)) : this.bytesToSize(fileData[0].size);\n            this.createFormInput(fileData);\n        }\n        fileContainer.appendChild(infoEle);\n        if (isNullOrUndefined(fileList.querySelector('.e-icons'))) {\n            var iconElement = this.createElement('span', { className: 'e-icons', attrs: { 'tabindex': this.btnTabIndex } });\n            /* istanbul ignore next */\n            if (this.browserName === 'msie') {\n                iconElement.classList.add('e-msie');\n            }\n            iconElement.setAttribute('title', this.localizedTexts('remove'));\n            fileList.appendChild(fileContainer);\n            fileList.appendChild(iconElement);\n            EventHandler.add(iconElement, 'click', this.removeFiles, this);\n            iconElement.classList.add(REMOVE_ICON);\n        }\n        var eventArgs = {\n            element: fileList,\n            fileInfo: this.mergeFileInfo(fileData, fileList),\n            index: index,\n            isPreload: this.isPreLoadFile(this.mergeFileInfo(fileData, fileList))\n        };\n        var eventsArgs = {\n            element: fileList,\n            fileInfo: this.mergeFileInfo(fileData, fileList),\n            index: index,\n            isPreload: this.isPreLoadFile(this.mergeFileInfo(fileData, fileList))\n        };\n        this.trigger('rendering', eventArgs);\n        this.trigger('fileListRendering', eventsArgs);\n        this.listParent.appendChild(fileList);\n        this.fileList.push(fileList);\n    };\n    Uploader.prototype.formValidateFileInfo = function (listItem, fileList) {\n        var statusMessage = listItem.status;\n        var validationMessages = this.validatedFileSize(listItem.size);\n        if (validationMessages.minSize !== '' || validationMessages.maxSize !== '') {\n            this.addInvalidClass(fileList);\n            statusMessage = validationMessages.minSize !== '' ? this.localizedTexts('invalidMinFileSize') :\n                validationMessages.maxSize !== '' ? this.localizedTexts('invalidMaxFileSize') : statusMessage;\n        }\n        var typeValidationMessage = this.checkExtension(this.getFilesInArray(listItem))[0].status;\n        if (typeValidationMessage === this.localizedTexts('invalidFileType')) {\n            this.addInvalidClass(fileList);\n            statusMessage = typeValidationMessage;\n        }\n        return statusMessage;\n    };\n    Uploader.prototype.addInvalidClass = function (fileList) {\n        fileList.classList.add(INVALID_FILE);\n    };\n    Uploader.prototype.createFormInput = function (fileData) {\n        var inputElement = this.element.cloneNode(true);\n        inputElement.classList.add(HIDDEN_INPUT);\n        for (var _i = 0, fileData_3 = fileData; _i < fileData_3.length; _i++) {\n            var listItem = fileData_3[_i];\n            listItem.input = inputElement;\n        }\n        inputElement.setAttribute('name', this.uploaderName);\n        this.uploadWrapper.querySelector('.' + INPUT_WRAPPER).appendChild(inputElement);\n        if (this.browserName !== 'msie' && this.browserName !== 'edge') {\n            this.element.value = '';\n        }\n    };\n    Uploader.prototype.getFileSize = function (fileData) {\n        var fileSize = 0;\n        for (var _i = 0, fileData_4 = fileData; _i < fileData_4.length; _i++) {\n            var file = fileData_4[_i];\n            fileSize += file.size;\n        }\n        return fileSize;\n    };\n    Uploader.prototype.mergeFileInfo = function (fileData, fileList) {\n        var result = {\n            name: '',\n            rawFile: '',\n            size: 0,\n            status: '',\n            type: '',\n            validationMessages: { minSize: '', maxSize: '' },\n            statusCode: '1',\n            list: fileList\n        };\n        var fileNames = [];\n        var type = '';\n        for (var _i = 0, fileData_5 = fileData; _i < fileData_5.length; _i++) {\n            var listItem = fileData_5[_i];\n            fileNames.push(listItem.name);\n            type = listItem.type;\n        }\n        result.name = fileNames.join(', ');\n        result.size = this.getFileSize(fileData);\n        result.type = type;\n        result.status = this.statusForFormUpload(fileData, fileList);\n        return result;\n    };\n    Uploader.prototype.statusForFormUpload = function (fileData, fileList) {\n        var isValid = true;\n        var statusMessage;\n        for (var _i = 0, fileData_6 = fileData; _i < fileData_6.length; _i++) {\n            var listItem = fileData_6[_i];\n            statusMessage = listItem.status;\n            var validationMessages = this.validatedFileSize(listItem.size);\n            if (validationMessages.minSize !== '' || validationMessages.maxSize !== '') {\n                isValid = false;\n                statusMessage = validationMessages.minSize !== '' ? this.localizedTexts('invalidMinFileSize') :\n                    validationMessages.maxSize !== '' ? this.localizedTexts('invalidMaxFileSize') : statusMessage;\n            }\n            var typeValidationMessage = this.checkExtension(this.getFilesInArray(listItem))[0].status;\n            if (typeValidationMessage === this.localizedTexts('invalidFileType')) {\n                isValid = false;\n                statusMessage = typeValidationMessage;\n            }\n        }\n        if (!isValid) {\n            fileList.classList.add(INVALID_FILE);\n            statusMessage = fileData.length > 1 ? this.localizedTexts('invalidFileSelection') : statusMessage;\n        }\n        else {\n            statusMessage = this.localizedTexts('totalFiles') + ': ' + fileData.length + ' , '\n                + this.localizedTexts('size') + ': ' +\n                this.bytesToSize(this.getFileSize(fileData));\n        }\n        return statusMessage;\n    };\n    Uploader.prototype.formCustomFileList = function (fileData, files) {\n        this.createParentUL();\n        resetBlazorTemplate(this.element.id + 'Template', 'Template');\n        var fileList = this.createElement('li', { className: FILE });\n        fileList.setAttribute('data-files-count', fileData.length + '');\n        this.setListToFileInfo(fileData, fileList);\n        var result = this.mergeFileInfo(fileData, fileList);\n        fileList.setAttribute('data-file-name', result.name);\n        this.uploadTemplateFn = this.templateComplier(this.template);\n        var fromElements = [].slice.call(this.uploadTemplateFn(result, this, 'template', this.element.id + 'Template', this.isStringTemplate));\n        var index = this.listParent.querySelectorAll('li').length;\n        append(fromElements, fileList);\n        if (!fileList.classList.contains(INVALID_FILE)) {\n            this.createFormInput(fileData);\n        }\n        var eventArgs = {\n            element: fileList,\n            fileInfo: result,\n            index: index,\n            isPreload: this.isPreLoadFile(result)\n        };\n        var eventsArgs = {\n            element: fileList,\n            fileInfo: result,\n            index: index,\n            isPreload: this.isPreLoadFile(result)\n        };\n        this.trigger('rendering', eventArgs);\n        this.trigger('fileListRendering', eventsArgs);\n        this.listParent.appendChild(fileList);\n        this.fileList.push(fileList);\n        updateBlazorTemplate(this.element.id + 'Template', 'Template', this, false);\n    };\n    /**\n     * Create the file list for specified files data.\n     * @param { FileInfo[] } fileData - specifies the files data for file list creation.\n     * @returns void\n     */\n    Uploader.prototype.createFileList = function (fileData, isSelectedFile) {\n        if (this.isBlazorSaveUrl || this.isBlazorTemplate) {\n            var fileListData = (isSelectedFile) ? this.filesData = this.filesData.concat(fileData) : fileData;\n            // tslint:disable-next-line\n            this.interopAdaptor.invokeMethodAsync('createFileList', fileListData, this.isForm);\n        }\n        else {\n            this.createParentUL();\n            if (this.template !== '' && !isNullOrUndefined(this.template)) {\n                if (this.isFormUpload()) {\n                    this.uploadWrapper.classList.add(FORM_UPLOAD);\n                    this.formCustomFileList(fileData, this.element.files);\n                }\n                else {\n                    this.createCustomfileList(fileData);\n                }\n            }\n            else if (this.isFormUpload()) {\n                this.uploadWrapper.classList.add(FORM_UPLOAD);\n                this.formFileList(fileData, this.element.files);\n            }\n            else {\n                for (var _i = 0, fileData_7 = fileData; _i < fileData_7.length; _i++) {\n                    var listItem = fileData_7[_i];\n                    var liElement = this.createElement('li', {\n                        className: FILE,\n                        attrs: { 'data-file-name': listItem.name, 'data-files-count': '1' }\n                    });\n                    var textContainer = this.createElement('span', { className: TEXT_CONTAINER });\n                    var textElement = this.createElement('span', { className: FILE_NAME, attrs: { 'title': listItem.name } });\n                    textElement.innerHTML = this.getFileNameOnly(listItem.name);\n                    var fileExtension = this.createElement('span', { className: FILE_TYPE });\n                    fileExtension.innerHTML = '.' + this.getFileType(listItem.name);\n                    if (!this.enableRtl) {\n                        textContainer.appendChild(textElement);\n                        textContainer.appendChild(fileExtension);\n                    }\n                    else {\n                        var rtlContainer = this.createElement('span', { className: RTL_CONTAINER });\n                        rtlContainer.appendChild(fileExtension);\n                        rtlContainer.appendChild(textElement);\n                        textContainer.appendChild(rtlContainer);\n                    }\n                    var fileSize = this.createElement('span', { className: FILE_SIZE });\n                    fileSize.innerHTML = this.bytesToSize(listItem.size);\n                    textContainer.appendChild(fileSize);\n                    var statusElement = this.createElement('span', { className: STATUS });\n                    textContainer.appendChild(statusElement);\n                    statusElement.innerHTML = listItem.status;\n                    liElement.appendChild(textContainer);\n                    var iconElement = this.createElement('span', { className: ' e-icons',\n                        attrs: { 'tabindex': this.btnTabIndex } });\n                    /* istanbul ignore next */\n                    if (this.browserName === 'msie') {\n                        iconElement.classList.add('e-msie');\n                    }\n                    iconElement.setAttribute('title', this.localizedTexts('remove'));\n                    liElement.appendChild(iconElement);\n                    EventHandler.add(iconElement, 'click', this.removeFiles, this);\n                    if (listItem.statusCode === '2') {\n                        statusElement.classList.add(UPLOAD_SUCCESS);\n                        iconElement.classList.add(DELETE_ICON);\n                        iconElement.setAttribute('title', this.localizedTexts('delete'));\n                    }\n                    else if (listItem.statusCode !== '1') {\n                        statusElement.classList.remove(UPLOAD_SUCCESS);\n                        statusElement.classList.add(VALIDATION_FAILS);\n                    }\n                    if (this.autoUpload && listItem.statusCode === '1' && this.asyncSettings.saveUrl !== '') {\n                        statusElement.innerHTML = '';\n                    }\n                    if (!iconElement.classList.contains(DELETE_ICON)) {\n                        iconElement.classList.add(REMOVE_ICON);\n                    }\n                    var index = fileData.indexOf(listItem);\n                    var eventArgs = {\n                        element: liElement,\n                        fileInfo: listItem,\n                        index: index,\n                        isPreload: this.isPreLoadFile(listItem)\n                    };\n                    var eventsArgs = {\n                        element: liElement,\n                        fileInfo: listItem,\n                        index: index,\n                        isPreload: this.isPreLoadFile(listItem)\n                    };\n                    this.trigger('rendering', eventArgs);\n                    this.trigger('fileListRendering', eventsArgs);\n                    this.listParent.appendChild(liElement);\n                    this.fileList.push(liElement);\n                    this.truncateName(textElement);\n                    var preventActionComplete = this.flag;\n                    if (this.isPreLoadFile(listItem)) {\n                        this.flag = false;\n                        this.checkActionComplete(true);\n                        this.flag = preventActionComplete;\n                    }\n                }\n            }\n        }\n    };\n    Uploader.prototype.getSlicedName = function (nameElement) {\n        var text;\n        text = nameElement.textContent;\n        nameElement.dataset.tail = text.slice(text.length - 10);\n    };\n    Uploader.prototype.setListToFileInfo = function (fileData, fileList) {\n        for (var _i = 0, fileData_8 = fileData; _i < fileData_8.length; _i++) {\n            var listItem = fileData_8[_i];\n            listItem.list = fileList;\n        }\n    };\n    Uploader.prototype.truncateName = function (name) {\n        var nameElement = name;\n        if (this.browserName !== 'edge' && nameElement.offsetWidth < nameElement.scrollWidth) {\n            this.getSlicedName(nameElement);\n            /* istanbul ignore next */\n        }\n        else if (nameElement.offsetWidth + 1 < nameElement.scrollWidth) {\n            this.getSlicedName(nameElement);\n        }\n    };\n    Uploader.prototype.getFileType = function (name) {\n        var extension;\n        var index = name.lastIndexOf('.');\n        if (index >= 0) {\n            extension = name.substring(index + 1);\n        }\n        return extension ? extension : '';\n    };\n    Uploader.prototype.getFileNameOnly = function (name) {\n        var type = this.getFileType(name);\n        var names = name.split('.' + type);\n        return type = names[0];\n    };\n    Uploader.prototype.setInitialAttributes = function () {\n        if (this.initialAttr.accept) {\n            this.element.setAttribute('accept', this.initialAttr.accept);\n        }\n        if (this.initialAttr.disabled) {\n            this.element.setAttribute('disabled', 'disabled');\n        }\n        if (this.initialAttr.multiple) {\n            var newAttr = document.createAttribute('multiple');\n            this.element.setAttributeNode(newAttr);\n        }\n    };\n    Uploader.prototype.filterfileList = function (files) {\n        var filterFiles = [];\n        var li;\n        for (var i = 0; i < files.length; i++) {\n            li = this.getLiElement(files[i]);\n            if (!li.classList.contains(UPLOAD_SUCCESS)) {\n                filterFiles.push(files[i]);\n            }\n        }\n        return filterFiles;\n    };\n    Uploader.prototype.updateStatus = function (files, status, statusCode, updateLiStatus) {\n        if (updateLiStatus === void 0) { updateLiStatus = true; }\n        if (!(status === '' || isNullOrUndefined(status)) && !(statusCode === '' || isNullOrUndefined(statusCode))) {\n            if (this.isBlazorSaveUrl) {\n                for (var i = 0; i < this.filesData.length; i++) {\n                    if (this.filesData[i].name === files.name) {\n                        this.filesData[i].status = status;\n                        this.filesData[i].statusCode = statusCode;\n                    }\n                }\n            }\n            else {\n                files.status = status;\n                files.statusCode = statusCode;\n            }\n        }\n        if (updateLiStatus) {\n            var li = this.getLiElement(files);\n            if (!isNullOrUndefined(li)) {\n                if (!isNullOrUndefined(li.querySelector('.' + STATUS)) && !((status === '' || isNullOrUndefined(status)))) {\n                    li.querySelector('.' + STATUS).textContent = status;\n                }\n            }\n        }\n        return files;\n    };\n    Uploader.prototype.getLiElement = function (files) {\n        var index;\n        for (var i = 0; i < this.filesData.length; i++) {\n            if ((!isNullOrUndefined(this.filesData[i].id) && !isNullOrUndefined(files.id)) ? (this.filesData[i].name === files.name &&\n                this.filesData[i].id === files.id) : this.filesData[i].name === files.name) {\n                index = i;\n            }\n        }\n        return this.fileList[index];\n    };\n    Uploader.prototype.createProgressBar = function (liElement) {\n        var progressbarWrapper = this.createElement('span', { className: PROGRESS_WRAPPER });\n        var progressBar = this.createElement('progressbar', { className: PROGRESSBAR, attrs: { value: '0', max: '100' } });\n        var progressbarInnerWrapper = this.createElement('span', { className: PROGRESS_INNER_WRAPPER });\n        progressBar.setAttribute('style', 'width: 0%');\n        var progressbarText = this.createElement('span', { className: PROGRESSBAR_TEXT });\n        progressbarText.textContent = '0%';\n        progressbarInnerWrapper.appendChild(progressBar);\n        progressbarWrapper.appendChild(progressbarInnerWrapper);\n        progressbarWrapper.appendChild(progressbarText);\n        liElement.querySelector('.' + TEXT_CONTAINER).appendChild(progressbarWrapper);\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.updateProgressbar = function (e, li) {\n        if (!isNaN(Math.round((e.loaded / e.total) * 100)) && !isNullOrUndefined(li.querySelector('.' + PROGRESSBAR))) {\n            if (!isNullOrUndefined(this.progressInterval) && this.progressInterval !== '') {\n                var value = (Math.round((e.loaded / e.total) * 100)) % parseInt(this.progressInterval, 10);\n                if (value === 0 || value === 100) {\n                    this.changeProgressValue(li, Math.round((e.loaded / e.total) * 100).toString() + '%');\n                }\n            }\n            else {\n                this.changeProgressValue(li, Math.round((e.loaded / e.total) * 100).toString() + '%');\n            }\n        }\n    };\n    Uploader.prototype.changeProgressValue = function (li, progressValue) {\n        li.querySelector('.' + PROGRESSBAR).setAttribute('style', 'width:' + progressValue);\n        li.querySelector('.' + PROGRESSBAR_TEXT).textContent = progressValue;\n    };\n    Uploader.prototype.uploadInProgress = function (e, files, customUI, request) {\n        var li = this.getLiElement(files);\n        if (isNullOrUndefined(li) && (!customUI)) {\n            return;\n        }\n        if (!isNullOrUndefined(li)) {\n            /* istanbul ignore next */\n            if (files.statusCode === '5') {\n                this.cancelUploadingFile(files, e, request, li);\n            }\n            if (!(li.querySelectorAll('.' + PROGRESS_WRAPPER).length > 0) && li.querySelector('.' + STATUS)) {\n                li.querySelector('.' + STATUS).classList.add(UPLOAD_INPROGRESS);\n                this.createProgressBar(li);\n                this.updateProgressBarClasses(li, UPLOAD_INPROGRESS);\n                li.querySelector('.' + STATUS).classList.remove(UPLOAD_FAILED);\n            }\n            this.updateProgressbar(e, li);\n            var iconEle = li.querySelector('.' + REMOVE_ICON);\n            if (!isNullOrUndefined(iconEle)) {\n                iconEle.classList.add(ABORT_ICON, UPLOAD_INPROGRESS);\n                iconEle.setAttribute('title', this.localizedTexts('abort'));\n                iconEle.classList.remove(REMOVE_ICON);\n            }\n        }\n        else {\n            this.cancelUploadingFile(files, e, request);\n        }\n        var args = { e: e, operation: 'upload', file: this.updateStatus(files, this.localizedTexts('inProgress'), '3') };\n        this.trigger('progress', args);\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.cancelUploadingFile = function (files, e, request, li) {\n        var _this = this;\n        if (files.statusCode === '5') {\n            var eventArgs = {\n                event: e,\n                fileData: files,\n                cancel: false\n            };\n            this.trigger('canceling', eventArgs, function (eventArgs) {\n                if (eventArgs.cancel) {\n                    files.statusCode = '3';\n                    if (!isNullOrUndefined(li)) {\n                        var spinnerTarget = li.querySelector('.' + ABORT_ICON);\n                        if (!isNullOrUndefined(spinnerTarget)) {\n                            hideSpinner(spinnerTarget);\n                            detach(li.querySelector('.e-spinner-pane'));\n                        }\n                    }\n                }\n                else {\n                    request.emitError = false;\n                    request.httpRequest.abort();\n                    var formData = new FormData();\n                    if (files.statusCode === '5') {\n                        var name_2 = _this.element.getAttribute('name');\n                        formData.append(name_2, files.name);\n                        formData.append('cancel-uploading', files.name);\n                        var ajax = new Ajax(_this.asyncSettings.removeUrl, 'POST', true, null);\n                        ajax.emitError = false;\n                        ajax.onLoad = function (e) { _this.removecanceledFile(e, files); return {}; };\n                        ajax.send(formData);\n                    }\n                }\n            });\n        }\n    };\n    Uploader.prototype.removecanceledFile = function (e, file) {\n        var liElement = this.getLiElement(file);\n        if (liElement.querySelector('.' + RETRY_ICON) || isNullOrUndefined(liElement.querySelector('.' + ABORT_ICON))) {\n            return;\n        }\n        this.updateStatus(file, this.localizedTexts('fileUploadCancel'), '5');\n        this.renderFailureState(e, file, liElement);\n        var spinnerTarget = liElement.querySelector('.' + REMOVE_ICON);\n        if (!isNullOrUndefined(liElement)) {\n            hideSpinner(spinnerTarget);\n            detach(liElement.querySelector('.e-spinner-pane'));\n        }\n        var requestResponse = e && e.currentTarget ? this.getResponse(e) : null;\n        var args = { event: e, response: requestResponse, operation: 'cancel', file: file };\n        this.trigger('success', args);\n    };\n    Uploader.prototype.renderFailureState = function (e, file, liElement) {\n        var _this = this;\n        this.updateProgressBarClasses(liElement, UPLOAD_FAILED);\n        this.removeProgressbar(liElement, 'failure');\n        if (!isNullOrUndefined(liElement.querySelector('.e-file-status'))) {\n            liElement.querySelector('.e-file-status').classList.add(UPLOAD_FAILED);\n        }\n        var deleteIcon = liElement.querySelector('.' + ABORT_ICON);\n        if (isNullOrUndefined(deleteIcon)) {\n            return;\n        }\n        deleteIcon.classList.remove(ABORT_ICON, UPLOAD_INPROGRESS);\n        deleteIcon.classList.add(REMOVE_ICON);\n        deleteIcon.setAttribute('title', this.localizedTexts('remove'));\n        this.pauseButton = this.createElement('span', { className: 'e-icons e-file-reload-btn', attrs: { 'tabindex': this.btnTabIndex } });\n        deleteIcon.parentElement.insertBefore(this.pauseButton, deleteIcon);\n        this.pauseButton.setAttribute('title', this.localizedTexts('retry'));\n        var retryElement = liElement.querySelector('.' + RETRY_ICON);\n        /* istanbul ignore next */\n        retryElement.addEventListener('click', function (e) { _this.reloadcanceledFile(e, file, liElement, false); }, false);\n    };\n    Uploader.prototype.reloadcanceledFile = function (e, file, liElement, custom) {\n        file.statusCode = '1';\n        file.status = this.localizedTexts('readyToUploadMessage');\n        if (!custom) {\n            liElement.querySelector('.' + STATUS).classList.remove(UPLOAD_FAILED);\n            if (!isNullOrUndefined(liElement.querySelector('.' + RETRY_ICON))) {\n                detach(liElement.querySelector('.' + RETRY_ICON));\n            }\n            this.pauseButton = null;\n        }\n        /* istanbul ignore next */\n        liElement.classList.add(RESTRICT_RETRY);\n        this.upload([file]);\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.uploadComplete = function (e, file, customUI) {\n        var status = e.target;\n        if (status.readyState === 4 && status.status >= 200 && status.status <= 299) {\n            var li = this.getLiElement(file);\n            if (isNullOrUndefined(li) && (!customUI || isNullOrUndefined(customUI))) {\n                return;\n            }\n            if (!isNullOrUndefined(li)) {\n                this.updateProgressBarClasses(li, UPLOAD_SUCCESS);\n                this.removeProgressbar(li, 'success');\n                var iconEle = li.querySelector('.' + ABORT_ICON);\n                if (!isNullOrUndefined(iconEle)) {\n                    iconEle.classList.add(DELETE_ICON);\n                    iconEle.setAttribute('title', this.localizedTexts('delete'));\n                    iconEle.classList.remove(ABORT_ICON);\n                    iconEle.classList.remove(UPLOAD_INPROGRESS);\n                }\n            }\n            this.raiseSuccessEvent(e, file);\n        }\n        else {\n            this.uploadFailed(e, file);\n        }\n    };\n    Uploader.prototype.getResponse = function (e) {\n        // tslint:disable-next-line\n        var target = e.currentTarget;\n        var response = {\n            readyState: target.readyState,\n            statusCode: target.status,\n            statusText: target.statusText,\n            headers: target.getAllResponseHeaders(),\n            withCredentials: target.withCredentials\n        };\n        return response;\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.serverRemoveIconBindEvent = function () {\n        if (this.uploadWrapper && this.isBlazorSaveUrl) {\n            var iconElement = [].slice.call(this.uploadWrapper.querySelectorAll('ul li'));\n            for (var i = 0; i < iconElement.length; i++) {\n                var removeIconEle = (iconElement[i]) ? iconElement[i].querySelector('.e-icons') : null;\n                if (removeIconEle) {\n                    EventHandler.remove(removeIconEle, 'click', this.removeFiles);\n                    EventHandler.add(removeIconEle, 'click', this.removeFiles, this);\n                }\n            }\n        }\n    };\n    Uploader.prototype.raiseSuccessEvent = function (e, file) {\n        var _this = this;\n        var response = e && e.currentTarget ? this.getResponse(e) : null;\n        var statusMessage = this.localizedTexts('uploadSuccessMessage');\n        var args = {\n            e: e, response: response, operation: 'upload', file: this.updateStatus(file, statusMessage, '2', false), statusText: statusMessage\n        };\n        if (!this.isBlazorSaveUrl) {\n            var liElement = this.getLiElement(file);\n            if (!isNullOrUndefined(liElement)) {\n                var spinnerEle = liElement.querySelector('.' + SPINNER_PANE);\n                if (!isNullOrUndefined(spinnerEle)) {\n                    hideSpinner(liElement);\n                    detach(spinnerEle);\n                }\n            }\n        }\n        this.trigger('success', args, function (args) {\n            // tslint:disable-next-line\n            _this.updateStatus(file, args.statusText, '2');\n            _this.uploadedFilesData.push(file);\n            if (!_this.isBlazorSaveUrl) {\n                _this.trigger('change', { file: _this.uploadedFilesData });\n            }\n            _this.checkActionButtonStatus();\n            if (_this.fileList.length > 0) {\n                if ((!(_this.getLiElement(file)).classList.contains(RESTRICT_RETRY))) {\n                    _this.uploadSequential();\n                    _this.checkActionComplete(true);\n                }\n                else {\n                    /* istanbul ignore next */\n                    (_this.getLiElement(file)).classList.remove(RESTRICT_RETRY);\n                }\n            }\n        });\n    };\n    Uploader.prototype.uploadFailed = function (e, file) {\n        var _this = this;\n        var li = this.getLiElement(file);\n        var response = e && e.currentTarget ? this.getResponse(e) : null;\n        var statusMessage = this.localizedTexts('uploadFailedMessage');\n        var args = {\n            e: e, response: response, operation: 'upload', file: this.updateStatus(file, statusMessage, '0', false), statusText: statusMessage\n        };\n        if (!isNullOrUndefined(li)) {\n            this.renderFailureState(e, file, li);\n        }\n        this.trigger('failure', args, function (args) {\n            // tslint:disable-next-line\n            _this.updateStatus(file, args.statusText, '0');\n            _this.checkActionButtonStatus();\n            _this.uploadSequential();\n            _this.checkActionComplete(true);\n        });\n    };\n    Uploader.prototype.uploadSequential = function () {\n        if (this.sequentialUpload) {\n            if (this.autoUpload) {\n                /* istanbul ignore next */\n                this.checkAutoUpload(this.filesData);\n            }\n            else {\n                this.uploadButtonClick();\n            }\n        }\n    };\n    Uploader.prototype.checkActionComplete = function (increment) {\n        increment ? ++this.actionCompleteCount : --this.actionCompleteCount;\n        this.raiseActionComplete();\n    };\n    Uploader.prototype.raiseActionComplete = function () {\n        if ((this.filesData.length === this.actionCompleteCount) && this.flag) {\n            this.flag = false;\n            var eventArgs = {\n                fileData: []\n            };\n            eventArgs.fileData = this.getSelectedFileStatus(this.selectedFiles);\n            this.trigger('actionComplete', eventArgs);\n        }\n    };\n    Uploader.prototype.getSelectedFileStatus = function (selectedFiles) {\n        var matchFiles = [];\n        var matchFilesIndex = 0;\n        for (var selectFileIndex = 0; selectFileIndex < selectedFiles.length; selectFileIndex++) {\n            var selectedFileData = selectedFiles[selectFileIndex];\n            for (var fileDataIndex = 0; fileDataIndex < this.filesData.length; fileDataIndex++) {\n                if (this.filesData[fileDataIndex].name === selectedFileData.name) {\n                    matchFiles[matchFilesIndex] = this.filesData[fileDataIndex];\n                    ++matchFilesIndex;\n                }\n            }\n        }\n        return matchFiles;\n    };\n    Uploader.prototype.updateProgressBarClasses = function (li, className) {\n        var progressBar = li.querySelector('.' + PROGRESSBAR);\n        if (!isNullOrUndefined(progressBar)) {\n            progressBar.classList.add(className);\n        }\n    };\n    Uploader.prototype.removeProgressbar = function (li, callType) {\n        var _this = this;\n        if (!isNullOrUndefined(li.querySelector('.' + PROGRESS_WRAPPER))) {\n            this.progressAnimation = new Animation({ duration: 1250 });\n            this.progressAnimation.animate(li.querySelector('.' + PROGRESS_WRAPPER), { name: 'FadeOut' });\n            this.progressAnimation.animate(li.querySelector('.' + PROGRESSBAR_TEXT), { name: 'FadeOut' });\n            setTimeout(function () { _this.animateProgressBar(li, callType); }, 750);\n        }\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.animateProgressBar = function (li, callType) {\n        if (callType === 'success') {\n            li.classList.add(UPLOAD_SUCCESS);\n            if (!isNullOrUndefined(li.querySelector('.' + STATUS))) {\n                li.querySelector('.' + STATUS).classList.remove(UPLOAD_INPROGRESS);\n                this.progressAnimation.animate(li.querySelector('.' + STATUS), { name: 'FadeIn' });\n                li.querySelector('.' + STATUS).classList.add(UPLOAD_SUCCESS);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(li.querySelector('.' + STATUS))) {\n                li.querySelector('.' + STATUS).classList.remove(UPLOAD_INPROGRESS);\n                this.progressAnimation.animate(li.querySelector('.' + STATUS), { name: 'FadeIn' });\n                li.querySelector('.' + STATUS).classList.add(UPLOAD_FAILED);\n            }\n        }\n        if (li.querySelector('.' + PROGRESS_WRAPPER)) {\n            detach(li.querySelector('.' + PROGRESS_WRAPPER));\n        }\n    };\n    Uploader.prototype.setExtensions = function (extensions) {\n        if (extensions !== '' && !isNullOrUndefined(extensions)) {\n            this.element.setAttribute('accept', extensions);\n        }\n        else {\n            this.element.removeAttribute('accept');\n        }\n    };\n    Uploader.prototype.templateComplier = function (uploadTemplate) {\n        if (uploadTemplate) {\n            var exception = void 0;\n            try {\n                if (document.querySelectorAll(uploadTemplate).length) {\n                    return compile(document.querySelector(uploadTemplate).innerHTML.trim());\n                }\n            }\n            catch (exception) {\n                return compile(uploadTemplate);\n            }\n        }\n        return undefined;\n    };\n    Uploader.prototype.setRTL = function () {\n        this.enableRtl ? addClass([this.uploadWrapper], RTL) : removeClass([this.uploadWrapper], RTL);\n    };\n    Uploader.prototype.localizedTexts = function (localeText) {\n        this.l10n.setLocale(this.locale);\n        return this.l10n.getConstant(localeText);\n    };\n    Uploader.prototype.setControlStatus = function () {\n        if (!this.enabled) {\n            this.uploadWrapper.classList.add(DISABLED);\n            this.element.setAttribute('disabled', 'disabled');\n            this.browseButton.setAttribute('disabled', 'disabled');\n            if (!isNullOrUndefined(this.clearButton)) {\n                this.clearButton.setAttribute('disabled', 'disabled');\n            }\n            if (!isNullOrUndefined(this.uploadButton)) {\n                this.uploadButton.setAttribute('disabled', 'disabled');\n            }\n        }\n        else {\n            if (this.uploadWrapper.classList.contains(DISABLED)) {\n                this.uploadWrapper.classList.remove(DISABLED);\n            }\n            if (!isNullOrUndefined(this.browseButton) && this.element.hasAttribute('disabled')) {\n                this.element.removeAttribute('disabled');\n                this.browseButton.removeAttribute('disabled');\n            }\n            if (!isNullOrUndefined(this.clearButton) && this.clearButton.hasAttribute('disabled')) {\n                this.clearButton.removeAttribute('disabled');\n            }\n            if (!isNullOrUndefined(this.uploadButton) && this.uploadButton.hasAttribute('disabled')) {\n                this.uploadButton.hasAttribute('disabled');\n            }\n        }\n    };\n    Uploader.prototype.checkHTMLAttributes = function (isDynamic) {\n        var attributes = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['accept', 'multiple', 'disabled'];\n        for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n            var prop = attributes_1[_i];\n            if (!isNullOrUndefined(this.element.getAttribute(prop))) {\n                switch (prop) {\n                    case 'accept':\n                        // tslint:disable-next-line\n                        if ((isNullOrUndefined(this.uploaderOptions) || (this.uploaderOptions['allowedExtensions'] === undefined))\n                            || isDynamic) {\n                            this.setProperties({ allowedExtensions: this.element.getAttribute('accept') }, !isDynamic);\n                            this.initialAttr.accept = this.allowedExtensions;\n                        }\n                        break;\n                    case 'multiple':\n                        // tslint:disable-next-line\n                        if ((isNullOrUndefined(this.uploaderOptions) || (this.uploaderOptions['multiple'] === undefined)) || isDynamic) {\n                            var isMutiple = this.element.getAttribute(prop) === 'multiple' ||\n                                this.element.getAttribute(prop) === '' || this.element.getAttribute(prop) === 'true' ? true : false;\n                            this.setProperties({ multiple: isMutiple }, !isDynamic);\n                            this.initialAttr.multiple = true;\n                        }\n                        break;\n                    case 'disabled':\n                        // tslint:disable-next-line\n                        if ((isNullOrUndefined(this.uploaderOptions) || (this.uploaderOptions['enabled'] === undefined)) || isDynamic) {\n                            var isDisabled = this.element.getAttribute(prop) === 'disabled' ||\n                                this.element.getAttribute(prop) === '' || this.element.getAttribute(prop) === 'true' ? false : true;\n                            this.setProperties({ enabled: isDisabled }, !isDynamic);\n                            this.initialAttr.disabled = true;\n                        }\n                }\n            }\n        }\n    };\n    Uploader.prototype.chunkUpload = function (file, custom, fileIndex) {\n        var start = 0;\n        var end = Math.min(this.asyncSettings.chunkSize, file.size);\n        var index = 0;\n        var blob = file.rawFile.slice(start, end);\n        var metaData = { chunkIndex: index, blob: blob, file: file, start: start, end: end, retryCount: 0, request: null };\n        this.sendRequest(file, metaData, custom, fileIndex);\n    };\n    Uploader.prototype.sendRequest = function (file, metaData, custom, fileIndex) {\n        var _this = this;\n        var formData = new FormData();\n        var cloneFile;\n        var blob = file.rawFile.slice(metaData.start, metaData.end);\n        formData.append('chunkFile', blob, file.name);\n        formData.append(this.uploaderName, blob, file.name);\n        formData.append('chunk-index', metaData.chunkIndex.toString());\n        formData.append('chunkIndex', metaData.chunkIndex.toString());\n        var totalChunk = Math.max(Math.ceil(file.size / this.asyncSettings.chunkSize), 1);\n        formData.append('total-chunk', totalChunk.toString());\n        formData.append('totalChunk', totalChunk.toString());\n        var ajax = new Ajax({ url: this.asyncSettings.saveUrl, type: 'POST', async: true, contentType: null });\n        ajax.emitError = false;\n        ajax.onLoad = function (e) { _this.chunkUploadComplete(e, metaData, custom); return {}; };\n        ajax.onUploadProgress = function (e) {\n            _this.chunkUploadInProgress(e, metaData, custom);\n            return {};\n        };\n        var eventArgs = {\n            fileData: file,\n            customFormData: [],\n            cancel: false,\n            chunkSize: this.asyncSettings.chunkSize === 0 ? null : this.asyncSettings.chunkSize\n        };\n        ajax.beforeSend = function (e) {\n            eventArgs.currentRequest = ajax.httpRequest;\n            eventArgs.currentChunkIndex = metaData.chunkIndex;\n            /* istanbul ignore next */\n            if (isBlazor()) {\n                if (_this.currentRequestHeader) {\n                    _this.updateCustomheader(ajax.httpRequest, _this.currentRequestHeader);\n                }\n                if (_this.customFormDatas) {\n                    _this.updateFormData(formData, _this.customFormDatas);\n                }\n            }\n            if (eventArgs.currentChunkIndex === 0) {\n                // This event is currently not required but to avoid breaking changes for previous customer, we have included.\n                _this.trigger('uploading', eventArgs, function (eventArgs) {\n                    _this.uploadingEventCallback(formData, eventArgs, e, file);\n                });\n            }\n            else {\n                _this.trigger('chunkUploading', eventArgs, function (eventArgs) {\n                    _this.uploadingEventCallback(formData, eventArgs, e, file);\n                });\n            }\n        };\n        /* istanbul ignore next */\n        ajax.onError = function (e) { _this.chunkUploadFailed(e, metaData, custom); return {}; };\n        ajax.send(formData);\n        metaData.request = ajax;\n    };\n    Uploader.prototype.uploadingEventCallback = function (formData, eventArgs, e, file) {\n        if (eventArgs.cancel) {\n            this.eventCancelByArgs(e, eventArgs, file);\n        }\n        else {\n            this.updateFormData(formData, eventArgs.customFormData);\n        }\n    };\n    Uploader.prototype.eventCancelByArgs = function (e, eventArgs, file) {\n        var _this = this;\n        e.cancel = true;\n        if (eventArgs.fileData.statusCode === '5') {\n            return;\n        }\n        var liElement = this.getLiElement(eventArgs.fileData);\n        liElement.querySelector('.' + STATUS).innerHTML = this.localizedTexts('fileUploadCancel');\n        liElement.querySelector('.' + STATUS).classList.add(UPLOAD_FAILED);\n        eventArgs.fileData.statusCode = '5';\n        eventArgs.fileData.status = this.localizedTexts('fileUploadCancel');\n        this.pauseButton = this.createElement('span', { className: 'e-icons e-file-reload-btn', attrs: { 'tabindex': this.btnTabIndex } });\n        var removeIcon = liElement.querySelector('.' + REMOVE_ICON);\n        removeIcon.parentElement.insertBefore(this.pauseButton, removeIcon);\n        this.pauseButton.setAttribute('title', this.localizedTexts('retry'));\n        /* istanbul ignore next */\n        this.pauseButton.addEventListener('click', function (e) { _this.reloadcanceledFile(e, file, liElement); }, false);\n        this.checkActionButtonStatus();\n    };\n    Uploader.prototype.checkChunkUpload = function () {\n        return (this.asyncSettings.chunkSize <= 0 || isNullOrUndefined(this.asyncSettings.chunkSize)) ? false : true;\n    };\n    Uploader.prototype.chunkUploadComplete = function (e, metaData, custom) {\n        var _this = this;\n        var response = e.target;\n        var liElement;\n        if (response.readyState === 4 && response.status >= 200 && response.status < 300) {\n            var requestResponse = e && e.currentTarget ? this.getResponse(e) : null;\n            var totalChunk = Math.max(Math.ceil(metaData.file.size / this.asyncSettings.chunkSize), 1);\n            var eventArgs = {\n                event: e,\n                file: metaData.file,\n                chunkIndex: metaData.chunkIndex,\n                totalChunk: totalChunk,\n                chunkSize: this.asyncSettings.chunkSize,\n                response: requestResponse\n            };\n            this.trigger('chunkSuccess', eventArgs);\n            if (isNullOrUndefined(custom) || !custom) {\n                liElement = this.getLiElement(metaData.file);\n            }\n            this.updateMetaData(metaData);\n            if (metaData.end === metaData.file.size) {\n                metaData.file.statusCode = '3';\n            }\n            if (metaData.file.statusCode === '5') {\n                var eventArgs_1 = { event: e, fileData: metaData.file, cancel: false };\n                this.trigger('canceling', eventArgs_1, function (eventArgs) {\n                    /* istanbul ignore next */\n                    if (eventArgs.cancel) {\n                        metaData.file.statusCode = '3';\n                        var spinnerTarget = liElement.querySelector('.' + ABORT_ICON);\n                        if (!isNullOrUndefined(liElement) && !isNullOrUndefined(spinnerTarget)) {\n                            hideSpinner(spinnerTarget);\n                            detach(liElement.querySelector('.e-spinner-pane'));\n                        }\n                        _this.sendNextRequest(metaData);\n                    }\n                    else {\n                        metaData.request.emitError = false;\n                        response.abort();\n                        var formData = new FormData();\n                        var name_3 = _this.element.getAttribute('name');\n                        formData.append(name_3, metaData.file.name);\n                        formData.append('cancel-uploading', metaData.file.name);\n                        formData.append('cancelUploading', metaData.file.name);\n                        var ajax = new Ajax(_this.asyncSettings.removeUrl, 'POST', true, null);\n                        ajax.emitError = false;\n                        ajax.onLoad = function (e) { _this.removeChunkFile(e, metaData, custom); return {}; };\n                        ajax.send(formData);\n                    }\n                });\n            }\n            else {\n                if ((totalChunk - 1) === metaData.chunkIndex && totalChunk > metaData.chunkIndex) {\n                    var index = this.pausedData.indexOf(metaData);\n                    if (index >= 0) {\n                        this.pausedData.splice(index, 1);\n                    }\n                    if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) || !custom) && liElement) {\n                        if (liElement) {\n                            detach(liElement.querySelector('.' + PAUSE_UPLOAD));\n                        }\n                        this.removeChunkProgressBar(metaData);\n                    }\n                    this.raiseSuccessEvent(e, metaData.file);\n                    return;\n                }\n                this.sendNextRequest(metaData);\n            }\n        }\n        else {\n            this.chunkUploadFailed(e, metaData);\n        }\n    };\n    Uploader.prototype.sendNextRequest = function (metaData) {\n        metaData.start = metaData.end;\n        metaData.end += this.asyncSettings.chunkSize;\n        metaData.end = Math.min(metaData.end, metaData.file.size);\n        metaData.chunkIndex += 1;\n        this.sendRequest(metaData.file, metaData);\n    };\n    Uploader.prototype.removeChunkFile = function (e, metaData, custom) {\n        if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) && !custom)) {\n            var liElement = this.getLiElement(metaData.file);\n            var deleteIcon = liElement.querySelector('.' + ABORT_ICON);\n            var spinnerTarget = deleteIcon;\n            this.updateStatus(metaData.file, this.localizedTexts('fileUploadCancel'), '5');\n            this.updateProgressBarClasses(liElement, UPLOAD_FAILED);\n            this.removeProgressbar(liElement, 'failure');\n            deleteIcon.classList.remove(ABORT_ICON);\n            deleteIcon.classList.add(REMOVE_ICON);\n            deleteIcon.setAttribute('title', this.localizedTexts('remove'));\n            var pauseIcon = liElement.querySelector('.' + PAUSE_UPLOAD);\n            pauseIcon.classList.add(RETRY_ICON);\n            pauseIcon.classList.remove(PAUSE_UPLOAD);\n            pauseIcon.setAttribute('title', this.localizedTexts('retry'));\n            if (!isNullOrUndefined(liElement) && !isNullOrUndefined(deleteIcon)) {\n                hideSpinner(spinnerTarget);\n                detach(liElement.querySelector('.e-spinner-pane'));\n            }\n        }\n    };\n    Uploader.prototype.pauseUpload = function (metaData, e, custom) {\n        metaData.file.statusCode = '4';\n        metaData.file.status = this.localizedTexts('pause');\n        this.updateMetaData(metaData);\n        var eventArgs = {\n            event: e ? e : null,\n            file: metaData.file,\n            chunkIndex: metaData.chunkIndex,\n            chunkCount: Math.round(metaData.file.size / this.asyncSettings.chunkSize),\n            chunkSize: this.asyncSettings.chunkSize\n        };\n        this.abortUpload(metaData, custom, eventArgs);\n    };\n    Uploader.prototype.abortUpload = function (metaData, custom, eventArgs) {\n        metaData.request.emitError = false;\n        metaData.request.httpRequest.abort();\n        var liElement = this.getLiElement(metaData.file);\n        if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) || !custom)) {\n            var targetElement = liElement.querySelector('.' + PAUSE_UPLOAD);\n            targetElement.classList.remove(PAUSE_UPLOAD);\n            targetElement.classList.add(RESUME_UPLOAD);\n            targetElement.setAttribute('title', this.localizedTexts('resume'));\n            targetElement.nextElementSibling.classList.add(REMOVE_ICON);\n            targetElement.nextElementSibling.classList.remove(ABORT_ICON);\n            targetElement.nextElementSibling.setAttribute('title', this.localizedTexts('remove'));\n        }\n        for (var i = 0; i < this.pausedData.length; i++) {\n            if (this.pausedData[i].file.name === metaData.file.name) {\n                this.pausedData.splice(i, 1);\n            }\n        }\n        this.pausedData.push(metaData);\n        this.trigger('pausing', eventArgs);\n    };\n    Uploader.prototype.resumeUpload = function (metaData, e, custom) {\n        var liElement = this.getLiElement(metaData.file);\n        var targetElement;\n        if (!isNullOrUndefined(liElement)) {\n            targetElement = liElement.querySelector('.' + RESUME_UPLOAD);\n        }\n        if (!isNullOrUndefined(targetElement) && (isNullOrUndefined(custom) || !custom)) {\n            targetElement.classList.remove(RESUME_UPLOAD);\n            targetElement.classList.add(PAUSE_UPLOAD);\n            targetElement.setAttribute('title', this.localizedTexts('pause'));\n            targetElement.nextElementSibling.classList.remove(REMOVE_ICON);\n            targetElement.nextElementSibling.classList.add(ABORT_ICON);\n            targetElement.nextElementSibling.setAttribute('title', this.localizedTexts('abort'));\n        }\n        metaData.file.status = this.localizedTexts('inProgress');\n        metaData.file.statusCode = '3';\n        this.updateMetaData(metaData);\n        var eventArgs = {\n            event: e ? e : null,\n            file: metaData.file,\n            chunkIndex: metaData.chunkIndex,\n            chunkCount: Math.round(metaData.file.size / this.asyncSettings.chunkSize),\n            chunkSize: this.asyncSettings.chunkSize\n        };\n        this.trigger('resuming', eventArgs);\n        for (var i = 0; i < this.pausedData.length; i++) {\n            if (this.pausedData[i].end === this.pausedData[i].file.size) {\n                this.chunkUploadComplete(e, metaData, custom);\n            }\n            else {\n                if (this.pausedData[i].file.name === metaData.file.name) {\n                    this.pausedData[i].start = this.pausedData[i].end;\n                    this.pausedData[i].end = this.pausedData[i].end + this.asyncSettings.chunkSize;\n                    this.pausedData[i].end = Math.min(this.pausedData[i].end, this.pausedData[i].file.size);\n                    this.pausedData[i].chunkIndex = this.pausedData[i].chunkIndex + 1;\n                    this.sendRequest(this.pausedData[i].file, this.pausedData[i], custom);\n                }\n            }\n        }\n    };\n    Uploader.prototype.updateMetaData = function (metaData) {\n        if (this.uploadMetaData.indexOf(metaData) === -1) {\n            this.uploadMetaData.push(metaData);\n        }\n        else {\n            this.uploadMetaData.splice(this.uploadMetaData.indexOf(metaData), 1);\n            this.uploadMetaData.push(metaData);\n        }\n    };\n    Uploader.prototype.removeChunkProgressBar = function (metaData) {\n        var liElement = this.getLiElement(metaData.file);\n        if (!isNullOrUndefined(liElement)) {\n            this.updateProgressBarClasses(liElement, UPLOAD_SUCCESS);\n            this.removeProgressbar(liElement, 'success');\n            var cancelButton = liElement.querySelector('.' + ABORT_ICON);\n            if (!isNullOrUndefined(cancelButton)) {\n                cancelButton.classList.add(DELETE_ICON);\n                cancelButton.setAttribute('title', this.localizedTexts('delete'));\n                cancelButton.classList.remove(ABORT_ICON, UPLOAD_INPROGRESS);\n            }\n        }\n    };\n    Uploader.prototype.chunkUploadFailed = function (e, metaData, custom) {\n        var _this = this;\n        var chunkCount = Math.max(Math.ceil(metaData.file.size / this.asyncSettings.chunkSize), 1);\n        var liElement;\n        if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) || !custom)) {\n            liElement = this.getLiElement(metaData.file);\n        }\n        var requestResponse = e && e.currentTarget ? this.getResponse(e) : null;\n        var eventArgs = {\n            event: e,\n            file: metaData.file,\n            chunkIndex: metaData.chunkIndex,\n            totalChunk: chunkCount,\n            chunkSize: this.asyncSettings.chunkSize,\n            cancel: false,\n            response: requestResponse\n        };\n        this.trigger('chunkFailure', eventArgs, function (eventArgs) {\n            // To prevent triggering of failure event\n            // tslint:disable-next-line\n            if (!eventArgs.cancel) {\n                if (metaData.retryCount < _this.asyncSettings.retryCount) {\n                    setTimeout(function () { _this.retryRequest(liElement, metaData, custom); }, _this.asyncSettings.retryAfterDelay);\n                }\n                else {\n                    if (!isNullOrUndefined(liElement)) {\n                        var pauseButton = liElement.querySelector('.' + PAUSE_UPLOAD) ?\n                            liElement.querySelector('.' + PAUSE_UPLOAD) : liElement.querySelector('.' + RESUME_UPLOAD);\n                        if (!isNullOrUndefined(pauseButton)) {\n                            pauseButton.classList.add(RETRY_ICON);\n                            pauseButton.classList.remove(PAUSE_UPLOAD, RESUME_UPLOAD);\n                        }\n                        _this.updateProgressBarClasses(liElement, UPLOAD_FAILED);\n                        _this.removeProgressbar(liElement, 'failure');\n                        liElement.querySelector('.e-icons').classList.remove(UPLOAD_INPROGRESS);\n                        var iconElement = liElement.querySelector('.' + ABORT_ICON) ?\n                            liElement.querySelector('.' + ABORT_ICON) : liElement.querySelector('.' + REMOVE_ICON);\n                        iconElement.classList.remove(ABORT_ICON);\n                        if (!isNullOrUndefined(liElement.querySelector('.' + PAUSE_UPLOAD))) {\n                            detach(liElement.querySelector('.' + PAUSE_UPLOAD));\n                        }\n                        if (metaData.start > 0) {\n                            iconElement.classList.add(DELETE_ICON);\n                            iconElement.setAttribute('title', _this.localizedTexts('delete'));\n                        }\n                        else {\n                            iconElement.classList.add(REMOVE_ICON);\n                            iconElement.setAttribute('title', _this.localizedTexts('remove'));\n                        }\n                    }\n                    metaData.retryCount = 0;\n                    var file_1 = metaData.file;\n                    var failureMessage = _this.localizedTexts('uploadFailedMessage');\n                    var args = {\n                        e: e, response: requestResponse,\n                        operation: 'upload',\n                        file: _this.updateStatus(file_1, failureMessage, '0', false),\n                        statusText: failureMessage\n                    };\n                    _this.trigger('failure', args, function (args) {\n                        // tslint:disable-next-line\n                        _this.updateStatus(file_1, args.statusText, '0');\n                        _this.uploadSequential();\n                        _this.checkActionComplete(true);\n                    });\n                }\n            }\n        });\n    };\n    Uploader.prototype.retryRequest = function (liElement, metaData, custom) {\n        if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) || !custom) && liElement) {\n            this.updateProgressBarClasses(liElement, UPLOAD_FAILED);\n        }\n        metaData.retryCount += 1;\n        this.sendRequest(metaData.file, metaData);\n    };\n    Uploader.prototype.checkPausePlayAction = function (e) {\n        var targetElement = e.target;\n        var selectedElement = e.target.parentElement;\n        var index = this.fileList.indexOf(selectedElement);\n        var fileData = this.filesData[index];\n        var metaData = this.getCurrentMetaData(fileData);\n        if (targetElement.classList.contains(PAUSE_UPLOAD)) {\n            /* istanbul ignore next */\n            this.pauseUpload(metaData, e);\n        }\n        else if (targetElement.classList.contains(RESUME_UPLOAD)) {\n            /* istanbul ignore next */\n            this.resumeUpload(metaData, e);\n        }\n        else if (targetElement.classList.contains(RETRY_ICON)) {\n            if (metaData.file.status === this.localizedTexts('fileUploadCancel')) {\n                this.retryUpload(metaData, false);\n            }\n            else {\n                this.retryUpload(metaData, true);\n            }\n        }\n    };\n    Uploader.prototype.retryUpload = function (metaData, fromcanceledStage) {\n        if (fromcanceledStage) {\n            metaData.end = metaData.end + this.asyncSettings.chunkSize;\n            metaData.start = metaData.start + this.asyncSettings.chunkSize;\n            this.sendRequest(metaData.file, metaData);\n        }\n        else {\n            metaData.file.statusCode = '1';\n            metaData.file.status = this.localizedTexts('readyToUploadMessage');\n            this.chunkUpload(metaData.file);\n        }\n        /* istanbul ignore next */\n        (this.getLiElement(metaData.file)).classList.add(RESTRICT_RETRY);\n    };\n    Uploader.prototype.chunkUploadInProgress = function (e, metaData, custom) {\n        var _this = this;\n        if (metaData.file.statusCode === '4') {\n            return;\n        }\n        if (metaData.file.statusCode !== '4' && metaData.file.statusCode !== '5') {\n            metaData.file.statusCode = '3';\n            metaData.file.status = this.localizedTexts('inProgress');\n        }\n        this.updateMetaData(metaData);\n        var liElement = this.getLiElement(metaData.file);\n        if (isNullOrUndefined(liElement)) {\n            return;\n        }\n        var target;\n        var retryElement = liElement.querySelector('.' + RETRY_ICON);\n        if (!isNullOrUndefined(retryElement)) {\n            retryElement.classList.add(PAUSE_UPLOAD);\n            retryElement.setAttribute('title', this.localizedTexts('pause'));\n            retryElement.classList.remove(RETRY_ICON);\n        }\n        if (!isNullOrUndefined(liElement)) {\n            if (!(liElement.querySelectorAll('.' + PROGRESS_WRAPPER).length > 0)) {\n                var statusElement = liElement.querySelector('.' + STATUS);\n                if (isNullOrUndefined(this.template)) {\n                    statusElement.classList.add(UPLOAD_INPROGRESS);\n                    statusElement.classList.remove(UPLOAD_FAILED);\n                    this.createProgressBar(liElement);\n                    this.updateProgressBarClasses(liElement, UPLOAD_INPROGRESS);\n                }\n                var clearIcon = liElement.querySelector('.' + REMOVE_ICON) ? liElement.querySelector('.' + REMOVE_ICON) :\n                    liElement.querySelector('.' + DELETE_ICON);\n                if (!isNullOrUndefined(clearIcon)) {\n                    clearIcon.classList.add(ABORT_ICON);\n                    clearIcon.setAttribute('title', this.localizedTexts('abort'));\n                    clearIcon.classList.remove(REMOVE_ICON);\n                }\n            }\n            if (!isNaN(Math.round((e.loaded / e.total) * 100)) && isNullOrUndefined(this.template) && metaData.file.statusCode !== '4') {\n                var loadedSize = (metaData.chunkIndex * this.asyncSettings.chunkSize);\n                var value = Math.min((((loadedSize + e.loaded) / metaData.file.size) * 100), 100);\n                this.changeProgressValue(liElement, Math.round(value).toString() + '%');\n            }\n            if (metaData.chunkIndex === 0) {\n                this.checkActionButtonStatus();\n            }\n        }\n        if (isNullOrUndefined(liElement.querySelector('.' + PAUSE_UPLOAD)) && isNullOrUndefined(this.template)) {\n            this.pauseButton = this.createElement('span', { className: 'e-icons e-file-pause-btn', attrs: { 'tabindex': this.btnTabIndex } });\n            if (this.browserName === 'msie') {\n                this.pauseButton.classList.add('e-msie');\n            }\n            var abortIcon = liElement.querySelector('.' + ABORT_ICON);\n            abortIcon.parentElement.insertBefore(this.pauseButton, abortIcon);\n            this.pauseButton.setAttribute('title', this.localizedTexts('pause'));\n            this.pauseButton.addEventListener('click', function (e) { _this.checkPausePlayAction(e); }, false);\n        }\n    };\n    /**\n     * It is used to convert bytes value into kilobytes or megabytes depending on the size based\n     * on [binary prefix](https://en.wikipedia.org/wiki/Binary_prefix).\n     * @param { number } bytes - specifies the file size in bytes.\n     * @returns string\n     */\n    Uploader.prototype.bytesToSize = function (bytes) {\n        var i = -1;\n        var size;\n        if (!bytes) {\n            return '0.0 KB';\n        }\n        do {\n            bytes = bytes / 1024;\n            i++;\n        } while (bytes > 99);\n        if (i >= 2) {\n            bytes = bytes * 1024;\n            i = 1;\n        }\n        return Math.max(bytes, 0).toFixed(1) + ' ' + ['KB', 'MB'][i];\n    };\n    /**\n     * Allows you to sort the file data alphabetically based on its file name clearly.\n     * @param { FileList } filesData - specifies the files data for upload.\n     * @returns File[]\n     */\n    /* istanbul ignore next */\n    Uploader.prototype.sortFileList = function (filesData) {\n        filesData = filesData ? filesData : this.sortFilesList;\n        var files = filesData;\n        var fileNames = [];\n        for (var i = 0; i < files.length; i++) {\n            fileNames.push(files[i].name);\n        }\n        var sortedFileNames = fileNames.sort();\n        var sortedFilesData = [];\n        var index = 0;\n        for (var _i = 0, sortedFileNames_1 = sortedFileNames; _i < sortedFileNames_1.length; _i++) {\n            var name_4 = sortedFileNames_1[_i];\n            for (var i = 0; i < files.length; i++) {\n                if (name_4 === files[i].name) {\n                    sortedFilesData.push(files[i]);\n                }\n            }\n        }\n        return sortedFilesData;\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     * @method destroy\n     * @return {void}.\n     */\n    Uploader.prototype.destroy = function () {\n        this.element.value = null;\n        if (!(this.isBlazorSaveUrl || this.isBlazorTemplate)) {\n            this.clearAll();\n        }\n        this.unWireEvents();\n        this.unBindDropEvents();\n        if (this.multiple) {\n            this.element.removeAttribute('multiple');\n        }\n        if (!this.enabled) {\n            this.element.removeAttribute('disabled');\n        }\n        this.element.removeAttribute('accept');\n        this.setInitialAttributes();\n        var attributes = ['aria-label', 'directory', 'webkitdirectory', 'tabindex'];\n        for (var _i = 0, attributes_2 = attributes; _i < attributes_2.length; _i++) {\n            var key = attributes_2[_i];\n            this.element.removeAttribute(key);\n        }\n        if (!this.isServerBlazor) {\n            if (!isNullOrUndefined(this.uploadWrapper)) {\n                this.uploadWrapper.parentElement.appendChild(this.element);\n                detach(this.uploadWrapper);\n            }\n            this.uploadWrapper = null;\n            _super.prototype.destroy.call(this);\n        }\n        else {\n            this.uploadWrapper = null;\n        }\n    };\n    /**\n     * Allows you to call the upload process manually by calling save URL action.\n     * To process the selected files (added in upload queue), pass an empty argument otherwise\n     * upload the specific file based on its argument.\n     * @param { FileInfo | FileInfo[] } files - specifies the files data for upload.\n     * @returns void\n     */\n    Uploader.prototype.upload = function (files, custom) {\n        var _this = this;\n        files = files ? files : this.filesData;\n        if (this.sequentialUpload && (this.isFirstFileOnSelection || custom)) {\n            this.sequenceUpload(files);\n        }\n        else {\n            var uploadFiles_1 = this.getFilesInArray(files);\n            var eventArgs = {\n                customFormData: [],\n                currentRequest: null,\n                cancel: false\n            };\n            this.trigger('beforeUpload', eventArgs, function (eventArgs) {\n                if (!eventArgs.cancel) {\n                    if (isBlazor()) {\n                        _this.currentRequestHeader = eventArgs.currentRequest ? eventArgs.currentRequest : _this.currentRequestHeader;\n                        _this.customFormDatas = (eventArgs.customFormData && eventArgs.customFormData.length > 0) ?\n                            eventArgs.customFormData : _this.customFormDatas;\n                    }\n                    _this.uploadFiles(uploadFiles_1, custom);\n                }\n            });\n        }\n    };\n    Uploader.prototype.getFilesInArray = function (files) {\n        var uploadFiles = [];\n        if (files instanceof Array) {\n            uploadFiles = files;\n        }\n        else {\n            uploadFiles.push(files);\n        }\n        return uploadFiles;\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.serverReadFileBase64 = function (fileIndex, position, totalCount) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var file = _this.fileStreams[fileIndex].rawFile;\n            try {\n                var reader = new FileReader();\n                // tslint:disable-next-line\n                reader.onload = (function (args) {\n                    return function () {\n                        try {\n                            var contents = args.result;\n                            var data = contents ? contents.split(';base64,')[1] : null;\n                            resolve(data);\n                        }\n                        catch (e) {\n                            reject(e);\n                        }\n                    };\n                })(reader);\n                reader.readAsDataURL(file.slice(position, position + totalCount));\n            }\n            catch (e) {\n                reject(e);\n            }\n        });\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.uploadFileCount = function (ele) {\n        var files = this.filesData;\n        if (!files || files.length === 0) {\n            return -1;\n        }\n        var result = files.length;\n        return result;\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.getFileRead = function (index, ele) {\n        var files = this.filesData;\n        if (!files || files.length === 0) {\n            return -1;\n        }\n        var file = files[index];\n        var fileCount = this.newFileRef++;\n        this.fileStreams[fileCount] = file;\n        return fileCount;\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.getFileInfo = function (index, ele) {\n        var files = this.filesData;\n        if (!files || files.length === 0) {\n            return null;\n        }\n        var file = files[index];\n        if (!file) {\n            return null;\n        }\n        return this.filesData[index];\n    };\n    Uploader.prototype.uploadFiles = function (files, custom) {\n        var _this = this;\n        var selectedFiles = [];\n        if (this.asyncSettings.saveUrl === '' || isNullOrUndefined(this.asyncSettings.saveUrl)) {\n            if (this.isServerBlazor) {\n                // tslint:disable-next-line\n                this.interopAdaptor.invokeMethodAsync('GetFileDetails', files);\n            }\n            return;\n        }\n        if (!custom || isNullOrUndefined(custom)) {\n            if (!this.multiple) {\n                var file = [];\n                file.push(files[0]);\n                selectedFiles = this.filterfileList(file);\n            }\n            else {\n                selectedFiles = this.filterfileList(files);\n            }\n        }\n        else {\n            selectedFiles = files;\n        }\n        var _loop_5 = function (i) {\n            if (this_3.isServerBlazor && !this_3.checkChunkUpload()) {\n                /* istanbul ignore next */\n                /* tslint:disable */\n                if (selectedFiles[i] && selectedFiles[i].rawFile instanceof File) {\n                    this_3.getBase64(selectedFiles[i].rawFile).then(function (data) {\n                        _this.base64String.push(data);\n                        _this.uploadFilesRequest(selectedFiles, i, custom);\n                    });\n                }\n                /* tslint:disable */\n            }\n            else {\n                this_3.uploadFilesRequest(selectedFiles, i, custom);\n            }\n        };\n        var this_3 = this;\n        for (var i = 0; i < selectedFiles.length; i++) {\n            _loop_5(i);\n        }\n    };\n    Uploader.prototype.uploadFilesRequest = function (selectedFiles, i, custom) {\n        var _this = this;\n        var cloneFiles = [];\n        var chunkEnabled = this.checkChunkUpload();\n        var ajax = new Ajax(this.asyncSettings.saveUrl, 'POST', true, null);\n        ajax.emitError = false;\n        var getFileData;\n        /* istanbul ignore next */\n        if (this.isServerBlazor) {\n            getFileData = selectedFiles.slice(0);\n            cloneFiles.push(getFileData[i].rawFile);\n        }\n        var eventArgs = {\n            fileData: (this.isServerBlazor) ? getFileData[i] : selectedFiles[i],\n            customFormData: [],\n            cancel: false\n        };\n        var formData = new FormData();\n        ajax.beforeSend = function (e) {\n            eventArgs.currentRequest = ajax.httpRequest;\n            /* istanbul ignore next */\n            if (isBlazor()) {\n                eventArgs.fileData.rawFile = !chunkEnabled ? _this.base64String[i] : eventArgs.fileData.rawFile;\n                if (_this.currentRequestHeader) {\n                    _this.updateCustomheader(ajax.httpRequest, _this.currentRequestHeader);\n                }\n                if (_this.customFormDatas) {\n                    _this.updateFormData(formData, _this.customFormDatas);\n                }\n            }\n            _this.trigger('uploading', eventArgs, function (eventArgs) {\n                /* istanbul ignore next */\n                if (_this.isServerBlazor && !chunkEnabled) {\n                    selectedFiles[i].rawFile = eventArgs.fileData.rawFile = cloneFiles[i];\n                }\n                if (eventArgs.cancel) {\n                    _this.eventCancelByArgs(e, eventArgs, selectedFiles[i]);\n                }\n                _this.updateFormData(formData, eventArgs.customFormData);\n            });\n        };\n        if (selectedFiles[i].statusCode === '1') {\n            var name_5 = this.element.getAttribute('name');\n            formData.append(name_5, selectedFiles[i].rawFile, selectedFiles[i].name);\n            if (chunkEnabled && selectedFiles[i].size > this.asyncSettings.chunkSize) {\n                this.chunkUpload(selectedFiles[i], custom, i);\n            }\n            else {\n                ajax.onLoad = function (e) {\n                    if (eventArgs.cancel && _this.isServerBlazor) {\n                        return {};\n                    }\n                    else {\n                        _this.uploadComplete(e, selectedFiles[i], custom);\n                        return {};\n                    }\n                };\n                ajax.onUploadProgress = function (e) {\n                    if (eventArgs.cancel && _this.isServerBlazor) {\n                        return {};\n                    }\n                    else {\n                        _this.uploadInProgress(e, selectedFiles[i], custom, ajax);\n                        return {};\n                    }\n                };\n                /* istanbul ignore next */\n                ajax.onError = function (e) { _this.uploadFailed(e, selectedFiles[i]); return {}; };\n                ajax.send(formData);\n            }\n        }\n    };\n    Uploader.prototype.spliceFiles = function (liIndex) {\n        var liElement = this.fileList[liIndex];\n        var allFiles = this.getFilesData();\n        var nameElements = +liElement.getAttribute('data-files-count');\n        var startIndex = 0;\n        for (var i = 0; i < liIndex; i++) {\n            startIndex += (+this.fileList[i].getAttribute('data-files-count'));\n        }\n        var endIndex = (startIndex + nameElements) - 1;\n        for (var j = endIndex; j >= startIndex; j--) {\n            allFiles.splice(j, 1);\n        }\n    };\n    /**\n     * Remove the uploaded file from server manually by calling the remove URL action.\n     * If you pass an empty argument to this method, the complete file list can be cleared,\n     * otherwise remove the specific file based on its argument (file_data).\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to remove from file list/server.\n     * @param { boolean } customTemplate - Set true if the component rendering with customize template.\n     * @param { boolean } removeDirectly - Set true if files remove without removing event.\n     * @param { boolean } postRawFile - Set false, to post file name only to the remove action.\n     * @returns void\n     */\n    Uploader.prototype.remove = function (fileData, customTemplate, removeDirectly, postRawFile, args) {\n        var _this = this;\n        if (isNullOrUndefined(postRawFile)) {\n            postRawFile = true;\n        }\n        var eventArgs = {\n            event: args,\n            cancel: false,\n            filesData: [],\n            customFormData: [],\n            postRawFile: postRawFile,\n            currentRequest: null\n        };\n        var beforeEventArgs = {\n            cancel: false,\n            customFormData: [],\n            currentRequest: null\n        };\n        this.trigger('beforeRemove', beforeEventArgs, function (beforeEventArgs) {\n            if (!beforeEventArgs.cancel) {\n                if (isBlazor()) {\n                    _this.currentRequestHeader = beforeEventArgs.currentRequest;\n                    _this.customFormDatas = beforeEventArgs.customFormData;\n                }\n                var index = void 0;\n                if (_this.isFormUpload() && !_this.isBlazorSaveUrl) {\n                    eventArgs.filesData = fileData;\n                    _this.trigger('removing', eventArgs, function (eventArgs) {\n                        if (!eventArgs.cancel) {\n                            var removingFiles = _this.getFilesInArray(fileData);\n                            var isLiRemoved = false;\n                            var liIndex = void 0;\n                            for (var _i = 0, removingFiles_1 = removingFiles; _i < removingFiles_1.length; _i++) {\n                                var data = removingFiles_1[_i];\n                                if (!isLiRemoved) {\n                                    liIndex = _this.fileList.indexOf(data.list);\n                                }\n                                if (liIndex > -1) {\n                                    var inputElement = !isNullOrUndefined(data.input) ? data.input : null;\n                                    if (inputElement) {\n                                        detach(inputElement);\n                                    }\n                                    _this.spliceFiles(liIndex);\n                                    detach(_this.fileList[liIndex]);\n                                    _this.fileList.splice(liIndex, 1);\n                                    isLiRemoved = true;\n                                    liIndex = -1;\n                                }\n                            }\n                        }\n                    });\n                }\n                else if (_this.isForm && (isNullOrUndefined(_this.asyncSettings.removeUrl) || _this.asyncSettings.removeUrl === '')\n                    && !_this.isBlazorSaveUrl) {\n                    eventArgs.filesData = _this.getFilesData();\n                    _this.trigger('removing', eventArgs, function (eventArgs) {\n                        if (!eventArgs.cancel) {\n                            _this.clearAll();\n                        }\n                    });\n                }\n                else {\n                    var removeFiles = [];\n                    fileData = !isNullOrUndefined(fileData) ? fileData : _this.filesData;\n                    if (fileData instanceof Array) {\n                        removeFiles = fileData;\n                    }\n                    else {\n                        removeFiles.push(fileData);\n                    }\n                    eventArgs.filesData = removeFiles;\n                    var removeUrl = _this.asyncSettings.removeUrl;\n                    var validUrl = (removeUrl === '' || isNullOrUndefined(removeUrl)) ? false : true;\n                    var _loop_6 = function (files) {\n                        index = _this.filesData.indexOf(files);\n                        if ((files.statusCode === '2' || files.statusCode === '4') && validUrl) {\n                            _this.removeUploadedFile(files, eventArgs, removeDirectly, customTemplate);\n                        }\n                        else {\n                            if (!removeDirectly) {\n                                _this.trigger('removing', eventArgs, function (eventArgs) {\n                                    if (!eventArgs.cancel) {\n                                        _this.removeFilesData(files, customTemplate);\n                                    }\n                                });\n                            }\n                            else {\n                                _this.removeFilesData(files, customTemplate);\n                            }\n                        }\n                        if (args && !args.target.classList.contains(REMOVE_ICON)) {\n                            _this.checkActionComplete(false);\n                        }\n                    };\n                    for (var _i = 0, removeFiles_1 = removeFiles; _i < removeFiles_1.length; _i++) {\n                        var files = removeFiles_1[_i];\n                        _loop_6(files);\n                    }\n                }\n            }\n        });\n    };\n    /**\n     * Clear all the file entries from list that can be uploaded files or added in upload queue.\n     * @returns void\n     */\n    Uploader.prototype.clearAll = function () {\n        var _this = this;\n        if (isNullOrUndefined(this.listParent) && !(this.isBlazorSaveUrl || this.isBlazorTemplate)) {\n            if (this.browserName !== 'msie') {\n                this.element.value = '';\n            }\n            this.filesData = [];\n            return;\n        }\n        var eventArgs = {\n            cancel: false,\n            filesData: this.filesData\n        };\n        this.trigger('clearing', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel) {\n                _this.clearData();\n                _this.actionCompleteCount = 0;\n                _this.count = -1;\n            }\n        });\n    };\n    /**\n     * Get the data of files which are shown in file list.\n     * @param { number } index - specifies the file list item(li) index.\n     * @returns FileInfo[]\n     */\n    Uploader.prototype.getFilesData = function (index) {\n        if (!this.isServerBlazor) {\n            if (isNullOrUndefined(index)) {\n                return this.filesData;\n            }\n            else {\n                return this.getSelectedFiles(index);\n            }\n        }\n        else {\n            for (var i = 0; i < this.filesData.length; i++) {\n                this.filesData[i].rawFile = this.base64String[i];\n            }\n            return this.filesData;\n        }\n    };\n    /**\n     * Pauses the in-progress chunked upload based on the file data.\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to pause from uploading.\n     * @param { boolean } custom - Set true if used custom UI.\n     * @returns void\n     */\n    Uploader.prototype.pause = function (fileData, custom) {\n        fileData = fileData ? fileData : this.filesData;\n        var fileDataFiles = this.getFilesInArray(fileData);\n        this.pauseUploading(fileDataFiles, custom);\n    };\n    Uploader.prototype.pauseUploading = function (fileData, custom) {\n        var files = this.getFiles(fileData);\n        for (var i = 0; i < files.length; i++) {\n            if (files[i].statusCode === '3') {\n                this.pauseUpload(this.getCurrentMetaData(files[i], null), null, custom);\n            }\n        }\n    };\n    Uploader.prototype.getFiles = function (fileData) {\n        var files = [];\n        if (!isNullOrUndefined(fileData) && !(fileData instanceof Array)) {\n            files.push(fileData);\n        }\n        else {\n            files = fileData;\n        }\n        return files;\n    };\n    /**\n     * Resumes the chunked upload that is previously paused based on the file data.\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to resume the paused file.\n     * @param { boolean } custom - Set true if used custom UI.\n     * @returns void\n     */\n    Uploader.prototype.resume = function (fileData, custom) {\n        fileData = fileData ? fileData : this.filesData;\n        var fileDataFiles = this.getFilesInArray(fileData);\n        this.resumeFiles(fileDataFiles, custom);\n    };\n    Uploader.prototype.resumeFiles = function (fileData, custom) {\n        var files = this.getFiles(fileData);\n        for (var i = 0; i < files.length; i++) {\n            if (files[i].statusCode === '4') {\n                this.resumeUpload(this.getCurrentMetaData(files[i], null), null, custom);\n            }\n        }\n    };\n    /**\n     * Retries the canceled or failed file upload based on the file data.\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to retry the canceled or failed file.\n     * @param { boolean } fromcanceledStage - Set true to retry from canceled stage and set false to retry from initial stage.\n     * @returns void\n     */\n    Uploader.prototype.retry = function (fileData, fromcanceledStage, custom) {\n        fileData = fileData ? fileData : this.filesData;\n        var fileDataFiles = this.getFilesInArray(fileData);\n        this.retryFailedFiles(fileDataFiles, fromcanceledStage, custom);\n    };\n    Uploader.prototype.retryFailedFiles = function (fileData, fromcanceledStage, custom) {\n        var files = this.getFiles(fileData);\n        for (var i = 0; i < files.length; i++) {\n            if (files[i].statusCode === '5' || files[i].statusCode === '0') {\n                if (this.asyncSettings.chunkSize > 0) {\n                    this.retryUpload(this.getCurrentMetaData(files[i], null), fromcanceledStage);\n                }\n                else {\n                    var liElement = void 0;\n                    if (!custom) {\n                        liElement = this.fileList[this.filesData.indexOf(files[i])];\n                    }\n                    this.reloadcanceledFile(null, files[i], liElement, custom);\n                }\n            }\n        }\n    };\n    /**\n     * Stops the in-progress chunked upload based on the file data.\n     * When the file upload is canceled, the partially uploaded file is removed from server.\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to cancel the progressing file.\n     * @returns void\n     */\n    Uploader.prototype.cancel = function (fileData) {\n        fileData = fileData ? fileData : this.filesData;\n        var cancelingFiles = this.getFilesInArray(fileData);\n        this.cancelUpload(cancelingFiles);\n    };\n    Uploader.prototype.cancelUpload = function (fileData) {\n        var files = this.getFiles(fileData);\n        if (this.asyncSettings.chunkSize > 0) {\n            for (var i = 0; i < files.length; i++) {\n                if (files[i].statusCode === '3') {\n                    var metaData = this.getCurrentMetaData(files[i], null);\n                    metaData.file.statusCode = '5';\n                    metaData.file.status = this.localizedTexts('fileUploadCancel');\n                    this.updateMetaData(metaData);\n                    this.showHideUploadSpinner(files[i]);\n                }\n            }\n        }\n        else {\n            for (var i = 0; i < files.length; i++) {\n                if (files[i].statusCode === '3') {\n                    files[i].statusCode = '5';\n                    files[i].status = this.localizedTexts('fileUploadCancel');\n                    this.showHideUploadSpinner(files[i]);\n                }\n            }\n        }\n    };\n    Uploader.prototype.showHideUploadSpinner = function (files) {\n        var liElement = this.getLiElement(files);\n        if (!isNullOrUndefined(liElement) && isNullOrUndefined(this.template)) {\n            var spinnerTarget = liElement.querySelector('.' + ABORT_ICON);\n            createSpinner({ target: spinnerTarget, width: '20px' });\n            showSpinner(spinnerTarget);\n        }\n    };\n    __decorate([\n        Complex({ saveUrl: '', removeUrl: '' }, AsyncSettings)\n    ], Uploader.prototype, \"asyncSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Uploader.prototype, \"sequentialUpload\", void 0);\n    __decorate([\n        Property({})\n    ], Uploader.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('')\n    ], Uploader.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(true)\n    ], Uploader.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(null)\n    ], Uploader.prototype, \"template\", void 0);\n    __decorate([\n        Property(true)\n    ], Uploader.prototype, \"multiple\", void 0);\n    __decorate([\n        Property(true)\n    ], Uploader.prototype, \"autoUpload\", void 0);\n    __decorate([\n        Complex({}, ButtonsProps)\n    ], Uploader.prototype, \"buttons\", void 0);\n    __decorate([\n        Property('')\n    ], Uploader.prototype, \"allowedExtensions\", void 0);\n    __decorate([\n        Property(0)\n    ], Uploader.prototype, \"minFileSize\", void 0);\n    __decorate([\n        Property(30000000)\n    ], Uploader.prototype, \"maxFileSize\", void 0);\n    __decorate([\n        Property(null)\n    ], Uploader.prototype, \"dropArea\", void 0);\n    __decorate([\n        Collection([{}], FilesProp)\n    ], Uploader.prototype, \"files\", void 0);\n    __decorate([\n        Property(true)\n    ], Uploader.prototype, \"showFileList\", void 0);\n    __decorate([\n        Property(false)\n    ], Uploader.prototype, \"directoryUpload\", void 0);\n    __decorate([\n        Property('Default')\n    ], Uploader.prototype, \"dropEffect\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"rendering\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"beforeUpload\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"fileListRendering\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"selected\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"uploading\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"success\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"failure\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"removing\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"beforeRemove\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"clearing\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"progress\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"chunkSuccess\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"chunkFailure\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"chunkUploading\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"canceling\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"pausing\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"resuming\", void 0);\n    Uploader = __decorate([\n        NotifyPropertyChanges\n    ], Uploader);\n    return Uploader;\n}(Component));\nexport { Uploader };\n","import { addClass, detach, EventHandler, isNullOrUndefined, select, isBlazor } from '@syncfusion/ej2-base';\nimport { Browser, closest, removeClass, isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport * as classes from '../base/classes';\nimport { Uploader, NumericTextBox } from '@syncfusion/ej2-inputs';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Button, CheckBox } from '@syncfusion/ej2-buttons';\nimport { RenderType } from '../base/enum';\nimport { dispatchEvent, parseHtml, hasClass, convertToBlob } from '../base/util';\nimport { isIDevice } from '../../common/util';\n/**\n * `Image` module is used to handle image actions.\n */\nvar Image = /** @class */ (function () {\n    function Image(parent, serviceLocator) {\n        this.isImgUploaded = false;\n        this.pageX = null;\n        this.pageY = null;\n        this.deletedImg = [];\n        this.parent = parent;\n        this.rteID = parent.element.id;\n        this.i10n = serviceLocator.getService('rteLocale');\n        this.rendererFactory = serviceLocator.getService('rendererFactory');\n        this.dialogRenderObj = serviceLocator.getService('dialogRenderObject');\n        this.addEventListener();\n    }\n    Image.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.keyDown, this.onKeyDown, this);\n        this.parent.on(events.keyUp, this.onKeyUp, this);\n        this.parent.on(events.insertImage, this.insertImage, this);\n        this.parent.on(events.insertCompleted, this.showImageQuickToolbar, this);\n        this.parent.on(events.imageToolbarAction, this.onToolbarAction, this);\n        this.parent.on(events.imageCaption, this.caption, this);\n        this.parent.on(events.imageDelete, this.deleteImg, this);\n        this.parent.on(events.imageLink, this.insertImgLink, this);\n        this.parent.on(events.imageAlt, this.insertAltText, this);\n        this.parent.on(events.editAreaClick, this.editAreaClickHandler, this);\n        this.parent.on(events.iframeMouseDown, this.onIframeMouseDown, this);\n        this.parent.on(events.imageSize, this.imageSize, this);\n        this.parent.on(events.dropDownSelect, this.alignmentSelect, this);\n        this.parent.on(events.initialEnd, this.afterRender, this);\n        this.parent.on(events.paste, this.imagePaste, this);\n        this.parent.on(events.destroy, this.removeEventListener, this);\n    };\n    Image.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.keyDown, this.onKeyDown);\n        this.parent.off(events.keyUp, this.onKeyUp);\n        this.parent.off(events.insertImage, this.insertImage);\n        this.parent.off(events.insertCompleted, this.showImageQuickToolbar);\n        this.parent.off(events.imageCaption, this.caption);\n        this.parent.off(events.imageToolbarAction, this.onToolbarAction);\n        this.parent.off(events.imageDelete, this.deleteImg);\n        this.parent.off(events.imageLink, this.insertImgLink);\n        this.parent.off(events.imageAlt, this.insertAltText);\n        this.parent.off(events.editAreaClick, this.editAreaClickHandler);\n        this.parent.off(events.iframeMouseDown, this.onIframeMouseDown);\n        this.parent.off(events.imageSize, this.imageSize);\n        this.parent.off(events.dropDownSelect, this.alignmentSelect);\n        this.parent.off(events.initialEnd, this.afterRender);\n        this.parent.off(events.paste, this.imagePaste);\n        this.parent.off(events.destroy, this.removeEventListener);\n        var dropElement = this.parent.iframeSettings.enable ? this.parent.inputElement.ownerDocument\n            : this.parent.inputElement;\n        dropElement.removeEventListener('drop', this.dragDrop.bind(this), true);\n        dropElement.removeEventListener('dragstart', this.dragStart.bind(this), true);\n        dropElement.removeEventListener('dragenter', this.dragEnter.bind(this), true);\n        dropElement.removeEventListener('dragover', this.dragOver.bind(this), true);\n        if (!isNullOrUndefined(this.contentModule)) {\n            EventHandler.remove(this.contentModule.getEditPanel(), Browser.touchEndEvent, this.imageClick);\n            this.parent.formatter.editorManager.observer.off(events.checkUndo, this.undoStack);\n            if (this.parent.insertImageSettings.resize) {\n                EventHandler.remove(this.parent.contentModule.getEditPanel(), Browser.touchStartEvent, this.resizeStart);\n                EventHandler.remove(this.parent.element.ownerDocument, 'mousedown', this.onDocumentClick);\n                EventHandler.remove(this.contentModule.getEditPanel(), 'cut', this.onCutHandler);\n            }\n        }\n    };\n    Image.prototype.onIframeMouseDown = function () {\n        if (this.dialogObj) {\n            this.dialogObj.hide({ returnValue: true });\n        }\n    };\n    Image.prototype.afterRender = function () {\n        this.contentModule = this.rendererFactory.getRenderer(RenderType.Content);\n        EventHandler.add(this.contentModule.getEditPanel(), Browser.touchEndEvent, this.imageClick, this);\n        if (this.parent.insertImageSettings.resize) {\n            EventHandler.add(this.parent.contentModule.getEditPanel(), Browser.touchStartEvent, this.resizeStart, this);\n            EventHandler.add(this.parent.element.ownerDocument, 'mousedown', this.onDocumentClick, this);\n            EventHandler.add(this.contentModule.getEditPanel(), 'cut', this.onCutHandler, this);\n        }\n        var dropElement = this.parent.iframeSettings.enable ? this.parent.inputElement.ownerDocument :\n            this.parent.inputElement;\n        dropElement.addEventListener('drop', this.dragDrop.bind(this), true);\n        dropElement.addEventListener('dragstart', this.dragStart.bind(this), true);\n        dropElement.addEventListener('dragenter', this.dragOver.bind(this), true);\n        dropElement.addEventListener('dragover', this.dragOver.bind(this), true);\n    };\n    Image.prototype.undoStack = function (args) {\n        if (args.subCommand.toLowerCase() === 'undo' || args.subCommand.toLowerCase() === 'redo') {\n            for (var i = 0; i < this.parent.formatter.getUndoRedoStack().length; i++) {\n                var temp = this.parent.createElement('div');\n                var contentElem = parseHtml(this.parent.formatter.getUndoRedoStack()[i].text);\n                temp.appendChild(contentElem);\n                var img = temp.querySelectorAll('img');\n                if (temp.querySelector('.e-img-resize') && img.length > 0) {\n                    for (var j = 0; j < img.length; j++) {\n                        img[j].style.outline = '';\n                    }\n                    detach(temp.querySelector('.e-img-resize'));\n                    this.parent.formatter.getUndoRedoStack()[i].text = temp.innerHTML;\n                }\n            }\n        }\n    };\n    Image.prototype.resizeEnd = function (e) {\n        this.resizeBtnInit();\n        this.imgEle.parentElement.style.cursor = 'auto';\n        if (Browser.isDevice) {\n            removeClass([e.target.parentElement], 'e-mob-span');\n        }\n        var args = isBlazor() ? { requestType: 'images' } : { event: e, requestType: 'images' };\n        this.parent.trigger(events.resizeStop, args);\n        var pageX = this.getPointX(e);\n        var pageY = (this.parent.iframeSettings.enable) ? window.pageYOffset +\n            this.parent.element.getBoundingClientRect().top + e.clientY : e.pageY;\n        this.parent.formatter.editorManager.observer.on(events.checkUndo, this.undoStack, this);\n        this.parent.formatter.saveData();\n    };\n    Image.prototype.resizeStart = function (e, ele) {\n        var _this = this;\n        if (this.parent.readonly) {\n            return;\n        }\n        var target = ele ? ele : e.target;\n        if (target.tagName === 'IMG') {\n            this.parent.preventDefaultResize(e);\n            var img = target;\n            if (this.imgResizeDiv && this.contentModule.getEditPanel().contains(this.imgResizeDiv)) {\n                detach(this.imgResizeDiv);\n            }\n            this.imageResize(img);\n        }\n        if (target.classList.contains('e-rte-imageboxmark')) {\n            if (this.parent.formatter.getUndoRedoStack().length === 0) {\n                this.parent.formatter.saveData();\n            }\n            this.pageX = this.getPointX(e);\n            this.pageY = this.getPointY(e);\n            e.preventDefault();\n            e.stopImmediatePropagation();\n            this.resizeBtnInit();\n            if (this.quickToolObj) {\n                this.quickToolObj.imageQTBar.hidePopup();\n            }\n            if (target.classList.contains('e-rte-topLeft')) {\n                this.resizeBtnStat.topLeft = true;\n            }\n            if (target.classList.contains('e-rte-topRight')) {\n                this.resizeBtnStat.topRight = true;\n            }\n            if (target.classList.contains('e-rte-botLeft')) {\n                this.resizeBtnStat.botLeft = true;\n            }\n            if (target.classList.contains('e-rte-botRight')) {\n                this.resizeBtnStat.botRight = true;\n            }\n            if (Browser.isDevice && this.contentModule.getEditPanel().contains(this.imgResizeDiv) &&\n                !this.imgResizeDiv.classList.contains('e-mob-span')) {\n                addClass([this.imgResizeDiv], 'e-mob-span');\n            }\n            else {\n                var args = isBlazor() ? { requestType: 'images' } : { event: e, requestType: 'images' };\n                this.parent.trigger(events.resizeStart, args, function (resizeStartArgs) {\n                    if (resizeStartArgs.cancel) {\n                        _this.cancelResizeAction();\n                    }\n                });\n            }\n            EventHandler.add(this.contentModule.getDocument(), Browser.touchEndEvent, this.resizeEnd, this);\n        }\n    };\n    Image.prototype.imageClick = function (e) {\n        if (Browser.isDevice) {\n            if ((e.target.tagName === 'IMG' &&\n                e.target.parentElement.tagName === 'A') ||\n                (e.target.tagName === 'IMG')) {\n                this.contentModule.getEditPanel().setAttribute('contenteditable', 'false');\n                e.target.focus();\n            }\n            else {\n                if (!this.parent.readonly) {\n                    this.contentModule.getEditPanel().setAttribute('contenteditable', 'true');\n                }\n            }\n        }\n        if (e.target.tagName === 'IMG' &&\n            e.target.parentElement.tagName === 'A') {\n            e.preventDefault();\n        }\n    };\n    Image.prototype.onCutHandler = function () {\n        if (this.imgResizeDiv && this.contentModule.getEditPanel().contains(this.imgResizeDiv)) {\n            this.cancelResizeAction();\n        }\n    };\n    Image.prototype.imageResize = function (e) {\n        this.resizeBtnInit();\n        this.imgEle = e;\n        addClass([this.imgEle], 'e-resize');\n        this.imgResizeDiv = this.parent.createElement('span', { className: 'e-img-resize', id: this.rteID + '_imgResize' });\n        this.imgResizeDiv.appendChild(this.parent.createElement('span', {\n            className: 'e-rte-imageboxmark e-rte-topLeft', styles: 'cursor: nwse-resize'\n        }));\n        this.imgResizeDiv.appendChild(this.parent.createElement('span', {\n            className: 'e-rte-imageboxmark e-rte-topRight', styles: 'cursor: nesw-resize'\n        }));\n        this.imgResizeDiv.appendChild(this.parent.createElement('span', {\n            className: 'e-rte-imageboxmark e-rte-botLeft', styles: 'cursor: nesw-resize'\n        }));\n        this.imgResizeDiv.appendChild(this.parent.createElement('span', {\n            className: 'e-rte-imageboxmark e-rte-botRight', styles: 'cursor: nwse-resize'\n        }));\n        if (Browser.isDevice) {\n            addClass([this.imgResizeDiv], 'e-mob-rte');\n        }\n        e.style.outline = '2px solid #4a90e2';\n        this.imgResizePos(e, this.imgResizeDiv);\n        this.resizeImgDupPos(e);\n        this.contentModule.getEditPanel().appendChild(this.imgResizeDiv);\n        EventHandler.add(this.contentModule.getDocument(), Browser.touchMoveEvent, this.resizing, this);\n    };\n    Image.prototype.getPointX = function (e) {\n        if (e.touches && e.touches.length) {\n            return e.touches[0].pageX;\n        }\n        else {\n            return e.pageX;\n        }\n    };\n    Image.prototype.getPointY = function (e) {\n        if (e.touches && e.touches.length) {\n            return e.touches[0].pageY;\n        }\n        else {\n            return e.pageY;\n        }\n    };\n    Image.prototype.imgResizePos = function (e, imgResizeDiv) {\n        var pos = this.calcPos(e);\n        var top = pos.top;\n        var left = pos.left;\n        var imgWid = e.width;\n        var imgHgt = e.height;\n        var borWid = (Browser.isDevice) ? (4 * parseInt((e.style.outline.slice(-3)), 10)) + 2 :\n            (2 * parseInt((e.style.outline.slice(-3)), 10)) + 2; //span border width + image outline width\n        var devWid = ((Browser.isDevice) ? 0 : 2); // span border width\n        imgResizeDiv.querySelector('.e-rte-botLeft').style.left = (left - borWid) + 'px';\n        imgResizeDiv.querySelector('.e-rte-botLeft').style.top = ((imgHgt - borWid) + top) + 'px';\n        imgResizeDiv.querySelector('.e-rte-botRight').style.left = ((imgWid - (borWid - devWid)) + left) + 'px';\n        imgResizeDiv.querySelector('.e-rte-botRight').style.top = ((imgHgt - borWid) + top) + 'px';\n        imgResizeDiv.querySelector('.e-rte-topRight').style.left = ((imgWid - (borWid - devWid)) + left) + 'px';\n        imgResizeDiv.querySelector('.e-rte-topRight').style.top = (top - (borWid)) + 'px';\n        imgResizeDiv.querySelector('.e-rte-topLeft').style.left = (left - borWid) + 'px';\n        imgResizeDiv.querySelector('.e-rte-topLeft').style.top = (top - borWid) + 'px';\n    };\n    Image.prototype.calcPos = function (elem) {\n        var ignoreOffset = ['TD', 'TH', 'TABLE', 'A'];\n        var parentOffset = { top: 0, left: 0 };\n        var offset = elem.getBoundingClientRect();\n        var doc = elem.ownerDocument;\n        var offsetParent = ((elem.offsetParent && (elem.offsetParent.classList.contains('e-img-caption') ||\n            ignoreOffset.indexOf(elem.offsetParent.tagName) > -1)) ?\n            closest(elem, '#' + this.parent.getID() + '_rte-edit-view') : elem.offsetParent) || doc.documentElement;\n        while (offsetParent &&\n            (offsetParent === doc.body || offsetParent === doc.documentElement) &&\n            offsetParent.style.position === 'static') {\n            offsetParent = offsetParent.parentNode;\n        }\n        if (offsetParent && offsetParent !== elem && offsetParent.nodeType === 1) {\n            parentOffset = offsetParent.getBoundingClientRect();\n        }\n        return {\n            top: offset.top - parentOffset.top,\n            left: offset.left - parentOffset.left\n        };\n    };\n    Image.prototype.setAspectRatio = function (img, expectedX, expectedY) {\n        if (isNullOrUndefined(img.width)) {\n            return;\n        }\n        var width = img.style.width !== '' ? parseInt(img.style.width, 10) : img.width;\n        var height = img.style.height !== '' ? parseInt(img.style.height, 10) : img.height;\n        if (width > height) {\n            if (this.parent.insertImageSettings.resizeByPercent) {\n                img.style.width = this.pixToPerc((width / height * expectedY), (img.previousElementSibling || img.parentElement)) + '%';\n                img.style.height = null;\n                img.removeAttribute('height');\n            }\n            else if (img.style.width !== '') {\n                img.style.width = (width / height * expectedY) + 'px';\n                img.style.height = expectedY + 'px';\n            }\n            else {\n                img.setAttribute('width', (width / height * expectedY).toString());\n                img.setAttribute('height', expectedY.toString());\n            }\n        }\n        else if (height > width) {\n            if (this.parent.insertImageSettings.resizeByPercent) {\n                img.style.width = this.pixToPerc(expectedX, (img.previousElementSibling || img.parentElement)) + '%';\n                img.style.height = null;\n                img.removeAttribute('height');\n            }\n            else if (img.style.width !== '') {\n                img.style.width = expectedX + 'px';\n                img.style.height = (height / width * expectedX) + 'px';\n            }\n            else {\n                img.setAttribute('width', expectedX.toString());\n                img.setAttribute('height', (height / width * expectedX).toString());\n            }\n        }\n        else {\n            if (this.parent.insertImageSettings.resizeByPercent) {\n                img.style.width = this.pixToPerc(expectedX, (img.previousElementSibling || img.parentElement)) + '%';\n                img.style.height = null;\n                img.removeAttribute('height');\n            }\n            else if (img.style.width !== '') {\n                img.style.width = expectedX + 'px';\n                img.style.height = expectedX + 'px';\n            }\n            else {\n                img.setAttribute('width', expectedX.toString());\n                img.setAttribute('height', expectedX.toString());\n            }\n        }\n    };\n    Image.prototype.pixToPerc = function (expected, parentEle) {\n        return expected / parseFloat(getComputedStyle(parentEle).width) * 100;\n    };\n    Image.prototype.imgDupMouseMove = function (width, height, e) {\n        var _this = this;\n        var args = isBlazor() ? { requestType: 'images' } : { event: e, requestType: 'images' };\n        this.parent.trigger(events.onResize, args, function (resizingArgs) {\n            if (resizingArgs.cancel) {\n                _this.cancelResizeAction();\n            }\n            else {\n                if ((parseInt(_this.parent.insertImageSettings.minWidth, 10) >= parseInt(width, 10) ||\n                    parseInt(_this.parent.insertImageSettings.maxWidth, 10) <= parseInt(width, 10))) {\n                    return;\n                }\n                if (!_this.parent.insertImageSettings.resizeByPercent &&\n                    (parseInt(_this.parent.insertImageSettings.minHeight, 10) >= parseInt(height, 10) ||\n                        parseInt(_this.parent.insertImageSettings.maxHeight, 10) <= parseInt(height, 10))) {\n                    return;\n                }\n                _this.imgEle.parentElement.style.cursor = 'pointer';\n                _this.setAspectRatio(_this.imgEle, parseInt(width, 10), parseInt(height, 10));\n                _this.resizeImgDupPos(_this.imgEle);\n                _this.imgResizePos(_this.imgEle, _this.imgResizeDiv);\n                _this.parent.setContentHeight('', false);\n            }\n        });\n    };\n    Image.prototype.resizing = function (e) {\n        var pageX = this.getPointX(e);\n        var pageY = this.getPointY(e);\n        var mouseX = (this.resizeBtnStat.botLeft || this.resizeBtnStat.topLeft) ? -(pageX - this.pageX) : (pageX - this.pageX);\n        var mouseY = (this.resizeBtnStat.topLeft || this.resizeBtnStat.topRight) ? -(pageY - this.pageY) : (pageY - this.pageY);\n        var width = parseInt(this.imgDupPos.width, 10) + mouseX;\n        var height = parseInt(this.imgDupPos.height, 10) + mouseY;\n        this.pageX = pageX;\n        this.pageY = pageY;\n        if (this.resizeBtnStat.botRight) {\n            this.imgDupMouseMove(width + 'px', height + 'px', e);\n        }\n        else if (this.resizeBtnStat.botLeft) {\n            this.imgDupMouseMove(width + 'px', height + 'px', e);\n        }\n        else if (this.resizeBtnStat.topRight) {\n            this.imgDupMouseMove(width + 'px', height + 'px', e);\n        }\n        else if (this.resizeBtnStat.topLeft) {\n            this.imgDupMouseMove(width + 'px', height + 'px', e);\n        }\n    };\n    Image.prototype.cancelResizeAction = function () {\n        EventHandler.remove(this.contentModule.getDocument(), Browser.touchMoveEvent, this.resizing);\n        EventHandler.remove(this.contentModule.getDocument(), Browser.touchEndEvent, this.resizeEnd);\n        if (this.imgEle && this.imgResizeDiv && this.contentModule.getEditPanel().contains(this.imgResizeDiv)) {\n            detach(this.imgResizeDiv);\n            this.imgEle.style.outline = '';\n            this.imgResizeDiv = null;\n            this.pageX = null;\n            this.pageY = null;\n        }\n    };\n    Image.prototype.resizeImgDupPos = function (e) {\n        this.imgDupPos = {\n            width: (e.style.height !== '') ? this.imgEle.style.width : e.width + 'px',\n            height: (e.style.height !== '') ? this.imgEle.style.height : e.height + 'px'\n        };\n    };\n    Image.prototype.resizeBtnInit = function () {\n        return this.resizeBtnStat = { botLeft: false, botRight: false, topRight: false, topLeft: false };\n    };\n    Image.prototype.onToolbarAction = function (args) {\n        if (isIDevice()) {\n            this.parent.notify(events.selectionRestore, {});\n        }\n        var item = args.args.item;\n        switch (item.subCommand) {\n            case 'Replace':\n                this.parent.notify(events.insertImage, args);\n                break;\n            case 'Caption':\n                this.parent.notify(events.imageCaption, args);\n                break;\n            case 'InsertLink':\n                this.parent.notify(events.imageLink, args);\n                break;\n            case 'AltText':\n                this.parent.notify(events.imageAlt, args);\n                break;\n            case 'Remove':\n                this.parent.notify(events.imageDelete, args);\n                break;\n            case 'Dimension':\n                this.parent.notify(events.imageSize, args);\n                break;\n            case 'OpenImageLink':\n                this.openImgLink(args);\n                break;\n            case 'EditImageLink':\n                this.editImgLink(args);\n                break;\n            case 'RemoveImageLink':\n                this.removeImgLink(args);\n                break;\n        }\n    };\n    Image.prototype.openImgLink = function (e) {\n        var target = e.selectParent[0].parentNode.target === '' ? '_self' : '_blank';\n        this.parent.formatter.process(this.parent, e.args, e.args, {\n            url: e.selectParent[0].parentNode.href, target: target, selectNode: e.selectNode,\n            subCommand: e.args.item.subCommand\n        });\n    };\n    Image.prototype.editImgLink = function (e) {\n        var selectParentEle = e.selectParent[0].parentNode;\n        var linkUpdate = this.i10n.getConstant('dialogUpdate');\n        var inputDetails = {\n            url: selectParentEle.href, target: selectParentEle.target,\n            header: 'Edit Link', btnText: linkUpdate\n        };\n        this.insertImgLink(e, inputDetails);\n    };\n    Image.prototype.removeImgLink = function (e) {\n        if (Browser.isIE) {\n            this.contentModule.getEditPanel().focus();\n        }\n        e.selection.restore();\n        var isCapLink = (this.contentModule.getEditPanel().contains(this.captionEle) && select('a', this.captionEle)) ?\n            true : false;\n        var selectParent = isCapLink ? [this.captionEle] : [e.selectNode[0].parentElement];\n        this.parent.formatter.process(this.parent, e.args, e.args, {\n            insertElement: e.selectNode[0], selectParent: selectParent, selection: e.selection,\n            subCommand: e.args.item.subCommand\n        });\n        if (this.quickToolObj && document.body.contains(this.quickToolObj.imageQTBar.element)) {\n            this.quickToolObj.imageQTBar.hidePopup();\n            if (!isNullOrUndefined(e.selectParent)) {\n                removeClass([e.selectParent[0]], 'e-img-focus');\n            }\n        }\n        if (isCapLink) {\n            select('.e-img-inner', this.captionEle).focus();\n        }\n    };\n    Image.prototype.onKeyDown = function (event) {\n        var originalEvent = event.args;\n        var range;\n        var save;\n        var selectNodeEle;\n        var selectParentEle;\n        this.deletedImg = [];\n        var isCursor;\n        var keyCodeValues = [27, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123,\n            44, 45, 9, 16, 17, 18, 19, 20, 33, 34, 35, 36, 37, 38, 39, 40, 91, 92, 93, 144, 145, 182, 183];\n        if (this.parent.editorMode === 'HTML') {\n            range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n            isCursor = range.startContainer === range.endContainer && range.startOffset === range.endOffset;\n        }\n        if (!isCursor && this.parent.editorMode === 'HTML' && keyCodeValues.indexOf(originalEvent.which) < 0) {\n            var nodes = this.parent.formatter.editorManager.nodeSelection.getNodeCollection(range);\n            for (var i = 0; i < nodes.length; i++) {\n                if (nodes[i].nodeName === 'IMG') {\n                    this.deletedImg.push(nodes[i]);\n                }\n            }\n        }\n        if (this.parent.editorMode === 'HTML' && ((originalEvent.which === 8 && originalEvent.code === 'Backspace') ||\n            (originalEvent.which === 46 && originalEvent.code === 'Delete'))) {\n            var isCursor_1 = range.startContainer === range.endContainer && range.startOffset === range.endOffset;\n            if ((originalEvent.which === 8 && originalEvent.code === 'Backspace' && isCursor_1)) {\n                this.checkImageBack(range);\n            }\n            else if ((originalEvent.which === 46 && originalEvent.code === 'Delete' && isCursor_1)) {\n                this.checkImageDel(range);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.formatter.editorManager.nodeSelection) &&\n            originalEvent.code !== 'KeyK') {\n            range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n            save = this.parent.formatter.editorManager.nodeSelection.save(range, this.parent.contentModule.getDocument());\n            selectNodeEle = this.parent.formatter.editorManager.nodeSelection.getNodeCollection(range);\n            selectParentEle = this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(range);\n            if (!originalEvent.ctrlKey && originalEvent.key && (originalEvent.key.length === 1 || originalEvent.action === 'enter') &&\n                (selectParentEle[0].tagName === 'IMG') && selectParentEle[0].parentElement) {\n                var prev = selectParentEle[0].parentElement.childNodes[0];\n                if (this.contentModule.getEditPanel().querySelector('.e-img-resize')) {\n                    this.remvoeResizEle();\n                }\n                this.parent.formatter.editorManager.nodeSelection.setSelectionText(this.contentModule.getDocument(), prev, prev, prev.textContent.length, prev.textContent.length);\n                removeClass([selectParentEle[0]], 'e-img-focus');\n                this.quickToolObj.imageQTBar.hidePopup();\n            }\n        }\n        if (originalEvent.ctrlKey && (originalEvent.keyCode === 89 || originalEvent.keyCode === 90)) {\n            this.undoStack({ subCommand: (originalEvent.keyCode === 90 ? 'undo' : 'redo') });\n        }\n        if (originalEvent.keyCode === 8 || originalEvent.keyCode === 46) {\n            if (selectNodeEle && selectNodeEle[0].nodeName === 'IMG' && selectNodeEle.length < 1) {\n                originalEvent.preventDefault();\n                var event_1 = {\n                    selectNode: selectNodeEle, selection: save, selectParent: selectParentEle,\n                    args: {\n                        item: { command: 'Images', subCommand: 'Remove' },\n                        originalEvent: originalEvent\n                    }\n                };\n                this.deleteImg(event_1, originalEvent.keyCode);\n            }\n            if (this.parent.contentModule.getEditPanel().querySelector('.e-img-resize')) {\n                this.remvoeResizEle();\n            }\n        }\n        switch (originalEvent.action) {\n            case 'escape':\n                if (!isNullOrUndefined(this.dialogObj)) {\n                    this.dialogObj.close();\n                }\n                break;\n            case 'insert-image':\n                if (this.parent.editorMode === 'HTML') {\n                    this.insertImage({\n                        args: {\n                            item: { command: 'Images', subCommand: 'Image' },\n                            originalEvent: originalEvent\n                        },\n                        selectNode: selectNodeEle,\n                        selection: save,\n                        selectParent: selectParentEle\n                    });\n                }\n                else {\n                    this.insertImage({\n                        args: {\n                            item: { command: 'Images', subCommand: 'Image' },\n                            originalEvent: originalEvent\n                        },\n                        member: 'image',\n                        text: this.parent.formatter.editorManager.markdownSelection.getSelectedText(this.parent.contentModule.getEditPanel()),\n                        module: 'Markdown',\n                        name: 'insertImage'\n                    });\n                }\n                originalEvent.preventDefault();\n                break;\n        }\n    };\n    Image.prototype.onKeyUp = function (event) {\n        if (!isNOU(this.deletedImg) && this.deletedImg.length > 0) {\n            for (var i = 0; i < this.deletedImg.length; i++) {\n                var args = {\n                    element: this.deletedImg[i],\n                    src: this.deletedImg[i].getAttribute('src')\n                };\n                this.parent.trigger(events.afterImageDelete, args);\n            }\n        }\n    };\n    Image.prototype.checkImageBack = function (range) {\n        if (range.startContainer.nodeName === '#text' && range.startOffset === 0 &&\n            !isNOU(range.startContainer.previousSibling) && range.startContainer.previousSibling.nodeName === 'IMG') {\n            this.deletedImg.push(range.startContainer.previousSibling);\n        }\n        else if (range.startContainer.nodeName !== '#text' && !isNOU(range.startContainer.childNodes[range.startOffset - 1]) &&\n            range.startContainer.childNodes[range.startOffset - 1].nodeName === 'IMG') {\n            this.deletedImg.push(range.startContainer.childNodes[range.startOffset - 1]);\n        }\n    };\n    Image.prototype.checkImageDel = function (range) {\n        if (range.startContainer.nodeName === '#text' && range.startOffset === range.startContainer.textContent.length &&\n            !isNOU(range.startContainer.nextSibling) && range.startContainer.nextSibling.nodeName === 'IMG') {\n            this.deletedImg.push(range.startContainer.nextSibling);\n        }\n        else if (range.startContainer.nodeName !== '#text' && !isNOU(range.startContainer.childNodes[range.startOffset]) &&\n            range.startContainer.childNodes[range.startOffset].nodeName === 'IMG') {\n            this.deletedImg.push(range.startContainer.childNodes[range.startOffset]);\n        }\n    };\n    Image.prototype.alignmentSelect = function (e) {\n        var item = e.item;\n        if (!document.body.contains(document.body.querySelector('.e-rte-quick-toolbar')) || item.command !== 'Images') {\n            return;\n        }\n        var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n        var selectNodeEle = this.parent.formatter.editorManager.nodeSelection.getNodeCollection(range);\n        selectNodeEle = (selectNodeEle[0].nodeName === 'IMG') ? selectNodeEle : [this.imgEle];\n        var args = { args: e, selectNode: selectNodeEle };\n        if (this.parent.formatter.getUndoRedoStack().length === 0) {\n            this.parent.formatter.saveData();\n        }\n        switch (item.subCommand) {\n            case 'JustifyLeft':\n                this.justifyImageLeft(args);\n                break;\n            case 'JustifyCenter':\n                this.justifyImageCenter(args);\n                break;\n            case 'JustifyRight':\n                this.justifyImageRight(args);\n                break;\n            case 'Inline':\n                this.inline(args);\n                break;\n            case 'Break':\n                this.break(args);\n                break;\n        }\n        if (this.quickToolObj && document.body.contains(this.quickToolObj.imageQTBar.element)) {\n            this.quickToolObj.imageQTBar.hidePopup();\n            removeClass([selectNodeEle[0]], 'e-img-focus');\n        }\n        this.cancelResizeAction();\n    };\n    Image.prototype.imageWithLinkQTBarItemUpdate = function () {\n        var separator;\n        var items = this.quickToolObj.imageQTBar.toolbarElement.querySelectorAll('.e-toolbar-item');\n        for (var i = 0; i < items.length; i++) {\n            if (items[i].getAttribute('title') === this.i10n.getConstant('openLink') ||\n                items[i].getAttribute('title') === this.i10n.getConstant('editLink') ||\n                items[i].getAttribute('title') === this.i10n.getConstant('removeLink')) {\n                addClass([items[i]], 'e-link-groups');\n                items[i].style.display = 'none';\n            }\n            else if (items[i].getAttribute('title') === 'Insert Link') {\n                items[i].style.display = '';\n            }\n            else if (items[i].classList.contains('e-rte-horizontal-separator')) {\n                separator = items[i];\n                detach(items[i]);\n            }\n        }\n        var newItems = this.quickToolObj.imageQTBar.toolbarElement.querySelectorAll('.e-toolbar-item:not(.e-link-groups)');\n        this.quickToolObj.imageQTBar.addQTBarItem(['-'], Math.round(newItems.length / 2));\n    };\n    Image.prototype.showImageQuickToolbar = function (e) {\n        var _this = this;\n        if (e.type !== 'Images' || isNullOrUndefined(this.parent.quickToolbarModule)\n            || isNullOrUndefined(this.parent.quickToolbarModule.imageQTBar)) {\n            return;\n        }\n        this.quickToolObj = this.parent.quickToolbarModule;\n        var args = e.args;\n        var target = e.elements;\n        [].forEach.call(e.elements, function (element, index) {\n            if (index === 0) {\n                target = element;\n            }\n        });\n        if (target && !closest(target, 'a')) {\n            this.imageWithLinkQTBarItemUpdate();\n        }\n        if (target.nodeName === 'IMG') {\n            addClass([target], ['e-img-focus']);\n        }\n        var pageY = (this.parent.iframeSettings.enable) ? window.pageYOffset +\n            this.parent.element.getBoundingClientRect().top + args.clientY : args.pageY;\n        if (this.parent.quickToolbarModule.imageQTBar) {\n            if (e.isNotify) {\n                setTimeout(function () { _this.quickToolObj.imageQTBar.showPopup(args.pageX, pageY, target); }, 400);\n            }\n            else {\n                this.quickToolObj.imageQTBar.showPopup(args.pageX, pageY, target);\n            }\n        }\n    };\n    Image.prototype.hideImageQuickToolbar = function () {\n        if (!isNullOrUndefined(this.contentModule.getEditPanel().querySelector('.e-img-focus'))) {\n            removeClass([this.contentModule.getEditPanel().querySelector('.e-img-focus')], 'e-img-focus');\n            if (this.quickToolObj && this.quickToolObj.imageQTBar && document.body.contains(this.quickToolObj.imageQTBar.element)) {\n                this.quickToolObj.imageQTBar.hidePopup();\n            }\n        }\n    };\n    Image.prototype.editAreaClickHandler = function (e) {\n        if (this.parent.readonly) {\n            this.hideImageQuickToolbar();\n            return;\n        }\n        var args = e.args;\n        var showOnRightClick = this.parent.quickToolbarSettings.showOnRightClick;\n        if (args.which === 2 || (showOnRightClick && args.which === 1) || (!showOnRightClick && args.which === 3)) {\n            if ((showOnRightClick && args.which === 1) && !isNullOrUndefined(args.target) &&\n                args.target.tagName === 'IMG') {\n                this.parent.formatter.editorManager.nodeSelection.Clear(this.contentModule.getDocument());\n                this.parent.formatter.editorManager.nodeSelection.setSelectionContents(this.contentModule.getDocument(), args.target);\n            }\n            return;\n        }\n        if (this.parent.editorMode === 'HTML' && this.parent.quickToolbarModule && this.parent.quickToolbarModule.imageQTBar) {\n            this.quickToolObj = this.parent.quickToolbarModule;\n            var target = args.target;\n            this.contentModule = this.rendererFactory.getRenderer(RenderType.Content);\n            var isPopupOpen = this.quickToolObj.imageQTBar.element.classList.contains('e-rte-pop');\n            if (target.nodeName === 'IMG' && this.parent.quickToolbarModule) {\n                if (isPopupOpen) {\n                    return;\n                }\n                this.parent.formatter.editorManager.nodeSelection.Clear(this.contentModule.getDocument());\n                this.parent.formatter.editorManager.nodeSelection.setSelectionContents(this.contentModule.getDocument(), target);\n                if (isIDevice()) {\n                    this.parent.notify(events.selectionSave, e);\n                }\n                addClass([target], 'e-img-focus');\n                var items = this.quickToolObj.imageQTBar.toolbarElement.querySelectorAll('.e-toolbar-item');\n                var separator = void 0;\n                if (closest(target, 'a')) {\n                    for (var i = 0; i < items.length; i++) {\n                        if (items[i].getAttribute('title') === this.i10n.getConstant('openLink') ||\n                            items[i].getAttribute('title') === this.i10n.getConstant('editLink') ||\n                            items[i].getAttribute('title') === this.i10n.getConstant('removeLink')) {\n                            items[i].style.display = '';\n                            removeClass([items[i]], 'e-link-groups');\n                        }\n                        else if (items[i].getAttribute('title') === 'Insert Link') {\n                            items[i].style.display = 'none';\n                        }\n                        else if (items[i].classList.contains('e-rte-horizontal-separator')) {\n                            separator = items[i];\n                            detach(items[i]);\n                        }\n                    }\n                    var newItems = this.quickToolObj.imageQTBar.toolbarElement.querySelectorAll('.e-toolbar-item:not(.e-link-groups)');\n                    this.quickToolObj.imageQTBar.addQTBarItem(['-'], Math.round(newItems.length / 2));\n                }\n                else if (!closest(target, 'a')) {\n                    this.imageWithLinkQTBarItemUpdate();\n                }\n                this.showImageQuickToolbar({ args: args, type: 'Images', elements: [args.target] });\n            }\n            else {\n                this.hideImageQuickToolbar();\n            }\n        }\n    };\n    Image.prototype.insertImgLink = function (e, inputDetails) {\n        var _this = this;\n        if (e.selectNode[0].nodeName !== 'IMG') {\n            return;\n        }\n        this.imagDialog(e);\n        if (!isNullOrUndefined(this.dialogObj)) {\n            var linkWrap = this.parent.createElement('div', { className: 'e-img-linkwrap' });\n            var linkUrl = this.i10n.getConstant('linkurl');\n            var content = '<div class=\"e-rte-field\">' +\n                '<input type=\"text\" data-role =\"none\" class=\"e-input e-img-link\" spellcheck=\"false\" placeholder=\"' + linkUrl + '\"/></div>' +\n                '<div class=\"e-rte-label\"></div>' + '<div class=\"e-rte-field\">' +\n                '<input type=\"checkbox\" class=\"e-rte-linkTarget\"  data-role =\"none\"></div>';\n            var contentElem = parseHtml(content);\n            linkWrap.appendChild(contentElem);\n            var linkTarget = linkWrap.querySelector('.e-rte-linkTarget');\n            var inputLink = linkWrap.querySelector('.e-img-link');\n            var linkOpenLabel = this.i10n.getConstant('linkOpenInNewWindow');\n            this.checkBoxObj = new CheckBox({\n                label: linkOpenLabel, checked: true, enableRtl: this.parent.enableRtl, change: function (e) {\n                    if (e.checked) {\n                        target_1 = '_blank';\n                    }\n                    else {\n                        target_1 = null;\n                    }\n                }\n            });\n            this.checkBoxObj.isStringTemplate = true;\n            this.checkBoxObj.createElement = this.parent.createElement;\n            this.checkBoxObj.appendTo(linkTarget);\n            var target_1 = this.checkBoxObj.checked ? '_blank' : null;\n            var linkUpdate = this.i10n.getConstant('dialogUpdate');\n            var linkargs_1 = {\n                args: e.args,\n                selfImage: this, selection: e.selection,\n                selectNode: e.selectNode, selectParent: e.selectParent, link: inputLink, target: target_1\n            };\n            this.dialogObj.setProperties({\n                height: 'inherit',\n                width: '290px',\n                header: this.parent.localeObj.getConstant('imageInsertLinkHeader'),\n                content: linkWrap,\n                position: { X: 'center', Y: 'center' },\n                buttons: [{\n                        click: function (e) { _this.insertlink(linkargs_1); },\n                        buttonModel: {\n                            content: linkUpdate, cssClass: 'e-flat e-update-link', isPrimary: true\n                        }\n                    }]\n            });\n            if (!isNullOrUndefined(inputDetails)) {\n                inputLink.value = inputDetails.url;\n                (inputDetails.target) ? this.checkBoxObj.checked = true : this.checkBoxObj.checked = false;\n                this.dialogObj.header = inputDetails.header;\n            }\n            this.dialogObj.element.style.maxHeight = 'inherit';\n            this.dialogObj.content.querySelector('input').focus();\n        }\n    };\n    Image.prototype.insertAltText = function (e) {\n        var _this = this;\n        if (e.selectNode[0].nodeName !== 'IMG') {\n            return;\n        }\n        this.imagDialog(e);\n        var altText = this.i10n.getConstant('altText');\n        if (!isNullOrUndefined(this.dialogObj)) {\n            var altWrap = this.parent.createElement('div', { className: 'e-img-altwrap' });\n            var altHeader = this.i10n.getConstant('alternateHeader');\n            var linkUpdate = this.i10n.getConstant('dialogUpdate');\n            var getAlt = (e.selectNode[0].getAttribute('alt') === null) ? '' :\n                e.selectNode[0].getAttribute('alt');\n            var content = '<div class=\"e-rte-field\">' +\n                '<input type=\"text\" spellcheck=\"false\" value=\"' + getAlt + '\" class=\"e-input e-img-alt\" placeholder=\"' + altText + '\"/>' +\n                '</div>';\n            var contentElem = parseHtml(content);\n            altWrap.appendChild(contentElem);\n            var inputAlt = altWrap.querySelector('.e-img-alt');\n            var altArgs_1 = {\n                args: e.args, selfImage: this, selection: e.selection, selectNode: e.selectNode,\n                alt: inputAlt\n            };\n            this.dialogObj.setProperties({\n                height: 'inherit', width: '290px', header: altHeader, content: altWrap, position: { X: 'center', Y: 'center' },\n                buttons: [{\n                        click: function (e) { _this.insertAlt(altArgs_1); },\n                        buttonModel: {\n                            content: linkUpdate, cssClass: 'e-flat e-update-alt', isPrimary: true\n                        }\n                    }]\n            });\n            this.dialogObj.element.style.maxHeight = 'inherit';\n            this.dialogObj.content.querySelector('input').focus();\n        }\n    };\n    Image.prototype.insertAlt = function (e) {\n        if (!isNullOrUndefined(e.alt)) {\n            e.selection.restore();\n            if (this.parent.formatter.getUndoRedoStack().length === 0) {\n                this.parent.formatter.saveData();\n            }\n            var altText = e.alt.value;\n            this.parent.formatter.process(this.parent, e.args, e.args, {\n                altText: altText, selectNode: e.selectNode,\n                subCommand: e.args.item.subCommand\n            });\n            this.dialogObj.hide({ returnValue: false });\n        }\n    };\n    Image.prototype.insertlink = function (e) {\n        if (e.selectNode[0].nodeName !== 'IMG') {\n            return;\n        }\n        var url = e.link.value;\n        if (url === '') {\n            addClass([e.link], 'e-error');\n            e.link.setSelectionRange(0, url.length);\n            e.link.focus();\n            return;\n        }\n        if (!this.isUrl(url)) {\n            url = 'http://' + url;\n        }\n        else {\n            removeClass([e.link], 'e-error');\n        }\n        var proxy = e.selfImage;\n        if (proxy.parent.editorMode === 'HTML') {\n            e.selection.restore();\n        }\n        if (proxy.parent.formatter.getUndoRedoStack().length === 0) {\n            proxy.parent.formatter.saveData();\n        }\n        if (e.selectNode[0].parentElement.nodeName === 'A') {\n            proxy.parent.formatter.process(proxy.parent, e.args, e.args, {\n                url: url, target: proxy.checkBoxObj.checked ? '_blank' : null, selectNode: e.selectNode,\n                subCommand: e.args.item.subCommand\n            });\n            proxy.dialogObj.hide({ returnValue: true });\n            return;\n        }\n        proxy.parent.formatter.process(proxy.parent, e.args, e.args, {\n            url: url, target: proxy.checkBoxObj.checked ? '_blank' : null, selectNode: e.selectNode,\n            subCommand: e.args.item.subCommand, selection: e.selection\n        });\n        var captionEle = closest(e.selectNode[0], '.e-img-caption');\n        if (captionEle) {\n            select('.e-img-inner', captionEle).focus();\n        }\n        proxy.dialogObj.hide({ returnValue: false });\n    };\n    Image.prototype.isUrl = function (url) {\n        var regexp = /(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?/gi;\n        return regexp.test(url);\n    };\n    Image.prototype.deleteImg = function (e, keyCode) {\n        if (e.selectNode[0].nodeName !== 'IMG') {\n            return;\n        }\n        var args = {\n            element: e.selectNode[0],\n            src: e.selectNode[0].getAttribute('src')\n        };\n        if (this.parent.formatter.getUndoRedoStack().length === 0) {\n            this.parent.formatter.saveData();\n        }\n        e.selection.restore();\n        if (this.contentModule.getEditPanel().querySelector('.e-img-resize')) {\n            this.remvoeResizEle();\n        }\n        this.parent.formatter.process(this.parent, e.args, e.args, {\n            selectNode: e.selectNode,\n            captionClass: classes.CLS_CAPTION,\n            subCommand: e.args.item.subCommand\n        });\n        if (this.quickToolObj && document.body.contains(this.quickToolObj.imageQTBar.element)) {\n            this.quickToolObj.imageQTBar.hidePopup();\n        }\n        this.cancelResizeAction();\n        if (isNullOrUndefined(keyCode)) {\n            this.parent.trigger(events.afterImageDelete, args);\n        }\n    };\n    Image.prototype.caption = function (e) {\n        var selectNode = e.selectNode[0];\n        if (selectNode.nodeName !== 'IMG') {\n            return;\n        }\n        e.selection.restore();\n        if (this.parent.formatter.getUndoRedoStack().length === 0) {\n            this.parent.formatter.saveData();\n        }\n        this.cancelResizeAction();\n        addClass([selectNode], 'e-rte-image');\n        var subCommand = (e.args.item) ?\n            e.args.item.subCommand : 'Caption';\n        if (!isNullOrUndefined(closest(selectNode, '.' + classes.CLS_CAPTION))) {\n            detach(closest(selectNode, '.' + classes.CLS_CAPTION));\n            if (Browser.isIE) {\n                this.contentModule.getEditPanel().focus();\n                e.selection.restore();\n            }\n            if (selectNode.parentElement.tagName === 'A') {\n                this.parent.formatter.process(this.parent, e.args, e.args, { insertElement: selectNode.parentElement, selectNode: e.selectNode, subCommand: subCommand });\n            }\n            else {\n                this.parent.formatter.process(this.parent, e.args, e.args, { insertElement: selectNode, selectNode: e.selectNode, subCommand: subCommand });\n            }\n        }\n        else {\n            this.captionEle = this.parent.createElement('span', {\n                className: classes.CLS_CAPTION + ' ' + classes.CLS_RTE_CAPTION,\n                attrs: { contenteditable: 'false', draggable: 'false' }\n            });\n            var imgWrap = this.parent.createElement('span', { className: 'e-img-wrap' });\n            var imgInner = this.parent.createElement('span', { className: 'e-img-inner', attrs: { contenteditable: 'true' } });\n            var parent_1 = e.selectNode[0].parentElement;\n            if (parent_1.tagName === 'A') {\n                parent_1.setAttribute('contenteditable', 'true');\n            }\n            imgWrap.appendChild(parent_1.tagName === 'A' ? parent_1 : e.selectNode[0]);\n            imgWrap.appendChild(imgInner);\n            var imgCaption = this.i10n.getConstant('imageCaption');\n            imgInner.innerHTML = imgCaption;\n            this.captionEle.appendChild(imgWrap);\n            if (selectNode.classList.contains(classes.CLS_IMGINLINE)) {\n                addClass([this.captionEle], classes.CLS_CAPINLINE);\n            }\n            if (selectNode.classList.contains(classes.CLS_IMGBREAK)) {\n                addClass([this.captionEle], classes.CLS_IMGBREAK);\n            }\n            if (selectNode.classList.contains(classes.CLS_IMGLEFT)) {\n                addClass([this.captionEle], classes.CLS_IMGLEFT);\n            }\n            if (selectNode.classList.contains(classes.CLS_IMGRIGHT)) {\n                addClass([this.captionEle], classes.CLS_IMGRIGHT);\n            }\n            if (selectNode.classList.contains(classes.CLS_IMGCENTER)) {\n                addClass([this.captionEle], classes.CLS_IMGCENTER);\n            }\n            this.parent.formatter.process(this.parent, e.args, e.args, { insertElement: this.captionEle, selectNode: e.selectNode, subCommand: subCommand });\n            this.parent.formatter.editorManager.nodeSelection.setSelectionText(this.contentModule.getDocument(), imgInner.childNodes[0], imgInner.childNodes[0], 0, imgInner.childNodes[0].textContent.length);\n        }\n        if (this.quickToolObj && document.body.contains(this.quickToolObj.imageQTBar.element)) {\n            this.quickToolObj.imageQTBar.hidePopup();\n            removeClass([selectNode], 'e-img-focus');\n        }\n    };\n    Image.prototype.imageSize = function (e) {\n        var _this = this;\n        if (e.selectNode[0].nodeName !== 'IMG') {\n            return;\n        }\n        this.imagDialog(e);\n        if (!isNullOrUndefined(this.dialogObj)) {\n            var imgSizeHeader = this.i10n.getConstant('imageSizeHeader');\n            var linkUpdate = this.i10n.getConstant('dialogUpdate');\n            var dialogContent = this.imgsizeInput(e);\n            var selectObj_1 = { args: e.args, selfImage: this, selection: e.selection, selectNode: e.selectNode };\n            this.dialogObj.setProperties({\n                height: 'inherit', width: '290px', header: imgSizeHeader, content: dialogContent, position: { X: 'center', Y: 'center' },\n                buttons: [{\n                        click: function (e) { _this.insertSize(selectObj_1); },\n                        buttonModel: {\n                            content: linkUpdate, cssClass: 'e-flat e-update-size', isPrimary: true\n                        }\n                    }]\n            });\n            this.dialogObj.element.style.maxHeight = 'inherit';\n            this.dialogObj.content.querySelector('input').focus();\n        }\n    };\n    Image.prototype.break = function (e) {\n        if (e.selectNode[0].nodeName !== 'IMG') {\n            return;\n        }\n        var subCommand = (e.args.item) ?\n            e.args.item.subCommand : 'Break';\n        this.parent.formatter.process(this.parent, e.args, e.args, { selectNode: e.selectNode, subCommand: subCommand });\n    };\n    Image.prototype.inline = function (e) {\n        if (e.selectNode[0].nodeName !== 'IMG') {\n            return;\n        }\n        var subCommand = (e.args.item) ?\n            e.args.item.subCommand : 'Inline';\n        this.parent.formatter.process(this.parent, e.args, e.args, { selectNode: e.selectNode, subCommand: subCommand });\n    };\n    Image.prototype.justifyImageLeft = function (e) {\n        var subCommand = (e.args.item) ?\n            e.args.item.subCommand : 'JustifyLeft';\n        this.parent.formatter.process(this.parent, e.args, e.args, { selectNode: e.selectNode, subCommand: subCommand });\n    };\n    Image.prototype.justifyImageRight = function (e) {\n        var subCommand = (e.args.item) ?\n            e.args.item.subCommand : 'JustifyRight';\n        this.parent.formatter.process(this.parent, e.args, e.args, { selectNode: e.selectNode, subCommand: subCommand });\n    };\n    Image.prototype.justifyImageCenter = function (e) {\n        var subCommand = (e.args.item) ?\n            e.args.item.subCommand : 'JustifyCenter';\n        this.parent.formatter.process(this.parent, e.args, e.args, { selectNode: e.selectNode, subCommand: subCommand });\n    };\n    Image.prototype.imagDialog = function (e) {\n        var _this = this;\n        if (this.dialogObj) {\n            this.dialogObj.hide({ returnValue: true });\n            return;\n        }\n        var imgDialog = this.parent.createElement('div', { className: 'e-rte-img-dialog', id: this.rteID + '_image' });\n        this.parent.element.appendChild(imgDialog);\n        var imgInsert = this.i10n.getConstant('dialogInsert');\n        var imglinkCancel = this.i10n.getConstant('dialogCancel');\n        var imgHeader = this.i10n.getConstant('imageHeader');\n        var selection = e.selection;\n        var selectObj = { selfImage: this, selection: e.selection, args: e.args, selectParent: e.selectParent };\n        var dialogModel = {\n            header: imgHeader,\n            cssClass: classes.CLS_RTE_ELEMENTS,\n            enableRtl: this.parent.enableRtl,\n            locale: this.parent.locale,\n            showCloseIcon: true, closeOnEscape: true, width: (Browser.isDevice) ? '290px' : '340px', height: 'inherit',\n            position: { X: 'center', Y: (Browser.isDevice) ? 'center' : 'top' },\n            isModal: Browser.isDevice,\n            buttons: [{\n                    click: this.insertImageUrl.bind(selectObj),\n                    buttonModel: { content: imgInsert, cssClass: 'e-flat e-insertImage', isPrimary: true }\n                },\n                {\n                    click: function (e) { _this.cancelDialog(e); },\n                    buttonModel: { cssClass: 'e-flat e-cancel', content: imglinkCancel }\n                }],\n            target: (Browser.isDevice) ? document.body : this.parent.element,\n            animationSettings: { effect: 'None' },\n            close: function (event) {\n                if (_this.isImgUploaded) {\n                    _this.uploadObj.removing();\n                }\n                _this.parent.isBlur = false;\n                if (event && event.event.returnValue) {\n                    if (_this.parent.editorMode === 'HTML') {\n                        selection.restore();\n                    }\n                    else {\n                        _this.parent.formatter.editorManager.markdownSelection.restore(_this.parent.contentModule.getEditPanel());\n                    }\n                }\n                _this.dialogObj.destroy();\n                detach(_this.dialogObj.element);\n                _this.dialogRenderObj.close(event);\n                _this.dialogObj = null;\n            },\n        };\n        var dialogContent = this.parent.createElement('div', { className: 'e-img-content' });\n        if ((!isNullOrUndefined(this.parent.insertImageSettings.path) && this.parent.editorMode === 'Markdown')\n            || this.parent.editorMode === 'HTML') {\n            dialogContent.appendChild(this.imgUpload(e));\n        }\n        var linkHeader = this.parent.createElement('div', { className: 'e-linkheader' });\n        var linkHeaderText = this.i10n.getConstant('imageLinkHeader');\n        if (this.parent.editorMode === 'HTML') {\n            linkHeader.innerHTML = linkHeaderText;\n        }\n        else {\n            linkHeader.innerHTML = this.i10n.getConstant('mdimageLink');\n        }\n        dialogContent.appendChild(linkHeader);\n        dialogContent.appendChild(this.imageUrlPopup(e));\n        if (e.selectNode && e.selectNode[0].nodeName === 'IMG') {\n            dialogModel.header = this.parent.localeObj.getConstant('editImageHeader');\n            dialogModel.content = dialogContent;\n        }\n        else {\n            dialogModel.content = dialogContent;\n        }\n        this.dialogObj = this.dialogRenderObj.render(dialogModel);\n        this.dialogObj.createElement = this.parent.createElement;\n        this.dialogObj.appendTo(imgDialog);\n        if (e.selectNode && e.selectNode[0].nodeName === 'IMG' && (e.name === 'insertImage')) {\n            this.dialogObj.element.querySelector('.e-insertImage').textContent = this.parent.localeObj.getConstant('dialogUpdate');\n        }\n        imgDialog.style.maxHeight = 'inherit';\n        if (this.quickToolObj) {\n            if (this.quickToolObj.imageQTBar && document.body.contains(this.quickToolObj.imageQTBar.element)) {\n                this.quickToolObj.imageQTBar.hidePopup();\n                if (!isNullOrUndefined(e.selectParent)) {\n                    removeClass([e.selectParent[0]], 'e-img-focus');\n                }\n            }\n            if (this.quickToolObj.inlineQTBar && document.body.contains(this.quickToolObj.inlineQTBar.element)) {\n                this.quickToolObj.inlineQTBar.hidePopup();\n            }\n        }\n    };\n    Image.prototype.cancelDialog = function (e) {\n        this.parent.isBlur = false;\n        this.dialogObj.hide({ returnValue: true });\n        if (this.isImgUploaded) {\n            this.uploadObj.removing();\n        }\n    };\n    Image.prototype.onDocumentClick = function (e) {\n        var target = e.target;\n        if (target.nodeName === 'IMG') {\n            this.imgEle = target;\n        }\n        if (!isNullOrUndefined(this.dialogObj) && ((!closest(target, '#' + this.dialogObj.element.id) && this.parent.toolbarSettings.enable && this.parent.getToolbarElement() &&\n            !this.parent.getToolbarElement().contains(e.target)) ||\n            (this.parent.getToolbarElement() && this.parent.getToolbarElement().contains(e.target) &&\n                !closest(target, '#' + this.parent.getID() + '_toolbar_Image') &&\n                !target.querySelector('#' + this.parent.getID() + '_toolbar_Image')))) {\n            this.dialogObj.hide({ returnValue: true });\n            this.parent.isBlur = true;\n            dispatchEvent(this.parent.element, 'focusout');\n        }\n        if (e.target.tagName !== 'IMG' && this.imgResizeDiv && !(this.quickToolObj &&\n            this.quickToolObj.imageQTBar && this.quickToolObj.imageQTBar.element.contains(e.target)) &&\n            this.contentModule.getEditPanel().contains(this.imgResizeDiv)) {\n            this.cancelResizeAction();\n        }\n        if (target.tagName !== 'IMG' && this.contentModule.getEditPanel().querySelector('.e-img-resize')) {\n            this.remvoeResizEle();\n            this.contentModule.getEditPanel().querySelector('img').style.outline = '';\n        }\n    };\n    Image.prototype.remvoeResizEle = function () {\n        EventHandler.remove(this.contentModule.getDocument(), Browser.touchMoveEvent, this.resizing);\n        EventHandler.remove(this.contentModule.getDocument(), Browser.touchEndEvent, this.resizeEnd);\n        detach(this.contentModule.getEditPanel().querySelector('.e-img-resize'));\n    };\n    Image.prototype.imageUrlPopup = function (e) {\n        var imgUrl = this.parent.createElement('div', { className: 'imgUrl' });\n        var placeUrl = this.i10n.getConstant('imageUrl');\n        this.inputUrl = this.parent.createElement('input', {\n            className: 'e-input e-img-url',\n            attrs: { placeholder: placeUrl, spellcheck: 'false' }\n        });\n        imgUrl.appendChild(this.inputUrl);\n        return imgUrl;\n    };\n    Image.prototype.insertImageUrl = function (e) {\n        var proxy = this.selfImage;\n        proxy.isImgUploaded = false;\n        var url = proxy.inputUrl.value;\n        if (proxy.parent.formatter.getUndoRedoStack().length === 0) {\n            proxy.parent.formatter.saveData();\n        }\n        if (!isNullOrUndefined(proxy.uploadUrl) && proxy.uploadUrl.url !== '') {\n            proxy.uploadUrl.cssClass = (proxy.parent.insertImageSettings.display === 'inline' ?\n                classes.CLS_IMGINLINE : classes.CLS_IMGBREAK);\n            proxy.dialogObj.hide({ returnValue: false });\n            proxy.parent.formatter.process(proxy.parent, this.args, this.args.originalEvent, proxy.uploadUrl);\n            proxy.uploadUrl.url = '';\n            if (proxy.contentModule.getEditPanel().querySelector('.e-img-resize')) {\n                proxy.imgEle.style.outline = '';\n                proxy.remvoeResizEle();\n            }\n        }\n        else if (url !== '') {\n            if (proxy.parent.editorMode === 'HTML' && isNullOrUndefined(closest(this.selection.range.startContainer.parentNode, '#' + proxy.contentModule.getPanel().id))) {\n                proxy.contentModule.getEditPanel().focus();\n                var range = proxy.parent.formatter.editorManager.nodeSelection.getRange(proxy.contentModule.getDocument());\n                this.selection = proxy.parent.formatter.editorManager.nodeSelection.save(range, proxy.contentModule.getDocument());\n                this.selectParent = proxy.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(range);\n            }\n            var regex = /[\\w-]+.(jpg|png|jpeg|gif)/g;\n            var matchUrl = (!isNullOrUndefined(url.match(regex)) && proxy.parent.editorMode === 'HTML') ? url.match(regex)[0] : '';\n            var value = {\n                cssClass: (proxy.parent.insertImageSettings.display === 'inline' ? classes.CLS_IMGINLINE : classes.CLS_IMGBREAK),\n                url: url, selection: this.selection, altText: matchUrl,\n                selectParent: this.selectParent, width: {\n                    width: proxy.parent.insertImageSettings.width, minWidth: proxy.parent.insertImageSettings.minWidth,\n                    maxWidth: proxy.parent.insertImageSettings.maxWidth\n                },\n                height: {\n                    height: proxy.parent.insertImageSettings.height, minHeight: proxy.parent.insertImageSettings.minHeight,\n                    maxHeight: proxy.parent.insertImageSettings.maxHeight\n                }\n            };\n            proxy.parent.formatter.process(proxy.parent, this.args, this.args.originalEvent, value);\n            proxy.dialogObj.hide({ returnValue: false });\n        }\n    };\n    Image.prototype.imgsizeInput = function (e) {\n        var selectNode = e.selectNode[0];\n        var imgHeight = this.i10n.getConstant('imageHeight');\n        var imgWidth = this.i10n.getConstant('imageWidth');\n        var imgSizeWrap = this.parent.createElement('div', { className: 'e-img-sizewrap' });\n        var widthVal = (selectNode.getAttribute('width') === 'auto' ||\n            isNullOrUndefined(selectNode.getAttribute('width'))) ? selectNode.width : selectNode.getClientRects()[0].width;\n        var heightVal = (selectNode.getAttribute('height') === 'auto' ||\n            isNullOrUndefined(selectNode.getAttribute('height'))) ? selectNode.height : selectNode.getClientRects()[0].height;\n        var content = '<div class=\"e-rte-label\"><label>' + imgWidth +\n            '</label></div><div class=\"e-rte-field\"><input type=\"text\" data-role =\"none\" id=\"imgwidth\" class=\"e-img-width\" value=' +\n            widthVal\n            + ' /></div>' +\n            '<div class=\"e-rte-label\">' + '<label>' + imgHeight + '</label></div><div class=\"e-rte-field\"> ' +\n            '<input type=\"text\" data-role =\"none\" id=\"imgheight\" class=\"e-img-height\" value=' +\n            heightVal\n            + ' /></div>';\n        var contentElem = parseHtml(content);\n        imgSizeWrap.appendChild(contentElem);\n        var widthNum = new NumericTextBox({\n            format: '###.### px', min: this.parent.insertImageSettings.minWidth,\n            max: this.parent.insertImageSettings.maxWidth,\n            enableRtl: this.parent.enableRtl, locale: this.parent.locale\n        });\n        widthNum.isStringTemplate = true;\n        widthNum.createElement = this.parent.createElement;\n        widthNum.appendTo(imgSizeWrap.querySelector('#imgwidth'));\n        var heightNum = new NumericTextBox({\n            format: '###.### px', min: this.parent.insertImageSettings.minHeight,\n            max: this.parent.insertImageSettings.maxHeight,\n            enableRtl: this.parent.enableRtl, locale: this.parent.locale\n        });\n        heightNum.isStringTemplate = true;\n        heightNum.createElement = this.parent.createElement;\n        heightNum.appendTo(imgSizeWrap.querySelector('#imgheight'));\n        return imgSizeWrap;\n    };\n    Image.prototype.insertSize = function (e) {\n        e.selection.restore();\n        var proxy = e.selfImage;\n        if (proxy.parent.formatter.getUndoRedoStack().length === 0) {\n            proxy.parent.formatter.saveData();\n        }\n        var dialogEle = proxy.dialogObj.element;\n        var width = parseFloat(dialogEle.querySelector('.e-img-width').value);\n        var height = parseFloat(dialogEle.parentElement.querySelector('.e-img-height').value);\n        proxy.parent.formatter.process(this.parent, e.args, e.args, {\n            width: width, height: height, selectNode: e.selectNode,\n            subCommand: e.args.item.subCommand\n        });\n        if (this.imgResizeDiv) {\n            proxy.imgResizePos(e.selectNode[0], this.imgResizeDiv);\n        }\n        proxy.dialogObj.hide({ returnValue: true });\n    };\n    Image.prototype.insertImage = function (e) {\n        this.imagDialog(e);\n        if (!isNullOrUndefined(this.dialogObj)) {\n            this.dialogObj.element.style.maxHeight = 'inherit';\n            var dialogContent = this.dialogObj.element.querySelector('.e-img-content');\n            if ((!isNullOrUndefined(this.parent.insertImageSettings.path) && this.parent.editorMode === 'Markdown')\n                || this.parent.editorMode === 'HTML') {\n                dialogContent.querySelector('#' + this.rteID + '_insertImage').focus();\n            }\n            else {\n                dialogContent.querySelector('.e-img-url').focus();\n            }\n        }\n    };\n    Image.prototype.imgUpload = function (e) {\n        var _this = this;\n        var save;\n        var selectParent;\n        var proxy = this;\n        var iframe = proxy.parent.iframeSettings.enable;\n        if (proxy.parent.editorMode === 'HTML' && (!iframe && isNullOrUndefined(closest(e.selection.range.startContainer.parentNode, '#' +\n            this.parent.contentModule.getPanel().id))\n            || (iframe && !hasClass(e.selection.range.startContainer.parentNode.ownerDocument.querySelector('body'), 'e-lib')))) {\n            this.contentModule.getEditPanel().focus();\n            var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n            save = this.parent.formatter.editorManager.nodeSelection.save(range, this.parent.contentModule.getDocument());\n            selectParent = this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(range);\n        }\n        else {\n            save = e.selection;\n            selectParent = e.selectParent;\n        }\n        var uploadParentEle = this.parent.createElement('div', { className: 'e-img-uploadwrap e-droparea' });\n        var deviceImgUpMsg = this.i10n.getConstant('imageDeviceUploadMessage');\n        var imgUpMsg = this.i10n.getConstant('imageUploadMessage');\n        var span = this.parent.createElement('span', { className: 'e-droptext' });\n        var spanMsg = this.parent.createElement('span', {\n            className: 'e-rte-upload-text', innerHTML: ((Browser.isDevice) ? deviceImgUpMsg : imgUpMsg)\n        });\n        span.appendChild(spanMsg);\n        var btnEle = this.parent.createElement('button', {\n            className: 'e-browsebtn', id: this.rteID + '_insertImage', attrs: { autofocus: 'true', type: 'button' }\n        });\n        span.appendChild(btnEle);\n        uploadParentEle.appendChild(span);\n        var browserMsg = this.i10n.getConstant('browse');\n        var button = new Button({ content: browserMsg, enableRtl: this.parent.enableRtl });\n        button.isStringTemplate = true;\n        button.createElement = this.parent.createElement;\n        button.appendTo(btnEle);\n        var btnClick = (Browser.isDevice) ? span : btnEle;\n        EventHandler.add(btnClick, 'click', this.fileSelect, this);\n        var uploadEle = this.parent.createElement('input', {\n            id: this.rteID + '_upload', attrs: { type: 'File', name: 'UploadFiles' }\n        });\n        uploadParentEle.appendChild(uploadEle);\n        var altText;\n        var rawFile;\n        var selectArgs;\n        var filesData;\n        var beforeUploadArgs;\n        this.uploadObj = new Uploader({\n            asyncSettings: { saveUrl: this.parent.insertImageSettings.saveUrl, },\n            dropArea: span, multiple: false, enableRtl: this.parent.enableRtl,\n            allowedExtensions: this.parent.insertImageSettings.allowedTypes.toString(),\n            selected: function (e) {\n                proxy.isImgUploaded = true;\n                selectArgs = e;\n                filesData = e.filesData;\n                if (_this.parent.isServerRendered) {\n                    selectArgs = JSON.parse(JSON.stringify(e));\n                    e.cancel = true;\n                    rawFile = e.filesData;\n                    selectArgs.filesData = rawFile;\n                }\n                _this.parent.trigger(events.imageSelected, selectArgs, function (selectArgs) {\n                    _this.checkExtension(selectArgs.filesData[0]);\n                    altText = selectArgs.filesData[0].name;\n                    if (_this.parent.editorMode === 'HTML' && isNullOrUndefined(_this.parent.insertImageSettings.path)) {\n                        var reader_1 = new FileReader();\n                        reader_1.addEventListener('load', function (e) {\n                            var url = _this.parent.insertImageSettings.saveFormat === 'Base64' ? reader_1.result :\n                                URL.createObjectURL(convertToBlob(reader_1.result));\n                            proxy.uploadUrl = {\n                                url: url, selection: save, altText: altText,\n                                selectParent: selectParent,\n                                width: {\n                                    width: proxy.parent.insertImageSettings.width, minWidth: proxy.parent.insertImageSettings.minWidth,\n                                    maxWidth: proxy.parent.insertImageSettings.maxWidth\n                                }, height: {\n                                    height: proxy.parent.insertImageSettings.height, minHeight: proxy.parent.insertImageSettings.minHeight,\n                                    maxHeight: proxy.parent.insertImageSettings.maxHeight\n                                }\n                            };\n                            proxy.inputUrl.setAttribute('disabled', 'true');\n                        });\n                        reader_1.readAsDataURL(selectArgs.filesData[0].rawFile);\n                    }\n                    if (_this.parent.isServerRendered) {\n                        /* tslint:disable */\n                        _this.uploadObj._internalRenderSelect(selectArgs, rawFile);\n                        /* tslint:enable */\n                    }\n                });\n            },\n            beforeUpload: function (args) {\n                if (_this.parent.isServerRendered) {\n                    beforeUploadArgs = JSON.parse(JSON.stringify(args));\n                    beforeUploadArgs.filesData = filesData;\n                    _this.parent.trigger(events.imageUploading, beforeUploadArgs, function (beforeUploadArgs) {\n                        if (beforeUploadArgs.cancel) {\n                            return;\n                        }\n                        /* tslint:disable */\n                        _this.uploadObj.uploadFiles(rawFile, null);\n                        /* tslint:enable */\n                    });\n                }\n                else {\n                    _this.parent.trigger(events.beforeImageUpload, args);\n                }\n            },\n            uploading: function (e) {\n                if (!_this.parent.isServerRendered) {\n                    _this.parent.trigger(events.imageUploading, e);\n                }\n            },\n            success: function (e) {\n                _this.parent.trigger(events.imageUploadSuccess, e, function (e) {\n                    if (!isNullOrUndefined(_this.parent.insertImageSettings.path)) {\n                        var url = _this.parent.insertImageSettings.path + e.file.name;\n                        var value = { url: url, selection: save };\n                        proxy.uploadUrl = {\n                            url: url, selection: save, altText: altText, selectParent: selectParent,\n                            width: {\n                                width: proxy.parent.insertImageSettings.width, minWidth: proxy.parent.insertImageSettings.minWidth,\n                                maxWidth: proxy.parent.insertImageSettings.maxWidth\n                            }, height: {\n                                height: proxy.parent.insertImageSettings.height, minHeight: proxy.parent.insertImageSettings.minHeight,\n                                maxHeight: proxy.parent.insertImageSettings.maxHeight\n                            }\n                        };\n                        proxy.inputUrl.setAttribute('disabled', 'true');\n                    }\n                });\n            },\n            failure: function (e) {\n                _this.parent.trigger(events.imageUploadFailed, e);\n            },\n            removing: function () {\n                _this.parent.trigger(events.imageRemoving, e, function (e) {\n                    proxy.isImgUploaded = false;\n                    proxy.inputUrl.removeAttribute('disabled');\n                    if (proxy.uploadUrl) {\n                        proxy.uploadUrl.url = '';\n                    }\n                    _this.dialogObj.getButtons(0).element.removeAttribute('disabled');\n                });\n            }\n        });\n        this.uploadObj.isStringTemplate = true;\n        this.uploadObj.createElement = this.parent.createElement;\n        this.uploadObj.appendTo(uploadEle);\n        return uploadParentEle;\n    };\n    Image.prototype.checkExtension = function (e) {\n        if (this.uploadObj.allowedExtensions) {\n            if (this.uploadObj.allowedExtensions.toLocaleLowerCase().indexOf(('.' + e.type).toLocaleLowerCase()) === -1) {\n                this.dialogObj.getButtons(0).element.setAttribute('disabled', 'disabled');\n            }\n            else {\n                this.dialogObj.getButtons(0).element.removeAttribute('disabled');\n            }\n        }\n    };\n    Image.prototype.fileSelect = function () {\n        this.dialogObj.element.getElementsByClassName('e-file-select-wrap')[0].querySelector('button').click();\n        return false;\n    };\n    Image.prototype.dragStart = function (e) {\n        if (e.target.nodeName === 'IMG') {\n            this.parent.trigger(events.actionBegin, e, function (actionBeginArgs) {\n                if (actionBeginArgs.cancel) {\n                    e.preventDefault();\n                }\n                else {\n                    e.dataTransfer.effectAllowed = 'copyMove';\n                    e.target.classList.add(classes.CLS_RTE_DRAG_IMAGE);\n                }\n            });\n        }\n        else {\n            return true;\n        }\n    };\n    ;\n    Image.prototype.dragEnter = function (e) {\n        e.dataTransfer.dropEffect = 'copy';\n        e.preventDefault();\n    };\n    ;\n    Image.prototype.dragOver = function (e) {\n        if ((Browser.info.name === 'edge' && e.dataTransfer.items[0].type.split('/')[0].indexOf('image') > -1) ||\n            (Browser.isIE && e.dataTransfer.types[0] === 'Files')) {\n            e.preventDefault();\n        }\n        else {\n            return true;\n        }\n    };\n    ;\n    /**\n     * USed to set range When drop an image\n     */\n    Image.prototype.dragDrop = function (e) {\n        var _this = this;\n        var imgElement = this.parent.inputElement.ownerDocument.querySelector('.' + classes.CLS_RTE_DRAG_IMAGE);\n        if ((imgElement && imgElement.tagName === 'IMG') || e.dataTransfer.files.length > 0) {\n            this.parent.trigger(events.actionBegin, e, function (actionBeginArgs) {\n                if (actionBeginArgs.cancel) {\n                    e.preventDefault();\n                }\n                else {\n                    if (closest(e.target, '#' + _this.parent.getID() + '_toolbar') ||\n                        _this.parent.inputElement.contentEditable === 'false') {\n                        e.preventDefault();\n                        return;\n                    }\n                    if (_this.parent.element.querySelector('.' + classes.CLS_IMG_RESIZE)) {\n                        detach(_this.imgResizeDiv);\n                    }\n                    e.preventDefault();\n                    var range = void 0;\n                    if (_this.contentModule.getDocument().caretRangeFromPoint) { //For chrome\n                        range = _this.contentModule.getDocument().caretRangeFromPoint(e.clientX, e.clientY);\n                    }\n                    else if ((e.rangeParent)) { //For mozilla firefox\n                        range = _this.contentModule.getDocument().createRange();\n                        range.setStart(e.rangeParent, e.rangeOffset);\n                    }\n                    else {\n                        range = _this.getDropRange(e.clientX, e.clientY); //For internet explorer\n                    }\n                    _this.parent.notify(events.selectRange, { range: range });\n                    var uploadArea = _this.parent.element.querySelector('.' + classes.CLS_DROPAREA);\n                    if (uploadArea) {\n                        return;\n                    }\n                    _this.insertDragImage(e);\n                }\n            });\n        }\n        else {\n            return true;\n        }\n    };\n    /**\n     * Used to calculate range on internet explorer\n     */\n    Image.prototype.getDropRange = function (x, y) {\n        var startRange = this.contentModule.getDocument().createRange();\n        this.parent.formatter.editorManager.nodeSelection.setRange(this.contentModule.getDocument(), startRange);\n        var elem = this.contentModule.getDocument().elementFromPoint(x, y);\n        var startNode = (elem.childNodes.length > 0 ? elem.childNodes[0] : elem);\n        var startCharIndexCharacter = 0;\n        if (this.parent.inputElement.firstChild.innerHTML === '<br>') {\n            startRange.setStart(startNode, startCharIndexCharacter);\n            startRange.setEnd(startNode, startCharIndexCharacter);\n        }\n        else {\n            var rangeRect = void 0;\n            do {\n                startCharIndexCharacter++;\n                startRange.setStart(startNode, startCharIndexCharacter);\n                startRange.setEnd(startNode, startCharIndexCharacter + 1);\n                rangeRect = startRange.getBoundingClientRect();\n            } while (rangeRect.left < x && startCharIndexCharacter < startNode.length - 1);\n        }\n        return startRange;\n    };\n    Image.prototype.insertDragImage = function (e) {\n        var _this = this;\n        e.preventDefault();\n        var activePopupElement = this.parent.element.querySelector('' + classes.CLS_POPUP_OPEN);\n        this.parent.notify(events.drop, { args: e });\n        if (activePopupElement) {\n            activePopupElement.classList.add(classes.CLS_HIDE);\n        }\n        if (e.dataTransfer.files.length > 0) { //For external image drag and drop\n            if (e.dataTransfer.files.length > 1) {\n                return;\n            }\n            var imgFiles = e.dataTransfer.files;\n            var fileName = imgFiles[0].name;\n            var imgType = fileName.substring(fileName.lastIndexOf('.'));\n            var allowedTypes = this.parent.insertImageSettings.allowedTypes;\n            for (var i = 0; i < allowedTypes.length; i++) {\n                if (imgType.toLocaleLowerCase() === allowedTypes[i].toLowerCase()) {\n                    if (this.parent.insertImageSettings.saveUrl) {\n                        this.onSelect(e);\n                    }\n                    else {\n                        var args = { args: e, text: '', file: imgFiles[0] };\n                        e.preventDefault();\n                        this.imagePaste(args);\n                    }\n                }\n            }\n        }\n        else { //For internal image drag and drop\n            var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n            var imgElement = this.parent.inputElement.ownerDocument.querySelector('.' + classes.CLS_RTE_DRAG_IMAGE);\n            if (imgElement && imgElement.tagName === 'IMG') {\n                if (imgElement.nextElementSibling) {\n                    if (imgElement.nextElementSibling.classList.contains(classes.CLS_IMG_INNER)) {\n                        range.insertNode(imgElement.parentElement.parentElement);\n                    }\n                    else {\n                        range.insertNode(imgElement);\n                    }\n                }\n                else {\n                    range.insertNode(imgElement);\n                }\n                imgElement.classList.remove(classes.CLS_RTE_DRAG_IMAGE);\n                var imgArgs_1 = { elements: [imgElement] };\n                imgElement.addEventListener('load', function () {\n                    _this.parent.trigger(events.actionComplete, imgArgs_1);\n                });\n                this.parent.formatter.editorManager.nodeSelection.Clear(this.contentModule.getDocument());\n                var args = e;\n                this.resizeStart(args, imgElement);\n                this.hideImageQuickToolbar();\n            }\n        }\n    };\n    Image.prototype.onSelect = function (args) {\n        var _this = this;\n        var proxy = this;\n        var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n        var parentElement = this.parent.createElement('ul', { className: classes.CLS_UPLOAD_FILES });\n        this.parent.element.appendChild(parentElement);\n        var validFiles = {\n            name: '',\n            size: 0,\n            status: '',\n            statusCode: '',\n            type: '',\n            rawFile: args.dataTransfer.files[0],\n            validationMessages: {}\n        };\n        var imageTag = this.parent.createElement('IMG');\n        imageTag.style.opacity = '0.5';\n        imageTag.classList.add(classes.CLS_RTE_IMAGE);\n        imageTag.classList.add(classes.CLS_IMGINLINE);\n        imageTag.classList.add(classes.CLS_RESIZE);\n        var file = validFiles.rawFile;\n        var reader = new FileReader();\n        reader.addEventListener('load', function () {\n            var url = URL.createObjectURL(convertToBlob(reader.result));\n            imageTag.src = proxy.parent.insertImageSettings.saveFormat === 'Blob' ? url : reader.result;\n        });\n        if (file) {\n            reader.readAsDataURL(file);\n        }\n        range.insertNode(imageTag);\n        this.uploadMethod(args, imageTag);\n        var e = { elements: [imageTag] };\n        imageTag.addEventListener('load', function () {\n            _this.parent.trigger(events.actionComplete, e);\n        });\n    };\n    /**\n     * Rendering uploader and popup for drag and drop\n     */\n    Image.prototype.uploadMethod = function (dragEvent, imageElement) {\n        var _this = this;\n        var isUploading = false;\n        var proxy = this;\n        var popupEle = this.parent.createElement('div');\n        this.parent.element.appendChild(popupEle);\n        var uploadEle = this.parent.createElement('input', {\n            id: this.rteID + '_upload', attrs: { type: 'File', name: 'UploadFiles' }\n        });\n        var offsetY = this.parent.iframeSettings.enable ? -50 : -90;\n        this.popupObj = new Popup(popupEle, {\n            relateTo: imageElement,\n            height: '85px',\n            width: '300px',\n            offsetY: offsetY,\n            content: uploadEle,\n            viewPortElement: this.parent.element,\n            position: { X: 'center', Y: 'top' },\n            enableRtl: this.parent.enableRtl,\n            zIndex: 10001,\n            close: function (event) {\n                _this.parent.isBlur = false;\n                _this.popupObj.destroy();\n                detach(_this.popupObj.element);\n                _this.popupObj = null;\n            }\n        });\n        this.popupObj.element.style.display = 'none';\n        addClass([this.popupObj.element], classes.CLS_POPUP_OPEN);\n        addClass([this.popupObj.element], classes.CLS_RTE_UPLOAD_POPUP);\n        var timeOut = dragEvent.dataTransfer.files[0].size > 1000000 ? 300 : 100;\n        setTimeout(function () { proxy.refreshPopup(imageElement); }, timeOut);\n        var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n        var rawFile;\n        var beforeUploadArgs;\n        this.uploadObj = new Uploader({\n            asyncSettings: {\n                saveUrl: this.parent.insertImageSettings.saveUrl,\n            },\n            cssClass: classes.CLS_RTE_DIALOG_UPLOAD,\n            dropArea: this.parent.element,\n            allowedExtensions: this.parent.insertImageSettings.allowedTypes.toString(),\n            removing: function () {\n                _this.parent.inputElement.contentEditable = 'true';\n                isUploading = false;\n                detach(imageElement);\n                _this.popupObj.close();\n            },\n            canceling: function () {\n                _this.parent.inputElement.contentEditable = 'true';\n                isUploading = false;\n                detach(imageElement);\n                _this.popupObj.close();\n            },\n            beforeUpload: function (args) {\n                if (_this.parent.isServerRendered) {\n                    beforeUploadArgs = JSON.parse(JSON.stringify(args));\n                    beforeUploadArgs.filesData = rawFile;\n                    isUploading = true;\n                    _this.parent.trigger(events.imageUploading, beforeUploadArgs, function (beforeUploadArgs) {\n                        if (beforeUploadArgs.cancel) {\n                            return;\n                        }\n                        /* tslint:disable */\n                        _this.uploadObj.uploadFiles(rawFile, null);\n                        _this.parent.inputElement.contentEditable = 'false';\n                        /* tslint:enable */\n                    });\n                }\n                else {\n                    _this.parent.trigger(events.beforeImageUpload, args);\n                }\n            },\n            uploading: function (e) {\n                if (!_this.parent.isServerRendered) {\n                    isUploading = true;\n                    _this.parent.trigger(events.imageUploading, e);\n                    _this.parent.inputElement.contentEditable = 'false';\n                }\n            },\n            selected: function (e) {\n                if (isUploading) {\n                    e.cancel = true;\n                }\n                if (_this.parent.isServerRendered) {\n                    rawFile = e.filesData;\n                }\n            },\n            failure: function (e) {\n                isUploading = false;\n                _this.parent.inputElement.contentEditable = 'true';\n                var args = {\n                    args: dragEvent,\n                    type: 'Images',\n                    isNotify: undefined,\n                    elements: imageElement\n                };\n                setTimeout(function () { _this.uploadFailure(imageElement, args, e); }, 900);\n            },\n            success: function (e) {\n                isUploading = false;\n                _this.parent.inputElement.contentEditable = 'true';\n                var args = {\n                    args: dragEvent,\n                    type: 'Images',\n                    isNotify: undefined,\n                    elements: imageElement\n                };\n                setTimeout(function () { _this.uploadSuccess(imageElement, dragEvent, args, e); }, 900);\n            }\n        });\n        this.uploadObj.appendTo(this.popupObj.element.childNodes[0]);\n        detach(this.popupObj.element.querySelector('.e-rte-dialog-upload .e-file-select-wrap'));\n        range.selectNodeContents(imageElement);\n        this.parent.formatter.editorManager.nodeSelection.setRange(this.contentModule.getDocument(), range);\n    };\n    Image.prototype.refreshPopup = function (imageElement) {\n        var imgPosition = this.parent.iframeSettings.enable ? this.parent.element.offsetTop +\n            imageElement.offsetTop : imageElement.offsetTop;\n        var rtePosition = this.parent.element.offsetTop + this.parent.element.offsetHeight;\n        if (imgPosition > rtePosition) {\n            this.popupObj.relateTo = this.parent.inputElement;\n            this.popupObj.offsetY = this.parent.iframeSettings.enable ? -30 : -65;\n            this.popupObj.element.style.display = 'block';\n        }\n        else {\n            if (this.popupObj) {\n                this.popupObj.refreshPosition(imageElement);\n                this.popupObj.element.style.display = 'block';\n            }\n        }\n    };\n    /**\n     * Called when drop image upload was failed\n     */\n    Image.prototype.uploadFailure = function (imgEle, args, e) {\n        detach(imgEle);\n        if (this.popupObj) {\n            this.popupObj.close();\n        }\n        this.parent.trigger(events.imageUploadFailed, e);\n        this.uploadObj.destroy();\n    };\n    /**\n     * Called when drop image upload was successful\n     */\n    Image.prototype.uploadSuccess = function (imageElement, dragEvent, args, e) {\n        var _this = this;\n        imageElement.style.opacity = '1';\n        imageElement.classList.add(classes.CLS_IMG_FOCUS);\n        this.parent.trigger(events.imageUploadSuccess, e, function (e) {\n            if (!isNullOrUndefined(_this.parent.insertImageSettings.path)) {\n                var url = _this.parent.insertImageSettings.path + e.file.name;\n                imageElement.src = url;\n                imageElement.setAttribute('alt', e.file.name);\n            }\n        });\n        this.popupObj.close();\n        this.showImageQuickToolbar(args);\n        this.resizeStart(dragEvent, imageElement);\n        this.uploadObj.destroy();\n    };\n    Image.prototype.imagePaste = function (args) {\n        var _this = this;\n        if (args.text.length === 0 && !isNullOrUndefined(args.file)) {\n            var proxy_1 = this;\n            var reader_2 = new FileReader();\n            args.args.preventDefault();\n            reader_2.addEventListener('load', function (e) {\n                var url = {\n                    cssClass: (proxy_1.parent.insertImageSettings.display === 'inline' ? classes.CLS_IMGINLINE : classes.CLS_IMGBREAK),\n                    url: _this.parent.insertImageSettings.saveFormat === 'Base64' || !isNullOrUndefined(args.callBack) ?\n                        reader_2.result : URL.createObjectURL(convertToBlob(reader_2.result)),\n                    width: {\n                        width: proxy_1.parent.insertImageSettings.width, minWidth: proxy_1.parent.insertImageSettings.minWidth,\n                        maxWidth: proxy_1.parent.insertImageSettings.maxWidth\n                    },\n                    height: {\n                        height: proxy_1.parent.insertImageSettings.height, minHeight: proxy_1.parent.insertImageSettings.minHeight,\n                        maxHeight: proxy_1.parent.insertImageSettings.maxHeight\n                    }\n                };\n                if (!isNullOrUndefined(args.callBack)) {\n                    args.callBack(url);\n                    return;\n                }\n                else {\n                    proxy_1.parent.formatter.process(proxy_1.parent, { item: { command: 'Images', subCommand: 'Image' } }, args.args, url);\n                    _this.showPopupToolBar(args, url);\n                }\n            });\n            reader_2.readAsDataURL(args.file);\n        }\n    };\n    Image.prototype.showPopupToolBar = function (e, url) {\n        var _this = this;\n        var imageSrc = 'img[src=\"' + url.url + '\"]';\n        var imageElement = this.parent.inputElement.querySelector(imageSrc);\n        this.parent.quickToolbarModule.createQTBar('Image', 'MultiRow', this.parent.quickToolbarSettings.image, RenderType.ImageToolbar);\n        var args = {\n            args: e.args,\n            type: 'Images',\n            isNotify: undefined,\n            elements: imageElement\n        };\n        if (imageElement) {\n            setTimeout(function () { _this.showImageQuickToolbar(args); _this.resizeStart(e.args, imageElement); }, 0);\n        }\n    };\n    /**\n     * Destroys the ToolBar.\n     * @method destroy\n     * @return {void}\n     * @hidden\n\n     */\n    Image.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    /**\n     * For internal use only - Get the module name.\n     */\n    Image.prototype.getModuleName = function () {\n        return 'image';\n    };\n    return Image;\n}());\nexport { Image };\n","import { detach, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { RenderType } from '../base/enum';\nimport { CLS_COUNT, CLS_WARNING, CLS_ERROR } from '../base/classes';\n/**\n * `Count` module is used to handle Count actions.\n */\nvar Count = /** @class */ (function () {\n    function Count(parent, serviceLocator) {\n        this.parent = parent;\n        this.locator = serviceLocator;\n        this.renderFactory = this.locator.getService('rendererFactory');\n        this.addEventListener();\n    }\n    Count.prototype.initializeInstance = function () {\n        this.contentRenderer = this.renderFactory.getRenderer(RenderType.Content);\n        this.editPanel = this.contentRenderer.getEditPanel();\n        this.addEventListener();\n    };\n    /**\n     * renderCount method\n     * @hidden\n\n     */\n    Count.prototype.renderCount = function () {\n        this.initializeInstance();\n        this.element = this.parent.createElement('span', { className: CLS_COUNT });\n        this.contentRenderer.getPanel().parentElement.appendChild(this.element);\n        this.appendCount();\n        if (this.parent.maxLength !== -1) {\n            this.charCountBackground(this.htmlLength);\n        }\n    };\n    Count.prototype.appendCount = function () {\n        var htmlText = this.parent.editorMode === 'Markdown' ? this.editPanel.value.trim() :\n            this.editPanel.textContent.trim();\n        this.htmlLength = htmlText.length;\n        var string = this.parent.maxLength === -1 ? this.htmlLength : this.htmlLength + ' / ' + this.parent.maxLength;\n        this.element.innerHTML = string;\n    };\n    Count.prototype.charCountBackground = function (htmlLength) {\n        var percentage = (htmlLength / this.parent.maxLength) * 100;\n        if (percentage < 85) {\n            this.element.classList.remove(CLS_WARNING);\n            this.element.classList.remove(CLS_ERROR);\n        }\n        else if (percentage > 85 && percentage <= 90) {\n            this.element.classList.remove(CLS_ERROR);\n            this.element.classList.add(CLS_WARNING);\n        }\n        else if (percentage > 90) {\n            this.element.classList.remove(CLS_WARNING);\n            this.element.classList.add(CLS_ERROR);\n        }\n    };\n    /**\n     * @hidden\n\n     */\n    Count.prototype.refresh = function () {\n        if (!isNullOrUndefined(this.editPanel)) {\n            this.appendCount();\n            if (this.parent.maxLength !== -1) {\n                this.charCountBackground(this.htmlLength);\n            }\n        }\n    };\n    /**\n     * Destroys the Count.\n     * @method destroy\n     * @return {void}\n     * @hidden\n\n     */\n    Count.prototype.destroy = function () {\n        if (this.element && !isNullOrUndefined(this.parent.element.querySelector('.' + CLS_COUNT))) {\n            detach(this.element);\n        }\n        this.removeEventListener();\n    };\n    Count.prototype.toggle = function (e) {\n        this.element.style.display = (e.member === 'viewSource') ? 'none' : 'block';\n    };\n    Count.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.initialEnd, this.renderCount, this);\n        this.parent.on(events.keyUp, this.refresh, this);\n        this.parent.on(events.count, this.refresh, this);\n        this.parent.on(events.refreshBegin, this.refresh, this);\n        this.parent.on(events.mouseDown, this.refresh, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.sourceCode, this.toggle, this);\n        this.parent.on(events.updateSource, this.toggle, this);\n    };\n    Count.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.initialEnd, this.renderCount);\n        this.parent.off(events.keyUp, this.refresh);\n        this.parent.off(events.refreshBegin, this.refresh);\n        this.parent.off(events.count, this.refresh);\n        this.parent.off(events.mouseDown, this.refresh);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off(events.sourceCode, this.toggle);\n        this.parent.off(events.updateSource, this.toggle);\n    };\n    /**\n     * For internal use only - Get the module name.\n     */\n    Count.prototype.getModuleName = function () {\n        return 'count';\n    };\n    return Count;\n}());\nexport { Count };\n","import { extend, isNullOrUndefined, Browser, isBlazor } from '@syncfusion/ej2-base';\nimport * as CONSTANT from '../base/constant';\nimport { updateUndoRedoStatus, isIDevice } from '../base/util';\nimport { KEY_DOWN, KEY_UP } from './../../common/constant';\n/**\n * Formatter\n * @hidden\n\n */\nvar Formatter = /** @class */ (function () {\n    function Formatter() {\n    }\n    /**\n     * To execute the command\n     * @param  {IRichTextEditor} self\n     * @param  {ActionBeginEventArgs} args\n     * @param  {MouseEvent|KeyboardEvent} event\n     * @param  {IItemCollectionArgs} value\n     * @hidden\n\n     */\n    Formatter.prototype.process = function (self, args, event, value) {\n        var _this = this;\n        var selection = self.contentModule.getDocument().getSelection();\n        var range = (selection.rangeCount > 0) ? selection.getRangeAt(selection.rangeCount - 1) : null;\n        var saveSelection;\n        if (self.editorMode === 'HTML') {\n            saveSelection = this.editorManager.nodeSelection.save(range, self.contentModule.getDocument());\n        }\n        if (!isNullOrUndefined(args)\n            && args.item.command\n            && args.item.command !== 'Table'\n            && args.item.command !== 'Actions'\n            && args.item.command !== 'Links'\n            && args.item.command !== 'Images'\n            && range\n            && !(self.contentModule.getEditPanel().contains(this.getAncestorNode(range.commonAncestorContainer))\n                || self.contentModule.getEditPanel() === range.commonAncestorContainer\n                || self.contentModule.getPanel() === range.commonAncestorContainer)) {\n            return;\n        }\n        if (isNullOrUndefined(args)) {\n            var action_1 = event.action;\n            if (action_1 !== 'tab' && action_1 !== 'enter' && action_1 !== 'space' && action_1 !== 'escape') {\n                args = {};\n                if (self.editorMode === 'Markdown' && action_1 === 'insert-table') {\n                    value = {\n                        'headingText': self.localeObj.getConstant('TableHeadingText'),\n                        'colText': self.localeObj.getConstant('TableColText')\n                    };\n                }\n                var items = {\n                    originalEvent: event, cancel: false,\n                    requestType: action_1 || (event.key + 'Key'),\n                    itemCollection: value\n                };\n                extend(args, args, items, true);\n                if (isBlazor()) {\n                    delete args.item;\n                    delete args.itemCollection;\n                }\n                self.trigger(CONSTANT.actionBegin, args, function (actionBeginArgs) {\n                    if (actionBeginArgs.cancel) {\n                        if (action_1 === 'paste' || action_1 === 'cut' || action_1 === 'copy') {\n                            event.preventDefault();\n                        }\n                    }\n                });\n            }\n            var isTableModule = isNullOrUndefined(self.tableModule) ? true : self.tableModule ?\n                self.tableModule.ensureInsideTableList : false;\n            if ((event.which === 9 && isTableModule) || event.which !== 9) {\n                this.editorManager.observer.notify((event.type === 'keydown' ? KEY_DOWN : KEY_UP), {\n                    event: event,\n                    callBack: this.onSuccess.bind(this, self),\n                    value: value\n                });\n            }\n        }\n        else if (!isNullOrUndefined(args) && args.item.command && args.item.subCommand && ((args.item.command !== args.item.subCommand\n            && args.item.command !== 'Font')\n            || ((args.item.subCommand === 'FontName' || args.item.subCommand === 'FontSize') && args.name === 'dropDownSelect')\n            || ((args.item.subCommand === 'BackgroundColor' || args.item.subCommand === 'FontColor')\n                && args.name === 'colorPickerChanged'))) {\n            extend(args, args, { requestType: args.item.subCommand, cancel: false, itemCollection: value }, true);\n            self.trigger(CONSTANT.actionBegin, args, function (actionBeginArgs) {\n                if (!actionBeginArgs.cancel) {\n                    if (_this.getUndoRedoStack().length === 0 && actionBeginArgs.item.command !== 'Links'\n                        && actionBeginArgs.item.command !== 'Images') {\n                        _this.saveData();\n                    }\n                    self.isBlur = false;\n                    self.contentModule.getEditPanel().focus();\n                    if (self.editorMode === 'HTML') {\n                        saveSelection.restore();\n                    }\n                    var command = actionBeginArgs.item.subCommand.toLocaleLowerCase();\n                    if (command === 'paste' || command === 'cut' || command === 'copy') {\n                        self.clipboardAction(command, event);\n                    }\n                    else {\n                        _this.editorManager.observer.notify(CONSTANT.checkUndo, { subCommand: actionBeginArgs.item.subCommand });\n                        _this.editorManager.execCommand(actionBeginArgs.item.command, actionBeginArgs.item.subCommand, event, _this.onSuccess.bind(_this, self), actionBeginArgs.item.value, actionBeginArgs.item.subCommand === 'Pre' && args.name === 'dropDownSelect' ?\n                            { name: args.name } : value, ('#' + self.getID() + ' iframe'));\n                    }\n                }\n            });\n        }\n        if (isNullOrUndefined(event) || event && event.action !== 'copy') {\n            this.enableUndo(self);\n        }\n    };\n    Formatter.prototype.getAncestorNode = function (node) {\n        node = node.nodeType === 3 ? node.parentNode : node;\n        return node;\n    };\n    /**\n     * onKeyHandler method\n     * @hidden\n\n     */\n    Formatter.prototype.onKeyHandler = function (self, e) {\n        var _this = this;\n        this.editorManager.observer.notify(KEY_UP, {\n            event: e, callBack: function () {\n                self.notify(CONSTANT.contentChanged, {});\n                _this.enableUndo(self);\n            }\n        });\n    };\n    /**\n     * onSuccess method\n     * @hidden\n\n     */\n    Formatter.prototype.onSuccess = function (self, events) {\n        self.notify(CONSTANT.contentChanged, {});\n        if (events && (isNullOrUndefined(events.event) || events.event.action !== 'copy')) {\n            this.enableUndo(self);\n            self.notify(CONSTANT.execCommandCallBack, events);\n        }\n        self.trigger(CONSTANT.actionComplete, events, function (callbackArgs) {\n            self.setPlaceHolder();\n            if (callbackArgs.requestType === 'Images' || callbackArgs.requestType === 'Links' && self.editorMode === 'HTML') {\n                var args = callbackArgs;\n                if (callbackArgs.requestType === 'Links' && callbackArgs.event &&\n                    callbackArgs.event.type === 'keydown' &&\n                    callbackArgs.event.keyCode === 32) {\n                    return;\n                }\n                self.notify(CONSTANT.insertCompleted, {\n                    args: args.event, type: callbackArgs.requestType, isNotify: true,\n                    elements: args.elements\n                });\n            }\n            self.autoResize();\n        });\n    };\n    /**\n     * Save the data for undo and redo action.\n     * @hidden\n\n     */\n    Formatter.prototype.saveData = function (e) {\n        this.editorManager.undoRedoManager.saveData(e);\n    };\n    /**\n     * getUndoStatus method\n     * @hidden\n\n     */\n    Formatter.prototype.getUndoStatus = function () {\n        return this.editorManager.undoRedoManager.getUndoStatus();\n    };\n    /**\n     * getUndoRedoStack method\n     * @hidden\n\n     */\n    Formatter.prototype.getUndoRedoStack = function () {\n        return this.editorManager.undoRedoManager.undoRedoStack;\n    };\n    /**\n     * enableUndo method\n     * @hidden\n\n     */\n    Formatter.prototype.enableUndo = function (self) {\n        var status = this.getUndoStatus();\n        if (self.inlineMode.enable && (!Browser.isDevice || isIDevice())) {\n            updateUndoRedoStatus(self.quickToolbarModule.inlineQTBar.quickTBarObj, status);\n            self.trigger(CONSTANT.toolbarStatusUpdate, status);\n        }\n        else {\n            if (self.toolbarModule) {\n                updateUndoRedoStatus(self.toolbarModule.baseToolbar, status);\n                self.trigger(CONSTANT.toolbarStatusUpdate, status);\n            }\n        }\n    };\n    return Formatter;\n}());\nexport { Formatter };\n","/**\n * Constant values for EditorManager\n */\n/**\n * Image plugin events\n * @hidden\n */\nexport var IMAGE = 'INSERT-IMAGE';\nexport var TABLE = 'INSERT-TABLE';\nexport var LINK = 'INSERT-LINK';\nexport var INSERT_ROW = 'INSERT-ROW';\nexport var INSERT_COLUMN = 'INSERT-COLUMN';\nexport var DELETEROW = 'DELETE-ROW';\nexport var DELETECOLUMN = 'DELETE-COLUMN';\nexport var REMOVETABLE = 'REMOVE-TABLE';\nexport var TABLEHEADER = 'TABLE-HEADER';\nexport var TABLE_VERTICAL_ALIGN = 'TABLE_VERTICAL_ALIGN';\n/**\n * Alignments plugin events\n * @hidden\n */\nexport var ALIGNMENT_TYPE = 'alignment-type';\n/**\n * Indents plugin events\n * @hidden\n */\nexport var INDENT_TYPE = 'indent-type';\n/** Constant tag names\n * @hidden\n */\nexport var DEFAULT_TAG = 'p';\n/**\n * @hidden\n */\nexport var BLOCK_TAGS = ['address', 'article', 'aside', 'audio', 'blockquote',\n    'canvas', 'details', 'dd', 'div', 'dl', 'dt', 'fieldset', 'figcaption', 'figure', 'footer',\n    'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'header', 'hgroup', 'hr', 'li', 'main', 'nav',\n    'noscript', 'ol', 'output', 'p', 'pre', 'section', 'table', 'tbody', 'td', 'tfoot', 'th',\n    'thead', 'tr', 'ul', 'video'];\n/**\n * @hidden\n */\nexport var IGNORE_BLOCK_TAGS = ['td', 'th'];\n/**\n * @hidden\n */\nexport var TABLE_BLOCK_TAGS = ['table', 'tbody', 'td', 'tfoot', 'th',\n    'thead', 'tr'];\n/**\n * Selection plugin events\n * @hidden\n */\nexport var SELECTION_TYPE = 'selection-type';\n/**\n * Insert HTML plugin events\n * @hidden\n */\nexport var INSERTHTML_TYPE = 'inserthtml-type';\n/**\n * Insert Text plugin events\n * @hidden\n */\nexport var INSERT_TEXT_TYPE = 'insert-text-type';\n/**\n * Clear Format HTML plugin events\n * @hidden\n */\nexport var CLEAR_TYPE = 'clear-type';\n","/**\n * `Selection` module is used to handle RTE Selections.\n */\nvar NodeSelection = /** @class */ (function () {\n    function NodeSelection() {\n        this.startNodeName = [];\n        this.endNodeName = [];\n    }\n    NodeSelection.prototype.saveInstance = function (range, body) {\n        this.range = range.cloneRange();\n        this.rootNode = this.documentFromRange(range);\n        this.body = body;\n        this.startContainer = this.getNodeArray(range.startContainer, true);\n        this.endContainer = this.getNodeArray(range.endContainer, false);\n        this.startOffset = range.startOffset;\n        this.endOffset = range.endOffset;\n        this.html = this.body.innerHTML;\n        return this;\n    };\n    NodeSelection.prototype.documentFromRange = function (range) {\n        return (9 === range.startContainer.nodeType) ? range.startContainer : range.startContainer.ownerDocument;\n    };\n    NodeSelection.prototype.getRange = function (docElement) {\n        var select = this.get(docElement);\n        var range = select && select.rangeCount > 0 ? select.getRangeAt(select.rangeCount - 1) : docElement.createRange();\n        return (range.startContainer !== docElement || range.endContainer !== docElement\n            || range.startOffset || range.endOffset || (range.setStart(docElement.body, 0),\n            range.collapse(!0)),\n            range);\n    };\n    /**\n     * get method\n     * @hidden\n\n     */\n    NodeSelection.prototype.get = function (docElement) {\n        return docElement.defaultView.getSelection();\n    };\n    /**\n     * save method\n     * @hidden\n\n     */\n    NodeSelection.prototype.save = function (range, docElement) {\n        range = (range) ? range.cloneRange() : this.getRange(docElement);\n        return this.saveInstance(range, docElement.body);\n    };\n    /**\n     * getIndex method\n     * @hidden\n\n     */\n    NodeSelection.prototype.getIndex = function (node) {\n        var index;\n        var num = 0;\n        node = !node.previousSibling && node.tagName === 'BR' ? node : node.previousSibling;\n        if (node) {\n            for (var type = node.nodeType; node; null) {\n                index = node.nodeType;\n                num++;\n                type = index;\n                node = node.previousSibling;\n            }\n        }\n        return num;\n    };\n    NodeSelection.prototype.isChildNode = function (nodeCollection, parentNode) {\n        for (var index = 0; index < parentNode.childNodes.length; index++) {\n            if (nodeCollection.indexOf(parentNode.childNodes[index]) > -1) {\n                return true;\n            }\n        }\n        return false;\n    };\n    NodeSelection.prototype.getNode = function (startNode, endNode, nodeCollection) {\n        if (endNode === startNode &&\n            (startNode.nodeType === 3 || !startNode.firstChild || nodeCollection.indexOf(startNode.firstChild) !== -1\n                || this.isChildNode(nodeCollection, startNode))) {\n            return null;\n        }\n        if (nodeCollection.indexOf(startNode.firstChild) === -1 && startNode.firstChild && !this.isChildNode(nodeCollection, startNode)) {\n            return startNode.firstChild;\n        }\n        if (startNode.nextSibling) {\n            return startNode.nextSibling;\n        }\n        if (!startNode.parentNode) {\n            return null;\n        }\n        else {\n            return startNode.parentNode;\n        }\n    };\n    /**\n     * getNodeCollection method\n     * @hidden\n\n     */\n    NodeSelection.prototype.getNodeCollection = function (range) {\n        var startNode = range.startContainer.childNodes[range.startOffset]\n            || range.startContainer;\n        var endNode = range.endContainer.childNodes[(range.endOffset > 0) ? (range.endOffset - 1) : range.endOffset]\n            || range.endContainer;\n        if (startNode === endNode && startNode.childNodes.length === 0) {\n            return [startNode];\n        }\n        if (range.startOffset === range.endOffset && range.startOffset !== 0 && range.startContainer.nodeName === 'PRE') {\n            return [startNode.nodeName === 'BR' || startNode.nodeName === '#text' ? startNode : startNode.childNodes[0]];\n        }\n        var nodeCollection = [];\n        do {\n            if (nodeCollection.indexOf(startNode) === -1) {\n                nodeCollection.push(startNode);\n            }\n            startNode = this.getNode(startNode, endNode, nodeCollection);\n        } while (startNode);\n        return nodeCollection;\n    };\n    /**\n     * getParentNodeCollection method\n     * @hidden\n\n     */\n    NodeSelection.prototype.getParentNodeCollection = function (range) {\n        return this.getParentNodes(this.getNodeCollection(range), range);\n    };\n    /**\n     * getParentNodes method\n     * @hidden\n\n     */\n    NodeSelection.prototype.getParentNodes = function (nodeCollection, range) {\n        nodeCollection = nodeCollection.reverse();\n        for (var index = 0; index < nodeCollection.length; index++) {\n            if ((nodeCollection.indexOf(nodeCollection[index].parentNode) !== -1)\n                || (nodeCollection[index].nodeType === 3 &&\n                    range.startContainer !== range.endContainer &&\n                    range.startContainer.parentNode !== range.endContainer.parentNode)) {\n                nodeCollection.splice(index, 1);\n                index--;\n            }\n            else if (nodeCollection[index].nodeType === 3) {\n                nodeCollection[index] = nodeCollection[index].parentNode;\n            }\n        }\n        return nodeCollection;\n    };\n    /**\n     * getSelectionNodeCollection method\n     * @hidden\n\n     */\n    NodeSelection.prototype.getSelectionNodeCollection = function (range) {\n        return this.getSelectionNodes(this.getNodeCollection(range));\n    };\n    /**\n     * getSelectionNodeCollection along with BR node method\n     * @hidden\n\n     */\n    NodeSelection.prototype.getSelectionNodeCollectionBr = function (range) {\n        return this.getSelectionNodesBr(this.getNodeCollection(range));\n    };\n    /**\n     * getParentNodes method\n     * @hidden\n\n     */\n    NodeSelection.prototype.getSelectionNodes = function (nodeCollection) {\n        nodeCollection = nodeCollection.reverse();\n        var regEx = new RegExp(String.fromCharCode(8203), 'g');\n        for (var index = 0; index < nodeCollection.length; index++) {\n            if (nodeCollection[index].nodeType !== 3 || (nodeCollection[index].textContent.trim() === '' ||\n                (nodeCollection[index].textContent.length === 1 && nodeCollection[index].textContent.match(regEx)))) {\n                nodeCollection.splice(index, 1);\n                index--;\n            }\n        }\n        return nodeCollection.reverse();\n    };\n    /**\n     * Get selection text nodes with br method.\n     * @hidden\n\n     */\n    NodeSelection.prototype.getSelectionNodesBr = function (nodeCollection) {\n        nodeCollection = nodeCollection.reverse();\n        var regEx = new RegExp(String.fromCharCode(8203), 'g');\n        for (var index = 0; index < nodeCollection.length; index++) {\n            if (nodeCollection[index].nodeName !== 'BR' &&\n                (nodeCollection[index].nodeType !== 3 || (nodeCollection[index].textContent.trim() === '' ||\n                    (nodeCollection[index].textContent.length === 1 && nodeCollection[index].textContent.match(regEx))))) {\n                nodeCollection.splice(index, 1);\n                index--;\n            }\n        }\n        return nodeCollection.reverse();\n    };\n    /**\n     * getInsertNodeCollection method\n     * @hidden\n\n     */\n    NodeSelection.prototype.getInsertNodeCollection = function (range) {\n        return this.getInsertNodes(this.getNodeCollection(range));\n    };\n    /**\n     * getInsertNodes method\n     * @hidden\n\n     */\n    NodeSelection.prototype.getInsertNodes = function (nodeCollection) {\n        nodeCollection = nodeCollection.reverse();\n        for (var index = 0; index < nodeCollection.length; index++) {\n            if ((nodeCollection[index].childNodes.length !== 0 &&\n                nodeCollection[index].nodeType !== 3) ||\n                (nodeCollection[index].nodeType === 3 &&\n                    nodeCollection[index].textContent === '')) {\n                nodeCollection.splice(index, 1);\n                index--;\n            }\n        }\n        return nodeCollection.reverse();\n    };\n    /**\n     * getNodeArray method\n     * @hidden\n\n     */\n    NodeSelection.prototype.getNodeArray = function (node, isStart, root) {\n        var array = [];\n        ((isStart) ? (this.startNodeName = []) : (this.endNodeName = []));\n        for (; node !== (root ? root : this.rootNode); null) {\n            (isStart) ? this.startNodeName.push(node.nodeName.toLowerCase()) : this.endNodeName.push(node.nodeName.toLowerCase());\n            array.push(this.getIndex(node));\n            node = node.parentNode;\n        }\n        return array;\n    };\n    NodeSelection.prototype.setRangePoint = function (range, isvalid, num, size) {\n        var node = this.rootNode;\n        var index = num.length;\n        var constant = size;\n        for (; index--; null) {\n            node = node && node.childNodes[num[index]];\n        }\n        if (node && constant >= 0) {\n            range[isvalid ? 'setStart' : 'setEnd'](node, constant);\n        }\n        return range;\n    };\n    /**\n     * restore method\n     * @hidden\n\n     */\n    NodeSelection.prototype.restore = function () {\n        var range = this.range.cloneRange();\n        range = this.setRangePoint(range, true, this.startContainer, this.startOffset);\n        range = this.setRangePoint(range, false, this.endContainer, this.endOffset);\n        this.selectRange(this.rootNode, range);\n        return range;\n    };\n    NodeSelection.prototype.selectRange = function (docElement, range) {\n        this.setRange(docElement, range);\n        this.save(range, docElement);\n    };\n    /**\n     * setRange method\n     * @hidden\n\n     */\n    NodeSelection.prototype.setRange = function (docElement, range) {\n        var selection = this.get(docElement);\n        selection.removeAllRanges();\n        selection.addRange(range);\n    };\n    /**\n     * setSelectionText method\n     * @hidden\n\n     */\n    NodeSelection.prototype.setSelectionText = function (docElement, startNode, endNode, startIndex, endIndex) {\n        var range = docElement.createRange();\n        range.setStart(startNode, startIndex);\n        range.setEnd(endNode, endIndex);\n        this.setRange(docElement, range);\n    };\n    /**\n     * setSelectionContents method\n     * @hidden\n\n     */\n    NodeSelection.prototype.setSelectionContents = function (docElement, element) {\n        var range = docElement.createRange();\n        range.selectNode(element);\n        this.setRange(docElement, range);\n    };\n    /**\n     * setSelectionNode method\n     * @hidden\n\n     */\n    NodeSelection.prototype.setSelectionNode = function (docElement, element) {\n        var range = docElement.createRange();\n        range.selectNodeContents(element);\n        this.setRange(docElement, range);\n    };\n    /**\n     * getSelectedNodes method\n     * @hidden\n\n     */\n    NodeSelection.prototype.getSelectedNodes = function (docElement) {\n        return this.getNodeCollection(this.getRange(docElement));\n    };\n    /**\n     * Clear method\n     * @hidden\n\n     */\n    NodeSelection.prototype.Clear = function (docElement) {\n        this.get(docElement).removeAllRanges();\n    };\n    /**\n     * insertParentNode method\n     * @hidden\n\n     */\n    NodeSelection.prototype.insertParentNode = function (docElement, newNode, range) {\n        range.surroundContents(newNode);\n        this.selectRange(docElement, range);\n    };\n    /**\n     * setCursorPoint method\n     * @hidden\n\n     */\n    NodeSelection.prototype.setCursorPoint = function (docElement, element, point) {\n        var range = docElement.createRange();\n        var selection = docElement.defaultView.getSelection();\n        range.setStart(element, point);\n        range.collapse(true);\n        selection.removeAllRanges();\n        selection.addRange(range);\n    };\n    return NodeSelection;\n}());\nexport { NodeSelection };\n","/**\n * Default Markdown formats config for adapter\n */\nexport var markdownFormatTags = {\n    'h6': '###### ',\n    'h5': '##### ',\n    'h4': '#### ',\n    'h3': '### ',\n    'h2': '## ',\n    'h1': '# ',\n    'blockquote': '> ',\n    'pre': '```\\n',\n    'p': ''\n};\n/**\n * Default selection formats config for adapter\n */\nexport var markdownSelectionTags = {\n    'Bold': '**',\n    'Italic': '*',\n    'StrikeThrough': '~~',\n    'InlineCode': '`',\n    'SubScript': '<sub>',\n    'SuperScript': '<sup>',\n    'UpperCase': 'A-Z',\n    'LowerCase': 'a-z'\n};\n/**\n * Default Markdown lists config for adapter\n */\nexport var markdownListsTags = {\n    'OL': '1. ',\n    'UL': '- ',\n};\n/**\n * Default html key config for adapter\n */\nexport var htmlKeyConfig = {\n    'toolbar-focus': 'alt+f10',\n    'escape': '27',\n    'insert-link': 'ctrl+k',\n    'insert-image': 'ctrl+shift+i',\n    'insert-table': 'ctrl+shift+e',\n    'undo': 'ctrl+z',\n    'redo': 'ctrl+y',\n    'copy': 'ctrl+c',\n    'cut': 'ctrl+x',\n    'paste': 'ctrl+v',\n    'bold': 'ctrl+b',\n    'italic': 'ctrl+i',\n    'underline': 'ctrl+u',\n    'strikethrough': 'ctrl+shift+s',\n    'uppercase': 'ctrl+shift+u',\n    'lowercase': 'ctrl+shift+l',\n    'superscript': 'ctrl+shift+=',\n    'subscript': 'ctrl+=',\n    'indents': 'ctrl+]',\n    'outdents': 'ctrl+[',\n    'html-source': 'ctrl+shift+h',\n    'full-screen': 'ctrl+shift+f',\n    'decrease-fontsize': 'ctrl+shift+<',\n    'increase-fontsize': 'ctrl+shift+>',\n    'justify-center': 'ctrl+e',\n    'justify-full': 'ctrl+j',\n    'justify-left': 'ctrl+l',\n    'justify-right': 'ctrl+r',\n    'clear-format': 'ctrl+shift+r',\n    'ordered-list': 'ctrl+shift+o',\n    'unordered-list': 'ctrl+alt+o',\n    'space': '32',\n    'enter': '13',\n    'tab': 'tab',\n    'delete': '46'\n};\n/**\n * Default  markdown key config for adapter\n */\nexport var markdownKeyConfig = {\n    'toolbar-focus': 'alt+f10',\n    'escape': '27',\n    'insert-link': 'ctrl+k',\n    'insert-image': 'ctrl+shift+i',\n    'insert-table': 'ctrl+shift+e',\n    'undo': 'ctrl+z',\n    'redo': 'ctrl+y',\n    'copy': 'ctrl+c',\n    'cut': 'ctrl+x',\n    'paste': 'ctrl+v',\n    'bold': 'ctrl+b',\n    'italic': 'ctrl+i',\n    'strikethrough': 'ctrl+shift+s',\n    'uppercase': 'ctrl+shift+u',\n    'lowercase': 'ctrl+shift+l',\n    'superscript': 'ctrl+shift+=',\n    'subscript': 'ctrl+=',\n    'full-screen': 'ctrl+shift+f',\n    'ordered-list': 'ctrl+shift+o',\n    'unordered-list': 'ctrl+alt+o'\n};\n/**\n * PasteCleanup Grouping of similar functionality tags\n */\nexport var pasteCleanupGroupingTags = {\n    'b': ['strong'],\n    'strong': ['b'],\n    'i': ['emp', 'cite'],\n    'emp': ['i', 'cite'],\n    'cite': ['i', 'emp']\n};\n/**\n * PasteCleanup Grouping of similar functionality tags\n */\nexport var listConversionFilters = {\n    'first': 'MsoListParagraphCxSpFirst',\n    'middle': 'MsoListParagraphCxSpMiddle',\n    'last': 'MsoListParagraphCxSpLast'\n};\n/**\n * Dom-Node Grouping of self closing tags\n * @hidden\n */\nexport var selfClosingTags = [\n    'BR',\n    'IMG'\n];\n","import * as CONSTANT from './../base/constant';\nimport { append, detach, createElement, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { NodeSelection } from './../../selection/index';\nimport { selfClosingTags } from '../../common/config';\nexport var markerClassName = {\n    startSelection: 'e-editor-select-start',\n    endSelection: 'e-editor-select-end'\n};\n/**\n * DOMNode internal plugin\n * @hidden\n\n */\nvar DOMNode = /** @class */ (function () {\n    /**\n     * Constructor for creating the DOMNode plugin\n     * @hidden\n\n     */\n    function DOMNode(parent, currentDocument) {\n        this.parent = parent;\n        this.nodeSelection = new NodeSelection();\n        this.currentDocument = currentDocument;\n    }\n    /**\n     * contents method\n     * @hidden\n\n     */\n    DOMNode.prototype.contents = function (element) {\n        return (element && 'IFRAME' !== element.tagName ? Array.prototype.slice.call(element.childNodes || []) : []);\n    };\n    /**\n     * isBlockNode method\n     * @hidden\n\n     */\n    DOMNode.prototype.isBlockNode = function (element) {\n        return (!!element && (element.nodeType === Node.ELEMENT_NODE && CONSTANT.BLOCK_TAGS.indexOf(element.tagName.toLowerCase()) >= 0));\n    };\n    /**\n     * isLink method\n     * @hidden\n\n     */\n    DOMNode.prototype.isLink = function (element) {\n        return (!!element && (element.nodeType === Node.ELEMENT_NODE && 'a' === element.tagName.toLowerCase()));\n    };\n    /**\n     * blockParentNode method\n     * @hidden\n\n     */\n    DOMNode.prototype.blockParentNode = function (element) {\n        for (; element && element.parentNode !== this.parent && ((!element.parentNode ||\n            !this.hasClass(element.parentNode, 'e-node-inner'))); null) {\n            element = element.parentNode;\n            if (this.isBlockNode(element)) {\n                return element;\n            }\n        }\n        return element;\n    };\n    /**\n     * rawAttributes method\n     * @hidden\n\n     */\n    DOMNode.prototype.rawAttributes = function (element) {\n        var rawAttr = {};\n        var attributes = element.attributes;\n        if (attributes.length > 0) {\n            for (var d = 0; d < attributes.length; d++) {\n                var e = attributes[d];\n                rawAttr[e.nodeName] = e.value;\n            }\n        }\n        return rawAttr;\n    };\n    /**\n     * attributes method\n     * @hidden\n\n     */\n    DOMNode.prototype.attributes = function (element) {\n        if (!element) {\n            return '';\n        }\n        var attr = '';\n        var rawAttr = this.rawAttributes(element);\n        var orderRawAttr = Object.keys(rawAttr).sort();\n        for (var e = 0; e < orderRawAttr.length; e++) {\n            var attrKey = orderRawAttr[e];\n            var attrValue = rawAttr[attrKey];\n            /* tslint:disable */\n            if (attrValue.indexOf(\"'\") < 0 && attrValue.indexOf('\"') >= 0) {\n                attr += ' ' + attrKey + \"='\" + attrValue + \"'\";\n            }\n            else if (attrValue.indexOf('\"') >= 0 && attrValue.indexOf(\"'\") >= 0) {\n                /* tslint:enable */\n                attrValue = attrValue.replace(/\"/g, '&quot;');\n                attr += ' ' + attrKey + '=\"' + attrValue + '\"';\n            }\n            else {\n                attr += ' ' + attrKey + '=\"' + attrValue + '\"';\n            }\n        }\n        return attr;\n    };\n    /**\n     * clearAttributes method\n     * @hidden\n\n     */\n    DOMNode.prototype.clearAttributes = function (element) {\n        for (var attr = element.attributes, c = attr.length - 1; c >= 0; c--) {\n            var key = attr[c];\n            element.removeAttribute(key.nodeName);\n        }\n    };\n    /**\n     * openTagString method\n     * @hidden\n\n     */\n    DOMNode.prototype.openTagString = function (element) {\n        return '<' + element.tagName.toLowerCase() + this.attributes(element) + '>';\n    };\n    /**\n     * closeTagString method\n     * @hidden\n\n     */\n    DOMNode.prototype.closeTagString = function (element) {\n        return '</' + element.tagName.toLowerCase() + '>';\n    };\n    /**\n     * createTagString method\n     * @hidden\n\n     */\n    DOMNode.prototype.createTagString = function (tagName, relativeElement, innerHTML) {\n        return '<' + tagName.toLowerCase() + this.attributes(relativeElement) + '>' + innerHTML + '</' + tagName.toLowerCase() + '>';\n    };\n    /**\n     * isList method\n     * @hidden\n\n     */\n    DOMNode.prototype.isList = function (element) {\n        return !!element && ['UL', 'OL'].indexOf(element.tagName) >= 0;\n    };\n    /**\n     * isElement method\n     * @hidden\n\n     */\n    DOMNode.prototype.isElement = function (element) {\n        return element === this.parent;\n    };\n    /**\n     * isEditable method\n     * @hidden\n\n     */\n    DOMNode.prototype.isEditable = function (element) {\n        return ((!element.getAttribute || element.getAttribute('contenteditable') === 'true')\n            && ['STYLE', 'SCRIPT'].indexOf(element.tagName) < 0);\n    };\n    /**\n     * hasClass method\n     * @hidden\n\n     */\n    DOMNode.prototype.hasClass = function (element, className) {\n        return element && element.classList && element.classList.contains(className);\n    };\n    /**\n     * replaceWith method\n     * @hidden\n\n     */\n    DOMNode.prototype.replaceWith = function (element, value) {\n        var parentNode = element.parentNode;\n        parentNode.insertBefore(this.parseHTMLFragment(value), element);\n        detach(element);\n    };\n    /**\n     * parseHTMLFragment method\n     * @hidden\n\n     */\n    DOMNode.prototype.parseHTMLFragment = function (value) {\n        /* tslint:disable */\n        var temp = createElement('template');\n        temp.innerHTML = value;\n        if (temp.content instanceof DocumentFragment) {\n            return temp.content;\n        }\n        else {\n            return document.createRange().createContextualFragment(value);\n        }\n        /* tslint:enable */\n    };\n    /**\n     * wrap method\n     * @hidden\n\n     */\n    DOMNode.prototype.wrap = function (element, wrapper) {\n        element.parentNode.insertBefore(wrapper, element);\n        wrapper = element.previousSibling;\n        wrapper.appendChild(element);\n        return wrapper;\n    };\n    /**\n     * insertAfter method\n     * @hidden\n\n     */\n    DOMNode.prototype.insertAfter = function (newNode, referenceNode) {\n        referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n    };\n    /**\n     * wrapInner method\n     * @hidden\n\n     */\n    DOMNode.prototype.wrapInner = function (parent, wrapper) {\n        parent.appendChild(wrapper);\n        wrapper = parent.querySelector('.e-rte-wrap-inner');\n        wrapper.classList.remove('e-rte-wrap-inner');\n        if (wrapper.classList.length === 0) {\n            wrapper.removeAttribute('class');\n        }\n        while (parent.firstChild !== wrapper) {\n            wrapper.appendChild(parent.firstChild);\n        }\n        return wrapper;\n    };\n    /**\n     * unWrap method\n     * @hidden\n\n     */\n    DOMNode.prototype.unWrap = function (element) {\n        var parent = element.parentNode;\n        var unWrapNode = [];\n        while (element.firstChild) {\n            unWrapNode.push(element.firstChild);\n            parent.insertBefore(element.firstChild, element);\n        }\n        unWrapNode = unWrapNode.length > 0 ? unWrapNode : [element.parentNode];\n        parent.removeChild(element);\n        return unWrapNode;\n    };\n    /**\n     * getSelectedNode method\n     * @hidden\n\n     */\n    DOMNode.prototype.getSelectedNode = function (element, index) {\n        if (element.nodeType === Node.ELEMENT_NODE && element.childNodes.length > 0 &&\n            element.childNodes[index - 1] && element.childNodes[index - 1].nodeType === Node.ELEMENT_NODE &&\n            (element.childNodes[index - 1].classList.contains(markerClassName.startSelection) ||\n                element.childNodes[index - 1].classList.contains(markerClassName.endSelection))) {\n            element = element.childNodes[index - 1];\n        }\n        else if (element.nodeType === Node.ELEMENT_NODE && element.childNodes.length > 0 && element.childNodes[index]) {\n            element = element.childNodes[index];\n        }\n        if (element.nodeType === Node.TEXT_NODE) {\n            element = element.parentNode;\n        }\n        return element;\n    };\n    /**\n     * nodeFinds method\n     * @hidden\n\n     */\n    DOMNode.prototype.nodeFinds = function (element, elements) {\n        var existNodes = [];\n        for (var i = 0; i < elements.length; i++) {\n            if (element.contains(elements[i]) && element !== elements[i]) {\n                existNodes.push(elements[i]);\n            }\n        }\n        return existNodes;\n    };\n    /**\n     * isEditorArea method\n     * @hidden\n\n     */\n    DOMNode.prototype.isEditorArea = function () {\n        var range = this.getRangePoint(0);\n        var element;\n        for (element = range.commonAncestorContainer; element && !this.isElement(element); null) {\n            element = element.parentNode;\n        }\n        return !!this.isElement(element);\n    };\n    /**\n     * getRangePoint method\n     * @hidden\n\n     */\n    DOMNode.prototype.getRangePoint = function (point) {\n        var selection = this.getSelection();\n        var ranges = [];\n        if (selection && selection.getRangeAt && selection.rangeCount) {\n            ranges = [];\n            for (var f = 0; f < selection.rangeCount; f++) {\n                ranges.push(selection.getRangeAt(f));\n            }\n        }\n        else {\n            ranges = [this.currentDocument.createRange()];\n        }\n        return 'undefined' !== typeof point ? ranges[point] : ranges;\n    };\n    DOMNode.prototype.getSelection = function () {\n        return this.nodeSelection.get(this.currentDocument);\n    };\n    /**\n     * getPreviousNode method\n     * @hidden\n\n     */\n    DOMNode.prototype.getPreviousNode = function (element) {\n        element = element.previousElementSibling;\n        for (; element && element.textContent === '\\n'; null) {\n            element = element.previousElementSibling;\n        }\n        return element;\n    };\n    /**\n     * encode method\n     * @hidden\n\n     */\n    DOMNode.prototype.encode = function (value) {\n        var divNode = document.createElement('div');\n        divNode.innerText = value;\n        return divNode.innerHTML.replace(/<br\\s*[\\/]?>/gi, '\\n');\n    };\n    /**\n     * saveMarker method\n     * @hidden\n\n     */\n    DOMNode.prototype.saveMarker = function (save, action) {\n        var start = this.parent.querySelector('.' + markerClassName.startSelection);\n        var end = this.parent.querySelector('.' + markerClassName.endSelection);\n        var startTextNode;\n        var endTextNode;\n        if (start.textContent === '' && isNullOrUndefined(end) && action !== 'tab') {\n            if (start.childNodes.length === 1 && start.childNodes[0].nodeName === 'BR') {\n                start.innerHTML = '&#65279;&#65279;<br>';\n            }\n            else {\n                start.innerHTML = '&#65279;&#65279;';\n            }\n        }\n        if (this.hasClass(start, markerClassName.startSelection) && start.classList.length > 1) {\n            var replace = this.createTagString(CONSTANT.DEFAULT_TAG, start, this.encode(start.textContent));\n            this.replaceWith(start, replace);\n            start = this.parent.querySelector('.' + markerClassName.startSelection);\n            start.classList.remove(markerClassName.startSelection);\n            startTextNode = start.childNodes[0];\n        }\n        else {\n            startTextNode = this.unWrap(start)[0];\n        }\n        if (this.hasClass(end, markerClassName.endSelection) && end.classList.length > 1) {\n            var replace = this.createTagString(CONSTANT.DEFAULT_TAG, end, this.encode(end.textContent));\n            this.replaceWith(end, replace);\n            end = this.parent.querySelector('.' + markerClassName.endSelection);\n            end.classList.remove(markerClassName.endSelection);\n            endTextNode = end.childNodes[0];\n        }\n        else {\n            endTextNode = end ? this.unWrap(end)[0] : startTextNode;\n        }\n        save.startContainer = save.getNodeArray(startTextNode, true);\n        save.endContainer = save.getNodeArray(endTextNode, false);\n        return save;\n    };\n    DOMNode.prototype.marker = function (className, textContent) {\n        return '<span class=\"' + className + '\">' + textContent + '</span>';\n    };\n    /**\n     * setMarker method\n     * @hidden\n\n     */\n    DOMNode.prototype.setMarker = function (save) {\n        var range = save.range;\n        var start = (range.startContainer.childNodes[range.startOffset]\n            || range.startContainer);\n        var end = (range.endContainer.childNodes[(range.endOffset > 0) ? (range.endOffset - 1) : range.endOffset]\n            || range.endContainer);\n        if ((start.nodeType === Node.ELEMENT_NODE && end.nodeType === Node.ELEMENT_NODE) && (start.contains(end) || end.contains(start))) {\n            var existNode = start.contains(end) ? start : end;\n            var isElement = existNode.nodeType !== Node.TEXT_NODE;\n            if (isElement) {\n                var nodes = [];\n                var textNodes = [];\n                for (var node = existNode; existNode.contains(node); null) {\n                    if (nodes.indexOf(node) < 0 && node.childNodes && node.childNodes.length) {\n                        nodes.push(node);\n                        node = node.childNodes[0];\n                    }\n                    else if (node.nextSibling) {\n                        node = node.nextSibling;\n                    }\n                    else if (node.parentNode) {\n                        node = node.parentNode;\n                        nodes.push(node);\n                    }\n                    if (textNodes.indexOf(node) < 0 && (node.nodeType === Node.TEXT_NODE ||\n                        (CONSTANT.IGNORE_BLOCK_TAGS.indexOf(node.parentNode.tagName.toLocaleLowerCase()) >= 0\n                            && (node.tagName === 'BR' || node.tagName === 'IMG')))) {\n                        textNodes.push(node);\n                    }\n                }\n                if (textNodes.length) {\n                    start = start.contains(end) ? textNodes[0] : start;\n                    end = textNodes[textNodes.length - 1];\n                }\n            }\n        }\n        if (start !== end) {\n            if (start.nodeType !== Node.TEXT_NODE && ((start.tagName === 'BR' &&\n                CONSTANT.IGNORE_BLOCK_TAGS.indexOf(start.parentNode.tagName.toLocaleLowerCase()) >= 0) ||\n                start.tagName === 'IMG')) {\n                this.replaceWith(start, this.marker(markerClassName.startSelection, this.encode(start.textContent)));\n                var markerStart = range.startContainer.querySelector('.' + markerClassName.startSelection);\n                markerStart.appendChild(start);\n            }\n            else {\n                this.replaceWith(start, this.marker(markerClassName.startSelection, this.encode(start.textContent)));\n            }\n            if (end.nodeType !== Node.TEXT_NODE && end.tagName === 'BR' &&\n                CONSTANT.IGNORE_BLOCK_TAGS.indexOf(end.parentNode.tagName.toLocaleLowerCase()) >= 0) {\n                this.replaceWith(end, this.marker(markerClassName.endSelection, this.encode(end.textContent)));\n                var markerEnd = range.endContainer.querySelector('.' + markerClassName.endSelection);\n                markerEnd.appendChild(end);\n            }\n            else {\n                this.ensureSelfClosingTag(end, markerClassName.endSelection, range);\n            }\n        }\n        else {\n            this.ensureSelfClosingTag(start, markerClassName.startSelection, range);\n        }\n    };\n    /**\n     * ensureSelfClosingTag method\n     * @hidden\n\n     */\n    DOMNode.prototype.ensureSelfClosingTag = function (start, className, range) {\n        var isTable = false;\n        if (start.nodeType === 3) {\n            this.replaceWith(start, this.marker(className, this.encode(start.textContent)));\n        }\n        else if (start.tagName === 'BR') {\n            this.replaceWith(start, this.marker(markerClassName.startSelection, this.encode(start.textContent)));\n            var markerStart = range.startContainer.querySelector('.' + markerClassName.startSelection);\n            markerStart.appendChild(start);\n        }\n        else {\n            if (start.tagName === 'IMG') {\n                var parNode = document.createElement('p');\n                start.parentElement.insertBefore(parNode, start);\n                parNode.appendChild(start);\n                start = parNode.children[0];\n            }\n            if (start.tagName === 'TABLE') {\n                isTable = true;\n                if (start.textContent === '') {\n                    var tdNode = start.querySelectorAll('td');\n                    start = tdNode[tdNode.length - 1];\n                    start = !isNullOrUndefined(start.childNodes[0]) ? start.childNodes[0] : start;\n                }\n                else {\n                    var lastNode = start.lastChild;\n                    while (lastNode.nodeType !== 3 && lastNode.nodeName !== '#text' &&\n                        lastNode.nodeName !== 'BR') {\n                        lastNode = lastNode.lastChild;\n                    }\n                    start = lastNode;\n                }\n            }\n            for (var i = 0; i < selfClosingTags.length; i++) {\n                start = (start.tagName === selfClosingTags[i] && !isTable) ? start.parentNode : start;\n            }\n            if (start.nodeType === 3 && start.nodeName === '#text') {\n                this.replaceWith(start, this.marker(className, this.encode(start.textContent)));\n            }\n            else if (start.nodeName === 'BR') {\n                this.replaceWith(start, this.marker(markerClassName.endSelection, this.encode(start.textContent)));\n                var markerEnd = range.endContainer.querySelector('.' + markerClassName.endSelection);\n                markerEnd.appendChild(start);\n            }\n            else {\n                var marker = this.marker(className, '');\n                append([this.parseHTMLFragment(marker)], start);\n            }\n        }\n    };\n    /**\n     * createTempNode method\n     * @hidden\n\n     */\n    DOMNode.prototype.createTempNode = function (element) {\n        var textContent = element.textContent;\n        if (element.tagName === 'BR') {\n            var wrapper = '<' + CONSTANT.DEFAULT_TAG + '></' + CONSTANT.DEFAULT_TAG + '>';\n            var node = element.parentNode;\n            if (CONSTANT.IGNORE_BLOCK_TAGS.indexOf(node.tagName.toLocaleLowerCase()) >= 0) {\n                element = this.wrap(element, this.parseHTMLFragment(wrapper));\n            }\n        }\n        else if (((element.nodeType !== Node.TEXT_NODE &&\n            (element.classList.contains(markerClassName.startSelection) ||\n                element.classList.contains(markerClassName.endSelection))) ||\n            textContent.replace(/\\n/g, '').replace(/(^ *)|( *$)/g, '').length > 0 ||\n            textContent.length && textContent.indexOf('\\n') < 0)) {\n            var wrapper = '<' + CONSTANT.DEFAULT_TAG + '></' + CONSTANT.DEFAULT_TAG + '>';\n            var target = element;\n            element = this.wrap(element, this.parseHTMLFragment(wrapper));\n            var ignoreBr = target.nodeType === Node.ELEMENT_NODE && target.firstChild && target.firstChild.nodeName === 'BR'\n                && (target.classList.contains(markerClassName.startSelection) ||\n                    target.classList.contains(markerClassName.endSelection));\n            if (!ignoreBr && element.nextElementSibling && element.nextElementSibling.tagName === 'BR') {\n                element.appendChild(element.nextElementSibling);\n            }\n        }\n        return element;\n    };\n    /**\n     * getImageTagInSelection method\n     * @hidden\n\n     */\n    DOMNode.prototype.getImageTagInSelection = function () {\n        var selection = this.getSelection();\n        if (this.isEditorArea() && selection.rangeCount) {\n            return selection.focusNode.querySelectorAll('img');\n        }\n        return null;\n    };\n    /**\n     * blockNodes method\n     * @hidden\n\n     */\n    DOMNode.prototype.blockNodes = function () {\n        var collectionNodes = [];\n        var selection = this.getSelection();\n        if (this.isEditorArea() && selection.rangeCount) {\n            var ranges = this.getRangePoint();\n            for (var j = 0; j < ranges.length; j++) {\n                var parentNode = void 0;\n                var range = ranges[j];\n                var startNode = this.getSelectedNode(range.startContainer, range.startOffset);\n                var endNode = this.getSelectedNode(range.endContainer, range.endOffset);\n                if (this.isBlockNode(startNode) && collectionNodes.indexOf(startNode) < 0) {\n                    collectionNodes.push(startNode);\n                }\n                parentNode = this.blockParentNode(startNode);\n                if (parentNode && collectionNodes.indexOf(parentNode) < 0) {\n                    if (CONSTANT.IGNORE_BLOCK_TAGS.indexOf(parentNode.tagName.toLocaleLowerCase()) >= 0 && (startNode.tagName === 'BR' ||\n                        startNode.nodeType === Node.TEXT_NODE ||\n                        startNode.classList.contains(markerClassName.startSelection) ||\n                        startNode.classList.contains(markerClassName.endSelection))) {\n                        var tempNode = startNode.previousSibling &&\n                            startNode.previousSibling.nodeType === Node.TEXT_NODE ?\n                            startNode.previousSibling : startNode;\n                        if (!startNode.nextSibling && !startNode.previousSibling && startNode.tagName === 'BR') {\n                            collectionNodes.push(tempNode);\n                        }\n                        else {\n                            collectionNodes.push(this.createTempNode(tempNode));\n                        }\n                    }\n                    else {\n                        collectionNodes.push(parentNode);\n                    }\n                }\n                var nodes = [];\n                for (var node = startNode; node !== endNode && node !== this.parent; null) {\n                    if (nodes.indexOf(node) < 0 && node.childNodes && node.childNodes.length) {\n                        nodes.push(node);\n                        node = node.childNodes[0];\n                    }\n                    else if (node && node.nodeType !== 8 && (node.tagName === 'BR' || (node.nodeType === Node.TEXT_NODE &&\n                        node.textContent.trim() !== '') || (node.nodeType !== Node.TEXT_NODE &&\n                        (node.classList.contains(markerClassName.startSelection) ||\n                            node.classList.contains(markerClassName.endSelection)))) &&\n                        CONSTANT.IGNORE_BLOCK_TAGS.indexOf(node.parentNode.tagName.toLocaleLowerCase()) >= 0) {\n                        node = this.createTempNode(node);\n                    }\n                    else if (node.nextSibling && node.nextSibling.nodeType !== 8 &&\n                        (node.nextSibling.tagName === 'BR' ||\n                            node.nextSibling.nodeType === Node.TEXT_NODE ||\n                            node.nextSibling.classList.contains(markerClassName.startSelection) ||\n                            node.nextSibling.classList.contains(markerClassName.endSelection)) &&\n                        CONSTANT.IGNORE_BLOCK_TAGS.indexOf(node.nextSibling.parentNode.tagName.toLocaleLowerCase()) >= 0) {\n                        node = this.createTempNode(node.nextSibling);\n                    }\n                    else if (node.nextSibling) {\n                        node = node.nextSibling;\n                    }\n                    else if (node.parentNode) {\n                        node = node.parentNode;\n                        nodes.push(node);\n                    }\n                    if (collectionNodes.indexOf(node) < 0 && node.nodeType === Node.ELEMENT_NODE &&\n                        CONSTANT.IGNORE_BLOCK_TAGS.indexOf(node.parentNode.tagName.toLocaleLowerCase()) >= 0 &&\n                        (node.classList.contains(markerClassName.startSelection) ||\n                            node.classList.contains(markerClassName.endSelection))) {\n                        collectionNodes.push(this.createTempNode(node));\n                    }\n                    if (this.isBlockNode(node) && this.ignoreTableTag(node) && nodes.indexOf(node) < 0 &&\n                        collectionNodes.indexOf(node) < 0 && (node !== endNode || range.endOffset > 0)) {\n                        collectionNodes.push(node);\n                    }\n                    if (node.nodeName === 'IMG' && node.parentElement.contentEditable === 'true') {\n                        collectionNodes.push(node);\n                    }\n                }\n                parentNode = this.blockParentNode(endNode);\n                if (parentNode && this.ignoreTableTag(parentNode) && collectionNodes.indexOf(parentNode) < 0 &&\n                    (!isNullOrUndefined(parentNode.previousElementSibling) && parentNode.previousElementSibling.tagName !== 'IMG')) {\n                    collectionNodes.push(parentNode);\n                }\n            }\n        }\n        for (var i = collectionNodes.length - 1; i > 0; i--) {\n            var nodes = this.nodeFinds(collectionNodes[i], collectionNodes);\n            if (nodes.length) {\n                var listNodes = collectionNodes[i].querySelectorAll('ul, ol');\n                if (collectionNodes[i].tagName === 'LI' && listNodes.length > 0) {\n                    continue;\n                }\n                else {\n                    collectionNodes.splice(i, 1);\n                }\n            }\n        }\n        return collectionNodes;\n    };\n    DOMNode.prototype.ignoreTableTag = function (element) {\n        return !(CONSTANT.TABLE_BLOCK_TAGS.indexOf(element.tagName.toLocaleLowerCase()) >= 0);\n    };\n    return DOMNode;\n}());\nexport { DOMNode };\n","import * as CONSTANT from './../base/constant';\nimport { createElement, detach, prepend, append, attributes } from '@syncfusion/ej2-base';\nimport { markerClassName } from './dom-node';\nimport * as EVENTS from './../../common/constant';\nimport { setStyleAttribute } from '@syncfusion/ej2-base';\nimport { isIDevice, setEditFrameFocus } from '../../common/util';\nimport { isNullOrUndefined, isNullOrUndefined as isNOU, closest } from '@syncfusion/ej2-base';\n/**\n * Lists internal component\n * @hidden\n\n */\nvar Lists = /** @class */ (function () {\n    /**\n     * Constructor for creating the Lists plugin\n     * @hidden\n\n     */\n    function Lists(parent) {\n        this.parent = parent;\n        this.domNode = this.parent.domNode;\n        this.addEventListener();\n    }\n    Lists.prototype.addEventListener = function () {\n        this.parent.observer.on(EVENTS.LIST_TYPE, this.applyListsHandler, this);\n        this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.keyDownHandler, this);\n    };\n    Lists.prototype.testList = function (elem) {\n        var olListRegex = [/^[\\d]+[.]+$/,\n            /^(?=[MDCLXVI])M*(C[MD]|D?C{0,3})(X[CL]|L?X{0,3})(I[XV]|V?I{0,3})[.]$/gi,\n            /^[a-zA-Z][.]+$/];\n        var elementStart = !isNullOrUndefined(elem) ? elem.innerText.trim().split('.')[0] + '.' : null;\n        if (!isNullOrUndefined(elementStart)) {\n            for (var i = 0; i < olListRegex.length; i++) {\n                if (olListRegex[i].test(elementStart)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    Lists.prototype.testCurrentList = function (range) {\n        var olListStartRegex = [/^[1]+[.]+$/, /^[i]+[.]+$/, /^[a]+[.]+$/];\n        if (!isNullOrUndefined(range.startContainer.textContent.slice(0, range.startOffset))) {\n            for (var i = 0; i < olListStartRegex.length; i++) {\n                if (olListStartRegex[i].test(range.startContainer.textContent.slice(0, range.startOffset))) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    Lists.prototype.spaceList = function (e) {\n        var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n        this.saveSelection = this.parent.nodeSelection.save(range, this.parent.currentDocument);\n        var startNode = this.parent.domNode.getSelectedNode(range.startContainer, range.startOffset);\n        var endNode = this.parent.domNode.getSelectedNode(range.endContainer, range.endOffset);\n        var preElement = startNode.previousElementSibling;\n        var nextElement = startNode.nextElementSibling;\n        var preElemULStart = !isNullOrUndefined(preElement) ?\n            preElement.innerText.trim().substring(0, 1) : null;\n        var nextElemULStart = !isNullOrUndefined(nextElement) ?\n            nextElement.innerText.trim().substring(0, 1) : null;\n        var startElementOLTest = this.testCurrentList(range);\n        var preElementOLTest = this.testList(preElement);\n        var nextElementOLTest = this.testList(nextElement);\n        if (!preElementOLTest && !nextElementOLTest && preElemULStart !== '*' && nextElemULStart !== '*') {\n            if (startElementOLTest) {\n                range.startContainer.textContent = range.startContainer.textContent.slice(range.startOffset, range.startContainer.textContent.length);\n                this.applyListsHandler({ subCommand: 'OL', callBack: e.callBack });\n                e.event.preventDefault();\n            }\n            else if (range.startContainer.textContent.slice(0, range.startOffset) === '*') {\n                range.startContainer.textContent = range.startContainer.textContent.slice(range.startOffset, range.startContainer.textContent.length);\n                this.applyListsHandler({ subCommand: 'UL', callBack: e.callBack });\n                e.event.preventDefault();\n            }\n        }\n    };\n    Lists.prototype.enterList = function (e) {\n        var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n        var startNode = this.parent.domNode.getSelectedNode(range.startContainer, range.startOffset);\n        var endNode = this.parent.domNode.getSelectedNode(range.endContainer, range.endOffset);\n        if (startNode === endNode && startNode.tagName === 'LI' && startNode.textContent.trim() === '' &&\n            startNode.textContent.charCodeAt(0) === 65279) {\n            startNode.textContent = '';\n        }\n    };\n    Lists.prototype.backspaceList = function (e) {\n        var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n        var startNode = this.parent.domNode.getSelectedNode(range.startContainer, range.startOffset);\n        var endNode = this.parent.domNode.getSelectedNode(range.endContainer, range.endOffset);\n        startNode = startNode.nodeName === 'BR' ? startNode.parentElement : startNode;\n        endNode = endNode.nodeName === 'BR' ? endNode.parentElement : endNode;\n        if (startNode === endNode && !isNullOrUndefined(closest(startNode, 'li')) &&\n            startNode.textContent.trim() === '' && startNode.textContent.charCodeAt(0) === 65279) {\n            startNode.textContent = '';\n        }\n        if (startNode === endNode && startNode.textContent === '') {\n            if (startNode.closest('ul') || startNode.closest('ol')) {\n                var parentList = !isNOU(startNode.closest('ul')) ? startNode.closest('ul') : startNode.closest('ol');\n                if (parentList.firstElementChild === startNode && (parentList.children[1].tagName === 'OL' ||\n                    parentList.children[1].tagName === 'UL')) {\n                    if (parentList.tagName === parentList.children[1].tagName) {\n                        while (parentList.children[1].lastChild) {\n                            this.parent.domNode.insertAfter(parentList.children[1].lastChild, parentList.children[1]);\n                        }\n                        detach(parentList.children[1]);\n                    }\n                    else {\n                        parentList.parentElement.insertBefore(parentList.children[1], parentList);\n                    }\n                }\n            }\n        }\n        else if (!isNOU(startNode.firstChild) && startNode.firstChild.nodeName === 'BR' &&\n            (startNode.childNodes[1].nodeName === 'UL' || startNode.childNodes[1].nodeName === 'OL')) {\n            var parentList = !isNOU(startNode.closest('ul')) ? startNode.closest('ul') : startNode.closest('ol');\n            if (parentList.tagName === startNode.childNodes[1].nodeName) {\n                while (startNode.childNodes[1].lastChild) {\n                    this.parent.domNode.insertAfter(startNode.children[1].lastChild, startNode);\n                }\n                detach(startNode.childNodes[1]);\n            }\n            else {\n                parentList.parentElement.insertBefore(startNode.children[1], parentList);\n            }\n        }\n    };\n    Lists.prototype.keyDownHandler = function (e) {\n        if (e.event.which === 13) {\n            this.enterList(e);\n        }\n        if (e.event.which === 32) {\n            this.spaceList(e);\n        }\n        if (e.event.which === 8) {\n            this.backspaceList(e);\n        }\n        if (e.event.which === 9) {\n            var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n            if (!(e.event.action && e.event.action === 'indent')) {\n                this.saveSelection = this.parent.nodeSelection.save(range, this.parent.currentDocument);\n            }\n            var blockNodes = void 0;\n            var startOffset = range.startOffset;\n            var endOffset = range.endOffset;\n            var startNode = this.parent.domNode.getSelectedNode(range.startContainer, range.startOffset);\n            var endNode = this.parent.domNode.getSelectedNode(range.endContainer, range.endOffset);\n            if ((startNode === endNode && (startNode.nodeName === 'BR' || startNode.nodeName === '#text') &&\n                CONSTANT.IGNORE_BLOCK_TAGS.indexOf(startNode.parentNode.tagName.toLocaleLowerCase()) >= 0)) {\n                return;\n            }\n            else {\n                if (!(e.event.action && e.event.action === 'indent')) {\n                    this.domNode.setMarker(this.saveSelection);\n                }\n                blockNodes = this.domNode.blockNodes();\n            }\n            var nodes = [];\n            var isNested = true;\n            for (var i = 0; i < blockNodes.length; i++) {\n                if (blockNodes[i].parentNode.tagName === 'LI') {\n                    nodes.push(blockNodes[i].parentNode);\n                }\n                else if (blockNodes[i].tagName === 'LI' && blockNodes[i].childNodes[0].tagName !== 'P' &&\n                    (blockNodes[i].childNodes[0].tagName !== 'OL' &&\n                        blockNodes[i].childNodes[0].tagName !== 'UL')) {\n                    nodes.push(blockNodes[i]);\n                }\n            }\n            if (nodes.length > 1 || nodes.length && ((startOffset === 0 && endOffset === 0) || e.ignoreDefault)) {\n                e.event.preventDefault();\n                e.event.stopPropagation();\n                this.currentAction = this.getAction(nodes[0]);\n                if (e.event.shiftKey) {\n                    this.revertList(nodes);\n                    this.revertClean();\n                }\n                else {\n                    isNested = this.nestedList(nodes);\n                }\n                if (isNested) {\n                    this.cleanNode();\n                    this.parent.editableElement.focus();\n                }\n                if (!(e.event.action && e.event.action === 'indent')) {\n                    this.saveSelection = this.domNode.saveMarker(this.saveSelection);\n                    this.saveSelection.restore();\n                    if (e.callBack) {\n                        e.callBack({\n                            requestType: this.currentAction,\n                            editorMode: 'HTML',\n                            range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                            elements: this.parent.domNode.blockNodes(),\n                            event: e.event\n                        });\n                    }\n                }\n            }\n            else {\n                if (!(e.event.action && e.event.action === 'indent')) {\n                    if (e.event && e.event.shiftKey && e.event.key === 'Tab') {\n                        e.event.action = 'tab';\n                    }\n                    this.saveSelection = this.domNode.saveMarker(this.saveSelection, e.event.action);\n                    this.saveSelection.restore();\n                }\n            }\n        }\n        else {\n            switch (e.event.action) {\n                case 'ordered-list':\n                    this.applyListsHandler({ subCommand: 'OL', callBack: e.callBack });\n                    e.event.preventDefault();\n                    break;\n                case 'unordered-list':\n                    this.applyListsHandler({ subCommand: 'UL', callBack: e.callBack });\n                    e.event.preventDefault();\n                    break;\n            }\n        }\n    };\n    Lists.prototype.getAction = function (element) {\n        var parentNode = element.parentNode;\n        return (parentNode.nodeName === 'OL' ? 'OL' : 'UL');\n    };\n    Lists.prototype.revertClean = function () {\n        var collectionNodes = this.parent.editableElement.querySelectorAll('ul, ol');\n        for (var i = 0; i < collectionNodes.length; i++) {\n            var listNodes = collectionNodes[i].querySelectorAll('ul, ol');\n            if (listNodes.length > 0) {\n                for (var j = 0; j < listNodes.length; j++) {\n                    var prevSibling = listNodes[j].previousSibling;\n                    if (prevSibling && prevSibling.tagName === 'LI') {\n                        prevSibling.appendChild(listNodes[j]);\n                    }\n                }\n            }\n        }\n    };\n    Lists.prototype.noPreviousElement = function (elements) {\n        var firstNode;\n        var firstNodeOL;\n        var siblingListOL = elements.querySelectorAll('ol, ul');\n        var siblingListLI = elements\n            .querySelectorAll('li');\n        var siblingListLIFirst = this.domNode.contents(siblingListLI[0])[0];\n        if (siblingListLI.length > 0 && (siblingListLIFirst.nodeName === 'OL' || siblingListLIFirst.nodeName === 'UL')) {\n            firstNode = siblingListLI[0];\n        }\n        else {\n            firstNodeOL = siblingListOL[0];\n        }\n        if (firstNode) {\n            for (var h = this.domNode.contents(elements)[0]; h && !this.domNode.isList(h); null) {\n                var nextSibling = h.nextSibling;\n                prepend([h], firstNode);\n                setStyleAttribute(elements, { 'list-style-type': 'none' });\n                setStyleAttribute(firstNode, { 'list-style-type': '' });\n                h = nextSibling;\n            }\n        }\n        else if (firstNodeOL) {\n            var nestedElement = createElement('li');\n            prepend([nestedElement], firstNodeOL);\n            for (var h = this.domNode.contents(elements)[0]; h && !this.domNode.isList(h); null) {\n                var nextSibling = h.nextSibling;\n                nestedElement.appendChild(h);\n                h = nextSibling;\n            }\n            prepend([firstNodeOL], elements.parentNode);\n            detach(elements);\n            var nestedElementLI = createElement('li', { styles: 'list-style-type: none;' });\n            prepend([nestedElementLI], firstNodeOL.parentNode);\n            append([firstNodeOL], nestedElementLI);\n        }\n        else {\n            var nestedElementLI = createElement('li', { styles: 'list-style-type: none;' });\n            prepend([nestedElementLI], elements.parentNode);\n            var nestedElement = createElement(elements.parentNode.tagName);\n            prepend([nestedElement], nestedElementLI);\n            append([elements], nestedElement);\n        }\n    };\n    Lists.prototype.nestedList = function (elements) {\n        var isNested = false;\n        for (var i = 0; i < elements.length; i++) {\n            var prevSibling = this.domNode.getPreviousNode(elements[i]);\n            if (prevSibling) {\n                isNested = true;\n                var firstNode = void 0;\n                var firstNodeLI = void 0;\n                var siblingListOL = elements[i].querySelectorAll('ol, ul');\n                var siblingListLI = elements[i]\n                    .querySelectorAll('li');\n                var siblingListLIFirst = this.domNode.contents(siblingListLI[0])[0];\n                if (siblingListLI.length > 0 && (siblingListLIFirst.nodeName === 'OL' || siblingListLIFirst.nodeName === 'UL')) {\n                    firstNodeLI = siblingListLI[0];\n                }\n                else {\n                    firstNode = siblingListOL[0];\n                }\n                if (firstNode) {\n                    var nestedElement = createElement('li');\n                    prepend([nestedElement], firstNode);\n                    for (var h = this.domNode.contents(elements[i])[0]; h && !this.domNode.isList(h); null) {\n                        var nextSibling = h.nextSibling;\n                        nestedElement.appendChild(h);\n                        h = nextSibling;\n                    }\n                    append([firstNode], prevSibling);\n                    detach(elements[i]);\n                }\n                else if (firstNodeLI) {\n                    if (prevSibling.tagName === 'LI') {\n                        for (var h = this.domNode.contents(elements[i])[0]; h && !this.domNode.isList(h); null) {\n                            var nextSibling = h.nextSibling;\n                            prepend([h], firstNodeLI);\n                            setStyleAttribute(elements[i], { 'list-style-type': 'none' });\n                            setStyleAttribute(firstNodeLI, { 'list-style-type': '' });\n                            h = nextSibling;\n                        }\n                        append([firstNodeLI.parentNode], prevSibling);\n                        detach(elements[i]);\n                    }\n                }\n                else {\n                    if (prevSibling.tagName === 'LI') {\n                        var nestedElement = createElement(elements[i].parentNode.tagName);\n                        append([nestedElement], prevSibling);\n                        append([elements[i]], nestedElement);\n                    }\n                }\n            }\n            else {\n                var element = elements[i];\n                isNested = true;\n                this.noPreviousElement(element);\n            }\n        }\n        return isNested;\n    };\n    Lists.prototype.applyListsHandler = function (e) {\n        var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n        this.saveSelection = this.parent.nodeSelection.save(range, this.parent.currentDocument);\n        this.currentAction = e.subCommand;\n        this.domNode.setMarker(this.saveSelection);\n        var listsNodes = this.domNode.blockNodes();\n        for (var i = 0; i < listsNodes.length; i++) {\n            if (listsNodes[i].tagName === 'TABLE') {\n                listsNodes.splice(i, 1);\n            }\n            if (listsNodes[i].tagName !== 'LI' && 'LI' === listsNodes[i].parentNode.tagName) {\n                listsNodes[i] = listsNodes[i].parentNode;\n            }\n        }\n        this.applyLists(listsNodes, this.currentAction, e.selector);\n        if (e.callBack) {\n            e.callBack({\n                requestType: this.currentAction,\n                event: e.event,\n                editorMode: 'HTML',\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.domNode.blockNodes()\n            });\n        }\n    };\n    Lists.prototype.applyLists = function (elements, type, selector) {\n        var isReverse = true;\n        if (this.isRevert(elements, type)) {\n            this.revertList(elements);\n            this.removeEmptyListElements();\n        }\n        else {\n            this.checkLists(elements, type);\n            for (var i = 0; i < elements.length; i++) {\n                if ('LI' !== elements[i].tagName) {\n                    isReverse = false;\n                    var elemAtt = elements[i].tagName === 'IMG' ? '' : this.domNode.attributes(elements[i]);\n                    var openTag = '<' + type + '>';\n                    var closeTag = '</' + type + '>';\n                    var newTag = 'li' + elemAtt;\n                    var replaceHTML = (elements[i].tagName.toLowerCase() === CONSTANT.DEFAULT_TAG ? elements[i].innerHTML :\n                        elements[i].outerHTML);\n                    var innerHTML = this.domNode.createTagString(newTag, null, replaceHTML);\n                    var collectionString = openTag + innerHTML + closeTag;\n                    this.domNode.replaceWith(elements[i], collectionString);\n                }\n            }\n        }\n        this.cleanNode();\n        this.parent.editableElement.focus();\n        if (isIDevice()) {\n            setEditFrameFocus(this.parent.editableElement, selector);\n        }\n        this.saveSelection = this.domNode.saveMarker(this.saveSelection);\n        this.saveSelection.restore();\n    };\n    Lists.prototype.removeEmptyListElements = function () {\n        var listElem = this.parent.editableElement.querySelectorAll('ol, ul');\n        for (var i = 0; i < listElem.length; i++) {\n            if (listElem[i].textContent.trim() === '') {\n                detach(listElem[i]);\n            }\n        }\n    };\n    Lists.prototype.isRevert = function (nodes, tagName) {\n        var isRevert = true;\n        for (var i = 0; i < nodes.length; i++) {\n            if (nodes[i].tagName !== 'LI') {\n                return false;\n            }\n            if (nodes[i].parentNode.tagName !== tagName) {\n                isRevert = false;\n            }\n        }\n        return isRevert;\n    };\n    Lists.prototype.checkLists = function (nodes, tagName) {\n        var nodesTemp = [];\n        for (var i = 0; i < nodes.length; i++) {\n            var node = nodes[i].parentNode;\n            if (nodes[i].tagName === 'LI' && node.tagName !== tagName && nodesTemp.indexOf(node) < 0) {\n                nodesTemp.push(node);\n            }\n        }\n        for (var j = nodesTemp.length - 1; j >= 0; j--) {\n            var h = nodesTemp[j];\n            var replace = '<' + tagName.toLowerCase() + ' '\n                + this.domNode.attributes(h) + '>' + h.innerHTML + '</' + tagName.toLowerCase() + '>';\n            this.domNode.replaceWith(nodesTemp[j], replace);\n        }\n    };\n    Lists.prototype.cleanNode = function () {\n        var liParents = this.parent.editableElement.querySelectorAll('ol + ol, ul + ul');\n        for (var c = 0; c < liParents.length; c++) {\n            var node = liParents[c];\n            if (this.domNode.isList(node.previousElementSibling) &&\n                this.domNode.openTagString(node) === this.domNode.openTagString(node.previousElementSibling)) {\n                var contentNodes = this.domNode.contents(node);\n                for (var f = 0; f < contentNodes.length; f++) {\n                    node.previousElementSibling.appendChild(contentNodes[f]);\n                }\n                node.parentNode.removeChild(node);\n            }\n        }\n    };\n    Lists.prototype.findUnSelected = function (temp, elements) {\n        temp = temp.slice().reverse();\n        if (temp.length > 0) {\n            var rightIndent = [];\n            var indentElements = [];\n            var lastElement = elements[elements.length - 1];\n            var lastElementChild = [];\n            var childElements = [];\n            lastElementChild = (lastElement.childNodes);\n            for (var z = 0; z < lastElementChild.length; z++) {\n                if (lastElementChild[z].tagName === 'OL' || lastElementChild[z].tagName === 'UL') {\n                    var childLI = lastElementChild[z]\n                        .querySelectorAll('li');\n                    if (childLI.length > 0) {\n                        for (var y = 0; y < childLI.length; y++) {\n                            childElements.push(childLI[y]);\n                        }\n                    }\n                }\n            }\n            for (var i = 0; i < childElements.length; i++) {\n                var count = 0;\n                for (var j = 0; j < temp.length; j++) {\n                    if (!childElements[i].contains((temp[j]))) {\n                        count = count + 1;\n                    }\n                }\n                if (count === temp.length) {\n                    indentElements.push(childElements[i]);\n                }\n            }\n            if (indentElements.length > 0) {\n                for (var x = 0; x < indentElements.length; x++) {\n                    if (this.domNode.contents(indentElements[x])[0].nodeName !== 'OL' &&\n                        this.domNode.contents(indentElements[x])[0].nodeName !== 'UL') {\n                        rightIndent.push(indentElements[x]);\n                    }\n                }\n            }\n            if (rightIndent.length > 0) {\n                this.nestedList(rightIndent);\n            }\n        }\n    };\n    Lists.prototype.revertList = function (elements) {\n        var temp = [];\n        for (var i = elements.length - 1; i >= 0; i--) {\n            for (var j = i - 1; j >= 0; j--) {\n                if (elements[j].contains((elements[i])) || elements[j] === elements[i]) {\n                    temp.push(elements[i]);\n                    elements.splice(i, 1);\n                    break;\n                }\n            }\n        }\n        this.findUnSelected(temp, elements);\n        var viewNode = [];\n        for (var i = 0; i < elements.length; i++) {\n            var element = elements[i];\n            if (this.domNode.contents(element)[0].nodeType === 3 && this.domNode.contents(element)[0].textContent.trim().length === 0) {\n                detach(this.domNode.contents(element)[0]);\n            }\n            var parentNode = elements[i].parentNode;\n            var className = element.getAttribute('class');\n            if (temp.length === 0) {\n                var siblingList = elements[i].querySelectorAll('ul, ol');\n                var firstNode = siblingList[0];\n                if (firstNode) {\n                    var child = firstNode\n                        .querySelectorAll('li');\n                    if (child) {\n                        var nestedElement = createElement(firstNode.tagName);\n                        append([nestedElement], firstNode.parentNode);\n                        var nestedElementLI = createElement('li', { styles: 'list-style-type: none;' });\n                        append([nestedElementLI], nestedElement);\n                        append([firstNode], nestedElementLI);\n                    }\n                }\n            }\n            if (element.parentNode.insertBefore(this.closeTag(parentNode.tagName), element),\n                'LI' === parentNode.parentNode.tagName) {\n                element.parentNode.insertBefore(this.closeTag('LI'), element);\n            }\n            else {\n                var classAttr = '';\n                if (className) {\n                    classAttr += ' class=\"' + className + '\"';\n                }\n                if (CONSTANT.DEFAULT_TAG && 0 === element.querySelectorAll(CONSTANT.BLOCK_TAGS.join(', ')).length) {\n                    var wrapperclass = isNullOrUndefined(className) ? ' class=\"e-rte-wrap-inner\"' :\n                        ' class=\"' + className + ' e-rte-wrap-inner\"';\n                    var wrapper = '<' + CONSTANT.DEFAULT_TAG + wrapperclass +\n                        this.domNode.attributes(parentNode) + '></' + CONSTANT.DEFAULT_TAG + '>';\n                    this.domNode.wrapInner(element, this.domNode.parseHTMLFragment(wrapper));\n                }\n                else if (this.domNode.contents(element)[0].nodeType === 3) {\n                    var replace = this.domNode.createTagString(CONSTANT.DEFAULT_TAG, parentNode, this.parent.domNode.encode(this.domNode.contents(element)[0].textContent));\n                    this.domNode.replaceWith(this.domNode.contents(element)[0], replace);\n                }\n                else if (this.domNode.contents(element)[0].classList.contains(markerClassName.startSelection) ||\n                    this.domNode.contents(element)[0].classList.contains(markerClassName.endSelection)) {\n                    var replace = this.domNode.createTagString(CONSTANT.DEFAULT_TAG, parentNode, this.domNode.contents(element)[0].outerHTML);\n                    this.domNode.replaceWith(this.domNode.contents(element)[0], replace);\n                }\n                else {\n                    var childNode = element.firstChild;\n                    className = childNode.getAttribute('class');\n                    attributes(childNode, this.domNode.rawAttributes(parentNode));\n                    if (className && childNode.getAttribute('class')) {\n                        attributes(childNode, { 'class': className + ' ' + childNode.getAttribute('class') });\n                    }\n                }\n                append([this.openTag('LI')], element);\n                prepend([this.closeTag('LI')], element);\n            }\n            this.domNode.insertAfter(this.openTag(parentNode.tagName), element);\n            if (parentNode.parentNode.tagName === 'LI') {\n                parentNode = parentNode.parentNode.parentNode;\n            }\n            if (viewNode.indexOf(parentNode) < 0) {\n                viewNode.push(parentNode);\n            }\n        }\n        for (var i = 0; i < viewNode.length; i++) {\n            var node = viewNode[i];\n            var nodeInnerHtml = node.innerHTML;\n            var closeTag = /<span class=\"e-rte-list-close-([a-z]*)\"><\\/span>/g;\n            var openTag = /<span class=\"e-rte-list-open-([a-z]*)\"><\\/span>/g;\n            nodeInnerHtml = nodeInnerHtml.replace(closeTag, '</$1>');\n            nodeInnerHtml = nodeInnerHtml.replace(openTag, '<$1 ' + this.domNode.attributes(node) + '>');\n            this.domNode.replaceWith(node, this.domNode.openTagString(node) + nodeInnerHtml.trim() + this.domNode.closeTagString(node));\n        }\n        var emptyUl = this.parent.editableElement.querySelectorAll('ul:empty, ol:empty');\n        for (var i = 0; i < emptyUl.length; i++) {\n            detach(emptyUl[i]);\n        }\n        var emptyLi = this.parent.editableElement.querySelectorAll('li:empty');\n        for (var i = 0; i < emptyLi.length; i++) {\n            detach(emptyLi[i]);\n        }\n    };\n    Lists.prototype.openTag = function (type) {\n        return this.domNode.parseHTMLFragment('<span class=\"e-rte-list-open-' + type.toLowerCase() + '\"></span>');\n    };\n    Lists.prototype.closeTag = function (type) {\n        return this.domNode.parseHTMLFragment('<span class=\"e-rte-list-close-' + type.toLowerCase() + '\"></span>');\n    };\n    return Lists;\n}());\nexport { Lists };\n","/**\n * Node appending methods.\n * @hidden\n */\nvar InsertMethods = /** @class */ (function () {\n    function InsertMethods() {\n    }\n    /**\n     * WrapBefore method\n     * @hidden\n\n     */\n    InsertMethods.WrapBefore = function (textNode, parentNode, isAfter) {\n        parentNode.innerText = textNode.textContent;\n        (!isAfter) ? this.AppendBefore(parentNode, textNode) : this.AppendBefore(parentNode, textNode, true);\n        if (textNode.parentNode) {\n            textNode.parentNode.removeChild(textNode);\n        }\n        return parentNode.childNodes[0];\n    };\n    /**\n     * Wrap method\n     * @hidden\n\n     */\n    InsertMethods.Wrap = function (childNode, parentNode) {\n        this.AppendBefore(parentNode, childNode);\n        parentNode.appendChild(childNode);\n        return childNode;\n    };\n    /**\n     * unwrap method\n     * @hidden\n\n     */\n    InsertMethods.unwrap = function (node) {\n        var parent = node.parentNode;\n        var child = [];\n        for (; node.firstChild; null) {\n            child.push(parent.insertBefore(node.firstChild, node));\n        }\n        parent.removeChild(node);\n        return child;\n    };\n    /**\n     * AppendBefore method\n     * @hidden\n\n     */\n    InsertMethods.AppendBefore = function (textNode, parentNode, isAfter) {\n        return (parentNode.parentNode) ? ((!isAfter) ? parentNode.parentNode.insertBefore(textNode, parentNode)\n            : parentNode.parentNode.insertBefore(textNode, parentNode.nextSibling)) :\n            parentNode;\n    };\n    return InsertMethods;\n}());\nexport { InsertMethods };\n","import { NodeSelection } from './../../selection/index';\nimport { isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport { InsertMethods } from './insert-methods';\n/**\n * Split the Node based on selection\n * @hidden\n\n */\nvar NodeCutter = /** @class */ (function () {\n    function NodeCutter() {\n        this.position = -1;\n        this.nodeSelection = new NodeSelection();\n    }\n    // Split Selection Node\n    /**\n     * GetSpliceNode method\n     * @hidden\n\n     */\n    NodeCutter.prototype.GetSpliceNode = function (range, node) {\n        node = this.SplitNode(range, node, true);\n        node = this.SplitNode(range, node, false);\n        return node;\n    };\n    /**\n     * @hidden\n\n     */\n    NodeCutter.prototype.SplitNode = function (range, node, isCollapsed) {\n        if (node) {\n            var clone = range.cloneRange();\n            var parent_1 = node.parentNode;\n            var index = this.nodeSelection.getIndex(node);\n            clone.collapse(isCollapsed);\n            (isCollapsed) ? clone.setStartBefore(node) : clone.setEndAfter(node);\n            var fragment = clone.extractContents();\n            if (isCollapsed) {\n                node = parent_1.childNodes[index];\n                fragment = this.spliceEmptyNode(fragment, false);\n                if (fragment && fragment.childNodes.length > 0) {\n                    var isEmpty = (fragment.childNodes.length === 1 && fragment.childNodes[0].nodeName !== 'IMG'\n                        && this.isImgElm(fragment) && fragment.textContent === '') ? true : false;\n                    if (!isEmpty) {\n                        if (node) {\n                            InsertMethods.AppendBefore(fragment, node);\n                        }\n                        else {\n                            parent_1.appendChild(fragment);\n                            var divNode = document.createElement('div');\n                            divNode.innerHTML = '&#65279;&#65279;';\n                            node = divNode.firstChild;\n                            parent_1.appendChild(node);\n                        }\n                    }\n                }\n            }\n            else {\n                node = parent_1.childNodes.length > 1 ? parent_1.childNodes[index] :\n                    parent_1.childNodes[0];\n                fragment = this.spliceEmptyNode(fragment, true);\n                if (fragment && fragment.childNodes.length > 0) {\n                    var isEmpty = (fragment.childNodes.length === 1 && fragment.childNodes[0].nodeName !== 'IMG'\n                        && this.isImgElm(fragment) && fragment.textContent === '') ? true : false;\n                    if (!isEmpty) {\n                        if (node) {\n                            InsertMethods.AppendBefore(fragment, node, true);\n                        }\n                        else {\n                            parent_1.appendChild(fragment);\n                            var divNode = document.createElement('div');\n                            divNode.innerHTML = '&#65279;&#65279;';\n                            parent_1.insertBefore(divNode.firstChild, parent_1.firstChild);\n                            node = parent_1.firstChild;\n                        }\n                    }\n                }\n            }\n            return node;\n        }\n        else {\n            return null;\n        }\n    };\n    NodeCutter.prototype.isImgElm = function (fragment) {\n        var result = true;\n        if (fragment.childNodes.length === 1 && fragment.childNodes[0].nodeName !== 'IMG') {\n            var firstChild = fragment.childNodes[0];\n            for (var i = 0; !isNOU(firstChild.childNodes) && i < firstChild.childNodes.length; i++) {\n                if (firstChild.childNodes[i].nodeName === 'IMG') {\n                    result = false;\n                }\n            }\n        }\n        else {\n            result = true;\n        }\n        return result;\n    };\n    NodeCutter.prototype.spliceEmptyNode = function (fragment, isStart) {\n        var len;\n        if (fragment.childNodes.length === 1 && fragment.childNodes[0].nodeName === '#text' &&\n            fragment.childNodes[0].textContent === '' || fragment.textContent === '') {\n            len = -1;\n        }\n        else {\n            len = fragment.childNodes.length - 1;\n        }\n        if (len > -1 && !isStart) {\n            this.spliceEmptyNode(fragment.childNodes[len], isStart);\n        }\n        else if (len > -1) {\n            this.spliceEmptyNode(fragment.childNodes[0], isStart);\n        }\n        else if (fragment.nodeType !== 3 && fragment.nodeType !== 11) {\n            fragment.parentNode.removeChild(fragment);\n        }\n        return fragment;\n    };\n    // Cursor Position split\n    NodeCutter.prototype.GetCursorStart = function (indexes, index, isStart) {\n        indexes = (isStart) ? indexes : indexes.reverse();\n        var position = indexes[0];\n        for (var num = 0; num < indexes.length && ((isStart) ? (indexes[num] < index) : (indexes[num] >= index)); num++) {\n            position = indexes[num];\n        }\n        return position;\n    };\n    /**\n     * GetCursorRange method\n     * @hidden\n\n     */\n    NodeCutter.prototype.GetCursorRange = function (docElement, range, node) {\n        var cursorRange = docElement.createRange();\n        var indexes = [];\n        indexes.push(0);\n        var str = this.TrimLineBreak(node.data);\n        var index = str.indexOf(' ', 0);\n        while (index !== -1) {\n            if (indexes.indexOf(index) < 0) {\n                indexes.push(index);\n            }\n            if (new RegExp('\\\\s').test(str[index - 1]) && (indexes.indexOf(index - 1) < 0)) {\n                indexes.push(index - 1);\n            }\n            if (new RegExp('\\\\s').test(str[index + 1])) {\n                indexes.push(index + 1);\n            }\n            index = str.indexOf(' ', (index + 1));\n        }\n        indexes.push(str.length);\n        if ((indexes.indexOf(range.startOffset) >= 0)\n            || ((indexes.indexOf(range.startOffset - 1) >= 0) && (range.startOffset !== 1\n                || (range.startOffset === 1 && new RegExp('\\\\s').test(str[0])))\n                || ((indexes[indexes.length - 1] - 1) === range.startOffset))) {\n            cursorRange = range;\n            this.position = 1;\n        }\n        else {\n            var startOffset = this.GetCursorStart(indexes, range.startOffset, true);\n            this.position = range.startOffset - startOffset;\n            cursorRange.setStart(range.startContainer, startOffset);\n            cursorRange.setEnd(range.startContainer, this.GetCursorStart(indexes, range.startOffset, false));\n        }\n        return cursorRange;\n    };\n    /**\n     * GetCursorNode method\n     * @hidden\n\n     */\n    NodeCutter.prototype.GetCursorNode = function (docElement, range, node) {\n        return this.GetSpliceNode(this.GetCursorRange(docElement, range, node), node);\n    };\n    /**\n     * TrimLineBreak method\n     * @hidden\n\n     */\n    NodeCutter.prototype.TrimLineBreak = function (line) {\n        return line.replace(/(\\r\\n\\t|\\n|\\r\\t)/gm, ' ');\n    };\n    return NodeCutter;\n}());\nexport { NodeCutter };\n","import * as EVENTS from './../../common/constant';\nimport { isNullOrUndefined as isNOU, detach, createElement, closest } from '@syncfusion/ej2-base';\nimport { isIDevice, setEditFrameFocus } from '../../common/util';\nimport { markerClassName } from './dom-node';\nimport { NodeCutter } from './nodecutter';\n/**\n * Formats internal component\n * @hidden\n\n */\nvar Formats = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     * @hidden\n\n     */\n    function Formats(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    Formats.prototype.addEventListener = function () {\n        this.parent.observer.on(EVENTS.FORMAT_TYPE, this.applyFormats, this);\n        this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.onKeyDown, this);\n    };\n    Formats.prototype.getParentNode = function (node) {\n        for (; node.parentNode && node.parentNode !== this.parent.editableElement; null) {\n            node = node.parentNode;\n        }\n        return node;\n    };\n    Formats.prototype.onKeyDown = function (e) {\n        if (e.event.which === 13) {\n            var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n            var startCon = (range.startContainer.textContent.length === 0 || range.startContainer.nodeName === 'PRE')\n                ? range.startContainer : range.startContainer.parentElement;\n            var endCon = (range.endContainer.textContent.length === 0 || range.endContainer.nodeName === 'PRE')\n                ? range.endContainer : range.endContainer.parentElement;\n            var preElem = closest(startCon, 'pre');\n            var endPreElem = closest(endCon, 'pre');\n            var liParent = !isNOU(preElem) && !isNOU(preElem.parentElement) && preElem.parentElement.tagName === 'LI';\n            if (liParent) {\n                return;\n            }\n            if (((isNOU(preElem) && !isNOU(endPreElem)) || (!isNOU(preElem) && isNOU(endPreElem)))) {\n                e.event.preventDefault();\n                this.deleteContent(range);\n                this.removeCodeContent(range);\n                range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n                this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, endCon, 0);\n            }\n            if (e.event.which === 13 && !isNOU(preElem) && !isNOU(endPreElem)) {\n                e.event.preventDefault();\n                this.deleteContent(range);\n                this.removeCodeContent(range);\n                range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n                var lastEmpty = range.startContainer.childNodes[range.endOffset];\n                var lastBeforeBr = range.startContainer.childNodes[range.endOffset - 1];\n                var startParent = range.startContainer;\n                if (!isNOU(lastEmpty) && !isNOU(lastBeforeBr) && isNOU(lastEmpty.nextSibling) &&\n                    lastEmpty.nodeName === 'BR' && lastBeforeBr.nodeName === 'BR') {\n                    this.paraFocus(range.startContainer);\n                }\n                else if ((startParent.textContent.charCodeAt(0) === 8203 &&\n                    startParent.textContent.length === 1) || startParent.textContent.length === 0) {\n                    //Double enter with any parent tag for the node\n                    while (startParent.parentElement.nodeName !== 'PRE' &&\n                        (startParent.textContent.length === 1 || startParent.textContent.length === 0)) {\n                        startParent = startParent.parentElement;\n                    }\n                    if (!isNOU(startParent.previousSibling) && startParent.previousSibling.nodeName === 'BR' &&\n                        isNOU(startParent.nextSibling)) {\n                        this.paraFocus(startParent.parentElement);\n                    }\n                    else {\n                        this.isNotEndCursor(preElem, range);\n                    }\n                }\n                else {\n                    //Cursor at start and middle\n                    this.isNotEndCursor(preElem, range);\n                }\n            }\n        }\n    };\n    Formats.prototype.removeCodeContent = function (range) {\n        var regEx = new RegExp(String.fromCharCode(65279), 'g');\n        if (!isNOU(range.endContainer.textContent.match(regEx))) {\n            var pointer = range.endContainer.textContent.charCodeAt(range.endOffset - 1) === 65279 ?\n                range.endOffset - 2 : range.endOffset;\n            range.endContainer.textContent = range.endContainer.textContent.replace(regEx, '');\n            if (range.endContainer.textContent === '') {\n                this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, range.endContainer.parentElement, 0);\n            }\n            else {\n                this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, range.endContainer, pointer);\n            }\n        }\n    };\n    Formats.prototype.deleteContent = function (range) {\n        if (range.startContainer !== range.endContainer || range.startOffset !== range.endOffset) {\n            range.deleteContents();\n        }\n    };\n    Formats.prototype.paraFocus = function (referNode) {\n        var pTag = createElement('p');\n        pTag.innerHTML = '<br>';\n        this.parent.domNode.insertAfter(pTag, referNode);\n        this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, pTag, 0);\n        detach(referNode.lastChild);\n    };\n    Formats.prototype.isNotEndCursor = function (preElem, range) {\n        var nodeCutter = new NodeCutter();\n        var isEnd = range.startOffset === preElem.lastChild.textContent.length &&\n            preElem.lastChild.textContent === range.startContainer.textContent;\n        //Cursor at start point\n        if (preElem.textContent.indexOf(range.startContainer.textContent) === 0 &&\n            ((range.startOffset === 0 && range.endOffset === 0) || range.startContainer.nodeName === 'PRE')) {\n            this.insertMarker(preElem, range);\n            var brTag = createElement('br');\n            preElem.childNodes[range.endOffset].parentElement.insertBefore(brTag, preElem.childNodes[range.endOffset]);\n        }\n        else {\n            //Cursor at middle\n            var cloneNode = nodeCutter.SplitNode(range, preElem, true);\n            this.insertMarker(preElem, range);\n            var previousSib = preElem.previousElementSibling;\n            if (previousSib.tagName === 'PRE') {\n                previousSib.insertAdjacentHTML('beforeend', '<br>' + cloneNode.innerHTML);\n                detach(preElem);\n            }\n        }\n        //To place the cursor position          \n        this.setCursorPosition(isEnd, preElem);\n    };\n    Formats.prototype.setCursorPosition = function (isEnd, preElem) {\n        var isEmpty = false;\n        var markerElem = this.parent.editableElement.querySelector('.tempSpan');\n        var mrkParentElem = markerElem.parentElement;\n        markerElem.parentNode.textContent === '' ? isEmpty = true :\n            this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, markerElem, 0);\n        if (isEnd) {\n            if (isEmpty) {\n                //Enter press when pre element is empty\n                if (mrkParentElem === preElem) {\n                    this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, markerElem, 0);\n                    detach(markerElem);\n                }\n                else {\n                    this.focusSelectionParent(markerElem, mrkParentElem);\n                }\n            }\n            else {\n                var brElm = createElement('br');\n                this.parent.domNode.insertAfter(brElm, markerElem);\n                this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, markerElem, 0);\n                detach(markerElem);\n            }\n        }\n        else {\n            isEmpty ? this.focusSelectionParent(markerElem, mrkParentElem) : detach(markerElem);\n        }\n    };\n    Formats.prototype.focusSelectionParent = function (markerElem, tempSpanPElem) {\n        detach(markerElem);\n        tempSpanPElem.innerHTML = '\\u200B';\n        this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, tempSpanPElem, 0);\n    };\n    Formats.prototype.insertMarker = function (preElem, range) {\n        var tempSpan = createElement('span', { className: 'tempSpan' });\n        if (range.startContainer.nodeName === 'PRE') {\n            preElem.childNodes[range.endOffset].parentElement.insertBefore(tempSpan, preElem.childNodes[range.endOffset]);\n        }\n        else {\n            range.startContainer.parentElement.insertBefore(tempSpan, range.startContainer);\n        }\n    };\n    Formats.prototype.applyFormats = function (e) {\n        var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n        var isSelectAll = false;\n        if (this.parent.editableElement === range.endContainer &&\n            !isNOU(this.parent.editableElement.children[range.endOffset - 1]) &&\n            this.parent.editableElement.children[range.endOffset - 1].tagName === 'TABLE') {\n            isSelectAll = true;\n        }\n        var save = this.parent.nodeSelection.save(range, this.parent.currentDocument);\n        this.parent.domNode.setMarker(save);\n        var formatsNodes = this.parent.domNode.blockNodes();\n        for (var i = 0; i < formatsNodes.length; i++) {\n            var parentNode = void 0;\n            var replaceHTML = void 0;\n            if (e.subCommand.toLowerCase() === 'blockquote') {\n                parentNode = this.getParentNode(formatsNodes[i]);\n                replaceHTML = this.parent.domNode.isList(parentNode) ||\n                    parentNode.tagName === 'TABLE' ? parentNode.outerHTML : parentNode.innerHTML;\n            }\n            else {\n                parentNode = formatsNodes[i];\n                replaceHTML = parentNode.innerHTML;\n            }\n            if ((e.subCommand.toLowerCase() === parentNode.tagName.toLowerCase() &&\n                (e.subCommand.toLowerCase() !== 'pre' ||\n                    (!isNOU(e.exeValue) && e.exeValue.name === 'dropDownSelect'))) ||\n                isNOU(parentNode.parentNode) ||\n                (parentNode.tagName === 'LI' && e.subCommand.toLowerCase() !== 'pre') ||\n                (parentNode.tagName === 'TABLE' && e.subCommand.toLowerCase() === 'pre')) {\n                continue;\n            }\n            this.cleanFormats(parentNode, e.subCommand);\n            var replaceNode = (e.subCommand.toLowerCase() === 'pre' && parentNode.tagName.toLowerCase() === 'pre') ?\n                'p' : e.subCommand;\n            var replaceTag = this.parent.domNode.createTagString(replaceNode, parentNode, replaceHTML.replace(/>\\s+</g, '><'));\n            if (parentNode.tagName === 'LI') {\n                parentNode.innerHTML = '';\n                parentNode.insertAdjacentHTML('beforeend', replaceTag);\n            }\n            else {\n                this.parent.domNode.replaceWith(parentNode, replaceTag);\n            }\n        }\n        this.preFormatMerge();\n        var startNode = this.parent.editableElement.querySelector('.' + markerClassName.startSelection);\n        var endNode = this.parent.editableElement.querySelector('.' + markerClassName.endSelection);\n        if (!isNOU(startNode) && !isNOU(endNode)) {\n            startNode = startNode.lastChild;\n            endNode = endNode.lastChild;\n        }\n        save = this.parent.domNode.saveMarker(save, null);\n        if (isIDevice()) {\n            setEditFrameFocus(this.parent.editableElement, e.selector);\n        }\n        if (isSelectAll) {\n            this.parent.nodeSelection.setSelectionText(this.parent.currentDocument, startNode, endNode, 0, endNode.textContent.length);\n        }\n        else {\n            save.restore();\n        }\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.domNode.blockNodes()\n            });\n        }\n    };\n    Formats.prototype.preFormatMerge = function () {\n        var preNodes = this.parent.editableElement.querySelectorAll('PRE');\n        if (!isNOU(preNodes)) {\n            for (var i = 0; i < preNodes.length; i++) {\n                var previousSib = preNodes[i].previousElementSibling;\n                if (!isNOU(previousSib) && previousSib.tagName === 'PRE') {\n                    previousSib.insertAdjacentHTML('beforeend', '<br>' + preNodes[i].innerHTML);\n                    detach(preNodes[i]);\n                }\n            }\n        }\n    };\n    Formats.prototype.cleanFormats = function (element, tagName) {\n        var ignoreAttr = ['display', 'font-size', 'margin-top', 'margin-bottom', 'margin-left', 'margin-right', 'font-weight'];\n        tagName = tagName.toLowerCase();\n        for (var i = 0; i < ignoreAttr.length && (tagName !== 'p' && tagName !== 'blockquote' && tagName !== 'pre'); i++) {\n            element.style.removeProperty(ignoreAttr[i]);\n        }\n    };\n    return Formats;\n}());\nexport { Formats };\n","import { NodeSelection } from './../../selection/index';\nimport { NodeCutter } from './nodecutter';\nimport * as CONSTANT from './../base/constant';\nimport { detach, Browser, isNullOrUndefined as isNOU, createElement } from '@syncfusion/ej2-base';\nimport { InsertMethods } from './insert-methods';\nimport { updateTextNode } from './../../common/util';\n/**\n * Insert a HTML Node or Text\n * @hidden\n\n */\nvar InsertHtml = /** @class */ (function () {\n    function InsertHtml() {\n    }\n    InsertHtml.Insert = function (docElement, insertNode, editNode, isExternal) {\n        var node;\n        if (typeof insertNode === 'string') {\n            var divNode = document.createElement('div');\n            divNode.innerHTML = insertNode;\n            node = isExternal ? divNode : divNode.firstChild;\n        }\n        else {\n            if (isExternal && !(!isNOU(insertNode) && !isNOU(insertNode.classList) &&\n                insertNode.classList.contains('pasteContent'))) {\n                var divNode = document.createElement('div');\n                divNode.appendChild(insertNode);\n                node = divNode;\n            }\n            else {\n                node = insertNode;\n            }\n        }\n        var nodeSelection = new NodeSelection();\n        var nodeCutter = new NodeCutter();\n        var range = nodeSelection.getRange(docElement);\n        var isCursor = range.startOffset === range.endOffset && range.startOffset === 0 &&\n            range.startContainer === range.endContainer;\n        var isCollapsed = range.collapsed;\n        var nodes = this.getNodeCollection(range, nodeSelection);\n        var closestParentNode = (node.nodeName.toLowerCase() === 'table') ? this.closestEle(nodes[0].parentNode, editNode) : nodes[0];\n        if (isExternal || (!isNOU(node) && !isNOU(node.classList) &&\n            node.classList.contains('pasteContent'))) {\n            this.pasteInsertHTML(nodes, node, range, nodeSelection, nodeCutter, docElement, isCollapsed, closestParentNode, editNode);\n            return;\n        }\n        if (editNode !== range.startContainer && ((!isCollapsed && !(closestParentNode.nodeType === Node.ELEMENT_NODE &&\n            CONSTANT.TABLE_BLOCK_TAGS.indexOf(closestParentNode.tagName.toLocaleLowerCase()) !== -1))\n            || (node.nodeName.toLowerCase() === 'table' && closestParentNode &&\n                CONSTANT.TABLE_BLOCK_TAGS.indexOf(closestParentNode.tagName.toLocaleLowerCase()) === -1))) {\n            var preNode = nodeCutter.GetSpliceNode(range, closestParentNode);\n            var sibNode = preNode.previousSibling;\n            var parentNode = preNode.parentNode;\n            if (nodes.length === 1) {\n                nodeSelection.setSelectionContents(docElement, preNode);\n                range = nodeSelection.getRange(docElement);\n            }\n            else {\n                var lasNode = nodeCutter.GetSpliceNode(range, nodes[nodes.length - 1].parentElement);\n                lasNode = isNOU(lasNode) ? preNode : lasNode;\n                nodeSelection.setSelectionText(docElement, preNode, lasNode, 0, (lasNode.nodeType === 3) ?\n                    lasNode.textContent.length : lasNode.childNodes.length);\n                range = nodeSelection.getRange(docElement);\n            }\n            range.extractContents();\n            if (insertNode.tagName === 'TABLE') {\n                this.removeEmptyElements(editNode);\n            }\n            for (var index = 0; index < nodes.length; index++) {\n                if (nodes[index].nodeType !== 3 && nodes[index].parentNode != null) {\n                    if (nodes[index].nodeName === 'IMG') {\n                        continue;\n                    }\n                    nodes[index].parentNode.removeChild(nodes[index]);\n                }\n            }\n            if (sibNode) {\n                InsertMethods.AppendBefore(node, sibNode, true);\n            }\n            else {\n                var previousNode = null;\n                while (parentNode !== editNode && parentNode.firstChild &&\n                    (parentNode.textContent.trim() === '')) {\n                    var parentNode1 = parentNode.parentNode;\n                    previousNode = parentNode;\n                    parentNode = parentNode1;\n                }\n                if (previousNode !== null) {\n                    parentNode = previousNode;\n                }\n                if (parentNode.firstChild && (parentNode !== editNode ||\n                    (node.nodeName === 'TABLE' && isCursor && parentNode === range.startContainer &&\n                        parentNode === range.endContainer))) {\n                    if (parentNode.textContent.trim() === '' && parentNode !== editNode) {\n                        InsertMethods.AppendBefore(node, parentNode, false);\n                        detach(parentNode);\n                    }\n                    else {\n                        InsertMethods.AppendBefore(node, parentNode.firstChild, false);\n                    }\n                }\n                else {\n                    parentNode.appendChild(node);\n                }\n            }\n            if (node.nodeName === 'IMG') {\n                this.imageFocus(node, nodeSelection, docElement);\n            }\n            else if (node.nodeType !== 3) {\n                nodeSelection.setSelectionText(docElement, node, node, 0, node.childNodes.length);\n            }\n            else {\n                nodeSelection.setSelectionText(docElement, node, node, 0, node.textContent.length);\n            }\n        }\n        else {\n            range.deleteContents();\n            if (isCursor && range.startContainer.textContent === '') {\n                range.startContainer.innerHTML = '';\n            }\n            if (Browser.isIE) {\n                var frag = docElement.createDocumentFragment();\n                frag.appendChild(node);\n                range.insertNode(frag);\n            }\n            else {\n                range.insertNode(node);\n            }\n            if (node.nodeType !== 3 && node.childNodes.length > 0) {\n                nodeSelection.setSelectionText(docElement, node, node, 1, 1);\n            }\n            else if (node.nodeName === 'IMG') {\n                this.imageFocus(node, nodeSelection, docElement);\n            }\n            else if (node.nodeType !== 3) {\n                nodeSelection.setSelectionContents(docElement, node);\n            }\n            else {\n                nodeSelection.setSelectionText(docElement, node, node, node.textContent.length, node.textContent.length);\n            }\n        }\n    };\n    InsertHtml.pasteInsertHTML = function (nodes, node, range, nodeSelection, nodeCutter, docElement, isCollapsed, closestParentNode, editNode) {\n        var isCursor = range.startOffset === range.endOffset &&\n            range.startContainer === range.endContainer;\n        if (isCursor && range.startContainer === editNode && editNode.textContent === '') {\n            var currentBlockNode = this.getImmediateBlockNode(nodes[nodes.length - 1], editNode);\n            nodeSelection.setSelectionText(docElement, currentBlockNode, currentBlockNode, 0, 0);\n            range = nodeSelection.getRange(docElement);\n        }\n        var lasNode;\n        var sibNode;\n        var isSingleNode;\n        var preNode;\n        if (editNode !== range.startContainer && ((!isCollapsed && !(closestParentNode.nodeType === Node.ELEMENT_NODE &&\n            CONSTANT.TABLE_BLOCK_TAGS.indexOf(closestParentNode.tagName.toLocaleLowerCase()) !== -1))\n            || (node.nodeName.toLowerCase() === 'table' && closestParentNode &&\n                CONSTANT.TABLE_BLOCK_TAGS.indexOf(closestParentNode.tagName.toLocaleLowerCase()) === -1))) {\n            preNode = nodeCutter.GetSpliceNode(range, closestParentNode);\n            sibNode = isNOU(preNode.previousSibling) ? preNode.parentNode.previousSibling : preNode.previousSibling;\n            if (nodes.length === 1) {\n                nodeSelection.setSelectionContents(docElement, preNode);\n                range = nodeSelection.getRange(docElement);\n                isSingleNode = true;\n            }\n            else {\n                lasNode = nodeCutter.GetSpliceNode(range, nodes[nodes.length - 1].parentElement);\n                lasNode = isNOU(lasNode) ? preNode : lasNode;\n                nodeSelection.setSelectionText(docElement, preNode, lasNode, 0, (lasNode.nodeType === 3) ?\n                    lasNode.textContent.length : lasNode.childNodes.length);\n                range = nodeSelection.getRange(docElement);\n                isSingleNode = false;\n            }\n        }\n        var containsBlockNode = false;\n        this.removingComments(node);\n        var allChildNodes = node.childNodes;\n        for (var i = 0; i < allChildNodes.length; i++) {\n            if (CONSTANT.BLOCK_TAGS.indexOf(allChildNodes[i].nodeName.toLocaleLowerCase()) >= 0) {\n                containsBlockNode = true;\n                break;\n            }\n        }\n        var lastSelectionNode;\n        var fragment = document.createDocumentFragment();\n        if (!containsBlockNode) {\n            if (!isCursor) {\n                while (node.firstChild) {\n                    lastSelectionNode = node.firstChild;\n                    fragment.appendChild(node.firstChild);\n                }\n                if (isSingleNode) {\n                    preNode.parentNode.replaceChild(fragment, preNode);\n                }\n                else {\n                    range.deleteContents();\n                    detach(lasNode);\n                    !isNOU(sibNode) ? sibNode.parentNode.appendChild(fragment) : editNode.appendChild(fragment);\n                }\n            }\n            else {\n                var tempSpan = createElement('span', { className: 'tempSpan' });\n                range.insertNode(tempSpan);\n                while (node.firstChild) {\n                    lastSelectionNode = node.firstChild;\n                    fragment.appendChild(node.firstChild);\n                }\n                tempSpan.parentNode.replaceChild(fragment, tempSpan);\n            }\n        }\n        else {\n            this.insertTempNode(range, node, nodes, nodeCutter, editNode);\n            var isFirstTextNode = true;\n            var isPreviousInlineElem = void 0;\n            var paraElm = void 0;\n            var previousParent = void 0;\n            range.deleteContents();\n            while (node.firstChild) {\n                if (node.firstChild.nodeName === '#text' && node.firstChild.textContent.trim() === '') {\n                    detach(node.firstChild);\n                    continue;\n                }\n                if (node.firstChild.nodeName === '#text' && isFirstTextNode ||\n                    (this.inlineNode.indexOf(node.firstChild.nodeName.toLocaleLowerCase()) >= 0 && isFirstTextNode)) {\n                    lastSelectionNode = node.firstChild;\n                    if (isNOU(node.previousElementSibling)) {\n                        var firstParaElm = createElement('p');\n                        node.parentElement.insertBefore(firstParaElm, node);\n                    }\n                    node.previousElementSibling.appendChild(node.firstChild);\n                }\n                else {\n                    lastSelectionNode = node.firstChild;\n                    if (node.firstChild.nodeName === '#text' ||\n                        (this.inlineNode.indexOf(node.firstChild.nodeName.toLocaleLowerCase()) >= 0)) {\n                        if (!isPreviousInlineElem) {\n                            paraElm = createElement('p');\n                            paraElm.appendChild(node.firstChild);\n                            fragment.appendChild(paraElm);\n                        }\n                        else {\n                            previousParent.appendChild(node.firstChild);\n                            fragment.appendChild(previousParent);\n                        }\n                        previousParent = paraElm;\n                        isPreviousInlineElem = true;\n                    }\n                    else {\n                        fragment.appendChild(node.firstChild);\n                        isPreviousInlineElem = false;\n                    }\n                    isFirstTextNode = false;\n                }\n            }\n            node.parentNode.replaceChild(fragment, node);\n        }\n        if (lastSelectionNode.nodeName === '#text') {\n            this.placeCursorEnd(lastSelectionNode, node, nodeSelection, docElement, editNode);\n        }\n        else {\n            this.cursorPos(lastSelectionNode, node, nodeSelection, docElement, editNode);\n        }\n    };\n    InsertHtml.placeCursorEnd = function (lastSelectionNode, node, nodeSelection, docElement, editNode) {\n        lastSelectionNode = lastSelectionNode.nodeName === 'BR' ? lastSelectionNode.previousSibling : lastSelectionNode;\n        while (!isNOU(lastSelectionNode) && lastSelectionNode.nodeName !== '#text' && lastSelectionNode.nodeName !== 'IMG' &&\n            lastSelectionNode.nodeName !== 'BR') {\n            lastSelectionNode = lastSelectionNode.lastChild;\n        }\n        lastSelectionNode = isNOU(lastSelectionNode) ? node : lastSelectionNode;\n        if (lastSelectionNode.nodeName === 'IMG') {\n            this.imageFocus(lastSelectionNode, nodeSelection, docElement);\n        }\n        else {\n            nodeSelection.setSelectionText(docElement, lastSelectionNode, lastSelectionNode, lastSelectionNode.textContent.length, lastSelectionNode.textContent.length);\n        }\n        this.removeEmptyElements(editNode);\n    };\n    InsertHtml.getNodeCollection = function (range, nodeSelection) {\n        var nodes = [];\n        if (range.startOffset === range.endOffset && range.startContainer === range.endContainer &&\n            range.startContainer.nodeName === 'TD') {\n            nodes.push(range.startContainer.childNodes[range.endOffset]);\n        }\n        else {\n            nodes = nodeSelection.getInsertNodeCollection(range);\n        }\n        return nodes;\n    };\n    InsertHtml.insertTempNode = function (range, node, nodes, nodeCutter, editNode) {\n        if (range.startContainer === editNode && !isNOU(range.startContainer.childNodes[range.endOffset - 1]) &&\n            range.startContainer.childNodes[range.endOffset - 1].nodeName === 'TABLE') {\n            if (isNOU(range.startContainer.childNodes[range.endOffset - 1].nextSibling)) {\n                range.startContainer.appendChild(node);\n            }\n            else {\n                range.startContainer.insertBefore(node, range.startContainer.childNodes[range.endOffset - 1].nextSibling);\n            }\n        }\n        else if (range.startContainer === editNode && !isNOU(range.startContainer.childNodes[range.endOffset]) &&\n            range.startContainer.childNodes[range.endOffset].nodeName === 'TABLE') {\n            range.startContainer.insertBefore(node, range.startContainer.childNodes[range.endOffset]);\n        }\n        else {\n            var blockNode = this.getImmediateBlockNode(nodes[nodes.length - 1], editNode);\n            if (blockNode.nodeName === 'TD' || blockNode.nodeName === 'TH') {\n                var tempSpan = createElement('span', { className: 'tempSpan' });\n                range.insertNode(tempSpan);\n                tempSpan.parentNode.replaceChild(node, tempSpan);\n            }\n            else {\n                var splitedElm = nodeCutter.GetSpliceNode(range, blockNode);\n                splitedElm.parentNode.replaceChild(node, splitedElm);\n            }\n        }\n    };\n    InsertHtml.cursorPos = function (lastSelectionNode, node, nodeSelection, docElement, editNode) {\n        lastSelectionNode.classList.add('lastNode');\n        editNode.innerHTML = updateTextNode(editNode.innerHTML);\n        lastSelectionNode = editNode.querySelector('.lastNode');\n        this.placeCursorEnd(lastSelectionNode, node, nodeSelection, docElement, editNode);\n        lastSelectionNode.classList.remove('lastNode');\n        if (lastSelectionNode.classList.length === 0) {\n            lastSelectionNode.removeAttribute('class');\n        }\n    };\n    InsertHtml.imageFocus = function (node, nodeSelection, docElement) {\n        var focusNode = document.createTextNode(' ');\n        node.parentNode.insertBefore(focusNode, node.nextSibling);\n        nodeSelection.setSelectionText(docElement, node.nextSibling, node.nextSibling, 0, 0);\n    };\n    InsertHtml.getImmediateBlockNode = function (node, editNode) {\n        do {\n            node = node.parentNode;\n        } while (CONSTANT.BLOCK_TAGS.indexOf(node.nodeName.toLocaleLowerCase()) < 0);\n        return node;\n    };\n    InsertHtml.removingComments = function (elm) {\n        var innerElement = elm.innerHTML;\n        innerElement = innerElement.replace(/<!--[\\s\\S]*?-->/g, '');\n        elm.innerHTML = innerElement;\n    };\n    InsertHtml.findDetachEmptyElem = function (element) {\n        var removableElement;\n        if (!isNOU(element.parentElement)) {\n            if (element.parentElement.textContent.trim() === '' && element.parentElement.contentEditable !== 'true') {\n                removableElement = this.findDetachEmptyElem(element.parentElement);\n            }\n            else {\n                removableElement = element;\n            }\n        }\n        else {\n            removableElement = null;\n        }\n        return removableElement;\n    };\n    InsertHtml.removeEmptyElements = function (element) {\n        var emptyElements = element.querySelectorAll(':empty');\n        for (var i = 0; i < emptyElements.length; i++) {\n            if (emptyElements[i].tagName !== 'IMG' && emptyElements[i].tagName !== 'BR' &&\n                emptyElements[i].tagName !== 'IFRAME' && emptyElements[i].tagName !== 'TD') {\n                var detachableElement = this.findDetachEmptyElem(emptyElements[i]);\n                if (!isNOU(detachableElement)) {\n                    detach(detachableElement);\n                }\n            }\n        }\n    };\n    InsertHtml.closestEle = function (element, editNode) {\n        var el = element;\n        while (el && el.nodeType === 1) {\n            if (el.parentNode === editNode ||\n                (!isNOU(el.parentNode.tagName) &&\n                    CONSTANT.IGNORE_BLOCK_TAGS.indexOf(el.parentNode.tagName.toLocaleLowerCase()) !== -1)) {\n                return el;\n            }\n            el = el.parentNode;\n        }\n        return null;\n    };\n    /**\n     * Insert method\n     * @hidden\n\n     */\n    InsertHtml.inlineNode = ['a', 'abbr', 'acronym', 'audio', 'b', 'bdi', 'bdo', 'big', 'br', 'button',\n        'canvas', 'cite', 'code', 'data', 'datalist', 'del', 'dfn', 'em', 'embed', 'font', 'i', 'iframe', 'img', 'input',\n        'ins', 'kbd', 'label', 'map', 'mark', 'meter', 'noscript', 'object', 'output', 'picture', 'progress',\n        'q', 'ruby', 's', 'samp', 'script', 'select', 'slot', 'small', 'span', 'strong', 'sub', 'sup', 'svg',\n        'template', 'textarea', 'time', 'u', 'tt', 'var', 'video', 'wbr'];\n    return InsertHtml;\n}());\nexport { InsertHtml };\n","import { createElement, isNullOrUndefined as isNOU, closest } from '@syncfusion/ej2-base';\nimport * as CONSTANT from './../base/constant';\nimport { NodeSelection } from '../../selection/selection';\nimport { NodeCutter } from './nodecutter';\nimport { InsertHtml } from './inserthtml';\n/**\n * Link internal component\n * @hidden\n\n */\nvar LinkCommand = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     * @hidden\n\n     */\n    function LinkCommand(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    LinkCommand.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.LINK, this.linkCommand, this);\n    };\n    LinkCommand.prototype.linkCommand = function (e) {\n        switch (e.value.toString().toLocaleLowerCase()) {\n            case 'createlink':\n            case 'editlink':\n                this.createLink(e);\n                break;\n            case 'openlink':\n                this.openLink(e);\n                break;\n            case 'removelink':\n                this.removeLink(e);\n                break;\n        }\n    };\n    LinkCommand.prototype.createLink = function (e) {\n        var closestAnchor = (!isNOU(e.item.selectParent) && e.item.selectParent.length > 0) &&\n            closest(e.item.selectParent[0], 'a');\n        closestAnchor = !isNOU(closestAnchor) ? closestAnchor :\n            (!isNOU(e.item.selectParent) && e.item.selectParent.length > 0) ? (e.item.selectParent[0]) : null;\n        if (!isNOU(closestAnchor) && closestAnchor.tagName === 'A') {\n            var anchorEle = closestAnchor;\n            var linkText = '';\n            if (!isNOU(e.item.url)) {\n                anchorEle.setAttribute('href', e.item.url);\n            }\n            if (!isNOU(e.item.title)) {\n                anchorEle.setAttribute('title', e.item.title);\n            }\n            if (!isNOU(e.item.text) && e.item.text !== '') {\n                linkText = anchorEle.innerText;\n                anchorEle.innerText = e.item.text;\n            }\n            if (!isNOU(e.item.target)) {\n                anchorEle.setAttribute('target', e.item.target);\n            }\n            else {\n                anchorEle.removeAttribute('target');\n            }\n            if (linkText === e.item.text) {\n                e.item.selection.setSelectionText(this.parent.currentDocument, anchorEle, anchorEle, 1, 1);\n                e.item.selection.restore();\n            }\n            else {\n                var startIndex = e.item.action === 'Paste' ? anchorEle.childNodes[0].textContent.length : 0;\n                e.item.selection.setSelectionText(this.parent.currentDocument, anchorEle.childNodes[0], anchorEle.childNodes[0], startIndex, anchorEle.childNodes[0].textContent.length);\n            }\n        }\n        else {\n            var domSelection = new NodeSelection();\n            var range = domSelection.getRange(this.parent.currentDocument);\n            var text = isNOU(e.item.text) ? true : e.item.text.replace(/ /g, '').localeCompare(range.toString()\n                .replace(/\\n/g, ' ').replace(/ /g, '')) < 0;\n            if (e.event && e.event.type === 'keydown' && (e.event.keyCode === 32\n                || e.event.keyCode === 13) || e.item.action === 'Paste' || range.collapsed || text) {\n                var anchor = this.createAchorNode(e);\n                anchor.innerText = e.item.text === '' ? e.item.url : e.item.text;\n                e.item.selection.restore();\n                InsertHtml.Insert(this.parent.currentDocument, anchor, this.parent.editableElement);\n                if (e.event && e.event.type === 'keydown' && (e.event.keyCode === 32\n                    || e.event.keyCode === 13)) {\n                    var startContainer = e.item.selection.range.startContainer;\n                    startContainer.textContent = this.removeText(startContainer.textContent, e.item.text);\n                }\n                else {\n                    var startIndex = e.item.action === 'Paste' ? anchor.childNodes[0].textContent.length : 0;\n                    e.item.selection.setSelectionText(this.parent.currentDocument, anchor.childNodes[0], anchor.childNodes[0], startIndex, anchor.childNodes[0].textContent.length);\n                }\n            }\n            else {\n                this.createLinkNode(e);\n            }\n        }\n        if (e.callBack) {\n            e.callBack({\n                requestType: 'Links',\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    ;\n    LinkCommand.prototype.createLinkNode = function (e) {\n        var domSelection = new NodeSelection();\n        var nodeCutter = new NodeCutter();\n        var range = domSelection.getRange(this.parent.currentDocument);\n        var nodes = this.getSelectionNodes(domSelection.getNodeCollection(range));\n        var save = domSelection.save(range, this.parent.currentDocument);\n        var txtArray = [];\n        var inlineNodes = [];\n        var currentNode;\n        var removeNodes = [];\n        var anchorNodes = [];\n        var finalinlineNodes = [];\n        var cloneNode;\n        for (var index = 0; index < nodes.length; index++) {\n            nodes[index] = nodeCutter.GetSpliceNode(range, nodes[index]);\n            txtArray[index] = nodes[index];\n        }\n        for (var i = 0; i < txtArray.length; i++) {\n            var check = true;\n            currentNode = txtArray[i];\n            while (check === true) {\n                if (currentNode.parentElement.nodeName === 'A') {\n                    var anchorEle = currentNode.parentElement;\n                    currentNode.parentElement.parentElement.insertBefore(anchorEle.firstChild, anchorEle);\n                    currentNode.parentElement.removeChild(anchorEle);\n                }\n                if (this.isBlockNode(currentNode.parentElement) || txtArray.length === 0 || i === 0 || i === txtArray.length - 1) {\n                    inlineNodes[i] = currentNode;\n                    check = false;\n                }\n                else {\n                    currentNode = currentNode.parentElement;\n                }\n            }\n        }\n        for (var i = 0, j_1 = 0; i < inlineNodes.length; i++) {\n            if (i === 0) {\n                finalinlineNodes[j_1] = inlineNodes[i];\n            }\n            if (inlineNodes.length > 1 && i < inlineNodes.length - 1) {\n                if ((inlineNodes[i].parentElement === inlineNodes[i + 1].parentElement) && (inlineNodes[i] === inlineNodes[i + 1])) {\n                    continue;\n                }\n                else {\n                    finalinlineNodes[j_1 + 1] = inlineNodes[i + 1];\n                    j_1++;\n                }\n            }\n        }\n        var j = 0;\n        anchorNodes[j] = this.createAchorNode(e);\n        for (var i = 0; i < finalinlineNodes.length; i++) {\n            if (i === 0) {\n                cloneNode = finalinlineNodes[i].cloneNode(true);\n                anchorNodes[i].appendChild(cloneNode);\n            }\n            if (i < finalinlineNodes.length - 1) {\n                if (finalinlineNodes[i].parentNode === finalinlineNodes[i + 1].parentNode) {\n                    var cln = finalinlineNodes[i + 1].cloneNode(true);\n                    anchorNodes[j].appendChild(cln);\n                }\n                else {\n                    j = j + 1;\n                    anchorNodes[j] = this.createAchorNode(e);\n                    cloneNode = finalinlineNodes[i + 1].cloneNode(true);\n                    anchorNodes[j].appendChild(cloneNode);\n                }\n            }\n        }\n        this.parent.nodeSelection.setRange(document, save.range);\n        for (var i = 0, j_2 = 0, k = 0; i <= finalinlineNodes.length; i++) {\n            if (i === 0) {\n                finalinlineNodes[i].parentNode.insertBefore(anchorNodes[j_2], finalinlineNodes[i].nextSibling);\n                if (this.parent.domNode.blockNodes().length === 1) {\n                    this.parent.nodeSelection.setSelectionNode(this.parent.currentDocument, anchorNodes[j_2]);\n                }\n                removeNodes[k] = finalinlineNodes[i];\n                k++;\n            }\n            if (i < finalinlineNodes.length - 1) {\n                if (finalinlineNodes[i].parentNode === finalinlineNodes[i + 1].parentNode) {\n                    removeNodes[k] = finalinlineNodes[i + 1];\n                    k++;\n                }\n                else {\n                    j_2 = j_2 + 1;\n                    finalinlineNodes[i + 1].parentNode.insertBefore(anchorNodes[j_2], finalinlineNodes[i + 1]);\n                    removeNodes[k] = finalinlineNodes[i + 1];\n                    k++;\n                }\n            }\n        }\n        for (var i = 0; i < removeNodes.length; i++) {\n            if (removeNodes[i].parentNode) {\n                removeNodes[i].parentNode.removeChild(removeNodes[i]);\n            }\n        }\n    };\n    LinkCommand.prototype.createAchorNode = function (e) {\n        var anchorEle = createElement('a', {\n            className: 'e-rte-anchor',\n            attrs: {\n                href: e.item.url,\n                title: isNOU(e.item.title) || e.item.title === '' ? e.item.url : e.item.title\n            }\n        });\n        if (!isNOU(e.item.target)) {\n            anchorEle.setAttribute('target', e.item.target);\n        }\n        return anchorEle;\n    };\n    LinkCommand.prototype.getSelectionNodes = function (nodeCollection) {\n        nodeCollection = nodeCollection.reverse();\n        for (var index = 0; index < nodeCollection.length; index++) {\n            if (nodeCollection[index].nodeType !== 3 || nodeCollection[index].textContent.trim() === '') {\n                if (nodeCollection[index].nodeName !== 'IMG') {\n                    nodeCollection.splice(index, 1);\n                    index--;\n                }\n            }\n        }\n        return nodeCollection.reverse();\n    };\n    LinkCommand.prototype.isBlockNode = function (element) {\n        return (!!element && (element.nodeType === Node.ELEMENT_NODE && CONSTANT.BLOCK_TAGS.indexOf(element.tagName.toLowerCase()) >= 0));\n    };\n    LinkCommand.prototype.removeText = function (text, val) {\n        var arr = text.split(' ');\n        for (var i = 0; i < arr.length; i++) {\n            if (arr[i] === val) {\n                arr.splice(i, 1);\n                i--;\n            }\n        }\n        return arr.join(' ') + ' ';\n    };\n    LinkCommand.prototype.openLink = function (e) {\n        document.defaultView.open(e.item.url, e.item.target);\n        this.callBack(e);\n    };\n    LinkCommand.prototype.removeLink = function (e) {\n        var blockNodes = this.parent.domNode.blockNodes();\n        if (blockNodes.length < 2) {\n            this.parent.domNode.setMarker(e.item.selection);\n            var closestAnchor = closest(e.item.selectParent[0], 'a');\n            var selectParent = closestAnchor ? closestAnchor : e.item.selectParent[0];\n            var parent_1 = selectParent.parentNode;\n            var child = [];\n            for (; selectParent.firstChild; null) {\n                child.push(parent_1.insertBefore(selectParent.firstChild, selectParent));\n            }\n            parent_1.removeChild(selectParent);\n            if (child && child.length === 1) {\n                e.item.selection.startContainer = e.item.selection.getNodeArray(child[child.length - 1], true);\n                e.item.selection.endContainer = e.item.selection.startContainer;\n            }\n            e.item.selection = this.parent.domNode.saveMarker(e.item.selection);\n        }\n        else {\n            for (var i = 0; i < blockNodes.length; i++) {\n                var linkNode = blockNodes[i].querySelectorAll('a');\n                for (var j = 0; j < linkNode.length; j++) {\n                    if (document.getSelection().containsNode(linkNode[j], true)) {\n                        linkNode[j].outerHTML = linkNode[j].innerHTML;\n                    }\n                }\n            }\n        }\n        e.item.selection.restore();\n        this.callBack(e);\n    };\n    LinkCommand.prototype.callBack = function (e) {\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    return LinkCommand;\n}());\nexport { LinkCommand };\n","import * as CONSTANT from './../base/constant';\nimport { setStyleAttribute, closest } from '@syncfusion/ej2-base';\nimport * as EVENTS from './../../common/constant';\nimport { isIDevice, setEditFrameFocus } from '../../common/util';\n/**\n * Formats internal component\n * @hidden\n\n */\nvar Alignments = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     * @hidden\n\n     */\n    function Alignments(parent) {\n        this.alignments = {\n            'JustifyLeft': 'left',\n            'JustifyCenter': 'center',\n            'JustifyRight': 'right',\n            'JustifyFull': 'justify'\n        };\n        this.parent = parent;\n        this.addEventListener();\n    }\n    Alignments.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.ALIGNMENT_TYPE, this.applyAlignment, this);\n        this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.onKeyDown, this);\n    };\n    Alignments.prototype.onKeyDown = function (e) {\n        switch (e.event.action) {\n            case 'justify-center':\n                this.applyAlignment({ subCommand: 'JustifyCenter', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n            case 'justify-full':\n                this.applyAlignment({ subCommand: 'JustifyFull', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n            case 'justify-left':\n                this.applyAlignment({ subCommand: 'JustifyLeft', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n            case 'justify-right':\n                this.applyAlignment({ subCommand: 'JustifyRight', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n        }\n    };\n    Alignments.prototype.getTableNode = function (range) {\n        var startNode = range.startContainer.nodeType === Node.ELEMENT_NODE ? range.startContainer : range.startContainer.parentNode;\n        var cellNode = closest(startNode, 'td,th');\n        return [cellNode];\n    };\n    Alignments.prototype.applyAlignment = function (e) {\n        var isTableAlign = e.value === 'Table' ? true : false;\n        var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n        var save = this.parent.nodeSelection.save(range, this.parent.currentDocument);\n        if (!isTableAlign) {\n            this.parent.domNode.setMarker(save);\n            var alignmentNodes = this.parent.domNode.blockNodes();\n            for (var i = 0; i < alignmentNodes.length; i++) {\n                var parentNode = alignmentNodes[i];\n                setStyleAttribute(parentNode, { 'text-align': this.alignments[e.subCommand] });\n            }\n            var imageTags = this.parent.domNode.getImageTagInSelection();\n            for (var i = 0; i < imageTags.length; i++) {\n                var elementNode = [];\n                elementNode.push(imageTags[i]);\n                this.parent.imgObj.imageCommand({\n                    item: {\n                        selectNode: elementNode\n                    },\n                    subCommand: e.subCommand,\n                    value: e.subCommand,\n                    callBack: e.callBack,\n                    selector: e.selector\n                });\n            }\n            this.parent.editableElement.focus();\n            save = this.parent.domNode.saveMarker(save);\n            if (isIDevice()) {\n                setEditFrameFocus(this.parent.editableElement, e.selector);\n            }\n            save.restore();\n        }\n        else {\n            setStyleAttribute(this.getTableNode(range)[0], { 'text-align': this.alignments[e.subCommand] });\n        }\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: (isTableAlign ? this.getTableNode(range) : this.parent.domNode.blockNodes())\n            });\n        }\n    };\n    return Alignments;\n}());\nexport { Alignments };\n","import * as CONSTANT from './../base/constant';\nimport * as EVENTS from './../../common/constant';\nimport { isIDevice, setEditFrameFocus } from '../../common/util';\n/**\n * Indents internal component\n * @hidden\n\n */\nvar Indents = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     * @hidden\n\n     */\n    function Indents(parent) {\n        this.indentValue = 20;\n        this.parent = parent;\n        this.addEventListener();\n    }\n    Indents.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.INDENT_TYPE, this.applyIndents, this);\n        this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.onKeyDown, this);\n    };\n    Indents.prototype.onKeyDown = function (e) {\n        switch (e.event.action) {\n            case 'indents':\n                this.applyIndents({ subCommand: 'Indent', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n            case 'outdents':\n                this.applyIndents({ subCommand: 'Outdent', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n        }\n    };\n    Indents.prototype.applyIndents = function (e) {\n        var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n        var save = this.parent.nodeSelection.save(range, this.parent.currentDocument);\n        this.parent.domNode.setMarker(save);\n        var indentsNodes = this.parent.domNode.blockNodes();\n        var parentNodes = indentsNodes.slice();\n        var listsNodes = [];\n        for (var i = 0; i < parentNodes.length; i++) {\n            if (parentNodes[i].tagName !== 'LI' && 'LI' === parentNodes[i].parentNode.tagName) {\n                indentsNodes.splice(indentsNodes.indexOf(parentNodes[i]), 1);\n                listsNodes.push(parentNodes[i].parentNode);\n            }\n            else if (parentNodes[i].tagName === 'LI') {\n                indentsNodes.splice(indentsNodes.indexOf(parentNodes[i]), 1);\n                listsNodes.push(parentNodes[i]);\n            }\n        }\n        if (listsNodes.length > 0) {\n            this.parent.observer.notify(EVENTS.KEY_DOWN_HANDLER, {\n                event: {\n                    preventDefault: function () { return; },\n                    stopPropagation: function () { return; },\n                    shiftKey: (e.subCommand === 'Indent' ? false : true),\n                    which: 9,\n                    action: 'indent'\n                },\n                ignoreDefault: true\n            });\n        }\n        for (var i = 0; i < indentsNodes.length; i++) {\n            var parentNode = indentsNodes[i];\n            var marginLeft = parentNode.style.marginLeft;\n            var indentsValue = void 0;\n            if (e.subCommand === 'Indent') {\n                indentsValue = marginLeft === '' ? this.indentValue + 'px' : parseInt(marginLeft, null) + this.indentValue + 'px';\n                parentNode.style.marginLeft = indentsValue;\n            }\n            else {\n                indentsValue = (marginLeft === '' || marginLeft === '0px') ? '' : parseInt(marginLeft, null) - this.indentValue + 'px';\n                parentNode.style.marginLeft = indentsValue;\n            }\n        }\n        this.parent.editableElement.focus();\n        if (isIDevice()) {\n            setEditFrameFocus(this.parent.editableElement, e.selector);\n        }\n        save = this.parent.domNode.saveMarker(save);\n        save.restore();\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.domNode.blockNodes()\n            });\n        }\n    };\n    return Indents;\n}());\nexport { Indents };\n","/**\n * Rich Text Editor classes defined here.\n */\n/**\n * @hidden\n\n */\nexport var CLASS_IMAGE_RIGHT = 'e-imgright';\nexport var CLASS_IMAGE_LEFT = 'e-imgleft';\nexport var CLASS_IMAGE_CENTER = 'e-imgcenter';\nexport var CLASS_IMAGE_BREAK = 'e-imgbreak';\nexport var CLASS_CAPTION = 'e-img-caption';\nexport var CLASS_RTE_CAPTION = 'e-rte-img-caption';\nexport var CLASS_CAPTION_INLINE = 'e-caption-inline';\nexport var CLASS_IMAGE_INLINE = 'e-imginline';\n","import { createElement, isNullOrUndefined as isNOU, detach, closest, addClass, removeClass, select, Browser } from '@syncfusion/ej2-base';\nimport * as CONSTANT from './../base/constant';\nimport * as classes from './../base/classes';\nimport { InsertHtml } from './inserthtml';\n/**\n * Link internal component\n * @hidden\n\n */\nvar ImageCommand = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     * @hidden\n\n     */\n    function ImageCommand(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    ImageCommand.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.IMAGE, this.imageCommand, this);\n    };\n    /**\n     * imageCommand method\n     * @hidden\n\n     */\n    ImageCommand.prototype.imageCommand = function (e) {\n        switch (e.value.toString().toLocaleLowerCase()) {\n            case 'image':\n            case 'replace':\n                this.createImage(e);\n                break;\n            case 'insertlink':\n                this.insertImageLink(e);\n                break;\n            case 'openimagelink':\n                this.openImageLink(e);\n                break;\n            case 'editimagelink':\n                this.editImageLink(e);\n                break;\n            case 'removeimagelink':\n                this.removeImageLink(e);\n                break;\n            case 'remove':\n                this.removeImage(e);\n                break;\n            case 'alttext':\n                this.insertAltTextImage(e);\n                break;\n            case 'dimension':\n                this.imageDimension(e);\n                break;\n            case 'caption':\n                this.imageCaption(e);\n                break;\n            case 'justifyleft':\n                this.imageJustifyLeft(e);\n                break;\n            case 'justifycenter':\n                this.imageJustifyCenter(e);\n                break;\n            case 'justifyright':\n                this.imageJustifyRight(e);\n                break;\n            case 'inline':\n                this.imageInline(e);\n                break;\n            case 'break':\n                this.imageBreak(e);\n                break;\n        }\n    };\n    ImageCommand.prototype.createImage = function (e) {\n        var _this = this;\n        e.item.url = isNOU(e.item.url) || e.item.url === 'undefined' ? e.item.src : e.item.url;\n        if (!isNOU(e.item.selectParent) && e.item.selectParent[0].tagName === 'IMG') {\n            var imgEle = e.item.selectParent[0];\n            this.setStyle(imgEle, e);\n        }\n        else {\n            var imgElement = createElement('img');\n            this.setStyle(imgElement, e);\n            if (!isNOU(e.item.selection)) {\n                e.item.selection.restore();\n            }\n            if (!isNOU(e.selector) && e.selector === 'pasteCleanupModule') {\n                e.callBack({ requestType: 'Image',\n                    editorMode: 'HTML',\n                    event: e.event,\n                    range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                    elements: [imgElement]\n                });\n            }\n            else {\n                InsertHtml.Insert(this.parent.currentDocument, imgElement, this.parent.editableElement);\n            }\n        }\n        if (e.callBack && (isNOU(e.selector) || !isNOU(e.selector) && e.selector !== 'pasteCleanupModule')) {\n            var imgElm_1 = e.value === 'Replace' ? e.item.selectParent[0] :\n                this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)[0].previousElementSibling;\n            imgElm_1.addEventListener('load', function () {\n                e.callBack({\n                    requestType: 'Image',\n                    editorMode: 'HTML',\n                    event: e.event,\n                    range: _this.parent.nodeSelection.getRange(_this.parent.currentDocument),\n                    elements: [imgElm_1]\n                });\n            });\n        }\n    };\n    ImageCommand.prototype.setStyle = function (imgElement, e) {\n        if (!isNOU(e.item.url)) {\n            imgElement.setAttribute('src', e.item.url);\n        }\n        imgElement.setAttribute('class', 'e-rte-image' + (isNOU(e.item.cssClass) ? '' : ' ' + e.item.cssClass));\n        if (!isNOU(e.item.altText)) {\n            imgElement.setAttribute('alt', e.item.altText);\n        }\n        if (!isNOU(e.item.width) && !isNOU(e.item.width.width)) {\n            imgElement.setAttribute('width', this.calculateStyleValue(e.item.width.width));\n        }\n        if (!isNOU(e.item.height) && !isNOU(e.item.height.height)) {\n            imgElement.setAttribute('height', this.calculateStyleValue(e.item.height.height));\n        }\n        if (!isNOU(e.item.width) && !isNOU(e.item.width.minWidth)) {\n            imgElement.style.minWidth = this.calculateStyleValue(e.item.width.minWidth);\n        }\n        if (!isNOU(e.item.width) && !isNOU(e.item.width.maxWidth)) {\n            imgElement.style.maxWidth = this.calculateStyleValue(e.item.width.maxWidth);\n        }\n        if (!isNOU(e.item.height) && !isNOU(e.item.height.minHeight)) {\n            imgElement.style.minHeight = this.calculateStyleValue(e.item.height.minHeight);\n        }\n        if (!isNOU(e.item.height) && !isNOU(e.item.height.maxHeight)) {\n            imgElement.style.maxHeight = this.calculateStyleValue(e.item.height.maxHeight);\n        }\n    };\n    ImageCommand.prototype.calculateStyleValue = function (value) {\n        var styleValue;\n        if (typeof (value) === 'string') {\n            if (value.indexOf('px') || value.indexOf('%') || value.indexOf('auto')) {\n                styleValue = value;\n            }\n            else {\n                styleValue = value + 'px';\n            }\n        }\n        else {\n            styleValue = value + 'px';\n        }\n        return styleValue;\n    };\n    ImageCommand.prototype.insertImageLink = function (e) {\n        var anchor = createElement('a', {\n            attrs: {\n                href: e.item.url\n            }\n        });\n        if (e.item.selectNode[0].parentElement.classList.contains('e-img-wrap')) {\n            e.item.selection.restore();\n            anchor.setAttribute('contenteditable', 'true');\n        }\n        anchor.appendChild(e.item.selectNode[0]);\n        if (!isNOU(e.item.target)) {\n            anchor.setAttribute('target', e.item.target);\n        }\n        InsertHtml.Insert(this.parent.currentDocument, anchor, this.parent.editableElement);\n        this.callBack(e);\n    };\n    ImageCommand.prototype.openImageLink = function (e) {\n        document.defaultView.open(e.item.url, e.item.target);\n        this.callBack(e);\n    };\n    ImageCommand.prototype.removeImageLink = function (e) {\n        var selectParent = e.item.selectParent[0];\n        if (selectParent.classList.contains('e-img-caption')) {\n            var capImgWrap = select('.e-img-wrap', selectParent);\n            var textEle = select('.e-img-inner', selectParent);\n            var newTextEle = textEle.cloneNode(true);\n            detach(select('a', selectParent));\n            detach(textEle);\n            capImgWrap.appendChild(e.item.insertElement);\n            capImgWrap.appendChild(newTextEle);\n        }\n        else {\n            detach(selectParent);\n            if (Browser.isIE) {\n                e.item.selection.restore();\n            }\n            InsertHtml.Insert(this.parent.currentDocument, e.item.insertElement, this.parent.editableElement);\n        }\n        this.callBack(e);\n    };\n    ImageCommand.prototype.editImageLink = function (e) {\n        e.item.selectNode[0].parentElement.href = e.item.url;\n        if (isNOU(e.item.target)) {\n            e.item.selectNode[0].parentElement.removeAttribute('target');\n        }\n        else {\n            e.item.selectNode[0].parentElement.target = e.item.target;\n        }\n        this.callBack(e);\n    };\n    ImageCommand.prototype.removeImage = function (e) {\n        if (closest(e.item.selectNode[0], 'a')) {\n            if (e.item.selectNode[0].parentElement.nodeName === 'A' && !isNOU(e.item.selectNode[0].parentElement.innerText)) {\n                detach(e.item.selectNode[0]);\n            }\n            else {\n                detach(closest(e.item.selectNode[0], 'a'));\n            }\n        }\n        else if (!isNOU(closest(e.item.selectNode[0], '.' + classes.CLASS_CAPTION))) {\n            detach(closest(e.item.selectNode[0], '.' + classes.CLASS_CAPTION));\n        }\n        else {\n            detach(e.item.selectNode[0]);\n        }\n        this.callBack(e);\n    };\n    ImageCommand.prototype.insertAltTextImage = function (e) {\n        e.item.selectNode[0].setAttribute('alt', e.item.altText);\n        this.callBack(e);\n    };\n    ImageCommand.prototype.imageDimension = function (e) {\n        var selectNode = e.item.selectNode[0];\n        selectNode.style.height = '';\n        selectNode.style.width = '';\n        selectNode.width = e.item.width;\n        selectNode.height = e.item.height;\n        this.callBack(e);\n    };\n    ImageCommand.prototype.imageCaption = function (e) {\n        InsertHtml.Insert(this.parent.currentDocument, e.item.insertElement, this.parent.editableElement);\n        this.callBack(e);\n    };\n    ImageCommand.prototype.imageJustifyLeft = function (e) {\n        var selectNode = e.item.selectNode[0];\n        selectNode.removeAttribute('class');\n        addClass([selectNode], 'e-rte-image');\n        if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n            addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n        }\n        if (selectNode.parentElement.nodeName === 'A') {\n            removeClass([selectNode.parentElement], classes.CLASS_IMAGE_RIGHT);\n            addClass([selectNode.parentElement], classes.CLASS_IMAGE_LEFT);\n        }\n        else {\n            addClass([selectNode], classes.CLASS_IMAGE_LEFT);\n        }\n        this.callBack(e);\n    };\n    ImageCommand.prototype.imageJustifyCenter = function (e) {\n        var selectNode = e.item.selectNode[0];\n        selectNode.removeAttribute('class');\n        addClass([selectNode], 'e-rte-image');\n        if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n            addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_CENTER);\n        }\n        if (selectNode.parentElement.nodeName === 'A') {\n            removeClass([selectNode.parentElement], classes.CLASS_IMAGE_LEFT);\n            removeClass([selectNode.parentElement], classes.CLASS_IMAGE_RIGHT);\n            addClass([selectNode.parentElement], classes.CLASS_IMAGE_CENTER);\n            addClass([selectNode], classes.CLASS_IMAGE_CENTER);\n        }\n        else {\n            addClass([selectNode], classes.CLASS_IMAGE_CENTER);\n        }\n        this.callBack(e);\n    };\n    ImageCommand.prototype.imageJustifyRight = function (e) {\n        var selectNode = e.item.selectNode[0];\n        selectNode.removeAttribute('class');\n        addClass([selectNode], 'e-rte-image');\n        if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n            addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n        }\n        if (selectNode.parentElement.nodeName === 'A') {\n            removeClass([selectNode.parentElement], classes.CLASS_IMAGE_LEFT);\n            addClass([selectNode.parentElement], classes.CLASS_IMAGE_RIGHT);\n        }\n        else {\n            addClass([selectNode], classes.CLASS_IMAGE_RIGHT);\n        }\n        this.callBack(e);\n    };\n    ImageCommand.prototype.imageInline = function (e) {\n        var selectNode = e.item.selectNode[0];\n        selectNode.removeAttribute('class');\n        addClass([selectNode], 'e-rte-image');\n        addClass([selectNode], classes.CLASS_IMAGE_INLINE);\n        if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_BREAK);\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_CENTER);\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n            addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_CAPTION_INLINE);\n        }\n        this.callBack(e);\n    };\n    ImageCommand.prototype.imageBreak = function (e) {\n        var selectNode = e.item.selectNode[0];\n        selectNode.removeAttribute('class');\n        addClass([selectNode], classes.CLASS_IMAGE_BREAK);\n        addClass([selectNode], 'e-rte-image');\n        if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_CAPTION_INLINE);\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_CENTER);\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n            addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_BREAK);\n        }\n        this.callBack(e);\n    };\n    ImageCommand.prototype.callBack = function (e) {\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    return ImageCommand;\n}());\nexport { ImageCommand };\n","import { createElement, closest, detach, Browser, isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport * as CONSTANT from './../base/constant';\nimport { InsertHtml } from './inserthtml';\n/**\n * Link internal component\n * @hidden\n\n */\nvar TableCommand = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     * @hidden\n\n     */\n    function TableCommand(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    TableCommand.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.TABLE, this.createTable, this);\n        this.parent.observer.on(CONSTANT.INSERT_ROW, this.insertRow, this);\n        this.parent.observer.on(CONSTANT.INSERT_COLUMN, this.insertColumn, this);\n        this.parent.observer.on(CONSTANT.DELETEROW, this.deleteRow, this);\n        this.parent.observer.on(CONSTANT.DELETECOLUMN, this.deleteColumn, this);\n        this.parent.observer.on(CONSTANT.REMOVETABLE, this.removeTable, this);\n        this.parent.observer.on(CONSTANT.TABLEHEADER, this.tableHeader, this);\n        this.parent.observer.on(CONSTANT.TABLE_VERTICAL_ALIGN, this.tableVerticalAlign, this);\n    };\n    TableCommand.prototype.createTable = function (e) {\n        var table = createElement('table', { className: 'e-rte-table' });\n        var tblBody = createElement('tbody');\n        if (!isNOU(e.item.width.width)) {\n            table.style.width = this.calculateStyleValue(e.item.width.width);\n        }\n        if (!isNOU(e.item.width.minWidth)) {\n            table.style.minWidth = this.calculateStyleValue(e.item.width.minWidth);\n        }\n        if (!isNOU(e.item.width.maxWidth)) {\n            table.style.maxWidth = this.calculateStyleValue(e.item.width.maxWidth);\n        }\n        var tdWid = parseInt(e.item.width.width, 10) / e.item.columns;\n        for (var i = 0; i < e.item.row; i++) {\n            var row = createElement('tr');\n            for (var j = 0; j < e.item.columns; j++) {\n                var cell = createElement('td');\n                cell.appendChild(createElement('br'));\n                cell.style.width = tdWid + '%';\n                row.appendChild(cell);\n            }\n            tblBody.appendChild(row);\n        }\n        table.appendChild(tblBody);\n        e.item.selection.restore();\n        InsertHtml.Insert(this.parent.currentDocument, table, this.parent.editableElement);\n        this.removeEmptyNode();\n        e.item.selection.setSelectionText(this.parent.currentDocument, table.querySelector('td'), table.querySelector('td'), 0, 0);\n        table.querySelector('td').classList.add('e-cell-select');\n        if (e.callBack) {\n            e.callBack({\n                requestType: 'Table',\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: [table]\n            });\n        }\n        return table;\n    };\n    TableCommand.prototype.calculateStyleValue = function (value) {\n        var styleValue;\n        if (typeof (value) === 'string') {\n            if (value.indexOf('px') || value.indexOf('%') || value.indexOf('auto')) {\n                styleValue = value;\n            }\n            else {\n                styleValue = value + 'px';\n            }\n        }\n        else {\n            styleValue = value + 'px';\n        }\n        return styleValue;\n    };\n    TableCommand.prototype.removeEmptyNode = function () {\n        var emptyUl = this.parent.editableElement.querySelectorAll('ul:empty, ol:empty');\n        for (var i = 0; i < emptyUl.length; i++) {\n            detach(emptyUl[i]);\n        }\n        var emptyLiChild = this.parent.editableElement.querySelectorAll('li *:empty');\n        for (var i = 0; i < emptyLiChild.length; i++) {\n            detach(emptyLiChild[i]);\n            if (emptyLiChild.length === i + 1) {\n                emptyLiChild = this.parent.editableElement.querySelectorAll('li *:empty');\n                i = -1;\n            }\n        }\n        var emptyLi = this.parent.editableElement.querySelectorAll('li:empty');\n        for (var i = 0; i < emptyLi.length; i++) {\n            detach(emptyLi[i]);\n        }\n    };\n    TableCommand.prototype.insertAfter = function (newNode, referenceNode) {\n        referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n    };\n    TableCommand.prototype.insertRow = function (e) {\n        var selectedCell = e.item.selection.range.startContainer;\n        selectedCell = (selectedCell.nodeType === 3) ? selectedCell.parentNode : selectedCell;\n        if (selectedCell.nodeName.toLowerCase() === 'th' && e.item.subCommand === 'InsertRowBefore') {\n            return;\n        }\n        var curRow = closest(selectedCell, 'tr');\n        var newRow;\n        if (selectedCell.nodeName.toLowerCase() !== 'th') {\n            newRow = closest(selectedCell, 'tr').cloneNode(true);\n            var tabCell = Array.prototype.slice.call(newRow.querySelectorAll('td'));\n            Array.prototype.forEach.call(tabCell, function (cell) {\n                cell.innerHTML = '';\n                cell.appendChild(createElement('br'));\n                cell.removeAttribute('class');\n            });\n        }\n        else {\n            var childNodes = curRow.childNodes;\n            newRow = createElement('tr');\n            for (var i = 0; i < childNodes.length; i++) {\n                var tdElement = createElement('td');\n                tdElement.appendChild(createElement('br'));\n                newRow.appendChild(tdElement);\n            }\n        }\n        (e.item.subCommand === 'InsertRowBefore') ?\n            curRow.parentElement.insertBefore(newRow, curRow) : this.insertAfter(newRow, curRow);\n        e.item.selection.setSelectionText(this.parent.currentDocument, e.item.selection.range.startContainer, e.item.selection.range.startContainer, 0, 0);\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    TableCommand.prototype.insertColumn = function (e) {\n        var selectedCell = e.item.selection.range.startContainer;\n        selectedCell = (selectedCell.nodeType === 3) ? selectedCell.parentNode : selectedCell;\n        selectedCell = (selectedCell.nodeName !== 'TD') ? closest(selectedCell, 'td,th') : selectedCell;\n        var curRow = closest(selectedCell, 'tr');\n        var curCell;\n        var allRows = closest((curRow), 'table').rows;\n        var colIndex = Array.prototype.slice.call(curRow.querySelectorAll('th,td')).indexOf(selectedCell);\n        var width = parseInt(e.item.width, 10) / (curRow.querySelectorAll('td,th').length + 1);\n        for (var j = 0; j < closest(curRow, 'table').querySelectorAll('th,td').length; j++) {\n            closest(curRow, 'table').querySelectorAll('th,td')[j].style.width = width + '%';\n        }\n        for (var i = 0; i < allRows.length; i++) {\n            curCell = allRows[i].querySelectorAll('th,td')[colIndex];\n            var colTemplate = curCell.cloneNode(true);\n            colTemplate.innerHTML = '';\n            colTemplate.appendChild(createElement('br'));\n            colTemplate.removeAttribute('class');\n            (e.item.subCommand === 'InsertColumnLeft') ? curCell.parentElement.insertBefore(colTemplate, curCell) :\n                this.insertAfter(colTemplate, curCell);\n        }\n        e.item.selection.setSelectionText(this.parent.currentDocument, selectedCell, selectedCell, 0, 0);\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    TableCommand.prototype.deleteColumn = function (e) {\n        var selectedCell = e.item.selection.range.startContainer;\n        selectedCell = (selectedCell.nodeType === 3) ? selectedCell.parentNode : selectedCell;\n        var selectedCellIndex = selectedCell.cellIndex;\n        var parentTable = closest(selectedCell, 'table');\n        var curRow = closest(selectedCell, 'tr');\n        var allRows = closest(curRow, 'table').rows;\n        if (curRow.querySelectorAll('th,td').length === 1) {\n            e.item.selection.restore();\n            detach(closest(selectedCell.parentElement, 'table'));\n        }\n        else {\n            for (var i = 0; i < allRows.length; i++) {\n                allRows[i].deleteCell(selectedCellIndex);\n                if (Browser.isIE) {\n                    e.item.selection.setSelectionText(this.parent.currentDocument, parentTable.querySelector('td'), parentTable.querySelector('td'), 0, 0);\n                    parentTable.querySelector('td, th').classList.add('e-cell-select');\n                }\n            }\n        }\n        if (e.callBack) {\n            var sContainer = this.parent.nodeSelection.getRange(this.parent.currentDocument).startContainer;\n            if (sContainer.nodeName !== 'TD') {\n                var startChildLength = this.parent.nodeSelection.getRange(this.parent.currentDocument).startOffset;\n                var focusNode = sContainer.children[startChildLength];\n                this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, focusNode, 0);\n            }\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    TableCommand.prototype.deleteRow = function (e) {\n        var selectedCell = e.item.selection.range.startContainer;\n        selectedCell = (selectedCell.nodeType === 3) ? selectedCell.parentNode : selectedCell;\n        var selectedRowIndex = selectedCell.parentNode.rowIndex;\n        var parentTable = closest(selectedCell, 'table');\n        if (parentTable.rows.length === 1) {\n            e.item.selection.restore();\n            detach(closest(selectedCell.parentElement, 'table'));\n        }\n        else {\n            if (selectedCell.tagName === 'TH') {\n                detach(parentTable.querySelector('thead'));\n            }\n            else {\n                parentTable.deleteRow(selectedRowIndex);\n            }\n            e.item.selection.setSelectionText(this.parent.currentDocument, parentTable.querySelector('td'), parentTable.querySelector('td'), 0, 0);\n            parentTable.querySelector('td, th').classList.add('e-cell-select');\n        }\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    TableCommand.prototype.removeTable = function (e) {\n        var selectedCell = e.item.selection.range.startContainer;\n        selectedCell = (selectedCell.nodeType === 3) ? selectedCell.parentNode : selectedCell;\n        var seletedTable = closest(selectedCell.parentElement, 'table');\n        if (seletedTable) {\n            e.item.selection.restore();\n            detach(seletedTable);\n        }\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    TableCommand.prototype.tableHeader = function (e) {\n        var headerExit = false;\n        var selectedCell = e.item.selection.range.startContainer;\n        selectedCell = (selectedCell.nodeType === 3) ? selectedCell.parentNode : selectedCell;\n        var table = closest(selectedCell.parentElement, 'table');\n        [].slice.call(table.childNodes).forEach(function (el) {\n            if (el.nodeName === 'THEAD') {\n                headerExit = true;\n            }\n        });\n        if (table && !headerExit) {\n            var cellCount = table.querySelector('tr').childElementCount;\n            var header = table.createTHead();\n            var row = header.insertRow(0);\n            for (var i = 0; i < cellCount; i++) {\n                var th = createElement('th');\n                th.appendChild(createElement('br'));\n                row.appendChild(th);\n            }\n        }\n        else {\n            table.deleteTHead();\n        }\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    TableCommand.prototype.tableVerticalAlign = function (e) {\n        if (e.item.subCommand === 'AlignTop') {\n            e.item.tableCell.style.verticalAlign = 'top';\n        }\n        else if (e.item.subCommand === 'AlignMiddle') {\n            e.item.tableCell.style.verticalAlign = 'middle';\n        }\n        else {\n            e.item.tableCell.style.verticalAlign = 'bottom';\n        }\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    return TableCommand;\n}());\nexport { TableCommand };\n","/**\n * Is formatted or not.\n * @hidden\n\n */\nvar IsFormatted = /** @class */ (function () {\n    function IsFormatted() {\n    }\n    /**\n     * getFormattedNode method\n     * @hidden\n\n     */\n    IsFormatted.prototype.getFormattedNode = function (node, format, endNode) {\n        var parentNode = this.getFormatParent(node, format, endNode);\n        if (parentNode !== null && parentNode !== endNode) {\n            return parentNode;\n        }\n        return null;\n    };\n    IsFormatted.prototype.getFormatParent = function (node, format, endNode) {\n        do {\n            node = node.parentNode;\n        } while (node && (node !== endNode) && !this.isFormattedNode(node, format));\n        return node;\n    };\n    IsFormatted.prototype.isFormattedNode = function (node, format) {\n        switch (format) {\n            case 'bold':\n                return IsFormatted.isBold(node);\n            case 'italic':\n                return IsFormatted.isItalic(node);\n            case 'underline':\n                return IsFormatted.isUnderline(node);\n            case 'strikethrough':\n                return IsFormatted.isStrikethrough(node);\n            case 'superscript':\n                return IsFormatted.isSuperscript(node);\n            case 'subscript':\n                return IsFormatted.isSubscript(node);\n            case 'fontcolor':\n                return this.isFontColor(node);\n            case 'fontname':\n                return this.isFontName(node);\n            case 'fontsize':\n                return this.isFontSize(node);\n            case 'backgroundcolor':\n                return this.isBackgroundColor(node);\n            default:\n                return false;\n        }\n    };\n    /**\n     * isBold method\n     * @hidden\n\n     */\n    IsFormatted.isBold = function (node) {\n        var validTags = ['strong', 'b'];\n        if (validTags.indexOf(node.nodeName.toLowerCase()) !== -1) {\n            return true;\n        }\n        else if (this.inlineTags.indexOf(node.nodeName.toLowerCase()) !== -1 &&\n            node.style && node.style.fontWeight === 'bold') {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * isItalic method\n     * @hidden\n\n     */\n    IsFormatted.isItalic = function (node) {\n        var validTags = ['em', 'i'];\n        if (validTags.indexOf(node.nodeName.toLowerCase()) !== -1) {\n            return true;\n        }\n        else if (this.inlineTags.indexOf(node.nodeName.toLowerCase()) !== -1 &&\n            node.style && node.style.fontStyle === 'italic') {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * isUnderline method\n     * @hidden\n\n     */\n    IsFormatted.isUnderline = function (node) {\n        var validTags = ['u'];\n        if (validTags.indexOf(node.nodeName.toLowerCase()) !== -1) {\n            return true;\n        }\n        else if (this.inlineTags.indexOf(node.nodeName.toLowerCase()) !== -1 &&\n            node.style && node.style.textDecoration === 'underline') {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * isStrikethrough method\n     * @hidden\n\n     */\n    IsFormatted.isStrikethrough = function (node) {\n        var validTags = ['del', 'strike'];\n        if (validTags.indexOf(node.nodeName.toLowerCase()) !== -1) {\n            return true;\n        }\n        else if (this.inlineTags.indexOf(node.nodeName.toLowerCase()) !== -1 &&\n            node.style && node.style.textDecoration === 'line-through') {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * isSuperscript method\n     * @hidden\n\n     */\n    IsFormatted.isSuperscript = function (node) {\n        var validTags = ['sup'];\n        if (validTags.indexOf(node.nodeName.toLowerCase()) !== -1) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * isSubscript method\n     * @hidden\n\n     */\n    IsFormatted.isSubscript = function (node) {\n        var validTags = ['sub'];\n        if (validTags.indexOf(node.nodeName.toLowerCase()) !== -1) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    IsFormatted.prototype.isFontColor = function (node) {\n        var color = node.style && node.style.color;\n        if (IsFormatted.inlineTags.indexOf(node.nodeName.toLowerCase()) !== -1 &&\n            color !== null && color !== '' && color !== undefined) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    IsFormatted.prototype.isBackgroundColor = function (node) {\n        var backColor = node.style && node.style.backgroundColor;\n        if (IsFormatted.inlineTags.indexOf(node.nodeName.toLowerCase()) !== -1 &&\n            backColor !== null && backColor !== '' && backColor !== undefined) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    IsFormatted.prototype.isFontSize = function (node) {\n        var size = node.style && node.style.fontSize;\n        if (IsFormatted.inlineTags.indexOf(node.nodeName.toLowerCase()) !== -1 &&\n            size !== null && size !== '' && size !== undefined) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    IsFormatted.prototype.isFontName = function (node) {\n        var name = node.style && node.style.fontFamily;\n        if (IsFormatted.inlineTags.indexOf(node.nodeName.toLowerCase()) !== -1 &&\n            name !== null && name !== '' && name !== undefined) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    // Get Formatted Node\n    IsFormatted.inlineTags = [\n        'a',\n        'abbr',\n        'acronym',\n        'b',\n        'bdo',\n        'big',\n        'cite',\n        'code',\n        'dfn',\n        'em',\n        'i',\n        'kbd',\n        'label',\n        'q',\n        'samp',\n        'small',\n        'span',\n        'strong',\n        'sub',\n        'sup',\n        'tt',\n        'u',\n        'var'\n    ];\n    return IsFormatted;\n}());\nexport { IsFormatted };\n","/**\n * `Selection` module is used to handle RTE Selections.\n */\nimport { NodeSelection } from './../../selection/index';\nimport { NodeCutter } from './nodecutter';\nimport { InsertMethods } from './insert-methods';\nimport { IsFormatted } from './isformatted';\nimport { isIDevice, setEditFrameFocus } from '../../common/util';\nimport { isNullOrUndefined as isNOU, Browser, closest, detach } from '@syncfusion/ej2-base';\nvar SelectionCommands = /** @class */ (function () {\n    function SelectionCommands() {\n    }\n    /**\n     * applyFormat method\n     * @hidden\n\n     */\n    SelectionCommands.applyFormat = function (docElement, format, endNode, value, selector) {\n        var validFormats = ['bold', 'italic', 'underline', 'strikethrough', 'superscript',\n            'subscript', 'uppercase', 'lowercase', 'fontcolor', 'fontname', 'fontsize', 'backgroundcolor'];\n        if (validFormats.indexOf(format) > -1) {\n            if (format === 'backgroundcolor' && value === '') {\n                value = 'transparent';\n            }\n            var domSelection = new NodeSelection();\n            var nodeCutter = new NodeCutter();\n            var isFormatted = new IsFormatted();\n            var range = domSelection.getRange(docElement);\n            var save = domSelection.save(range, docElement);\n            var nodes = range.collapsed ? domSelection.getSelectionNodeCollection(range) :\n                domSelection.getSelectionNodeCollectionBr(range);\n            var isCollapsed = false;\n            var isFormat = false;\n            var isCursor = false;\n            var isFontStyle = (['fontcolor', 'fontname', 'fontsize', 'backgroundcolor'].indexOf(format) > -1);\n            if (range.collapsed) {\n                if (nodes.length > 0) {\n                    isCollapsed = true;\n                    range = nodeCutter.GetCursorRange(docElement, range, nodes[0]);\n                }\n                else if (range.startContainer.nodeName.toLowerCase() !== 'td') {\n                    var cursorNode = this.insertCursorNode(docElement, domSelection, range, isFormatted, nodeCutter, format, value, endNode);\n                    domSelection.endContainer = domSelection.startContainer = domSelection.getNodeArray(cursorNode, true);\n                    domSelection.endOffset = domSelection.startOffset = 1;\n                }\n            }\n            isCursor = range.collapsed;\n            for (var index = 0; index < nodes.length; index++) {\n                var formatNode = isFormatted.getFormattedNode(nodes[index], format, endNode);\n                if (index === 0 && formatNode === null) {\n                    isFormat = true;\n                }\n                if (formatNode !== null && (!isFormat || isFontStyle)) {\n                    nodes[index] = this.removeFormat(nodes, index, formatNode, isCursor, isFormat, isFontStyle, range, nodeCutter, format, value, domSelection);\n                }\n                else {\n                    nodes[index] = this.insertFormat(docElement, nodes, index, formatNode, isCursor, isFormat, isFontStyle, range, nodeCutter, format, value);\n                }\n                domSelection = this.applySelection(nodes, domSelection, nodeCutter, index, isCollapsed);\n            }\n            if (isIDevice()) {\n                setEditFrameFocus(endNode, selector);\n            }\n            save.restore();\n        }\n    };\n    SelectionCommands.insertCursorNode = function (docElement, domSelection, range, isFormatted, nodeCutter, format, value, endNode) {\n        var cursorNodes = domSelection.getNodeCollection(range);\n        var cursorFormat = (cursorNodes.length > 0) ? isFormatted.getFormattedNode(cursorNodes[0], format, endNode) : null;\n        var cursorNode = null;\n        if (cursorFormat) {\n            cursorNode = cursorNodes[0];\n            InsertMethods.unwrap(cursorFormat);\n        }\n        else {\n            cursorNode = this.getInsertNode(docElement, range, format, value).firstChild;\n        }\n        return cursorNode;\n    };\n    SelectionCommands.removeFormat = function (nodes, index, formatNode, isCursor, isFormat, isFontStyle, range, nodeCutter, format, value, domSelection) {\n        var splitNode = null;\n        if (!(range.startContainer === range.endContainer && range.startOffset === 0\n            && range.endOffset === range.startContainer.length)) {\n            var nodeIndex = [];\n            var cloneNode = nodes[index];\n            do {\n                nodeIndex.push(domSelection.getIndex(cloneNode));\n                cloneNode = cloneNode.parentNode;\n            } while (cloneNode && (cloneNode !== formatNode));\n            if (nodes[index].nodeName !== 'BR') {\n                cloneNode = splitNode = (isCursor && (formatNode.textContent.length - 1) === range.startOffset) ?\n                    nodeCutter.SplitNode(range, formatNode, true)\n                    : nodeCutter.GetSpliceNode(range, formatNode);\n            }\n            if (!isCursor) {\n                while (cloneNode && cloneNode.childNodes.length > 0 && ((nodeIndex.length - 1) >= 0)\n                    && (cloneNode.childNodes.length > nodeIndex[nodeIndex.length - 1])) {\n                    cloneNode = cloneNode.childNodes[nodeIndex[nodeIndex.length - 1]];\n                    nodeIndex.pop();\n                }\n                if (nodes[index].nodeName !== 'BR') {\n                    if (cloneNode.nodeType === 3 && !(isCursor && cloneNode.nodeValue === '')) {\n                        nodes[index] = cloneNode;\n                    }\n                    else {\n                        var divNode = document.createElement('div');\n                        divNode.innerHTML = '&#8203;';\n                        if (cloneNode.nodeType !== 3) {\n                            cloneNode.insertBefore(divNode.firstChild, cloneNode.firstChild);\n                            nodes[index] = cloneNode.firstChild;\n                        }\n                        else {\n                            cloneNode.parentNode.insertBefore(divNode.firstChild, cloneNode);\n                            nodes[index] = cloneNode.previousSibling;\n                            cloneNode.parentNode.removeChild(cloneNode);\n                        }\n                    }\n                }\n            }\n            else {\n                var lastNode = splitNode;\n                for (; lastNode.firstChild !== null && lastNode.firstChild.nodeType !== 3; null) {\n                    lastNode = lastNode.firstChild;\n                }\n                lastNode.innerHTML = '&#8203;';\n                nodes[index] = lastNode.firstChild;\n            }\n        }\n        var fontStyle;\n        if (format === 'backgroundcolor') {\n            fontStyle = formatNode.style.fontSize;\n        }\n        var bgStyle;\n        if (format === 'fontsize') {\n            var bg = closest(nodes[index].parentElement, 'span[style*=' + 'background-color' + ']');\n            if (!isNOU(bg)) {\n                bgStyle = bg.style.backgroundColor;\n            }\n        }\n        var formatNodeStyles = formatNode.getAttribute('style');\n        var formatNodeTagName = formatNode.tagName;\n        var child = InsertMethods.unwrap(formatNode);\n        if (child.length > 0 && isFontStyle) {\n            for (var num = 0; num < child.length; num++) {\n                child[num] = InsertMethods.Wrap(child[num], this.GetFormatNode(format, value, formatNodeTagName, formatNodeStyles));\n            }\n            var currentNodeElem = nodes[index].parentElement;\n            if (!isNOU(fontStyle) && fontStyle !== '') {\n                currentNodeElem.style.fontSize = fontStyle;\n            }\n            if (!isNOU(bgStyle) && bgStyle !== '') {\n                currentNodeElem.style.backgroundColor = bgStyle;\n            }\n            if ((format === 'backgroundcolor' && !isNOU(fontStyle) && fontStyle !== '') &&\n                currentNodeElem.parentElement.innerHTML === currentNodeElem.outerHTML) {\n                var curParentElem = currentNodeElem.parentElement;\n                curParentElem.parentElement.insertBefore(currentNodeElem, curParentElem);\n                detach(curParentElem);\n            }\n            if (format === 'fontsize') {\n                var liElement = nodes[index].parentElement;\n                var parentElement = nodes[index].parentElement;\n                while (!isNOU(parentElement) && parentElement.tagName.toLowerCase() !== 'li') {\n                    parentElement = parentElement.parentElement;\n                    liElement = parentElement;\n                }\n                if (!isNOU(liElement) && liElement.tagName.toLowerCase() === 'li' &&\n                    liElement.textContent.trim() === nodes[index].textContent.trim()) {\n                    liElement.style.fontSize = value;\n                }\n            }\n        }\n        return nodes[index];\n    };\n    SelectionCommands.insertFormat = function (docElement, nodes, index, formatNode, isCursor, isFormat, isFontStyle, range, nodeCutter, format, value) {\n        if (!isCursor) {\n            if ((formatNode === null && isFormat) || isFontStyle) {\n                if (nodes[index].nodeName !== 'BR') {\n                    nodes[index] = nodeCutter.GetSpliceNode(range, nodes[index]);\n                    nodes[index].textContent = nodeCutter.TrimLineBreak(nodes[index].textContent);\n                }\n                if (format === 'uppercase' || format === 'lowercase') {\n                    nodes[index].textContent = (format === 'uppercase') ? nodes[index].textContent.toLocaleUpperCase()\n                        : nodes[index].textContent.toLocaleLowerCase();\n                }\n                else if (!(isFontStyle === true && value === '')) {\n                    var element = this.GetFormatNode(format, value);\n                    if (format === 'fontsize') {\n                        var liElement = nodes[index].parentElement;\n                        var parentElement = nodes[index].parentElement;\n                        while (!isNOU(parentElement) && parentElement.tagName.toLowerCase() !== 'li') {\n                            parentElement = parentElement.parentElement;\n                            liElement = parentElement;\n                        }\n                        if (!isNOU(liElement) && liElement.tagName.toLowerCase() === 'li' &&\n                            liElement.textContent.trim() === nodes[index].textContent.trim()) {\n                            liElement.style.fontSize = value;\n                        }\n                        nodes[index] = this.applyStyles(nodes, index, element);\n                        var bg = closest(nodes[index].parentElement, 'span[style*=' + 'background-color' + ']');\n                        if (!isNOU(bg)) {\n                            nodes[index].parentElement.style.backgroundColor = bg.style.backgroundColor;\n                        }\n                    }\n                    else {\n                        nodes[index] = this.applyStyles(nodes, index, element);\n                    }\n                }\n            }\n            else {\n                nodes[index] = nodeCutter.GetSpliceNode(range, nodes[index]);\n            }\n        }\n        else {\n            if (format !== 'uppercase' && format !== 'lowercase') {\n                var element = this.getInsertNode(docElement, range, format, value);\n                nodes[index] = element.firstChild;\n                nodeCutter.position = 1;\n            }\n            else {\n                nodeCutter.position = range.startOffset;\n            }\n        }\n        return nodes[index];\n    };\n    SelectionCommands.applyStyles = function (nodes, index, element) {\n        nodes[index] = (index === (nodes.length - 1)) || nodes[index].nodeName === 'BR' ?\n            InsertMethods.Wrap(nodes[index], element)\n            : InsertMethods.WrapBefore(nodes[index], element, true);\n        nodes[index] = this.getChildNode(nodes[index], element);\n        return nodes[index];\n    };\n    SelectionCommands.getInsertNode = function (docElement, range, format, value) {\n        var element = this.GetFormatNode(format, value);\n        element.innerHTML = '&#8203;';\n        if (Browser.isIE) {\n            var frag = docElement.createDocumentFragment();\n            frag.appendChild(element);\n            range.insertNode(frag);\n        }\n        else {\n            range.insertNode(element);\n        }\n        return element;\n    };\n    SelectionCommands.getChildNode = function (node, element) {\n        if (node === undefined || node === null) {\n            element.innerHTML = '&#8203;';\n            node = element.firstChild;\n        }\n        return node;\n    };\n    SelectionCommands.applySelection = function (nodes, domSelection, nodeCutter, index, isCollapsed) {\n        if (nodes.length === 1 && !isCollapsed) {\n            domSelection.startContainer = domSelection.getNodeArray(nodes[index], true);\n            domSelection.endContainer = domSelection.startContainer;\n            domSelection.startOffset = 0;\n            domSelection.endOffset = nodes[index].textContent.length;\n        }\n        else if (nodes.length === 1 && isCollapsed) {\n            domSelection.startContainer = domSelection.getNodeArray(nodes[index], true);\n            domSelection.endContainer = domSelection.startContainer;\n            domSelection.startOffset = nodeCutter.position;\n            domSelection.endOffset = nodeCutter.position;\n        }\n        else if (index === 0) {\n            domSelection.startContainer = domSelection.getNodeArray(nodes[index], true);\n            domSelection.startOffset = 0;\n        }\n        else if (index === nodes.length - 1) {\n            domSelection.endContainer = domSelection.getNodeArray(nodes[index], false);\n            domSelection.endOffset = nodes[index].textContent.length;\n        }\n        return domSelection;\n    };\n    SelectionCommands.GetFormatNode = function (format, value, tagName, styles) {\n        var node;\n        switch (format) {\n            case 'bold':\n                return document.createElement('strong');\n            case 'italic':\n                return document.createElement('em');\n            case 'underline':\n                node = document.createElement('span');\n                this.updateStyles(node, tagName, styles);\n                node.style.textDecoration = 'underline';\n                return node;\n            case 'strikethrough':\n                node = document.createElement('span');\n                this.updateStyles(node, tagName, styles);\n                node.style.textDecoration = 'line-through';\n                return node;\n            case 'superscript':\n                return document.createElement('sup');\n            case 'subscript':\n                return document.createElement('sub');\n            case 'fontcolor':\n                node = document.createElement('span');\n                this.updateStyles(node, tagName, styles);\n                node.style.color = value;\n                node.style.textDecoration = 'inherit';\n                return node;\n            case 'fontname':\n                node = document.createElement('span');\n                this.updateStyles(node, tagName, styles);\n                node.style.fontFamily = value;\n                return node;\n            case 'fontsize':\n                node = document.createElement('span');\n                this.updateStyles(node, tagName, styles);\n                node.style.fontSize = value;\n                return node;\n            default:\n                node = document.createElement('span');\n                this.updateStyles(node, tagName, styles);\n                node.style.backgroundColor = value;\n                return node;\n        }\n    };\n    SelectionCommands.updateStyles = function (ele, tag, styles) {\n        if (styles !== null && tag === 'SPAN') {\n            ele.setAttribute('style', styles);\n        }\n    };\n    return SelectionCommands;\n}());\nexport { SelectionCommands };\n","import * as CONSTANT from './../base/constant';\nimport { SelectionCommands } from './selection-commands';\nimport * as EVENTS from './../../common/constant';\n/**\n * Selection EXEC internal component\n * @hidden\n\n */\nvar SelectionBasedExec = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     * @hidden\n\n     */\n    function SelectionBasedExec(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    SelectionBasedExec.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.SELECTION_TYPE, this.applySelection, this);\n        this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.keyDownHandler, this);\n    };\n    SelectionBasedExec.prototype.keyDownHandler = function (e) {\n        var validFormats = ['bold', 'italic', 'underline', 'strikethrough', 'superscript',\n            'subscript', 'uppercase', 'lowercase'];\n        if (e.event.ctrlKey && validFormats.indexOf(e.event.action) > -1) {\n            e.event.preventDefault();\n            SelectionCommands.applyFormat(this.parent.currentDocument, e.event.action, this.parent.editableElement);\n            this.callBack(e, e.event.action);\n        }\n    };\n    SelectionBasedExec.prototype.applySelection = function (e) {\n        SelectionCommands.applyFormat(this.parent.currentDocument, e.subCommand.toLocaleLowerCase(), this.parent.editableElement, e.value, e.selector);\n        this.callBack(e, e.subCommand);\n    };\n    SelectionBasedExec.prototype.callBack = function (event, action) {\n        if (event.callBack) {\n            event.callBack({\n                requestType: action,\n                event: event.event,\n                editorMode: 'HTML',\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    return SelectionBasedExec;\n}());\nexport { SelectionBasedExec };\n","import * as CONSTANT from './../base/constant';\nimport { InsertHtml } from './inserthtml';\n/**\n * Selection EXEC internal component\n * @hidden\n\n */\nvar InsertHtmlExec = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     * @hidden\n\n     */\n    function InsertHtmlExec(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    InsertHtmlExec.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.INSERTHTML_TYPE, this.applyHtml, this);\n    };\n    InsertHtmlExec.prototype.applyHtml = function (e) {\n        InsertHtml.Insert(this.parent.currentDocument, e.value, this.parent.editableElement, true);\n        if (e.subCommand === 'pasteCleanup') {\n            var pastedElements = this.parent.editableElement.querySelectorAll('.pasteContent_RTE');\n            var allPastedElements = [].slice.call(pastedElements);\n            var imgElements = this.parent.editableElement.querySelectorAll('.pasteContent_Img');\n            var allImgElm = [].slice.call(imgElements);\n            e.callBack({\n                requestType: e.subCommand,\n                editorMode: 'HTML',\n                elements: allPastedElements,\n                imgElem: allImgElm\n            });\n        }\n        else {\n            if (e.callBack) {\n                e.callBack({\n                    requestType: e.subCommand,\n                    editorMode: 'HTML',\n                    event: e.event,\n                    range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                    elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n                });\n            }\n        }\n    };\n    return InsertHtmlExec;\n}());\nexport { InsertHtmlExec };\n","/**\n * `Clear Format` module is used to handle Clear Format.\n */\nimport { NodeSelection } from './../../selection/index';\nimport { NodeCutter } from './nodecutter';\nimport { InsertMethods } from './insert-methods';\nimport { IsFormatted } from './isformatted';\nimport { isIDevice, setEditFrameFocus } from '../../common/util';\nvar ClearFormat = /** @class */ (function () {\n    function ClearFormat() {\n    }\n    /**\n     * clear method\n     * @hidden\n\n     */\n    ClearFormat.clear = function (docElement, endNode, selector) {\n        var nodeSelection = new NodeSelection();\n        var nodeCutter = new NodeCutter();\n        var range = nodeSelection.getRange(docElement);\n        var isCollapsed = range.collapsed;\n        var nodes = nodeSelection.getInsertNodeCollection(range);\n        var save = nodeSelection.save(range, docElement);\n        if (!isCollapsed) {\n            var preNode = nodeCutter.GetSpliceNode(range, nodes[0]);\n            if (nodes.length === 1) {\n                nodeSelection.setSelectionContents(docElement, preNode);\n                range = nodeSelection.getRange(docElement);\n            }\n            else {\n                var i = 1;\n                var lastText = nodes[nodes.length - i];\n                while (nodes[nodes.length - i].nodeName === 'BR') {\n                    i++;\n                    lastText = nodes[nodes.length - i];\n                }\n                var lasNode = nodeCutter.GetSpliceNode(range, lastText);\n                nodeSelection.setSelectionText(docElement, preNode, lasNode, 0, (lasNode.nodeType === 3) ?\n                    lasNode.textContent.length : lasNode.childNodes.length);\n                range = nodeSelection.getRange(docElement);\n            }\n            var exactNodes = nodeSelection.getNodeCollection(range);\n            var cloneSelectNodes = exactNodes.slice();\n            this.clearInlines(nodeSelection.getSelectionNodes(cloneSelectNodes), cloneSelectNodes, nodeSelection.getRange(docElement), nodeCutter, endNode);\n            this.reSelection(docElement, save, exactNodes);\n            range = nodeSelection.getRange(docElement);\n            exactNodes = nodeSelection.getNodeCollection(range);\n            var cloneParentNodes = exactNodes.slice();\n            this.clearBlocks(docElement, cloneParentNodes, endNode, nodeCutter, nodeSelection);\n            if (isIDevice()) {\n                setEditFrameFocus(endNode, selector);\n            }\n            this.reSelection(docElement, save, exactNodes);\n        }\n    };\n    ClearFormat.reSelection = function (docElement, save, exactNodes) {\n        var selectionNodes = save.getInsertNodes(exactNodes);\n        save.startContainer = save.getNodeArray(selectionNodes[0], true, docElement);\n        save.startOffset = 0;\n        save.endContainer = save.getNodeArray(selectionNodes[selectionNodes.length - 1], false, docElement);\n        var endIndexNode = selectionNodes[selectionNodes.length - 1];\n        save.endOffset = (endIndexNode.nodeType === 3) ? endIndexNode.textContent.length\n            : endIndexNode.childNodes.length;\n        save.restore();\n    };\n    ClearFormat.clearBlocks = function (docElement, nodes, endNode, nodeCutter, nodeSelection) {\n        var parentNodes = [];\n        for (var index = 0; index < nodes.length; index++) {\n            if (this.BLOCK_TAGS.indexOf(nodes[index].nodeName.toLocaleLowerCase()) > -1\n                && parentNodes.indexOf(nodes[index]) === -1) {\n                parentNodes.push(nodes[index]);\n            }\n            else if ((this.BLOCK_TAGS.indexOf(nodes[index].parentNode.nodeName.toLocaleLowerCase()) > -1)\n                && parentNodes.indexOf(nodes[index].parentNode) === -1\n                && endNode !== nodes[index].parentNode) {\n                parentNodes.push(nodes[index].parentNode);\n            }\n        }\n        parentNodes = this.spliceParent(parentNodes, nodes)[0];\n        parentNodes = this.removeParent(parentNodes);\n        this.unWrap(docElement, parentNodes, nodeCutter, nodeSelection);\n    };\n    ClearFormat.spliceParent = function (parentNodes, nodes) {\n        for (var index1 = 0; index1 < parentNodes.length; index1++) {\n            var len = parentNodes[index1].childNodes.length;\n            for (var index2 = 0; index2 < len; index2++) {\n                if ((nodes.indexOf(parentNodes[index1].childNodes[index2]) > 0)\n                    && (parentNodes[index1].childNodes[index2].childNodes.length > 0)) {\n                    nodes = this.spliceParent([parentNodes[index1].childNodes[index2]], nodes)[1];\n                }\n                if ((nodes.indexOf(parentNodes[index1].childNodes[index2]) <= -1) &&\n                    (parentNodes[index1].childNodes[index2].textContent.trim() !== '')) {\n                    for (var index3 = 0; index3 < len; index3++) {\n                        if (nodes.indexOf(parentNodes[index1].childNodes[index3]) > -1) {\n                            nodes.splice(nodes.indexOf(parentNodes[index1].childNodes[index3]), 1);\n                        }\n                    }\n                    index2 = parentNodes[index1].childNodes.length;\n                    var parentIndex = parentNodes.indexOf(parentNodes[index1].parentNode);\n                    var nodeIndex = nodes.indexOf(parentNodes[index1].parentNode);\n                    if (parentIndex > -1) {\n                        parentNodes.splice(parentIndex, 1);\n                    }\n                    if (nodeIndex > -1) {\n                        nodes.splice(nodeIndex, 1);\n                    }\n                    var elementIndex = nodes.indexOf(parentNodes[index1]);\n                    if (elementIndex > -1) {\n                        nodes.splice(elementIndex, 1);\n                    }\n                    parentNodes.splice(index1, 1);\n                    index1--;\n                }\n            }\n        }\n        return [parentNodes, nodes];\n    };\n    ClearFormat.removeChild = function (parentNodes, parentNode) {\n        var count = parentNode.childNodes.length;\n        if (count > 0) {\n            for (var index = 0; index < count; index++) {\n                if (parentNodes.indexOf(parentNode.childNodes[index]) > -1) {\n                    parentNodes = this.removeChild(parentNodes, parentNode.childNodes[index]);\n                    parentNodes.splice(parentNodes.indexOf(parentNode.childNodes[index]), 1);\n                }\n            }\n        }\n        return parentNodes;\n    };\n    ClearFormat.removeParent = function (parentNodes) {\n        for (var index = 0; index < parentNodes.length; index++) {\n            if (parentNodes.indexOf(parentNodes[index].parentNode) > -1) {\n                parentNodes = this.removeChild(parentNodes, parentNodes[index]);\n                parentNodes.splice(index, 1);\n                index--;\n            }\n        }\n        return parentNodes;\n    };\n    ClearFormat.unWrap = function (docElement, parentNodes, nodeCutter, nodeSelection) {\n        for (var index1 = 0; index1 < parentNodes.length; index1++) {\n            if (this.NONVALID_TAGS.indexOf(parentNodes[index1].nodeName.toLowerCase()) > -1\n                && parentNodes[index1].parentNode\n                && this.NONVALID_PARENT_TAGS.indexOf(parentNodes[index1].parentNode.nodeName.toLowerCase()) > -1) {\n                nodeSelection.setSelectionText(docElement, parentNodes[index1], parentNodes[index1], 0, parentNodes[index1].childNodes.length);\n                InsertMethods.unwrap(nodeCutter.GetSpliceNode(nodeSelection.getRange(docElement), parentNodes[index1].parentNode));\n            }\n            if (parentNodes[index1].nodeName.toLocaleLowerCase() !== 'p') {\n                if (this.NONVALID_PARENT_TAGS.indexOf(parentNodes[index1].nodeName.toLowerCase()) < 0\n                    && parentNodes[index1].parentNode.nodeName.toLocaleLowerCase() !== 'p'\n                    && !((parentNodes[index1].nodeName.toLocaleLowerCase() === 'blockquote'\n                        || parentNodes[index1].nodeName.toLocaleLowerCase() === 'li')\n                        && this.IGNORE_PARENT_TAGS.indexOf(parentNodes[index1].childNodes[0].nodeName.toLocaleLowerCase()) > -1)\n                    && !(parentNodes[index1].childNodes.length === 1\n                        && parentNodes[index1].childNodes[0].nodeName.toLocaleLowerCase() === 'p')) {\n                    InsertMethods.Wrap(parentNodes[index1], docElement.createElement('p'));\n                }\n                var childNodes = InsertMethods.unwrap(parentNodes[index1]);\n                if (childNodes.length === 1\n                    && childNodes[0].parentNode.nodeName.toLocaleLowerCase() === 'p') {\n                    InsertMethods.Wrap(parentNodes[index1], docElement.createElement('p'));\n                    InsertMethods.unwrap(parentNodes[index1]);\n                }\n                for (var index2 = 0; index2 < childNodes.length; index2++) {\n                    if (this.NONVALID_TAGS.indexOf(childNodes[index2].nodeName.toLowerCase()) > -1) {\n                        this.unWrap(docElement, [childNodes[index2]], nodeCutter, nodeSelection);\n                    }\n                    else if (this.BLOCK_TAGS.indexOf(childNodes[index2].nodeName.toLocaleLowerCase()) > -1 &&\n                        childNodes[index2].nodeName.toLocaleLowerCase() !== 'p') {\n                        var blockNodes = this.removeParent([childNodes[index2]]);\n                        this.unWrap(docElement, blockNodes, nodeCutter, nodeSelection);\n                    }\n                    else if (this.BLOCK_TAGS.indexOf(childNodes[index2].nodeName.toLocaleLowerCase()) > -1 &&\n                        childNodes[index2].parentNode.nodeName.toLocaleLowerCase() === childNodes[index2].nodeName.toLocaleLowerCase()) {\n                        InsertMethods.unwrap(childNodes[index2]);\n                    }\n                    else if (this.BLOCK_TAGS.indexOf(childNodes[index2].nodeName.toLocaleLowerCase()) > -1 &&\n                        childNodes[index2].nodeName.toLocaleLowerCase() === 'p') {\n                        InsertMethods.Wrap(childNodes[index2], docElement.createElement('p'));\n                        InsertMethods.unwrap(childNodes[index2]);\n                    }\n                }\n            }\n            else {\n                InsertMethods.Wrap(parentNodes[index1], docElement.createElement('p'));\n                InsertMethods.unwrap(parentNodes[index1]);\n            }\n        }\n    };\n    ClearFormat.clearInlines = function (textNodes, nodes, range, nodeCutter, endNode) {\n        for (var index = 0; index < textNodes.length; index++) {\n            if (textNodes[index].parentNode &&\n                IsFormatted.inlineTags.indexOf(textNodes[index].parentNode.nodeName.toLocaleLowerCase()) > -1) {\n                nodeCutter.GetSpliceNode(range, textNodes[index].parentNode);\n                this.removeInlineParent(textNodes[index].parentNode);\n            }\n        }\n    };\n    ClearFormat.removeInlineParent = function (textNodes) {\n        var nodes = InsertMethods.unwrap(textNodes);\n        for (var index = 0; index < nodes.length; index++) {\n            if (nodes[index].parentNode.childNodes.length === 1\n                && IsFormatted.inlineTags.indexOf(nodes[index].parentNode.nodeName.toLocaleLowerCase()) > -1) {\n                this.removeInlineParent(nodes[index].parentNode);\n            }\n            else if (IsFormatted.inlineTags.indexOf(nodes[index].nodeName.toLocaleLowerCase()) > -1) {\n                this.removeInlineParent(nodes[index]);\n            }\n        }\n    };\n    ClearFormat.BLOCK_TAGS = ['address', 'article', 'aside', 'blockquote',\n        'details', 'dd', 'div', 'dl', 'dt', 'fieldset', 'figcaption', 'figure', 'footer',\n        'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'header', 'hgroup', 'li', 'main', 'nav',\n        'noscript', 'ol', 'p', 'pre', 'section', 'table', 'tbody', 'td', 'tfoot', 'th',\n        'thead', 'tr', 'ul'];\n    ClearFormat.NONVALID_PARENT_TAGS = ['thead', 'tbody', 'ul', 'ol', 'table', 'tfoot', 'tr'];\n    ClearFormat.IGNORE_PARENT_TAGS = ['ul', 'ol', 'table'];\n    ClearFormat.NONVALID_TAGS = ['thead', 'tbody', 'figcaption', 'td', 'tr',\n        'th', 'tfoot', 'figcaption', 'li'];\n    return ClearFormat;\n}());\nexport { ClearFormat };\n","import * as CONSTANT from './../base/constant';\nimport { ClearFormat } from './clearformat';\nimport * as EVENTS from './../../common/constant';\n/**\n * Clear Format EXEC internal component\n * @hidden\n\n */\nvar ClearFormatExec = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     * @hidden\n\n     */\n    function ClearFormatExec(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    ClearFormatExec.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.CLEAR_TYPE, this.applyClear, this);\n        this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.onKeyDown, this);\n    };\n    ClearFormatExec.prototype.onKeyDown = function (e) {\n        switch (e.event.action) {\n            case 'clear-format':\n                this.applyClear({ subCommand: 'ClearFormat', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n        }\n    };\n    ClearFormatExec.prototype.applyClear = function (e) {\n        if (e.subCommand === 'ClearFormat') {\n            ClearFormat.clear(this.parent.currentDocument, this.parent.editableElement, e.selector);\n            if (e.callBack) {\n                e.callBack({\n                    requestType: e.subCommand,\n                    event: e.event,\n                    editorMode: 'HTML',\n                    range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                    elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n                });\n            }\n        }\n    };\n    return ClearFormatExec;\n}());\nexport { ClearFormatExec };\n","import { debounce, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { NodeSelection } from './../../selection/selection';\nimport * as EVENTS from './../../common/constant';\nimport { isIDevice, setEditFrameFocus } from '../../common/util';\n/**\n * `Undo` module is used to handle undo actions.\n */\nvar UndoRedoManager = /** @class */ (function () {\n    function UndoRedoManager(parent, options) {\n        this.undoRedoStack = [];\n        this.parent = parent;\n        this.undoRedoSteps = !isNullOrUndefined(options) ? options.undoRedoSteps : 30;\n        this.undoRedoTimer = !isNullOrUndefined(options) ? options.undoRedoTimer : 300;\n        this.addEventListener();\n    }\n    UndoRedoManager.prototype.addEventListener = function () {\n        var debounceListener = debounce(this.keyUp, this.undoRedoTimer);\n        this.parent.observer.on(EVENTS.KEY_UP_HANDLER, debounceListener, this);\n        this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.keyDown, this);\n        this.parent.observer.on(EVENTS.ACTION, this.onAction, this);\n        this.parent.observer.on(EVENTS.MODEL_CHANGED_PLUGIN, this.onPropertyChanged, this);\n    };\n    UndoRedoManager.prototype.onPropertyChanged = function (props) {\n        for (var _i = 0, _a = Object.keys(props.newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'undoRedoSteps':\n                    this.undoRedoSteps = props.newProp.undoRedoSteps;\n                    break;\n                case 'undoRedoTimer':\n                    this.undoRedoTimer = props.newProp.undoRedoTimer;\n                    break;\n            }\n        }\n    };\n    UndoRedoManager.prototype.removeEventListener = function () {\n        this.parent.observer.off(EVENTS.KEY_UP_HANDLER, this.keyUp);\n        this.parent.observer.off(EVENTS.KEY_DOWN_HANDLER, this.keyDown);\n        this.parent.observer.off(EVENTS.ACTION, this.onAction);\n    };\n    /**\n     * onAction method\n     * @hidden\n\n     */\n    UndoRedoManager.prototype.onAction = function (e) {\n        if (e.subCommand === 'Undo') {\n            this.undo(e);\n        }\n        else {\n            this.redo(e);\n        }\n    };\n    /**\n     * Destroys the ToolBar.\n     * @method destroy\n     * @return {void}\n     * @hidden\n\n     */\n    UndoRedoManager.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    UndoRedoManager.prototype.keyDown = function (e) {\n        var event = e.event;\n        var proxy = this;\n        switch (event.action) {\n            case 'undo':\n                event.preventDefault();\n                proxy.undo(e);\n                break;\n            case 'redo':\n                event.preventDefault();\n                proxy.redo(e);\n                break;\n        }\n    };\n    UndoRedoManager.prototype.keyUp = function (e) {\n        if (e.event.keyCode !== 17 && !e.event.ctrlKey) {\n            this.saveData(e);\n        }\n    };\n    /**\n     * RTE collection stored html format.\n     * @method saveData\n     * @return {void}\n     * @hidden\n\n     */\n    UndoRedoManager.prototype.saveData = function (e) {\n        var range = new NodeSelection().getRange(this.parent.currentDocument);\n        var save = new NodeSelection().save(range, this.parent.currentDocument);\n        var htmlText = this.parent.editableElement.innerHTML;\n        var changEle = { text: htmlText, range: save };\n        if (this.undoRedoStack.length >= this.steps) {\n            this.undoRedoStack = this.undoRedoStack.slice(0, this.steps + 1);\n        }\n        if (this.undoRedoStack.length > 1 && (this.undoRedoStack[this.undoRedoStack.length - 1].range.range.collapsed === range.collapsed)\n            && (this.undoRedoStack[this.undoRedoStack.length - 1].range.startOffset === save.range.startOffset) &&\n            (this.undoRedoStack[this.undoRedoStack.length - 1].range.endOffset === save.range.endOffset) &&\n            (this.undoRedoStack[this.undoRedoStack.length - 1].range.range.startContainer === save.range.startContainer) &&\n            (this.undoRedoStack[this.undoRedoStack.length - 1].text.trim() === changEle.text.trim())) {\n            return;\n        }\n        this.undoRedoStack.push(changEle);\n        this.steps = this.undoRedoStack.length - 1;\n        if (this.steps > this.undoRedoSteps) {\n            this.undoRedoStack.shift();\n            this.steps--;\n        }\n        if (e && e.callBack) {\n            e.callBack();\n        }\n    };\n    /**\n     * Undo the editable text.\n     * @method undo\n     * @return {void}\n     * @hidden\n\n     */\n    UndoRedoManager.prototype.undo = function (e) {\n        if (this.steps > 0) {\n            var range = this.undoRedoStack[this.steps - 1].range;\n            var removedContent = this.undoRedoStack[this.steps - 1].text;\n            this.parent.editableElement.innerHTML = removedContent;\n            this.parent.editableElement.focus();\n            if (isIDevice()) {\n                setEditFrameFocus(this.parent.editableElement, e.selector);\n            }\n            range.restore();\n            this.steps--;\n            if (e.callBack) {\n                e.callBack({\n                    requestType: 'Undo',\n                    editorMode: 'HTML',\n                    range: range,\n                    elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument),\n                    event: e.event\n                });\n            }\n        }\n    };\n    /**\n     * Redo the editable text.\n     * @method redo\n     * @return {void}\n     * @hidden\n\n     */\n    UndoRedoManager.prototype.redo = function (e) {\n        if (this.undoRedoStack[this.steps + 1] != null) {\n            var range = this.undoRedoStack[this.steps + 1].range;\n            this.parent.editableElement.innerHTML = this.undoRedoStack[this.steps + 1].text;\n            this.parent.editableElement.focus();\n            if (isIDevice()) {\n                setEditFrameFocus(this.parent.editableElement, e.selector);\n            }\n            range.restore();\n            this.steps++;\n            if (e.callBack) {\n                e.callBack({\n                    requestType: 'Redo',\n                    editorMode: 'HTML',\n                    range: range,\n                    elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument),\n                    event: e.event\n                });\n            }\n        }\n    };\n    /**\n     * getUndoStatus method\n     * @hidden\n\n     */\n    UndoRedoManager.prototype.getUndoStatus = function () {\n        var status = { undo: false, redo: false };\n        if (this.steps > 0) {\n            status.undo = true;\n        }\n        if (this.undoRedoStack[this.steps + 1] != null) {\n            status.redo = true;\n        }\n        return status;\n    };\n    return UndoRedoManager;\n}());\nexport { UndoRedoManager };\n","import * as EVENTS from '../../common/constant';\nimport { createElement, isNullOrUndefined as isNOU, detach } from '@syncfusion/ej2-base';\n/**\n * PasteCleanup for MsWord content\n * @hidden\n\n */\nvar MsWordPaste = /** @class */ (function () {\n    function MsWordPaste(parent) {\n        this.olData = [\n            'decimal',\n            'lower-alpha',\n            'lower-roman',\n            'upper-alpha',\n            'upper-roman',\n            'lower-greek'\n        ];\n        this.ulData = [\n            'disc',\n            'square',\n            'circle',\n            'disc',\n            'square',\n            'circle'\n        ];\n        this.ignorableNodes = ['A', 'APPLET', 'B', 'BLOCKQUOTE', 'BR',\n            'BUTTON', 'CENTER', 'CODE', 'COL', 'COLGROUP', 'DD', 'DEL', 'DFN', 'DIR', 'DIV',\n            'DL', 'DT', 'EM', 'FIELDSET', 'FONT', 'FORM', 'FRAME', 'FRAMESET', 'H1', 'H2',\n            'H3', 'H4', 'H5', 'H6', 'HR', 'I', 'IMG', 'IFRAME', 'INPUT', 'INS', 'LABEL',\n            'LI', 'OL', 'OPTION', 'P', 'PARAM', 'PRE', 'Q', 'S', 'SELECT', 'SPAN', 'STRIKE',\n            'STRONG', 'SUB', 'SUP', 'TABLE', 'TBODY', 'TD', 'TEXTAREA', 'TFOOT', 'TH',\n            'THEAD', 'TITLE', 'TR', 'TT', 'U', 'UL'];\n        this.blockNode = ['div', 'p', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6',\n            'address', 'blockquote', 'button', 'center', 'dd', 'dir', 'dl', 'dt', 'fieldset',\n            'frameset', 'hr', 'iframe', 'isindex', 'li', 'map', 'menu', 'noframes', 'noscript',\n            'object', 'ol', 'pre', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'ul',\n            'header', 'article', 'nav', 'footer', 'section', 'aside', 'main', 'figure', 'figcaption'];\n        this.removableElements = ['o:p', 'style'];\n        this.listContents = [];\n        this.parent = parent;\n        this.addEventListener();\n    }\n    MsWordPaste.prototype.addEventListener = function () {\n        this.parent.observer.on(EVENTS.MS_WORD_CLEANUP_PLUGIN, this.wordCleanup, this);\n    };\n    MsWordPaste.prototype.wordCleanup = function (e) {\n        var wordPasteStyleConfig = e.allowedStylePropertiesArray;\n        var listNodes = [];\n        var tempHTMLContent = e.args.clipboardData.getData('text/HTML');\n        var rtfData = e.args.clipboardData.getData('text/rtf');\n        var elm = createElement('p');\n        elm.setAttribute('id', 'MSWord-Content');\n        elm.innerHTML = tempHTMLContent;\n        var patern = /class='?Mso|style='[^ ]*\\bmso-/i;\n        var patern2 = /class=\"?Mso|style=\"[^ ]*\\bmso-/i;\n        var patern3 = /(class=\"?Mso|class='?Mso|class=\"?Xl|class='?Xl|class=Xl|style=\"[^\"]*\\bmso-|style='[^']*\\bmso-|w:WordDocument)/gi;\n        if (patern.test(tempHTMLContent) || patern2.test(tempHTMLContent) || patern3.test(tempHTMLContent)) {\n            this.imageConversion(elm, rtfData);\n            tempHTMLContent = tempHTMLContent.replace(/<img[^>]+>/i, '');\n            listNodes = this.cleanUp(elm, listNodes);\n            if (!isNOU(listNodes[0]) && listNodes[0].parentElement.tagName !== 'UL' &&\n                listNodes[0].parentElement.tagName !== 'OL') {\n                this.listConverter(listNodes);\n            }\n            this.styleCorrection(elm, wordPasteStyleConfig);\n            this.removingComments(elm);\n            this.removeUnwantedElements(elm);\n            this.removeEmptyElements(elm);\n            this.breakLineAddition(elm);\n            this.removeClassName(elm);\n            e.callBack(elm.innerHTML);\n        }\n        else {\n            e.callBack(elm.innerHTML);\n        }\n    };\n    MsWordPaste.prototype.imageConversion = function (elm, rtfData) {\n        this.checkVShape(elm);\n        var imgElem = elm.querySelectorAll('img');\n        var imgSrc = [];\n        var base64Src = [];\n        var imgName = [];\n        if (imgElem.length > 0) {\n            for (var i = 0; i < imgElem.length; i++) {\n                imgSrc.push(imgElem[i].getAttribute('src'));\n                imgName.push(imgElem[i].getAttribute('src').split('/')[imgElem[i].getAttribute('src').split('/').length - 1].split('.')[0]);\n            }\n            var hexValue = this.hexConversion(rtfData);\n            for (var i = 0; i < hexValue.length; i++) {\n                base64Src.push(this.convertToBase64(hexValue[i]));\n            }\n            for (var i = 0; i < imgElem.length; i++) {\n                imgElem[i].setAttribute('src', base64Src[i]);\n                imgElem[i].setAttribute('id', 'msWordImg-' + imgName[i]);\n            }\n        }\n    };\n    MsWordPaste.prototype.checkVShape = function (elm) {\n        var allNodes = elm.querySelectorAll('*');\n        for (var i = 0; i < allNodes.length; i++) {\n            switch (allNodes[i].nodeName) {\n                case 'V:SHAPETYPE':\n                    detach(allNodes[i]);\n                    break;\n                case 'V:SHAPE':\n                    if (allNodes[i].firstElementChild.nodeName === 'V:IMAGEDATA') {\n                        var src = allNodes[i].firstElementChild.getAttribute('src');\n                        var imgElement = createElement('img');\n                        imgElement.setAttribute('src', src);\n                        allNodes[i].parentElement.insertBefore(imgElement, allNodes[i]);\n                        detach(allNodes[i]);\n                    }\n                    break;\n            }\n        }\n    };\n    MsWordPaste.prototype.convertToBase64 = function (hexValue) {\n        var base64;\n        var byteArr = this.conHexStringToBytes(hexValue.hex);\n        var base64String = this.conBytesToBase64(byteArr);\n        base64 = hexValue.type ? 'data:' + hexValue.type + ';base64,' + base64String : null;\n        return base64;\n    };\n    MsWordPaste.prototype.conBytesToBase64 = function (byteArr) {\n        var base64Str = '';\n        var base64Char = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n        var byteArrLen = byteArr.length;\n        for (var i = 0; i < byteArrLen; i += 3) {\n            var array3 = byteArr.slice(i, i + 3);\n            var array3length = array3.length;\n            var array4 = [];\n            if (array3length < 3) {\n                for (var j = array3length; j < 3; j++) {\n                    array3[j] = 0;\n                }\n            }\n            array4[0] = (array3[0] & 0xFC) >> 2;\n            array4[1] = ((array3[0] & 0x03) << 4) | (array3[1] >> 4);\n            array4[2] = ((array3[1] & 0x0F) << 2) | ((array3[2] & 0xC0) >> 6);\n            array4[3] = array3[2] & 0x3F;\n            for (var j = 0; j < 4; j++) {\n                if (j <= array3length) {\n                    base64Str += base64Char.charAt(array4[j]);\n                }\n                else {\n                    base64Str += '=';\n                }\n            }\n        }\n        return base64Str;\n    };\n    MsWordPaste.prototype.conHexStringToBytes = function (hex) {\n        var byteArr = [];\n        var byteArrLen = hex.length / 2;\n        for (var i = 0; i < byteArrLen; i++) {\n            byteArr.push(parseInt(hex.substr(i * 2, 2), 16));\n        }\n        return byteArr;\n    };\n    MsWordPaste.prototype.hexConversion = function (rtfData) {\n        var picHead = /\\{\\\\pict[\\s\\S]+?\\\\bliptag\\-?\\d+(\\\\blipupi\\-?\\d+)?(\\{\\\\\\*\\\\blipuid\\s?[\\da-fA-F]+)?[\\s\\}]*?/;\n        var pic = new RegExp('(?:(' + picHead.source + '))([\\\\da-fA-F\\\\s]+)\\\\}', 'g');\n        var fullImg = rtfData.match(pic);\n        var imgType;\n        var result = [];\n        for (var i = 0; i < fullImg.length; i++) {\n            if (picHead.test(fullImg[i])) {\n                if (fullImg[i].indexOf('\\\\pngblip') !== -1) {\n                    imgType = 'image/png';\n                }\n                else if (fullImg[i].indexOf('\\\\jpegblip') !== -1) {\n                    imgType = 'image/jpeg';\n                }\n                else {\n                    continue;\n                }\n                result.push({\n                    hex: imgType ? fullImg[i].replace(picHead, '').replace(/[^\\da-fA-F]/g, '') : null,\n                    type: imgType\n                });\n            }\n        }\n        return result;\n    };\n    MsWordPaste.prototype.removeClassName = function (elm) {\n        var elmWithClass = elm.querySelectorAll('*[class]');\n        for (var i = 0; i < elmWithClass.length; i++) {\n            elmWithClass[i].removeAttribute('class');\n        }\n    };\n    MsWordPaste.prototype.breakLineAddition = function (elm) {\n        var allElements = elm.querySelectorAll('*');\n        for (var i = 0; i < allElements.length; i++) {\n            if (allElements[i].children.length === 0 && allElements[i].innerHTML === '&nbsp;' &&\n                (allElements[i].innerHTML === '&nbsp;' && !allElements[i].closest('li'))) {\n                var detachableElement = this.findDetachElem(allElements[i]);\n                var brElement = createElement('br');\n                if (!isNOU(detachableElement.parentElement)) {\n                    detachableElement.parentElement.insertBefore(brElement, detachableElement);\n                    detach(detachableElement);\n                }\n            }\n        }\n    };\n    MsWordPaste.prototype.findDetachElem = function (element) {\n        var removableElement;\n        if (!isNOU(element.parentElement) &&\n            element.parentElement.textContent.trim() === '' && element.parentElement.tagName !== 'TD') {\n            removableElement = this.findDetachElem(element.parentElement);\n        }\n        else {\n            removableElement = element;\n        }\n        return removableElement;\n    };\n    MsWordPaste.prototype.removeUnwantedElements = function (elm) {\n        var innerElement = elm.innerHTML;\n        for (var i = 0; i < this.removableElements.length; i++) {\n            var regExpStartElem = new RegExp('<' + this.removableElements[i] + '>', 'g');\n            var regExpEndElem = new RegExp('</' + this.removableElements[i] + '>', 'g');\n            innerElement = innerElement.replace(regExpStartElem, '');\n            innerElement = innerElement.replace(regExpEndElem, '');\n        }\n        elm.innerHTML = innerElement;\n        elm.querySelectorAll(':empty');\n    };\n    MsWordPaste.prototype.findDetachEmptyElem = function (element) {\n        var removableElement;\n        if (!isNOU(element.parentElement)) {\n            if (element.parentElement.textContent.trim() === '' &&\n                element.parentElement.getAttribute('id') !== 'MSWord-Content' &&\n                isNOU(element.parentElement.querySelector('img'))) {\n                removableElement = this.findDetachEmptyElem(element.parentElement);\n            }\n            else {\n                removableElement = element;\n            }\n        }\n        else {\n            removableElement = null;\n        }\n        return removableElement;\n    };\n    MsWordPaste.prototype.removeEmptyElements = function (element) {\n        var emptyElements = element.querySelectorAll(':empty');\n        for (var i = 0; i < emptyElements.length; i++) {\n            if (emptyElements[i].tagName !== 'IMG' && emptyElements[i].tagName !== 'BR' &&\n                emptyElements[i].tagName !== 'IFRAME' && emptyElements[i].tagName !== 'TD') {\n                var detachableElement = this.findDetachEmptyElem(emptyElements[i]);\n                if (!isNOU(detachableElement)) {\n                    detach(detachableElement);\n                }\n            }\n        }\n    };\n    MsWordPaste.prototype.styleCorrection = function (elm, wordPasteStyleConfig) {\n        var styleElement = elm.querySelectorAll('style');\n        if (styleElement.length > 0) {\n            var styles = styleElement[0].innerHTML.match(/[\\S ]+\\s+{[\\s\\S]+?}/gi);\n            var styleClassObject_1 = !isNOU(styles) ? this.findStyleObject(styles) : null;\n            var keys = Object.keys(styleClassObject_1);\n            var values = keys.map(function (key) { return styleClassObject_1[key]; });\n            values = this.removeUnwantedStyle(values, wordPasteStyleConfig);\n            this.filterStyles(elm, wordPasteStyleConfig);\n            var resultElem = void 0;\n            for (var i = 0; i < keys.length; i++) {\n                if (keys[i].split('.')[0] === '') {\n                    resultElem = elm.getElementsByClassName(keys[i].split('.')[1]);\n                }\n                else if (keys[i].split('.').length === 1 && keys[i].split('.')[0].indexOf('@') >= 0) {\n                    continue;\n                }\n                else if (keys[i].split('.').length === 1 && keys[i].split('.')[0].indexOf('@') < 0) {\n                    resultElem = elm.getElementsByTagName(keys[i]);\n                }\n                else {\n                    resultElem = elm.querySelectorAll(keys[i]);\n                }\n                for (var j = 0; j < resultElem.length; j++) {\n                    var styleProperty = resultElem[j].getAttribute('style');\n                    if (!isNOU(styleProperty) && styleProperty.trim() !== '') {\n                        var valueSplit = values[i].split(';');\n                        for (var k = 0; k < valueSplit.length; k++) {\n                            if (styleProperty.indexOf(valueSplit[k].split(':')[0]) >= 0) {\n                                valueSplit.splice(k, 1);\n                                k--;\n                            }\n                        }\n                        values[i] = valueSplit.join(';') + ';';\n                        var changedValue = values[i] + styleProperty;\n                        resultElem[j].setAttribute('style', changedValue);\n                    }\n                    else {\n                        resultElem[j].setAttribute('style', values[i]);\n                    }\n                }\n            }\n        }\n    };\n    MsWordPaste.prototype.filterStyles = function (elm, wordPasteStyleConfig) {\n        var elmWithStyles = elm.querySelectorAll('*[style]');\n        for (var i = 0; i < elmWithStyles.length; i++) {\n            var elemStyleProperty = elmWithStyles[i].getAttribute('style').split(';');\n            var styleValue = '';\n            for (var j = 0; j < elemStyleProperty.length; j++) {\n                if (wordPasteStyleConfig.indexOf(elemStyleProperty[j].split(':')[0].trim()) >= 0) {\n                    styleValue += elemStyleProperty[j] + ';';\n                }\n            }\n            elmWithStyles[i].setAttribute('style', styleValue);\n        }\n    };\n    MsWordPaste.prototype.removeUnwantedStyle = function (values, wordPasteStyleConfig) {\n        for (var i = 0; i < values.length; i++) {\n            var styleValues = values[i].split(';');\n            values[i] = '';\n            for (var j = 0; j < styleValues.length; j++) {\n                if (wordPasteStyleConfig.indexOf(styleValues[j].split(':')[0]) >= 0) {\n                    values[i] += styleValues[j] + ';';\n                }\n            }\n        }\n        return values;\n    };\n    MsWordPaste.prototype.findStyleObject = function (styles) {\n        var styleClassObject = {};\n        for (var i = 0; i < styles.length; i++) {\n            var tempStyle = styles[i];\n            var classNameCollection = tempStyle.replace(/([\\S ]+\\s+){[\\s\\S]+?}/gi, '$1');\n            var stylesCollection = tempStyle.replace(/[\\S ]+\\s+{([\\s\\S]+?)}/gi, '$1');\n            classNameCollection = classNameCollection.replace(/^[\\s]|[\\s]$/gm, '');\n            stylesCollection = stylesCollection.replace(/^[\\s]|[\\s]$/gm, '');\n            classNameCollection = classNameCollection.replace(/\\n|\\r|\\n\\r/g, '');\n            stylesCollection = stylesCollection.replace(/\\n|\\r|\\n\\r/g, '');\n            for (var classNames = classNameCollection.split(', '), j = 0; j < classNames.length; j++) {\n                styleClassObject[classNames[j]] = stylesCollection;\n            }\n        }\n        return styleClassObject;\n    };\n    MsWordPaste.prototype.removingComments = function (elm) {\n        var innerElement = elm.innerHTML;\n        innerElement = innerElement.replace(/<!--[\\s\\S]*?-->/g, '');\n        elm.innerHTML = innerElement;\n    };\n    MsWordPaste.prototype.cleanUp = function (node, listNodes) {\n        var temp = '';\n        var tempCleaner = [];\n        var prevflagState;\n        var allNodes = node.querySelectorAll('*');\n        for (var index = 0; index < allNodes.length; index++) {\n            if (this.ignorableNodes.indexOf(allNodes[index].nodeName) === -1 ||\n                (allNodes[index].nodeType === 3 && allNodes[index].textContent.trim() === '')) {\n                tempCleaner.push(allNodes[index]);\n                continue;\n            }\n            else if (allNodes[index].className &&\n                allNodes[index].className.toLowerCase().indexOf('msolistparagraph') !== -1) {\n                listNodes.push(allNodes[index]);\n            }\n            if (prevflagState && (this.blockNode.indexOf(allNodes[index].nodeName.toLowerCase()) !== -1) &&\n                !(allNodes[index].className &&\n                    allNodes[index].className.toLowerCase().indexOf('msolistparagraph') !== -1)) {\n                listNodes.push(null);\n            }\n            if (this.blockNode.indexOf(allNodes[index].nodeName.toLowerCase()) !== -1) {\n                if (allNodes[index].className &&\n                    allNodes[index].className.toLowerCase().indexOf('msolistparagraph') !== -1) {\n                    prevflagState = true;\n                }\n                else {\n                    prevflagState = false;\n                }\n            }\n        }\n        if (listNodes.length && (listNodes[listNodes.length - 1] !== null)) {\n            listNodes.push(null);\n        }\n        return listNodes;\n    };\n    MsWordPaste.prototype.listConverter = function (listNodes) {\n        var level;\n        var data = [];\n        var collection = [];\n        var content = '';\n        var stNode;\n        for (var i = 0; i < listNodes.length; i++) {\n            if (listNodes[i] === null) {\n                data.push({ content: this.makeConversion(collection), node: listNodes[i - 1] });\n                collection = [];\n                continue;\n            }\n            content = listNodes[i].getAttribute('style');\n            if (content && content.indexOf('level') !== -1) {\n                level = parseInt(content.charAt(content.indexOf('level') + 5), null);\n            }\n            else {\n                level = 1;\n            }\n            this.listContents = [];\n            this.getListContent(listNodes[i]);\n            var type = void 0;\n            if (!isNOU(this.listContents[0])) {\n                type = this.listContents[0].trim().length > 1 ? 'ol' : 'ul';\n                var tempNode = [];\n                for (var j = 1; j < this.listContents.length; j++) {\n                    tempNode.push(this.listContents[j]);\n                }\n                collection.push({ listType: type, content: tempNode, nestedLevel: level });\n            }\n        }\n        stNode = listNodes.shift();\n        while (stNode) {\n            var elemColl = [];\n            for (var temp1 = 0; temp1 < data.length; temp1++) {\n                if (data[temp1].node === stNode) {\n                    for (var index = 0; index < data[temp1].content.childNodes.length; index++) {\n                        elemColl.push(data[temp1].content.childNodes[index]);\n                    }\n                    for (var index = 0; index < elemColl.length; index++) {\n                        stNode.parentElement.insertBefore(elemColl[index], stNode);\n                    }\n                    break;\n                }\n            }\n            stNode.remove();\n            stNode = listNodes.shift();\n            if (!stNode) {\n                stNode = listNodes.shift();\n            }\n        }\n    };\n    MsWordPaste.prototype.makeConversion = function (collection) {\n        var root = createElement('div');\n        var temp;\n        var pLevel = 1;\n        var prevList;\n        var listCount = 0;\n        var elem;\n        for (var index = 0; index < collection.length; index++) {\n            var pElement = createElement('p');\n            pElement.innerHTML = collection[index].content.join(' ');\n            if ((collection[index].nestedLevel === 1) && listCount === 0 && collection[index].content) {\n                root.appendChild(temp = createElement(collection[index].listType));\n                prevList = createElement('li');\n                prevList.appendChild(pElement);\n                temp.appendChild(prevList);\n                temp.setAttribute('level', collection[index].nestedLevel.toString());\n                temp.style.listStyle = this.getListStyle(collection[index].listType, collection[index].nestedLevel);\n            }\n            else if (collection[index].nestedLevel === pLevel) {\n                if (prevList.parentElement.tagName.toLowerCase() === collection[index].listType) {\n                    prevList.parentElement.appendChild(prevList = createElement('li'));\n                    prevList.appendChild(pElement);\n                }\n                else {\n                    temp = createElement(collection[index].listType);\n                    prevList.parentElement.parentElement.appendChild(temp);\n                    prevList = createElement('li');\n                    prevList.appendChild(pElement);\n                    temp.appendChild(prevList);\n                    temp.setAttribute('level', collection[index].nestedLevel.toString());\n                }\n            }\n            else if (collection[index].nestedLevel > pLevel) {\n                if (!isNOU(prevList)) {\n                    for (var j = 0; j < collection[index].nestedLevel - pLevel; j++) {\n                        prevList.appendChild(temp = createElement(collection[index].listType));\n                        prevList = createElement('li', { styles: 'list-style-type: none;' });\n                        temp.appendChild(prevList);\n                    }\n                    prevList.appendChild(pElement);\n                    temp.setAttribute('level', collection[index].nestedLevel.toString());\n                    temp.style.listStyle = this.getListStyle(collection[index].listType, collection[index].nestedLevel);\n                    temp.childNodes[0].style.listStyle =\n                        this.getListStyle(collection[index].listType, collection[index].nestedLevel);\n                }\n                else {\n                    root.appendChild(temp = createElement(collection[index].listType));\n                    prevList = createElement('li');\n                    prevList.appendChild(pElement);\n                    temp.appendChild(prevList);\n                    temp.setAttribute('level', collection[index].nestedLevel.toString());\n                    temp.style.listStyle = this.getListStyle(collection[index].listType, collection[index].nestedLevel);\n                }\n            }\n            else if (collection[index].nestedLevel === 1) {\n                if (root.lastChild.tagName.toLowerCase() === collection[index].listType) {\n                    temp = root.lastChild;\n                }\n                else {\n                    root.appendChild(temp = createElement(collection[index].listType));\n                }\n                prevList = createElement('li');\n                prevList.appendChild(pElement);\n                temp.appendChild(prevList);\n                temp.setAttribute('level', collection[index].nestedLevel.toString());\n                temp.style.listStyle = this.getListStyle(collection[index].listType, collection[index].nestedLevel);\n            }\n            else {\n                elem = prevList;\n                while (elem.parentElement) {\n                    elem = elem.parentElement;\n                    if (elem.attributes.getNamedItem('level')) {\n                        if (parseInt(elem.attributes.getNamedItem('level').textContent, null) === collection[index].nestedLevel) {\n                            prevList = createElement('li');\n                            prevList.appendChild(pElement);\n                            elem.appendChild(prevList);\n                            break;\n                        }\n                        else if (collection[index].nestedLevel > parseInt(elem.attributes.getNamedItem('level').textContent, null)) {\n                            elem.appendChild(temp = createElement(collection[index].listType));\n                            prevList = createElement('li');\n                            prevList.appendChild(pElement);\n                            temp.appendChild(prevList);\n                            temp.setAttribute('level', collection[index].nestedLevel.toString());\n                            temp.style.listStyle = this.getListStyle(collection[index].listType, collection[index].nestedLevel);\n                            break;\n                        }\n                    }\n                    continue;\n                }\n            }\n            pLevel = collection[index].nestedLevel;\n            listCount++;\n        }\n        return root;\n    };\n    MsWordPaste.prototype.getListStyle = function (listType, nestedLevel) {\n        nestedLevel = (nestedLevel > 0) ? nestedLevel - 1 : nestedLevel;\n        if (listType === 'ol') {\n            return (nestedLevel < this.olData.length ? this.olData[nestedLevel] : this.olData[0]);\n        }\n        else {\n            return (nestedLevel < this.ulData.length ? this.ulData[nestedLevel] : this.ulData[0]);\n        }\n    };\n    MsWordPaste.prototype.getListContent = function (elem) {\n        var pushContent = '';\n        if (elem.firstElementChild.textContent.trim() === '' &&\n            !isNOU(elem.firstElementChild.firstElementChild) &&\n            elem.firstElementChild.firstElementChild.nodeName === 'IMG') {\n            pushContent = elem.innerHTML.trim();\n            this.listContents.push('');\n            this.listContents.push(pushContent);\n        }\n        else {\n            pushContent = elem.firstElementChild.textContent.trim();\n            this.listContents.push(pushContent);\n        }\n        detach(elem.firstElementChild);\n        this.listContents.push(elem.innerHTML);\n    };\n    return MsWordPaste;\n}());\nexport { MsWordPaste };\n","import * as CONSTANT from '../base/constant';\nimport { InsertHtml } from './inserthtml';\n/**\n * Insert a Text Node or Text\n * @hidden\n\n */\nvar InsertTextExec = /** @class */ (function () {\n    /**\n     * Constructor for creating the InsertText plugin\n     * @hidden\n\n     */\n    function InsertTextExec(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    InsertTextExec.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.INSERT_TEXT_TYPE, this.insertText, this);\n    };\n    InsertTextExec.prototype.insertText = function (e) {\n        var node = document.createTextNode(e.value);\n        InsertHtml.Insert(this.parent.currentDocument, node);\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    return InsertTextExec;\n}());\nexport { InsertTextExec };\n","import { Observer } from '@syncfusion/ej2-base';\nimport * as CONSTANT from './constant';\nimport { Lists } from './../plugin/lists';\nimport { NodeSelection } from './../../selection/index';\nimport { DOMNode } from './../plugin/dom-node';\nimport { Formats } from './../plugin/formats';\nimport { LinkCommand } from './../plugin/link';\nimport { Alignments } from './../plugin/alignments';\nimport { Indents } from './../plugin/indents';\nimport { ImageCommand } from './../plugin/image';\nimport { TableCommand } from './../plugin/table';\nimport { SelectionBasedExec } from './../plugin/selection-exec';\nimport { InsertHtmlExec } from './../plugin/inserthtml-exec';\nimport { ClearFormatExec } from './../plugin/clearformat-exec';\nimport { UndoRedoManager } from './../plugin/undo';\nimport { MsWordPaste } from '../plugin/ms-word-clean-up';\nimport * as EVENTS from './../../common/constant';\nimport { InsertTextExec } from '../plugin/insert-text';\n/**\n * EditorManager internal component\n * @hidden\n\n */\nvar EditorManager = /** @class */ (function () {\n    /**\n     * Constructor for creating the component\n     * @hidden\n\n     */\n    function EditorManager(options) {\n        this.currentDocument = options.document;\n        this.editableElement = options.editableElement;\n        this.nodeSelection = new NodeSelection();\n        this.domNode = new DOMNode(this.editableElement, this.currentDocument);\n        this.observer = new Observer(this);\n        this.listObj = new Lists(this);\n        this.formatObj = new Formats(this);\n        this.alignmentObj = new Alignments(this);\n        this.indentsObj = new Indents(this);\n        this.linkObj = new LinkCommand(this);\n        this.imgObj = new ImageCommand(this);\n        this.selectionObj = new SelectionBasedExec(this);\n        this.inserthtmlObj = new InsertHtmlExec(this);\n        this.insertTextObj = new InsertTextExec(this);\n        this.clearObj = new ClearFormatExec(this);\n        this.tableObj = new TableCommand(this);\n        this.undoRedoManager = new UndoRedoManager(this, options.options);\n        this.msWordPaste = new MsWordPaste(this);\n        this.wireEvents();\n    }\n    EditorManager.prototype.wireEvents = function () {\n        this.observer.on(EVENTS.KEY_DOWN, this.editorKeyDown, this);\n        this.observer.on(EVENTS.KEY_UP, this.editorKeyUp, this);\n        this.observer.on(EVENTS.KEY_UP, this.editorKeyUp, this);\n        this.observer.on(EVENTS.MODEL_CHANGED, this.onPropertyChanged, this);\n        this.observer.on(EVENTS.MS_WORD_CLEANUP, this.onWordPaste, this);\n    };\n    EditorManager.prototype.onWordPaste = function (e) {\n        this.observer.notify(EVENTS.MS_WORD_CLEANUP_PLUGIN, e);\n    };\n    EditorManager.prototype.onPropertyChanged = function (props) {\n        this.observer.notify(EVENTS.MODEL_CHANGED_PLUGIN, props);\n    };\n    EditorManager.prototype.editorKeyDown = function (e) {\n        this.observer.notify(EVENTS.KEY_DOWN_HANDLER, e);\n    };\n    EditorManager.prototype.editorKeyUp = function (e) {\n        this.observer.notify(EVENTS.KEY_UP_HANDLER, e);\n    };\n    /**\n     * execCommand\n     * @hidden\n\n     */\n    EditorManager.prototype.execCommand = function (command, value, event, callBack, text, exeValue, selector) {\n        switch (command.toLocaleLowerCase()) {\n            case 'lists':\n                this.observer.notify(EVENTS.LIST_TYPE, { subCommand: value, event: event, callBack: callBack, selector: selector });\n                break;\n            case 'formats':\n                this.observer.notify(EVENTS.FORMAT_TYPE, { subCommand: value, event: event, callBack: callBack,\n                    selector: selector, exeValue: exeValue\n                });\n                break;\n            case 'alignments':\n                this.observer.notify(CONSTANT.ALIGNMENT_TYPE, {\n                    subCommand: value, event: event, callBack: callBack,\n                    selector: selector,\n                    value: exeValue\n                });\n                break;\n            case 'indents':\n                this.observer.notify(CONSTANT.INDENT_TYPE, { subCommand: value, event: event, callBack: callBack, selector: selector });\n                break;\n            case 'links':\n                this.observer.notify(CONSTANT.LINK, { command: command, value: value, item: exeValue, event: event, callBack: callBack });\n                break;\n            case 'images':\n                this.observer.notify(CONSTANT.IMAGE, {\n                    command: command, value: value, item: exeValue, event: event, callBack: callBack, selector: selector\n                });\n                break;\n            case 'table':\n                switch (value.toString().toLocaleLowerCase()) {\n                    case 'createtable':\n                        this.observer.notify(CONSTANT.TABLE, { item: exeValue, event: event, callBack: callBack });\n                        break;\n                    case 'insertrowbefore':\n                    case 'insertrowafter':\n                        this.observer.notify(CONSTANT.INSERT_ROW, { item: exeValue, event: event, callBack: callBack });\n                        break;\n                    case 'insertcolumnleft':\n                    case 'insertcolumnright':\n                        this.observer.notify(CONSTANT.INSERT_COLUMN, { item: exeValue, event: event, callBack: callBack });\n                        break;\n                    case 'deleterow':\n                        this.observer.notify(CONSTANT.DELETEROW, { item: exeValue, event: event, callBack: callBack });\n                        break;\n                    case 'deletecolumn':\n                        this.observer.notify(CONSTANT.DELETECOLUMN, { item: exeValue, event: event, callBack: callBack });\n                        break;\n                    case 'tableremove':\n                        this.observer.notify(CONSTANT.REMOVETABLE, { item: exeValue, event: event, callBack: callBack });\n                        break;\n                    case 'tableheader':\n                        this.observer.notify(CONSTANT.TABLEHEADER, { item: exeValue, event: event, callBack: callBack });\n                        break;\n                    case 'aligntop':\n                    case 'alignmiddle':\n                    case 'alignbottom':\n                        this.observer.notify(CONSTANT.TABLE_VERTICAL_ALIGN, { item: exeValue, event: event, callBack: callBack });\n                        break;\n                }\n                break;\n            case 'font':\n            case 'style':\n            case 'effects':\n            case 'casing':\n                this.observer.notify(CONSTANT.SELECTION_TYPE, { subCommand: value, event: event, callBack: callBack, value: text, selector: selector });\n                break;\n            case 'inserthtml':\n                this.observer.notify(CONSTANT.INSERTHTML_TYPE, { subCommand: value, callBack: callBack, value: text });\n                break;\n            case 'inserttext':\n                this.observer.notify(CONSTANT.INSERT_TEXT_TYPE, { subCommand: value, callBack: callBack, value: text });\n                break;\n            case 'clear':\n                this.observer.notify(CONSTANT.CLEAR_TYPE, { subCommand: value, event: event, callBack: callBack, selector: selector });\n                break;\n            case 'actions':\n                this.observer.notify(EVENTS.ACTION, { subCommand: value, event: event, callBack: callBack, selector: selector });\n                break;\n        }\n    };\n    return EditorManager;\n}());\nexport { EditorManager };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Formatter } from './formatter';\nimport { EditorManager } from './../../editor-manager/base/editor-manager';\nimport { extend } from '@syncfusion/ej2-base';\nimport { htmlKeyConfig } from './../../common/config';\n/**\n * HTML adapter\n * @hidden\n\n */\nvar HTMLFormatter = /** @class */ (function (_super) {\n    __extends(HTMLFormatter, _super);\n    function HTMLFormatter(options) {\n        var _this = _super.call(this) || this;\n        _this.initialize();\n        extend(_this, _this, options, true);\n        if (_this.currentDocument && _this.element) {\n            _this.updateFormatter(_this.element, _this.currentDocument, options.options);\n        }\n        return _this;\n    }\n    HTMLFormatter.prototype.initialize = function () {\n        this.keyConfig = htmlKeyConfig;\n    };\n    /**\n     * Update the formatter of RichTextEditor\n     * @param  {Element} editElement\n     * @param  {Document} doc\n     * @hidden\n\n     */\n    HTMLFormatter.prototype.updateFormatter = function (editElement, doc, options) {\n        if (editElement && doc) {\n            this.editorManager = new EditorManager({\n                document: doc,\n                editableElement: editElement,\n                options: options\n            });\n        }\n    };\n    return HTMLFormatter;\n}(Formatter));\nexport { HTMLFormatter };\n","import { IsFormatted } from './isformatted';\nimport * as CONSTANT from './../base/constant';\nimport { NodeSelection } from './../../selection/index';\n/**\n * Update Toolbar Status\n * @hidden\n\n */\nexport var statusCollection = {\n    bold: false,\n    italic: false,\n    subscript: false,\n    superscript: false,\n    strikethrough: false,\n    orderedlist: false,\n    unorderedlist: false,\n    underline: false,\n    alignments: null,\n    backgroundcolor: null,\n    fontcolor: null,\n    fontname: null,\n    fontsize: null,\n    formats: null,\n    createlink: false,\n    insertcode: false\n};\nvar ToolbarStatus = /** @class */ (function () {\n    function ToolbarStatus() {\n    }\n    /**\n     * get method\n     * @hidden\n\n     */\n    ToolbarStatus.get = function (docElement, targetNode, formatNode, fontSize, fontName, documentNode) {\n        var formatCollection = JSON.parse(JSON.stringify(statusCollection));\n        var nodeCollection = JSON.parse(JSON.stringify(statusCollection));\n        var nodeSelection = new NodeSelection();\n        var nodes = documentNode ? [documentNode] : nodeSelection.getNodeCollection(nodeSelection.getRange(docElement));\n        var nodesLength = nodes.length;\n        for (var index = 0; index < nodes.length; index++) {\n            if ((nodes[index].nodeName !== 'BR' && nodes[index].nodeType !== 3) ||\n                (nodesLength > 1 && nodes[index].nodeType === 3 && nodes[index].textContent.trim() === '')) {\n                nodes.splice(index, 1);\n                index--;\n            }\n        }\n        for (var index = 0; index < nodes.length; index++) {\n            formatCollection = this.getFormatParent(docElement, formatCollection, nodes[index], targetNode, formatNode, fontSize, fontName);\n            if ((index === 0 && formatCollection.bold) || !formatCollection.bold) {\n                nodeCollection.bold = formatCollection.bold;\n            }\n            if ((index === 0 && formatCollection.insertcode) || !formatCollection.insertcode) {\n                nodeCollection.insertcode = formatCollection.insertcode;\n            }\n            if ((index === 0 && formatCollection.italic) || !formatCollection.italic) {\n                nodeCollection.italic = formatCollection.italic;\n            }\n            if ((index === 0 && formatCollection.underline) || !formatCollection.underline) {\n                nodeCollection.underline = formatCollection.underline;\n            }\n            if ((index === 0 && formatCollection.strikethrough) || !formatCollection.strikethrough) {\n                nodeCollection.strikethrough = formatCollection.strikethrough;\n            }\n            if ((index === 0 && formatCollection.superscript) || !formatCollection.superscript) {\n                nodeCollection.superscript = formatCollection.superscript;\n            }\n            if ((index === 0 && formatCollection.subscript) || !formatCollection.subscript) {\n                nodeCollection.subscript = formatCollection.subscript;\n            }\n            if ((index === 0 && formatCollection.fontcolor) || !formatCollection.fontcolor) {\n                nodeCollection.fontcolor = formatCollection.fontcolor;\n            }\n            if ((index === 0 && formatCollection.fontname) || !formatCollection.fontname) {\n                nodeCollection.fontname = formatCollection.fontname;\n            }\n            if ((index === 0 && formatCollection.fontsize) || !formatCollection.fontsize) {\n                nodeCollection.fontsize = formatCollection.fontsize;\n            }\n            if ((index === 0 && formatCollection.backgroundcolor) || !formatCollection.backgroundcolor) {\n                nodeCollection.backgroundcolor = formatCollection.backgroundcolor;\n            }\n            if ((index === 0 && formatCollection.orderedlist) || !formatCollection.orderedlist) {\n                nodeCollection.orderedlist = formatCollection.orderedlist;\n            }\n            if ((index === 0 && formatCollection.unorderedlist) || !formatCollection.unorderedlist) {\n                nodeCollection.unorderedlist = formatCollection.unorderedlist;\n            }\n            if ((index === 0 && formatCollection.alignments) || !formatCollection.alignments) {\n                nodeCollection.alignments = formatCollection.alignments;\n            }\n            if ((index === 0 && formatCollection.formats) || !formatCollection.formats) {\n                nodeCollection.formats = formatCollection.formats;\n            }\n            if ((index === 0 && formatCollection.createlink) || !formatCollection.createlink) {\n                nodeCollection.createlink = formatCollection.createlink;\n            }\n            formatCollection = JSON.parse(JSON.stringify(statusCollection));\n        }\n        return nodeCollection;\n    };\n    ToolbarStatus.getFormatParent = function (docElement, formatCollection, node, targetNode, formatNode, fontSize, fontName) {\n        if (targetNode.contains(node) ||\n            (node.nodeType === 3 && targetNode.nodeType !== 3 && targetNode.contains(node.parentNode))) {\n            do {\n                formatCollection = this.isFormattedNode(docElement, formatCollection, node, formatNode, fontSize, fontName);\n                node = node.parentNode;\n            } while (node && (node !== targetNode));\n        }\n        return formatCollection;\n    };\n    ToolbarStatus.isFormattedNode = function (docElement, formatCollection, node, formatNode, fontSize, fontName) {\n        if (!formatCollection.bold) {\n            formatCollection.bold = IsFormatted.isBold(node);\n        }\n        if (!formatCollection.italic) {\n            formatCollection.italic = IsFormatted.isItalic(node);\n        }\n        if (!formatCollection.underline) {\n            formatCollection.underline = IsFormatted.isUnderline(node);\n        }\n        if (!formatCollection.strikethrough) {\n            formatCollection.strikethrough = IsFormatted.isStrikethrough(node);\n        }\n        if (!formatCollection.superscript) {\n            formatCollection.superscript = IsFormatted.isSuperscript(node);\n        }\n        if (!formatCollection.subscript) {\n            formatCollection.subscript = IsFormatted.isSubscript(node);\n        }\n        if (!formatCollection.fontcolor) {\n            formatCollection.fontcolor = this.isFontColor(docElement, node);\n        }\n        if (!formatCollection.fontname) {\n            formatCollection.fontname = this.isFontName(docElement, node, fontName);\n        }\n        if (!formatCollection.fontsize) {\n            formatCollection.fontsize = this.isFontSize(node, fontSize);\n        }\n        if (!formatCollection.backgroundcolor) {\n            formatCollection.backgroundcolor = this.isBackgroundColor(node);\n        }\n        if (!formatCollection.orderedlist) {\n            formatCollection.orderedlist = this.isOrderedList(node);\n        }\n        if (!formatCollection.unorderedlist) {\n            formatCollection.unorderedlist = this.isUnorderedList(node);\n        }\n        if (!formatCollection.alignments) {\n            formatCollection.alignments = this.isAlignment(node);\n        }\n        if (!formatCollection.formats) {\n            formatCollection.formats = this.isFormats(node, formatNode);\n            if (formatCollection.formats === 'pre') {\n                formatCollection.insertcode = true;\n            }\n        }\n        if (!formatCollection.createlink) {\n            formatCollection.createlink = this.isLink(node);\n        }\n        return formatCollection;\n    };\n    ToolbarStatus.isFontColor = function (docElement, node) {\n        var color = node.style && node.style.color;\n        if ((color === null || color === undefined || color === '') && node.nodeType !== 3) {\n            color = this.getComputedStyle(docElement, node, 'color');\n        }\n        if (color !== null && color !== '' && color !== undefined) {\n            return color;\n        }\n        else {\n            return null;\n        }\n    };\n    ToolbarStatus.isLink = function (node) {\n        if (node.nodeName.toLocaleLowerCase() === 'a') {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    ToolbarStatus.isBackgroundColor = function (node) {\n        var backColor = node.style && node.style.backgroundColor;\n        if (backColor !== null && backColor !== '' && backColor !== undefined) {\n            return backColor;\n        }\n        else {\n            return null;\n        }\n    };\n    ToolbarStatus.isFontSize = function (node, fontSize) {\n        var size = node.style && node.style.fontSize;\n        if ((size !== null && size !== '' && size !== undefined)\n            && (fontSize === null || fontSize === undefined || (fontSize.indexOf(size) > -1))) {\n            return size;\n        }\n        else {\n            return null;\n        }\n    };\n    ToolbarStatus.isFontName = function (docElement, node, fontName) {\n        var name = node.style && node.style.fontFamily;\n        if ((name === null || name === undefined || name === '') && node.nodeType !== 3) {\n            name = this.getComputedStyle(docElement, node, 'font-family');\n        }\n        var index = null;\n        if ((name !== null && name !== '' && name !== undefined)\n            && (fontName === null || fontName === undefined || (fontName.filter(function (value, pos) {\n                var pattern = new RegExp(name, 'i');\n                if ((value.replace(/\"/g, '').replace(/ /g, '') === name.replace(/\"/g, '').replace(/ /g, '')) ||\n                    (value.search(pattern) > -1)) {\n                    index = pos;\n                }\n            }) && (index !== null)))) {\n            return (index !== null) ? fontName[index] : name.replace(/\"/g, '');\n        }\n        else {\n            return null;\n        }\n    };\n    ToolbarStatus.isOrderedList = function (node) {\n        if (node.nodeName.toLocaleLowerCase() === 'ol') {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    ToolbarStatus.isUnorderedList = function (node) {\n        if (node.nodeName.toLocaleLowerCase() === 'ul') {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    ToolbarStatus.isAlignment = function (node) {\n        var align = node.style && node.style.textAlign;\n        if (align === 'left') {\n            return 'justifyleft';\n        }\n        else if (align === 'center') {\n            return 'justifycenter';\n        }\n        else if (align === 'right') {\n            return 'justifyright';\n        }\n        else if (align === 'justify') {\n            return 'justifyfull';\n        }\n        else {\n            return null;\n        }\n    };\n    ToolbarStatus.isFormats = function (node, formatNode) {\n        if (((formatNode === undefined || formatNode === null)\n            && CONSTANT.BLOCK_TAGS.indexOf(node.nodeName.toLocaleLowerCase()) > -1)\n            || (formatNode !== null && formatNode !== undefined\n                && formatNode.indexOf(node.nodeName.toLocaleLowerCase()) > -1)) {\n            return node.nodeName.toLocaleLowerCase();\n        }\n        else {\n            return null;\n        }\n    };\n    ToolbarStatus.getComputedStyle = function (docElement, node, prop) {\n        return docElement.defaultView.getComputedStyle(node, null).getPropertyValue(prop);\n    };\n    return ToolbarStatus;\n}());\nexport { ToolbarStatus };\n","import * as events from '../base/constant';\nimport { ToolbarStatus } from '../../editor-manager/plugin/toolbar-status';\n/**\n * HtmlToolbarStatus module for refresh the toolbar status\n */\nvar HtmlToolbarStatus = /** @class */ (function () {\n    function HtmlToolbarStatus(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    HtmlToolbarStatus.prototype.addEventListener = function () {\n        this.parent.on(events.toolbarRefresh, this.onRefreshHandler, this);\n        this.parent.on(events.destroy, this.removeEventListener, this);\n    };\n    HtmlToolbarStatus.prototype.removeEventListener = function () {\n        this.parent.off(events.toolbarRefresh, this.onRefreshHandler);\n        this.parent.off(events.destroy, this.removeEventListener);\n    };\n    HtmlToolbarStatus.prototype.onRefreshHandler = function (args) {\n        if (this.parent.readonly) {\n            return;\n        }\n        var fontsize = [];\n        var fontName = [];\n        var formats = [];\n        this.parent.fontSize.items.forEach(function (item) { fontsize.push(item.value); });\n        this.parent.fontFamily.items.forEach(function (item) { fontName.push(item.value); });\n        this.parent.format.types.forEach(function (item) {\n            formats.push(item.value.toLocaleLowerCase());\n        });\n        this.toolbarStatus = ToolbarStatus.get(this.parent.contentModule.getDocument(), this.parent.contentModule.getEditPanel(), formats, fontsize, fontName, args.documentNode);\n        this.parent.notify(events.toolbarUpdated, this.toolbarStatus);\n    };\n    return HtmlToolbarStatus;\n}());\nexport { HtmlToolbarStatus };\n","import { getEditValue } from '../base/util';\n/**\n * Content module is used to render Rich Text Editor content\n * @hidden\n\n */\nvar ContentRender = /** @class */ (function () {\n    /**\n     * Constructor for content renderer module\n     */\n    function ContentRender(parent, serviceLocator) {\n        this.parent = parent;\n        this.serviceLocator = serviceLocator;\n    }\n    /**\n     * The function is used to render Rich Text Editor content div\n     * @hidden\n\n     */\n    ContentRender.prototype.renderPanel = function () {\n        var rteObj = this.parent;\n        var div = this.parent.createElement('div', { className: 'e-rte-content', id: this.parent.getID() + 'rte-view' });\n        var rteContent = getEditValue(rteObj.value, rteObj);\n        this.editableElement = this.parent.createElement('div', {\n            className: 'e-content',\n            id: this.parent.getID() + '_rte-edit-view',\n            attrs: {\n                'contenteditable': 'true'\n            },\n            innerHTML: rteContent\n        });\n        div.appendChild(this.editableElement);\n        this.setPanel(div);\n        rteObj.element.appendChild(div);\n    };\n    /**\n     * Get the content div element of RichTextEditor\n     * @return {Element}\n     * @hidden\n\n     */\n    ContentRender.prototype.getPanel = function () {\n        return this.contentPanel;\n    };\n    /**\n     * Get the editable element of RichTextEditor\n     * @return {Element}\n     * @hidden\n\n     */\n    ContentRender.prototype.getEditPanel = function () {\n        return this.editableElement;\n    };\n    /**\n     * Returns the text content as string.\n     * @return {string}\n     */\n    ContentRender.prototype.getText = function () {\n        return this.getEditPanel().textContent;\n    };\n    /**\n     * Set the content div element of RichTextEditor\n     * @param {Element} panel\n     * @hidden\n\n     */\n    ContentRender.prototype.setPanel = function (panel) {\n        this.contentPanel = panel;\n    };\n    /**\n     * Get the document of RichTextEditor\n     * @return {Document}\n     * @hidden\n\n     */\n    ContentRender.prototype.getDocument = function () {\n        return this.getEditPanel().ownerDocument;\n    };\n    return ContentRender;\n}());\nexport { ContentRender };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ContentRender } from '../renderer/content-renderer';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { getEditValue } from '../base/util';\n/* tslint:disable */\nvar IFRAMEHEADER = \"\\n<!DOCTYPE html> \\n    <html>\\n         <head>\\n            <meta charset='utf-8' /> \\n            <style>\\n                @charset \\\"UTF-8\\\";\\n                body {\\n                    font-family: \\\"Roboto\\\", sans-serif;\\n                    font-size: 14px;\\n                }\\n                html, body{height: 100%;margin: 0;}\\n                body.e-cursor{cursor:default}\\n                span.e-selected-node\\t{background-color: #939393;color: white;}\\n                span.e-selected-node.e-highlight {background-color: #1d9dd8;}\\n                body{color:#333;word-wrap:break-word;padding: 8px;box-sizing: border-box;}\\n                .e-rte-image {border: 0;cursor: pointer;display: block;float: none;height: auto;margin: 5px auto;max-width: 100%;position: relative;}\\n                .e-img-caption { display: inline-block; float: none; margin: 5px auto; max-width: 100%;position: relative;}\\n                .e-img-caption.e-caption-inline {display: inline-block;float: none;margin: 5px auto;margin-left: 5px;margin-right: 5px;max-width: calc(100% - (2 * 5px));position: relativetext-align: center;vertical-align: bottom;}\\n                .e-img-inner {box-sizing: border-box;display: block;font-size: 16px;font-weight: initial;margin: auto;opacity: .9;text-align: center;width: 100%;}\\n                .e-img-wrap {display: inline-block;margin: auto;padding: 0;text-align: center;width: 100%;}\\n                .e-imgleft {float: left;margin: 0 5px 0 0;text-align: left;}\\n                .e-imgright {float: right;margin: 0 0 0 5px;text-align: right;}\\n                .e-imgcenter {cursor: pointer;display: block;float: none;height: auto;margin: 5px auto;max-width: 100%;position: relative;}\\n                .e-control img:not(.e-resize) {border: 2px solid transparent; z-index: 1000}\\n                .e-imginline {display: inline-block;float: none;margin-left: 5px;margin-right: 5px;max-width: calc(100% - (2 * 5px));vertical-align: bottom;}\\n                .e-imgbreak {border: 0;cursor: pointer;display: block;float: none;height: auto;margin: 5px auto;max-width: 100%;position: relative;}\\n                .e-rte-image.e-img-focus:not(.e-resize) {border: solid 2px #4a90e2;}\\n                img::selection { background: transparent;color: transparent;}\\n                span.e-rte-imageboxmark {  width: 10px; height: 10px; position: absolute; display: block; background: #4a90e2; border: 1px solid #fff; z-index: 1000;}\\n                .e-mob-rte.e-mob-span span.e-rte-imageboxmark { background: #4a90e2; border: 1px solid #fff; }\\n                .e-mob-rte span.e-rte-imageboxmark { background: #fff; border: 1px solid #4a90e2; border-radius: 15px; height: 20px; width: 20px; }\\n                .e-mob-rte.e-mob-span span.e-rte-imageboxmark { background: #4a90e2; border: 1px solid #fff; }\\n                .e-rte-content .e-content img.e-resize { z-index: 1000; }\\n                .e-img-caption .e-img-inner { outline: 0; }\\n                .e-img-caption .e-rte-image.e-imgright, .e-img-caption .e-rte-image.e-imgleft { float: none; margin: 0;}\\n                body{box-sizing: border-box;min-height: 100px;outline: 0 solid transparent;overflow-x: auto;padding: 16px;position: relative;text-align: inherit;z-index: 2;}\\n                p{margin: 0 0 10px;margin-bottom: 10px;}\\n                li{margin-bottom: 10px;}\\n                h1{font-size: 2.17em;font-weight: 400;line-height: 1;margin: 10px 0;}\\n                h2{font-size: 1.74em;font-weight: 400;margin: 10px 0;}\\n                h3{font-size: 1.31em;font-weight: 400;margin: 10px 0;}\\n                h4{font-size: 1em;font-weight: 400;margin: 0;}\\n                h5{font-size: 00.8em;font-weight: 400;margin: 0;}\\n                h6{font-size: 00.65em;font-weight: 400;margin: 0;}\\n                blockquote{margin: 10px 0;margin-left: 0;padding-left: 5px;border-left: solid 2px #5c5c5c;}\\n                pre{background-color: inherit;border: 0;border-radius: 0;color: #333;font-size: inherit;line-height: inherit;margin: 0 0 10px;overflow: visible;padding: 0;white-space: pre-wrap;word-break: inherit;word-wrap: break-word;}\\n                strong, b{font-weight: 700;}\\n                a{text-decoration: none;user-select: auto;}\\n                a:hover{text-decoration: underline;};\\n                p:last-child, pre:last-child, blockquote:last-child{margin-bottom: 0;}\\n                h3+h4, h4+h5, h5+h6{margin-top: 00.6em;}\\n                ul:last-child{margin-bottom: 0;}\\n                table { border-collapse: collapse; empty-cells: show;}\\n                table td,table th {border: 1px solid #BDBDBD; height: 20px; vertical-align: middle;}\\n                table.e-alternate-border tbody tr:nth-child(2n) {background-color: #F5F5F5;}\\n                table th {background-color: #E0E0E0;}\\n                table.e-dashed-border td,table.e-dashed-border th { border: 1px dashed #BDBDBD} \\n                table .e-cell-select {border: 1px double #4a90e2;}\\n                span.e-table-box { cursor: nwse-resize; display: block; height: 10px; position: absolute; width: 10px; }\\n                span.e-table-box.e-rmob {height: 14px;width: 14px;}\\n                .e-row-resize, .e-column-resize { background-color: transparent; background-repeat: repeat; bottom: 0;cursor: col-resize;height: 1px;overflow: visible;position: absolute;width: 1px; }\\n                .e-row-resize { cursor: row-resize; height: 1px;}\\n                .e-table-rhelper { cursor: col-resize; opacity: .87;position: absolute;}\\n                .e-table-rhelper.e-column-helper { width: 1px; }\\n                .e-table-rhelper.e-row-helper {height: 1px;}\\n                .e-reicon::before { border-bottom: 6px solid transparent; border-right: 6px solid; border-top: 6px solid transparent; content: ''; display: block; height: 0; position: absolute; right: 4px; top: 4px; width: 20px; }\\n                .e-reicon::after { border-bottom: 6px solid transparent; border-left: 6px solid; border-top: 6px solid transparent; content: ''; display: block; height: 0; left: 4px; position: absolute; top: 4px; width: 20px; z-index: 3; }\\n                .e-row-helper.e-reicon::after { top: 10px; transform: rotate(90deg); }\\n                .e-row-helper.e-reicon::before { left: 4px; top: -20px; transform: rotate(90deg); }\\n                span.e-table-box { background-color: #ffffff; border: 1px solid #BDBDBD; }\\n                span.e-table-box.e-rbox-select { background-color: #BDBDBD; border: 1px solid #BDBDBD; }\\n                .e-table-rhelper { background-color: #4a90e2;}\\n                .e-rtl { direction: rtl; }\\n            </style>\\n        </head>\";\n/* tslint:enable */\n/**\n * Content module is used to render Rich Text Editor content\n * @hidden\n\n */\nvar IframeContentRender = /** @class */ (function (_super) {\n    __extends(IframeContentRender, _super);\n    function IframeContentRender() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * The function is used to render Rich Text Editor iframe\n     * @hidden\n\n     */\n    IframeContentRender.prototype.renderPanel = function () {\n        var rteObj = this.parent;\n        var rteContent = getEditValue(rteObj.value, rteObj);\n        var iFrameBodyContent = '<body spellcheck=\"false\" autocorrect=\"off\" contenteditable=\"true\">' +\n            rteContent + '</body></html>';\n        var iFrameContent = IFRAMEHEADER + iFrameBodyContent;\n        var iframe = this.parent.createElement('iframe', {\n            innerHTML: iFrameContent,\n            id: this.parent.getID() + '_rte-view',\n            className: 'e-rte-content',\n            styles: 'display:block;'\n        });\n        this.setPanel(iframe);\n        rteObj.element.appendChild(iframe);\n        iframe.contentDocument.body.id = this.parent.getID() + '_rte-edit-view';\n        iframe.contentDocument.body.setAttribute('aria-owns', this.parent.getID());\n        iframe.contentDocument.open();\n        iFrameContent = this.setThemeColor(iFrameContent, { color: '#333' });\n        iframe.contentDocument.write(iFrameContent);\n        iframe.contentDocument.close();\n        if (rteObj.enableRtl) {\n            this.contentPanel.contentDocument.body.setAttribute('class', 'e-rtl');\n        }\n    };\n    IframeContentRender.prototype.setThemeColor = function (content, styles) {\n        var fontColor = getComputedStyle(this.parent.element, '.e-richtexteditor').getPropertyValue('color');\n        return content.replace(styles.color, fontColor);\n    };\n    /**\n     * Get the editable element of RichTextEditor\n     * @return {Element}\n     * @hidden\n\n     */\n    IframeContentRender.prototype.getEditPanel = function () {\n        var editNode;\n        if (!isNullOrUndefined(this.contentPanel.contentDocument)) {\n            editNode = this.contentPanel.contentDocument.body;\n        }\n        else {\n            editNode = this.parent.inputElement;\n        }\n        return editNode;\n    };\n    /**\n     * Get the document of RichTextEditor\n     * @param  {Document}\n     * @hidden\n\n     */\n    IframeContentRender.prototype.getDocument = function () {\n        return this.getEditPanel().ownerDocument;\n    };\n    return IframeContentRender;\n}(ContentRender));\nexport { IframeContentRender };\n","import { select, detach, extend } from '@syncfusion/ej2-base';\nimport { RenderType } from '../base/enum';\nimport * as events from '../base/constant';\nimport * as classes from '../base/classes';\nimport { getIndex, toObjectLowerCase } from '../base/util';\nimport { templateItems, tools } from '../models/items';\n/**\n * `Color Picker` module is used to handle ColorPicker actions.\n */\nvar ColorPickerInput = /** @class */ (function () {\n    function ColorPickerInput(parent, serviceLocator) {\n        this.tools = {};\n        this.parent = parent;\n        this.locator = serviceLocator;\n        this.renderFactory = this.locator.getService('rendererFactory');\n        this.addEventListener();\n        if (this.parent.toolbarSettings && Object.keys(this.parent.toolbarSettings.itemConfigs).length > 0) {\n            extend(this.tools, tools, toObjectLowerCase(this.parent.toolbarSettings.itemConfigs), true);\n        }\n        else {\n            this.tools = tools;\n        }\n    }\n    ColorPickerInput.prototype.initializeInstance = function () {\n        this.toolbarRenderer = this.renderFactory.getRenderer(RenderType.Toolbar);\n    };\n    /**\n     * renderColorPickerInput method\n     * @hidden\n\n     */\n    ColorPickerInput.prototype.renderColorPickerInput = function (args) {\n        var _this = this;\n        this.initializeInstance();\n        var suffixID = args.containerType;\n        var tbElement = args.container;\n        var targetID;\n        var options;\n        templateItems.forEach(function (item) {\n            if (getIndex(item, args.items) !== -1) {\n                switch (item) {\n                    case 'fontcolor':\n                        targetID = _this.parent.getID() + '_' + suffixID + '_FontColor_Target';\n                        var fontNode = _this.parent.createElement('input');\n                        fontNode.id = targetID;\n                        fontNode.classList.add(classes.CLS_FONT_COLOR_TARGET);\n                        document.body.appendChild(fontNode);\n                        options = {\n                            cssClass: _this.tools[item.toLocaleLowerCase()].icon\n                                + ' ' + classes.CLS_RTE_ELEMENTS + ' ' + classes.CLS_ICONS,\n                            value: _this.tools[item.toLocaleLowerCase()].value,\n                            command: _this.tools[item.toLocaleLowerCase()].command,\n                            subCommand: _this.tools[item.toLocaleLowerCase()].subCommand,\n                            element: select('#' + _this.parent.getID() + '_' + suffixID + '_FontColor', tbElement),\n                            target: ('#' + targetID)\n                        };\n                        _this.fontColorPicker = _this.toolbarRenderer.renderColorPicker(options, 'fontcolor');\n                        _this.fontColorDropDown = _this.toolbarRenderer.renderColorPickerDropDown(options, 'fontcolor', _this.fontColorPicker);\n                        break;\n                    case 'backgroundcolor':\n                        targetID = _this.parent.getID() + '_' + suffixID + '_BackgroundColor_Target';\n                        var backNode = _this.parent.createElement('input');\n                        backNode.id = targetID;\n                        backNode.classList.add(classes.CLS_BACKGROUND_COLOR_TARGET);\n                        document.body.appendChild(backNode);\n                        options = {\n                            cssClass: _this.tools[item.toLocaleLowerCase()].icon\n                                + ' ' + classes.CLS_RTE_ELEMENTS + ' ' + classes.CLS_ICONS,\n                            value: _this.tools[item.toLocaleLowerCase()].value,\n                            command: _this.tools[item.toLocaleLowerCase()].command,\n                            subCommand: _this.tools[item.toLocaleLowerCase()].subCommand,\n                            element: select('#' + _this.parent.getID() + '_' + suffixID + '_BackgroundColor', tbElement),\n                            target: ('#' + targetID)\n                        };\n                        _this.backgroundColorPicker = _this.toolbarRenderer.renderColorPicker(options, 'backgroundcolor');\n                        _this.backgroundColorDropDown = _this.toolbarRenderer.renderColorPickerDropDown(options, 'backgroundcolor', _this.backgroundColorPicker);\n                        break;\n                }\n            }\n        });\n    };\n    ColorPickerInput.prototype.destroy = function () {\n        this.removeEventListener();\n        this.destroyColorPicker();\n    };\n    /**\n     * destroyColorPicker method\n     * @hidden\n\n     */\n    ColorPickerInput.prototype.destroyColorPicker = function () {\n        if (this.fontColorPicker && !this.fontColorPicker.isDestroyed) {\n            this.fontColorPicker.destroy();\n        }\n        if (this.backgroundColorPicker && !this.backgroundColorPicker.isDestroyed) {\n            this.backgroundColorPicker.destroy();\n        }\n        if (this.fontColorDropDown && !this.fontColorDropDown.isDestroyed) {\n            var innerEle = this.fontColorDropDown.element.querySelector('.e-rte-color-content');\n            if (innerEle) {\n                detach(innerEle);\n            }\n            this.fontColorDropDown.destroy();\n        }\n        if (this.backgroundColorDropDown && !this.backgroundColorDropDown.isDestroyed) {\n            var innerEle = this.backgroundColorDropDown.element.querySelector('.e-rte-color-content');\n            if (innerEle) {\n                detach(innerEle);\n            }\n            this.backgroundColorDropDown.destroy();\n        }\n    };\n    ColorPickerInput.prototype.setRtl = function (args) {\n        if (this.fontColorPicker) {\n            this.fontColorPicker.setProperties({ enableRtl: args.enableRtl });\n            this.fontColorDropDown.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.backgroundColorPicker) {\n            this.backgroundColorPicker.setProperties({ enableRtl: args.enableRtl });\n            this.backgroundColorDropDown.setProperties({ enableRtl: args.enableRtl });\n        }\n    };\n    ColorPickerInput.prototype.addEventListener = function () {\n        this.parent.on(events.toolbarRenderComplete, this.renderColorPickerInput, this);\n        this.parent.on(events.rtlMode, this.setRtl, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.destroyColorPicker, this.destroyColorPicker, this);\n        this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n    };\n    ColorPickerInput.prototype.onPropertyChanged = function (model) {\n        var newProp = model.newProp;\n        var element;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'fontColor':\n                    if (this.fontColorPicker) {\n                        for (var _b = 0, _c = Object.keys(newProp.fontColor); _b < _c.length; _b++) {\n                            var font = _c[_b];\n                            switch (font) {\n                                case 'default':\n                                    this.fontColorPicker.setProperties({ value: newProp.fontColor.default });\n                                    element = this.fontColorDropDown.element;\n                                    var fontBorder = element.querySelector('.' + this.tools['fontcolor'].icon);\n                                    fontBorder.style.borderBottomColor = newProp.fontColor.default;\n                                    break;\n                                case 'mode':\n                                    this.fontColorPicker.setProperties({ mode: newProp.fontColor.mode });\n                                    break;\n                                case 'columns':\n                                    this.fontColorPicker.setProperties({ columns: newProp.fontColor.columns });\n                                    break;\n                                case 'colorCode':\n                                    this.fontColorPicker.setProperties({ presetColors: newProp.fontColor.colorCode });\n                                    break;\n                                case 'modeSwitcher':\n                                    this.fontColorPicker.setProperties({ modeSwitcher: newProp.fontColor.modeSwitcher });\n                                    break;\n                            }\n                        }\n                    }\n                    break;\n                case 'backgroundColor':\n                    if (this.backgroundColorPicker) {\n                        for (var _d = 0, _e = Object.keys(newProp.backgroundColor); _d < _e.length; _d++) {\n                            var background = _e[_d];\n                            switch (background) {\n                                case 'default':\n                                    this.backgroundColorPicker.setProperties({ value: newProp.backgroundColor.default });\n                                    element = this.backgroundColorDropDown.element;\n                                    var backgroundBorder = element.querySelector('.' + this.tools['backgroundcolor'].icon);\n                                    backgroundBorder.style.borderBottomColor = newProp.backgroundColor.default;\n                                    break;\n                                case 'mode':\n                                    this.backgroundColorPicker.setProperties({ mode: newProp.backgroundColor.mode });\n                                    break;\n                                case 'columns':\n                                    this.backgroundColorPicker.setProperties({ columns: newProp.backgroundColor.columns });\n                                    break;\n                                case 'colorCode':\n                                    this.backgroundColorPicker.setProperties({ presetColors: newProp.backgroundColor.colorCode });\n                                    break;\n                                case 'modeSwitcher':\n                                    this.backgroundColorPicker.setProperties({ modeSwitcher: newProp.backgroundColor.modeSwitcher });\n                                    break;\n                            }\n                        }\n                    }\n                    break;\n            }\n        }\n    };\n    ColorPickerInput.prototype.removeEventListener = function () {\n        this.parent.off(events.toolbarRenderComplete, this.renderColorPickerInput);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off(events.rtlMode, this.setRtl);\n        this.parent.off(events.destroyColorPicker, this.destroyColorPicker);\n        this.parent.off(events.modelChanged, this.onPropertyChanged);\n    };\n    return ColorPickerInput;\n}());\nexport { ColorPickerInput };\n","import * as events from '../base/constant';\nimport { detach } from '@syncfusion/ej2-base';\n/**\n * XhtmlValidation module called when set enableXhtml as true\n */\nvar XhtmlValidation = /** @class */ (function () {\n    function XhtmlValidation(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    XhtmlValidation.prototype.addEventListener = function () {\n        this.parent.on(events.xhtmlValidation, this.enableXhtmlValidation, this);\n        this.parent.on(events.destroy, this.removeEventListener, this);\n    };\n    XhtmlValidation.prototype.removeEventListener = function () {\n        this.parent.off(events.xhtmlValidation, this.enableXhtmlValidation);\n        this.parent.off(events.destroy, this.removeEventListener);\n    };\n    XhtmlValidation.prototype.enableXhtmlValidation = function () {\n        if (this.parent.enableXhtml) {\n            this.clean(this.parent.inputElement);\n            this.AddRootElement();\n            this.ImageTags();\n            this.removeTags();\n            this.RemoveUnsupported();\n            this.parent.setProperties({ value: this.parent.inputElement.innerHTML }, true);\n        }\n    };\n    XhtmlValidation.prototype.AddRootElement = function () {\n        if ((this.parent.inputElement.childNodes.length === 1 && this.parent.inputElement.firstChild.nodeName !== 'DIV') ||\n            this.parent.inputElement.childNodes.length > 1) {\n            var parentEle = this.parent.createElement('div');\n            while (this.parent.inputElement.childNodes.length > 0) {\n                parentEle.appendChild(this.parent.inputElement.childNodes[0]);\n            }\n            this.parent.inputElement.appendChild(parentEle);\n        }\n    };\n    ;\n    XhtmlValidation.prototype.clean = function (node) {\n        for (var n = 0; n < node.childNodes.length; n++) {\n            var child = node.childNodes[n];\n            if (child.nodeType === 8 || child.nodeName === 'V:IMAGE') {\n                node.removeChild(child);\n                n--;\n            }\n            else if (child.nodeType === 1) {\n                this.clean(child);\n            }\n        }\n        return this.parent.inputElement.innerHTML;\n    };\n    XhtmlValidation.prototype.ImageTags = function () {\n        var imgNodes = this.parent.inputElement.querySelectorAll('IMG');\n        for (var i = imgNodes.length - 1; i >= 0; i--) {\n            if (!imgNodes[i].hasAttribute('alt')) {\n                var img = imgNodes[i];\n                img.setAttribute('alt', '');\n            }\n        }\n    };\n    ;\n    XhtmlValidation.prototype.removeTags = function () {\n        var removeAttribute = [['br', 'ul'], ['br', 'ol'], ['table', 'span'], ['div', 'span'], ['p', 'span']];\n        for (var i = 0; i < removeAttribute.length; i++) {\n            this.RemoveElementNode(removeAttribute[i][0], removeAttribute[i][1]);\n        }\n    };\n    ;\n    XhtmlValidation.prototype.RemoveElementNode = function (rmvNode, parentNode) {\n        var parentArray = this.parent.inputElement.querySelectorAll(parentNode);\n        for (var i = 0; i < parentArray.length; i++) {\n            var rmvArray = parentArray[i].querySelectorAll(rmvNode);\n            for (var j = rmvArray.length; j > 0; j--) {\n                detach(rmvArray[j - 1]);\n            }\n        }\n    };\n    ;\n    XhtmlValidation.prototype.RemoveUnsupported = function () {\n        var underlineEle = this.parent.inputElement.querySelectorAll('u');\n        for (var i = underlineEle.length - 1; i >= 0; i--) {\n            var spanEle = this.parent.createElement('span');\n            spanEle.style.textDecoration = 'underline';\n            spanEle.innerHTML = underlineEle[i].innerHTML;\n            underlineEle[i].parentNode.insertBefore(spanEle, underlineEle[i]);\n            detach(underlineEle[i]);\n        }\n        var strongEle = this.parent.inputElement.querySelectorAll('strong');\n        for (var i = strongEle.length - 1; i >= 0; i--) {\n            var boldEle = this.parent.createElement('b');\n            boldEle.innerHTML = strongEle[i].innerHTML;\n            strongEle[i].parentNode.insertBefore(boldEle, strongEle[i]);\n            detach(strongEle[i]);\n        }\n        var attrArray = ['language', 'role', 'target', 'contenteditable', 'cellspacing',\n            'cellpadding', 'border', 'valign', 'colspan'];\n        for (var i = 0; i <= attrArray.length; i++) {\n            this.RemoveAttributeByName(attrArray[i]);\n        }\n    };\n    ;\n    XhtmlValidation.prototype.RemoveAttributeByName = function (attrName) {\n        if (this.parent.inputElement.firstChild !== null) {\n            if (this.parent.inputElement.firstChild.nodeType !== 3) {\n                for (var i = 0; i < this.parent.inputElement.childNodes.length; i++) {\n                    var ele = this.parent.inputElement.childNodes[i];\n                    if (ele.nodeType !== 3 && ele.nodeName !== 'TABLE' && ele.nodeName !== 'TBODY' && ele.nodeName !== 'THEAD' &&\n                        ele.nodeName !== 'TH' && ele.nodeName !== 'TR' && ele.nodeName !== 'TD') {\n                        if (ele.hasAttribute(attrName)) {\n                            ele.removeAttribute(attrName);\n                        }\n                        if (ele.hasChildNodes()) {\n                            for (var j = 0; j < ele.childNodes.length; j++) {\n                                var childEle = ele.childNodes[j];\n                                if (childEle.nodeType !== 3 && childEle.nodeName !== 'TABLE' && childEle.nodeName !== 'TBODY' &&\n                                    childEle.nodeName !== 'THEAD' && childEle.nodeName !== 'TH' && childEle.nodeName !== 'TR' &&\n                                    childEle.nodeName !== 'TD' && childEle.hasAttribute(attrName)) {\n                                    childEle.removeAttribute(attrName);\n                                }\n                                if (childEle.hasChildNodes()) {\n                                    for (var k = 0; k < childEle.childNodes.length; k++) {\n                                        if (childEle.childNodes[k].nodeType !== 3 && childEle.childNodes[k].nodeName !== 'TABLE' &&\n                                            childEle.childNodes[k].nodeName !== 'TBODY' && childEle.childNodes[k].nodeName !== 'THEAD' &&\n                                            childEle.childNodes[k].nodeName !== 'TH' && childEle.childNodes[k].nodeName !== 'TR'\n                                            && childEle.childNodes[k].nodeName !== 'TD'\n                                            && childEle.childNodes[k].hasAttribute(attrName)) {\n                                            childEle.childNodes[k].removeAttribute(attrName);\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    ;\n    return XhtmlValidation;\n}());\nexport { XhtmlValidation };\n","import * as events from '../base/constant';\nimport { isNullOrUndefined, closest, attributes, removeClass, addClass } from '@syncfusion/ej2-base';\nimport { HTMLFormatter } from '../formatter/html-formatter';\nimport { RenderType } from '../base/enum';\nimport * as classes from '../base/classes';\nimport { HtmlToolbarStatus } from './html-toolbar-status';\nimport { IframeContentRender } from '../renderer/iframe-content-renderer';\nimport { ContentRender } from '../renderer/content-renderer';\nimport { ColorPickerInput } from './color-picker';\nimport { NodeSelection } from '../../selection/selection';\nimport { InsertHtml } from '../../editor-manager/plugin/inserthtml';\nimport { getTextNodesUnder, sanitizeHelper } from '../base/util';\nimport { isIDevice } from '../../common/util';\nimport { XhtmlValidation } from './xhtml-validation';\n/**\n * `HtmlEditor` module is used to HTML editor\n */\nvar HtmlEditor = /** @class */ (function () {\n    function HtmlEditor(parent, serviceLocator) {\n        this.rangeCollection = [];\n        this.parent = parent;\n        this.locator = serviceLocator;\n        this.renderFactory = this.locator.getService('rendererFactory');\n        this.xhtmlValidation = new XhtmlValidation(parent);\n        this.addEventListener();\n    }\n    /**\n     * Destroys the Markdown.\n     * @method destroy\n     * @return {void}\n     * @hidden\n\n     */\n    HtmlEditor.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    /**\n     * @hidden\n\n     */\n    HtmlEditor.prototype.sanitizeHelper = function (value) {\n        value = sanitizeHelper(value, this.parent);\n        return value;\n    };\n    HtmlEditor.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.nodeSelectionObj = new NodeSelection();\n        this.colorPickerModule = new ColorPickerInput(this.parent, this.locator);\n        this.parent.on(events.initialLoad, this.instantiateRenderer, this);\n        this.parent.on(events.htmlToolbarClick, this.onToolbarClick, this);\n        this.parent.on(events.keyDown, this.onKeyDown, this);\n        this.parent.on(events.renderColorPicker, this.renderColorPicker, this);\n        this.parent.on(events.initialEnd, this.render, this);\n        this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.selectAll, this.selectAll, this);\n        this.parent.on(events.selectRange, this.selectRange, this);\n        this.parent.on(events.getSelectedHtml, this.getSelectedHtml, this);\n        this.parent.on(events.selectionSave, this.onSelectionSave, this);\n        this.parent.on(events.selectionRestore, this.onSelectionRestore, this);\n        this.parent.on(events.readOnlyMode, this.updateReadOnly, this);\n        this.parent.on(events.paste, this.onPaste, this);\n    };\n    HtmlEditor.prototype.updateReadOnly = function () {\n        if (this.parent.readonly) {\n            attributes(this.parent.contentModule.getEditPanel(), { contenteditable: 'false' });\n            addClass([this.parent.element], classes.CLS_RTE_READONLY);\n        }\n        else {\n            attributes(this.parent.contentModule.getEditPanel(), { contenteditable: 'true' });\n            removeClass([this.parent.element], classes.CLS_RTE_READONLY);\n        }\n    };\n    HtmlEditor.prototype.onSelectionSave = function () {\n        var currentDocument = this.contentRenderer.getDocument();\n        var range = this.nodeSelectionObj.getRange(currentDocument);\n        this.saveSelection = this.nodeSelectionObj.save(range, currentDocument);\n    };\n    HtmlEditor.prototype.onSelectionRestore = function (e) {\n        this.parent.isBlur = false;\n        this.contentRenderer.getEditPanel().focus();\n        if (isNullOrUndefined(e.items) || e.items) {\n            this.saveSelection.restore();\n        }\n    };\n    HtmlEditor.prototype.onKeyDown = function (e) {\n        if (e.args.keyCode === 9 && this.parent.enableTabKey) {\n            var range = this.nodeSelectionObj.getRange(this.contentRenderer.getDocument());\n            var parentNode = this.nodeSelectionObj.getParentNodeCollection(range);\n            if (!((parentNode[0].nodeName === 'LI' || closest(parentNode[0], 'li') ||\n                closest(parentNode[0], 'table')) && range.startOffset === 0)) {\n                e.args.preventDefault();\n                if (!e.args.shiftKey) {\n                    InsertHtml.Insert(this.contentRenderer.getDocument(), '&nbsp;&nbsp;&nbsp;&nbsp;');\n                    this.rangeCollection.push(this.nodeSelectionObj.getRange(this.contentRenderer.getDocument()));\n                }\n                else if (this.rangeCollection.length > 0 &&\n                    this.rangeCollection[this.rangeCollection.length - 1].startContainer.textContent.length === 4) {\n                    var textCont = this.rangeCollection[this.rangeCollection.length - 1].startContainer;\n                    this.nodeSelectionObj.setSelectionText(this.contentRenderer.getDocument(), textCont, textCont, 0, textCont.textContent.length);\n                    InsertHtml.Insert(this.contentRenderer.getDocument(), document.createTextNode(''));\n                    this.rangeCollection.pop();\n                }\n            }\n        }\n        if (e.args.action === 'space' ||\n            e.args.action === 'enter') {\n            this.spaceLink(e.args);\n        }\n    };\n    HtmlEditor.prototype.onPaste = function (e) {\n        var regex = new RegExp(/([^\\S]|^)(((https?\\:\\/\\/)|(www\\.))(\\S+))/gi);\n        if (e.text.match(regex)) {\n            e.args.preventDefault();\n            var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n            var saveSelection = this.parent.formatter.editorManager.nodeSelection.save(range, this.parent.contentModule.getDocument());\n            var httpRegex = new RegExp(/([^\\S]|^)(((https?\\:\\/\\/)))/gi);\n            var wwwRegex = new RegExp(/([^\\S]|^)(((www\\.))(\\S+))/gi);\n            var enterSplitText = e.text.split('\\n');\n            var contentInnerElem = '';\n            for (var i = 0; i < enterSplitText.length; i++) {\n                if (enterSplitText[i].trim() === '') {\n                    contentInnerElem += '<p><br></p>';\n                }\n                else {\n                    var contentWithSpace = '';\n                    var spaceBetweenContent = true;\n                    var spaceSplit = enterSplitText[i].split(' ');\n                    for (var j = 0; j < spaceSplit.length; j++) {\n                        if (spaceSplit[j].trim() === '') {\n                            contentWithSpace += spaceBetweenContent ? '&nbsp;' : ' ';\n                        }\n                        else {\n                            spaceBetweenContent = false;\n                            contentWithSpace += spaceSplit[j] + ' ';\n                        }\n                    }\n                    contentInnerElem += '<p>' + contentWithSpace.trim() + '</p>';\n                }\n            }\n            var divElement = this.parent.createElement('div');\n            divElement.innerHTML = contentInnerElem;\n            var paraElem = divElement.querySelectorAll('p');\n            for (var i = 0; i < paraElem.length; i++) {\n                var splitTextContent = paraElem[i].innerHTML.split(' ');\n                var resultSplitContent = '';\n                for (var j = 0; j < splitTextContent.length; j++) {\n                    if (splitTextContent[j].match(httpRegex) || splitTextContent[j].match(wwwRegex)) {\n                        resultSplitContent += '<a className=\"e-rte-anchor\" href=\"' + splitTextContent[j] +\n                            '\" title=\"' + splitTextContent[j] + '\">' + splitTextContent[j] + ' </a>';\n                    }\n                    else {\n                        resultSplitContent += splitTextContent[j] + ' ';\n                    }\n                }\n                paraElem[i].innerHTML = resultSplitContent.trim();\n            }\n            if (!isNullOrUndefined(this.parent.pasteCleanupModule)) {\n                e.callBack(divElement.innerHTML);\n            }\n            else {\n                this.parent.executeCommand('insertHTML', divElement);\n            }\n        }\n    };\n    HtmlEditor.prototype.spaceLink = function (e) {\n        var range = this.nodeSelectionObj.getRange(this.contentRenderer.getDocument());\n        var selectNodeEle = this.nodeSelectionObj.getParentNodeCollection(range);\n        var text = range.startContainer.textContent.substr(0, range.endOffset);\n        var splitText = text.split(' ');\n        var urlText = splitText[splitText.length - 1];\n        var urlTextRange = range.startOffset - (text.length - splitText[splitText.length - 1].length);\n        urlText = urlText.slice(0, urlTextRange);\n        var regex = new RegExp(/([^\\S]|^)(((https?\\:\\/\\/)|(www\\.))(\\S+))/gi);\n        if (selectNodeEle[0].nodeName !== 'A' && urlText.match(regex)) {\n            var selection = this.nodeSelectionObj.save(range, this.parent.contentModule.getDocument());\n            var url = urlText.indexOf('http') > -1 ? urlText : 'http://' + urlText;\n            var selectParent = this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(range);\n            var value = {\n                url: url,\n                selection: selection, selectParent: selectParent,\n                text: urlText,\n                title: '',\n                target: '_blank'\n            };\n            this.parent.formatter.process(this.parent, {\n                item: {\n                    'command': 'Links',\n                    'subCommand': 'CreateLink'\n                }\n            }, e, value);\n        }\n    };\n    HtmlEditor.prototype.onToolbarClick = function (args) {\n        var save;\n        var selectNodeEle;\n        var selectParentEle;\n        var item = args.item;\n        var closestElement = closest(args.originalEvent.target, '.e-rte-quick-popup');\n        if (closestElement && !closestElement.classList.contains('e-rte-inline-popup')) {\n            if (!(item.subCommand === 'SourceCode' || item.subCommand === 'Preview' ||\n                item.subCommand === 'FontColor' || item.subCommand === 'BackgroundColor')) {\n                if (isIDevice() && item.command === 'Images') {\n                    this.nodeSelectionObj.restore();\n                }\n                var range = this.nodeSelectionObj.getRange(this.parent.contentModule.getDocument());\n                save = this.nodeSelectionObj.save(range, this.parent.contentModule.getDocument());\n                selectNodeEle = this.nodeSelectionObj.getNodeCollection(range);\n                selectParentEle = this.nodeSelectionObj.getParentNodeCollection(range);\n            }\n            if (item.command === 'Images') {\n                this.parent.notify(events.imageToolbarAction, {\n                    member: 'image', args: args, selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n                });\n            }\n            if (item.command === 'Links') {\n                this.parent.notify(events.linkToolbarAction, {\n                    member: 'link', args: args, selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n                });\n            }\n            if (item.command === 'Table') {\n                this.parent.notify(events.tableToolbarAction, {\n                    member: 'table', args: args, selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n                });\n            }\n        }\n        else {\n            var linkDialog = this.parent.element.querySelector('#' + this.parent.getID() + '_rtelink');\n            var imageDialog = this.parent.element.querySelector('#' + this.parent.getID() + '_image');\n            if (!(item.subCommand === 'SourceCode' || item.subCommand === 'Preview' ||\n                item.subCommand === 'FontColor' || item.subCommand === 'BackgroundColor')) {\n                var range = this.nodeSelectionObj.getRange(this.parent.contentModule.getDocument());\n                if (isNullOrUndefined(linkDialog) && isNullOrUndefined(imageDialog)) {\n                    save = this.nodeSelectionObj.save(range, this.parent.contentModule.getDocument());\n                }\n                selectNodeEle = this.nodeSelectionObj.getNodeCollection(range);\n                selectParentEle = this.nodeSelectionObj.getParentNodeCollection(range);\n            }\n            switch (item.subCommand) {\n                case 'Maximize':\n                    this.parent.notify(events.enableFullScreen, { args: args });\n                    break;\n                case 'Minimize':\n                    this.parent.notify(events.disableFullScreen, { args: args });\n                    break;\n                case 'CreateLink':\n                    this.parent.notify(events.insertLink, {\n                        member: 'link', args: args, selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n                    });\n                    break;\n                case 'Print':\n                    this.parent.print();\n                    break;\n                case 'Image':\n                    this.parent.notify(events.insertImage, {\n                        member: 'image', args: args, selectNode: selectNodeEle, selection: save, selectParent: selectParentEle\n                    });\n                    break;\n                case 'CreateTable':\n                    this.parent.notify(events.createTable, {\n                        member: 'table', args: args, selection: save\n                    });\n                    break;\n                case 'SourceCode':\n                    this.parent.notify(events.sourceCode, { member: 'viewSource', args: args });\n                    break;\n                case 'Preview':\n                    this.parent.notify(events.updateSource, { member: 'updateSource', args: args });\n                    break;\n                case 'FontColor':\n                case 'BackgroundColor':\n                    break;\n                default:\n                    this.parent.formatter.process(this.parent, args, args.originalEvent, null);\n                    break;\n            }\n        }\n    };\n    HtmlEditor.prototype.renderColorPicker = function (args) {\n        this.colorPickerModule.renderColorPickerInput(args);\n    };\n    HtmlEditor.prototype.instantiateRenderer = function () {\n        if (this.parent.iframeSettings.enable) {\n            this.renderFactory.addRenderer(RenderType.Content, new IframeContentRender(this.parent, this.locator));\n        }\n        else {\n            this.renderFactory.addRenderer(RenderType.Content, new ContentRender(this.parent, this.locator));\n        }\n    };\n    HtmlEditor.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.initialEnd, this.render);\n        this.parent.off(events.modelChanged, this.onPropertyChanged);\n        this.parent.off(events.htmlToolbarClick, this.onToolbarClick);\n        this.parent.off(events.renderColorPicker, this.renderColorPicker);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off(events.keyDown, this.onKeyDown);\n        this.parent.off(events.initialLoad, this.instantiateRenderer);\n        this.parent.off(events.selectAll, this.selectAll);\n        this.parent.off(events.selectRange, this.selectRange);\n        this.parent.off(events.getSelectedHtml, this.getSelectedHtml);\n        this.parent.off(events.selectionSave, this.onSelectionSave);\n        this.parent.off(events.selectionRestore, this.onSelectionRestore);\n        this.parent.off(events.readOnlyMode, this.updateReadOnly);\n        this.parent.off(events.paste, this.onPaste);\n    };\n    HtmlEditor.prototype.render = function () {\n        this.contentRenderer = this.renderFactory.getRenderer(RenderType.Content);\n        var editElement = this.contentRenderer.getEditPanel();\n        var option = { undoRedoSteps: this.parent.undoRedoSteps, undoRedoTimer: this.parent.undoRedoTimer };\n        if (isNullOrUndefined(this.parent.formatter)) {\n            var formatterClass = new HTMLFormatter({\n                currentDocument: this.contentRenderer.getDocument(),\n                element: editElement,\n                options: option\n            });\n            this.parent.setProperties({ formatter: formatterClass }, true);\n        }\n        else {\n            this.parent.formatter.updateFormatter(editElement, this.contentRenderer.getDocument(), option);\n        }\n        if (this.parent.enableXhtml) {\n            this.parent.notify(events.xhtmlValidation, {});\n        }\n        if (this.parent.toolbarSettings.enable) {\n            this.toolbarUpdate = new HtmlToolbarStatus(this.parent);\n        }\n        this.parent.notify(events.bindOnEnd, {});\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @hidden\n\n     */\n    HtmlEditor.prototype.onPropertyChanged = function (e) {\n        // On property code change here\n        if (!isNullOrUndefined(e.newProp.formatter)) {\n            var editElement = this.contentRenderer.getEditPanel();\n            var option = { undoRedoSteps: this.parent.undoRedoSteps, undoRedoTimer: this.parent.undoRedoTimer };\n            this.parent.formatter.updateFormatter(editElement, this.contentRenderer.getDocument(), option);\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     */\n    HtmlEditor.prototype.getModuleName = function () {\n        return 'htmlEditor';\n    };\n    /**\n     * For selecting all content in RTE\n     * @private\n     */\n    HtmlEditor.prototype.selectAll = function () {\n        var nodes = getTextNodesUnder(this.parent.contentModule.getDocument(), this.parent.contentModule.getEditPanel());\n        if (nodes.length > 0) {\n            this.parent.formatter.editorManager.nodeSelection.setSelectionText(this.parent.contentModule.getDocument(), nodes[0], nodes[nodes.length - 1], 0, nodes[nodes.length - 1].textContent.length);\n        }\n    };\n    /**\n     * For selecting all content in RTE\n     * @private\n     */\n    HtmlEditor.prototype.selectRange = function (e) {\n        this.parent.formatter.editorManager.nodeSelection.setRange(this.parent.contentModule.getDocument(), e.range);\n    };\n    /**\n     * For get a selected text in RTE\n     * @private\n     */\n    HtmlEditor.prototype.getSelectedHtml = function (e) {\n        e.callBack(this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()).toString());\n    };\n    return HtmlEditor;\n}());\nexport { HtmlEditor };\n","import { detach, getUniqueID, append, closest, selectAll, select, isNullOrUndefined as isNOU, isBlazor } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, Browser, isNullOrUndefined, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { isCollide } from '@syncfusion/ej2-popups';\nimport * as events from '../base/constant';\nimport * as classes from '../base/classes';\nimport { RenderType } from '../base/enum';\nimport { setToolbarStatus, updateUndoRedoStatus, isIDevice } from '../base/util';\nimport { BaseToolbar } from './base-toolbar';\nimport { DropDownButtons } from './dropdown-buttons';\nimport { ColorPickerInput } from './color-picker';\n/**\n * `Quick toolbar` module is used to handle Quick toolbar actions.\n */\nvar BaseQuickToolbar = /** @class */ (function () {\n    function BaseQuickToolbar(parent, locator) {\n        this.parent = parent;\n        this.locator = locator;\n        this.isDOMElement = false;\n        this.renderFactory = this.locator.getService('rendererFactory');\n        this.contentRenderer = this.renderFactory.getRenderer(RenderType.Content);\n        this.popupRenderer = this.renderFactory.getRenderer(RenderType.Popup);\n        this.dropDownButtons = new DropDownButtons(this.parent, this.locator);\n        this.colorPickerObj = new ColorPickerInput(this.parent, this.locator);\n    }\n    BaseQuickToolbar.prototype.appendPopupContent = function () {\n        this.toolbarElement = this.parent.createElement('div', { className: classes.CLS_QUICK_TB });\n        this.element.appendChild(this.toolbarElement);\n    };\n    /**\n     * render method\n     * @hidden\n\n     */\n    BaseQuickToolbar.prototype.render = function (args) {\n        var className;\n        if (args.popupType === 'Image') {\n            className = classes.CLS_IMAGE_POP;\n        }\n        else if (args.popupType === 'Inline') {\n            className = classes.CLS_INLINE_POP;\n        }\n        else {\n            className = '';\n        }\n        var popupId = getUniqueID(args.popupType + '_Quick_Popup');\n        this.stringItems = args.toolbarItems;\n        this.element = this.parent.createElement('div', { id: popupId, className: className + ' ' + classes.CLS_RTE_ELEMENTS });\n        this.element.setAttribute('aria-owns', this.parent.getID());\n        this.appendPopupContent();\n        this.createToolbar(args.toolbarItems, args.mode);\n        this.popupRenderer.renderPopup(this);\n        this.addEventListener();\n    };\n    BaseQuickToolbar.prototype.createToolbar = function (items, mode) {\n        this.quickTBarObj = new BaseToolbar(this.parent, this.locator);\n        this.quickTBarObj.render({\n            container: 'quick',\n            target: this.toolbarElement,\n            items: items,\n            mode: mode\n        });\n        this.quickTBarObj.toolbarObj.refresh();\n    };\n    BaseQuickToolbar.prototype.setPosition = function (e) {\n        var x;\n        var y;\n        var imgWrapper = closest(e.target, '.e-img-caption');\n        var target = !isNOU(imgWrapper) ? imgWrapper : e.target;\n        addClass([this.toolbarElement], [classes.CLS_RM_WHITE_SPACE]);\n        var targetOffsetTop = target.offsetTop;\n        var parentOffsetTop = window.pageYOffset + e.parentData.top;\n        if ((targetOffsetTop - e.editTop) > e.popHeight) {\n            y = parentOffsetTop + e.tBarElementHeight + (targetOffsetTop - e.editTop) - e.popHeight - 5;\n        }\n        else if (((e.editTop + e.editHeight) - (targetOffsetTop + target.offsetHeight)) > e.popHeight) {\n            y = parentOffsetTop + e.tBarElementHeight + (targetOffsetTop - e.editTop) + target.offsetHeight + 5;\n        }\n        else {\n            y = e.y;\n        }\n        if (target.offsetWidth > e.popWidth) {\n            x = (target.offsetWidth / 2) - (e.popWidth / 2) + e.parentData.left + target.offsetLeft;\n        }\n        else {\n            x = e.parentData.left + target.offsetLeft;\n        }\n        this.popupObj.position.X = ((x + e.popWidth) > e.parentData.right) ? e.parentData.right - e.popWidth : x;\n        this.popupObj.position.Y = (y >= 0) ? y : e.y + 5;\n        this.popupObj.dataBind();\n        removeClass([this.toolbarElement], [classes.CLS_RM_WHITE_SPACE]);\n    };\n    BaseQuickToolbar.prototype.checkCollision = function (e, viewPort, type) {\n        var x;\n        var y;\n        var parentTop = e.parentData.top;\n        var contentTop = e.windowY + parentTop + e.tBarElementHeight;\n        var collision = [];\n        if (viewPort === 'document') {\n            collision = isCollide(e.popup);\n        }\n        else {\n            collision = isCollide(e.popup, e.parentElement);\n        }\n        for (var i = 0; i < collision.length; i++) {\n            switch (collision[i]) {\n                case 'top':\n                    if (viewPort === 'document') {\n                        y = e.windowY;\n                    }\n                    else {\n                        y = (window.pageYOffset + parentTop) + e.tBarElementHeight;\n                    }\n                    break;\n                case 'bottom':\n                    var posY = void 0;\n                    if (viewPort === 'document') {\n                        if (type === 'inline') {\n                            posY = (e.y - e.popHeight - 10);\n                        }\n                        else {\n                            if ((e.windowHeight - (parentTop + e.tBarElementHeight)) > e.popHeight) {\n                                if ((contentTop - e.windowHeight) > e.popHeight) {\n                                    posY = (contentTop + (e.windowHeight - parentTop)) - e.popHeight;\n                                }\n                                else {\n                                    posY = contentTop;\n                                }\n                            }\n                            else {\n                                posY = e.windowY + (parentTop + e.tBarElementHeight);\n                            }\n                        }\n                    }\n                    else {\n                        if (e.target.tagName !== 'IMG') {\n                            posY = (e.parentData.bottom + window.pageYOffset) - e.popHeight - 10;\n                        }\n                        else {\n                            posY = (e.parentData.bottom + window.pageYOffset) - e.popHeight - 5;\n                        }\n                    }\n                    y = posY;\n                    break;\n                case 'right':\n                    if (type === 'inline') {\n                        x = e.windowWidth - (e.popWidth + e.bodyRightSpace + 10);\n                    }\n                    else {\n                        x = e.x - e.popWidth;\n                    }\n                    break;\n                case 'left':\n                    if (type === 'inline') {\n                        x = 0;\n                    }\n                    else {\n                        x = e.parentData.left;\n                    }\n                    break;\n            }\n        }\n        this.popupObj.position.X = (x) ? x : this.popupObj.position.X;\n        this.popupObj.position.Y = (y) ? y : this.popupObj.position.Y;\n        this.popupObj.dataBind();\n    };\n    /**\n     * showPopup method\n     * @hidden\n\n     */\n    BaseQuickToolbar.prototype.showPopup = function (x, y, target) {\n        var _this = this;\n        var eventArgs = isBlazor() ? { cancel: false, targetElement: target } :\n            { popup: this.popupObj, cancel: false, targetElement: target };\n        this.parent.trigger(events.beforeQuickToolbarOpen, eventArgs, function (beforeQuickToolbarArgs) {\n            if (!beforeQuickToolbarArgs.cancel) {\n                var editPanelTop = void 0;\n                var editPanelHeight = void 0;\n                var bodyStyle = window.getComputedStyle(document.body);\n                var bodyRight = parseFloat(bodyStyle.marginRight.split('px')[0]) + parseFloat(bodyStyle.paddingRight.split('px')[0]);\n                var windowHeight = window.innerHeight;\n                var windowWidth = window.innerWidth;\n                var parent_1 = _this.parent.element;\n                var toolbarAvail = !isNullOrUndefined(_this.parent.getToolbar());\n                var tbHeight = toolbarAvail && _this.parent.toolbarModule.getToolbarHeight();\n                var expTBHeight = toolbarAvail && _this.parent.toolbarModule.getExpandTBarPopHeight();\n                var tBarHeight = (toolbarAvail) ? (tbHeight + expTBHeight) : 0;\n                addClass([_this.element], [classes.CLS_HIDE]);\n                if (Browser.isDevice && !isIDevice()) {\n                    addClass([_this.parent.getToolbar()], [classes.CLS_HIDE]);\n                }\n                if (_this.parent.iframeSettings.enable) {\n                    var cntEle = _this.contentRenderer.getPanel().contentWindow;\n                    editPanelTop = cntEle.pageYOffset;\n                    editPanelHeight = cntEle.innerHeight;\n                }\n                else {\n                    var cntEle = closest(target, '.' + classes.CLS_RTE_CONTENT);\n                    editPanelTop = (cntEle) ? cntEle.scrollTop : 0;\n                    editPanelHeight = (cntEle) ? cntEle.offsetHeight : 0;\n                }\n                if (!_this.parent.inlineMode.enable && !closest(target, 'table')) {\n                    _this.parent.disableToolbarItem(_this.parent.toolbarSettings.items);\n                    _this.parent.enableToolbarItem(['Undo', 'Redo']);\n                }\n                append([_this.element], document.body);\n                _this.popupObj.position.X = x + 20;\n                _this.popupObj.position.Y = y + ((_this.parent.iframeSettings.enable) ? 35 : 20);\n                _this.popupObj.dataBind();\n                _this.popupObj.element.classList.add('e-popup-open');\n                _this.dropDownButtons.renderDropDowns({\n                    container: _this.toolbarElement,\n                    containerType: 'quick',\n                    items: _this.stringItems\n                });\n                _this.colorPickerObj.renderColorPickerInput({\n                    container: _this.toolbarElement,\n                    containerType: 'quick',\n                    items: _this.stringItems\n                });\n                var showPopupData = {\n                    x: x, y: y,\n                    target: target,\n                    editTop: editPanelTop,\n                    editHeight: editPanelHeight,\n                    popup: _this.popupObj.element,\n                    popHeight: _this.popupObj.element.offsetHeight,\n                    popWidth: _this.popupObj.element.offsetWidth,\n                    parentElement: parent_1,\n                    bodyRightSpace: bodyRight,\n                    windowY: window.pageYOffset,\n                    windowHeight: windowHeight,\n                    windowWidth: windowWidth,\n                    parentData: parent_1.getBoundingClientRect(),\n                    tBarElementHeight: tBarHeight\n                };\n                if (target.tagName === 'IMG') {\n                    _this.setPosition(showPopupData);\n                }\n                if (!_this.parent.inlineMode.enable) {\n                    _this.checkCollision(showPopupData, 'parent', '');\n                }\n                _this.checkCollision(showPopupData, 'document', ((_this.parent.inlineMode.enable) ? 'inline' : ''));\n                _this.popupObj.element.classList.remove('e-popup-open');\n                removeClass([_this.element], [classes.CLS_HIDE]);\n                _this.popupObj.show({ name: 'ZoomIn', duration: (Browser.isIE ? 250 : 400) });\n                setStyleAttribute(_this.element, {\n                    maxWidth: _this.parent.element.offsetWidth + 'px'\n                });\n                addClass([_this.element], [classes.CLS_POP]);\n                _this.isDOMElement = true;\n            }\n        });\n    };\n    /**\n     * hidePopup method\n     * @hidden\n\n     */\n    BaseQuickToolbar.prototype.hidePopup = function () {\n        var viewSourcePanel = this.parent.sourceCodeModule.getViewPanel();\n        if (Browser.isDevice && !isIDevice()) {\n            removeClass([this.parent.getToolbar()], [classes.CLS_HIDE]);\n        }\n        if (!isNullOrUndefined(this.parent.getToolbar()) && !this.parent.inlineMode.enable) {\n            if (isNullOrUndefined(viewSourcePanel) || viewSourcePanel.style.display === 'none') {\n                this.parent.enableToolbarItem(this.parent.toolbarSettings.items);\n            }\n        }\n        this.removeEleFromDOM();\n        this.isDOMElement = false;\n    };\n    /**\n     * @hidden\n\n     */\n    BaseQuickToolbar.prototype.addQTBarItem = function (item, index) {\n        this.quickTBarObj.toolbarObj.addItems(this.quickTBarObj.getItems(item, 'toolbar'), index);\n    };\n    /**\n     * @hidden\n\n     */\n    BaseQuickToolbar.prototype.removeQTBarItem = function (index) {\n        this.quickTBarObj.toolbarObj.removeItems(index);\n    };\n    BaseQuickToolbar.prototype.removeEleFromDOM = function () {\n        var element = this.popupObj.element;\n        if (this.isDOMElement) {\n            this.dropDownButtons.destroyDropDowns();\n            this.colorPickerObj.destroyColorPicker();\n            removeClass([this.element], [classes.CLS_POP]);\n            detach(element);\n            var args = isBlazor() ? { element: this.popupObj.element } : this.popupObj;\n            this.parent.trigger(events.quickToolbarClose, args);\n        }\n    };\n    BaseQuickToolbar.prototype.updateStatus = function (args) {\n        var options = {\n            args: args,\n            dropDownModule: this.dropDownButtons,\n            parent: this.parent,\n            tbElements: selectAll('.' + classes.CLS_TB_ITEM, this.element),\n            tbItems: this.quickTBarObj.toolbarObj.items\n        };\n        setToolbarStatus(options, true);\n        if (!select('.e-rte-srctextarea', this.parent.element)) {\n            updateUndoRedoStatus(this.parent.getBaseToolbarObject(), this.parent.formatter.editorManager.undoRedoManager.getUndoStatus());\n        }\n    };\n    /**\n     * Destroys the Quick toolbar.\n     * @method destroy\n     * @return {void}\n     * @hidden\n\n     */\n    BaseQuickToolbar.prototype.destroy = function () {\n        if (this.popupObj && !this.popupObj.isDestroyed) {\n            this.popupObj.destroy();\n            this.removeEleFromDOM();\n        }\n        this.removeEventListener();\n    };\n    /**\n     * addEventListener method\n     * @hidden\n\n     */\n    BaseQuickToolbar.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n        if (this.parent.inlineMode.enable) {\n            this.parent.on(events.toolbarUpdated, this.updateStatus, this);\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @hidden\n\n     */\n    BaseQuickToolbar.prototype.onPropertyChanged = function (e) {\n        if (!isNullOrUndefined(e.newProp.inlineMode)) {\n            for (var _i = 0, _a = Object.keys(e.newProp.inlineMode); _i < _a.length; _i++) {\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'enable':\n                        if (e.newProp.inlineMode.enable) {\n                            this.parent.on(events.toolbarUpdated, this.updateStatus, this);\n                        }\n                        else {\n                            this.parent.off(events.toolbarUpdated, this.updateStatus);\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    /**\n     * removeEventListener method\n     * @hidden\n\n     */\n    BaseQuickToolbar.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off(events.modelChanged, this.onPropertyChanged);\n        if (this.parent.inlineMode.enable) {\n            this.parent.off(events.toolbarUpdated, this.updateStatus);\n        }\n    };\n    return BaseQuickToolbar;\n}());\nexport { BaseQuickToolbar };\n","import { Popup } from '@syncfusion/ej2-popups';\nimport { CLS_QUICK_POP } from '../base/classes';\nimport { isBlazor } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\n/**\n * `Popup renderer` module is used to render popup in RichTextEditor.\n * @hidden\n\n */\nvar PopupRenderer = /** @class */ (function () {\n    /**\n     * Constructor for popup renderer module\n     */\n    function PopupRenderer(parent) {\n        this.parent = parent;\n    }\n    PopupRenderer.prototype.quickToolbarOpen = function () {\n        var args = isBlazor() ? { element: this.popupObj.element } : this.popupObj;\n        this.parent.trigger(events.quickToolbarOpen, args);\n    };\n    /**\n     * renderPopup method\n     * @hidden\n\n     */\n    PopupRenderer.prototype.renderPopup = function (args) {\n        this.setPanel(args.element);\n        this.renderPanel();\n        args.popupObj = new Popup(args.element, {\n            targetType: 'relative',\n            relateTo: this.parent.element,\n            open: this.quickToolbarOpen.bind(this)\n        });\n        this.popupObj = args.popupObj;\n        args.popupObj.hide();\n    };\n    /**\n     * The function is used to add popup class in Quick Toolbar\n     * @hidden\n\n     */\n    PopupRenderer.prototype.renderPanel = function () {\n        this.getPanel().classList.add(CLS_QUICK_POP);\n    };\n    /**\n     * Get the popup element of RichTextEditor\n     * @return {Element}\n     * @hidden\n\n     */\n    PopupRenderer.prototype.getPanel = function () {\n        return this.popupPanel;\n    };\n    /**\n     * Set the popup element of RichTextEditor\n     * @param  {Element} panel\n     * @hidden\n\n     */\n    PopupRenderer.prototype.setPanel = function (panel) {\n        this.popupPanel = panel;\n    };\n    return PopupRenderer;\n}());\nexport { PopupRenderer };\n","import { select, isNullOrUndefined, Browser, addClass, removeClass, EventHandler, closest } from '@syncfusion/ej2-base';\nimport { RenderType } from '../base/enum';\nimport * as events from '../base/constant';\nimport { pageYOffset, hasClass, isIDevice } from '../base/util';\nimport { BaseQuickToolbar } from './base-quick-toolbar';\nimport { PopupRenderer } from '../renderer/popup-renderer';\nimport { CLS_INLINE_POP, CLS_INLINE } from '../base/classes';\n/**\n * `Quick toolbar` module is used to handle Quick toolbar actions.\n */\nvar QuickToolbar = /** @class */ (function () {\n    function QuickToolbar(parent, locator) {\n        this.parent = parent;\n        this.locator = locator;\n        this.renderFactory = this.locator.getService('rendererFactory');\n        this.renderFactory.addRenderer(RenderType.Popup, new PopupRenderer(this.parent));\n        this.addEventListener();\n    }\n    QuickToolbar.prototype.formatItems = function (items) {\n        var formattedItems = [];\n        items.forEach(function (item) {\n            if (typeof item === 'string') {\n                switch (item.toLocaleLowerCase()) {\n                    case 'open':\n                        formattedItems.push('openLink');\n                        break;\n                    case 'edit':\n                        formattedItems.push('editLink');\n                        break;\n                    case 'unlink':\n                        formattedItems.push('removeLink');\n                        break;\n                    default:\n                        formattedItems.push(item);\n                        break;\n                }\n            }\n            else {\n                formattedItems.push(item);\n            }\n        });\n        return formattedItems;\n    };\n    QuickToolbar.prototype.getQTBarOptions = function (popType, mode, items, type) {\n        return {\n            popupType: popType,\n            toolbarItems: items,\n            mode: mode,\n            renderType: type\n        };\n    };\n    /**\n     * createQTBar method\n     * @hidden\n\n     */\n    QuickToolbar.prototype.createQTBar = function (popupType, mode, items, type) {\n        if (items.length < 1) {\n            return null;\n        }\n        var qTBar = new BaseQuickToolbar(this.parent, this.locator);\n        qTBar.render(this.getQTBarOptions(popupType, mode, this.formatItems(items), type));\n        return qTBar;\n    };\n    QuickToolbar.prototype.initializeQuickToolbars = function () {\n        this.parent.quickToolbarModule = this;\n        this.contentRenderer = this.renderFactory.getRenderer(RenderType.Content);\n        if (this.parent.inlineMode.enable && this.parent.inlineMode.onSelection && isIDevice()) {\n            EventHandler.add(this.contentRenderer.getDocument(), 'selectionchange', this.selectionChangeHandler, this);\n        }\n    };\n    QuickToolbar.prototype.onMouseDown = function (e) {\n        this.parent.isBlur = false;\n        this.parent.isRTE = true;\n    };\n    QuickToolbar.prototype.renderQuickToolbars = function () {\n        if (this.linkQTBar || this.imageQTBar || this.textQTBar || this.tableQTBar) {\n            return;\n        }\n        this.linkQTBar = this.createQTBar('Link', 'Scrollable', this.parent.quickToolbarSettings.link, RenderType.LinkToolbar);\n        this.renderFactory.addRenderer(RenderType.LinkToolbar, this.linkQTBar);\n        this.textQTBar = this.createQTBar('Text', 'Scrollable', this.parent.quickToolbarSettings.text, RenderType.TextToolbar);\n        this.renderFactory.addRenderer(RenderType.TextToolbar, this.textQTBar);\n        this.imageQTBar = this.createQTBar('Image', 'MultiRow', this.parent.quickToolbarSettings.image, RenderType.ImageToolbar);\n        this.renderFactory.addRenderer(RenderType.ImageToolbar, this.imageQTBar);\n        this.tableQTBar = this.createQTBar('Table', 'MultiRow', this.parent.quickToolbarSettings.table, RenderType.TableToolbar);\n        this.renderFactory.addRenderer(RenderType.TableToolbar, this.tableQTBar);\n        if (this.linkQTBar) {\n            EventHandler.add(this.linkQTBar.element, 'mousedown', this.onMouseDown, this);\n        }\n        if (this.imageQTBar) {\n            EventHandler.add(this.imageQTBar.element, 'mousedown', this.onMouseDown, this);\n        }\n        if (this.textQTBar) {\n            EventHandler.add(this.textQTBar.element, 'mousedown', this.onMouseDown, this);\n        }\n        if (this.tableQTBar) {\n            EventHandler.add(this.tableQTBar.element, 'mousedown', this.onMouseDown, this);\n        }\n    };\n    QuickToolbar.prototype.renderInlineQuickToolbar = function () {\n        if (this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice())) {\n            addClass([this.parent.element], [CLS_INLINE]);\n            this.inlineQTBar = this.createQTBar('Inline', 'MultiRow', this.parent.toolbarSettings.items, RenderType.InlineToolbar);\n            this.renderFactory.addRenderer(RenderType.InlineToolbar, this.inlineQTBar);\n            EventHandler.add(this.inlineQTBar.element, 'mousedown', this.onMouseDown, this);\n        }\n    };\n    /**\n     * Method for showing the inline quick toolbar\n     * @hidden\n\n     */\n    QuickToolbar.prototype.showInlineQTBar = function (x, y, target) {\n        if (this.parent.readonly) {\n            return;\n        }\n        this.inlineQTBar.showPopup(x, y, target);\n    };\n    /**\n     * Method for hidding the inline quick toolbar\n     * @hidden\n\n     */\n    QuickToolbar.prototype.hideInlineQTBar = function () {\n        if (this.inlineQTBar && !hasClass(this.inlineQTBar.element, 'e-popup-close')) {\n            this.inlineQTBar.hidePopup();\n        }\n    };\n    /**\n     * Method for hidding the quick toolbar\n     * @hidden\n\n     */\n    QuickToolbar.prototype.hideQuickToolbars = function () {\n        if (this.linkQTBar && !hasClass(this.linkQTBar.element, 'e-popup-close') && document.body.contains(this.linkQTBar.element)) {\n            this.linkQTBar.hidePopup();\n        }\n        if (this.textQTBar && !hasClass(this.textQTBar.element, 'e-popup-close') && document.body.contains(this.textQTBar.element)) {\n            this.textQTBar.hidePopup();\n        }\n        if (this.imageQTBar && !hasClass(this.imageQTBar.element, 'e-popup-close') && document.body.contains(this.imageQTBar.element)) {\n            this.imageQTBar.hidePopup();\n        }\n        if (this.tableQTBar && !hasClass(this.tableQTBar.element, 'e-popup-close') && document.body.contains(this.tableQTBar.element)) {\n            this.tableQTBar.hidePopup();\n        }\n        if (this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice())) {\n            this.hideInlineQTBar();\n        }\n    };\n    QuickToolbar.prototype.deBounce = function (x, y, target) {\n        var _this = this;\n        clearTimeout(this.deBouncer);\n        this.deBouncer = window.setTimeout(function () { _this.showInlineQTBar(x, y, target); }, 1000);\n    };\n    QuickToolbar.prototype.mouseUpHandler = function (e) {\n        if (this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice())) {\n            var coordinates = void 0;\n            coordinates = e.args.touches ? e.args.changedTouches[0] : e.args;\n            var range = this.parent.getRange();\n            var target = e.args.target;\n            if (isNullOrUndefined(select('.' + CLS_INLINE_POP, document.body))) {\n                if (isIDevice() && e.touchData && e.touchData.prevClientX !== e.touchData.clientX\n                    && e.touchData.prevClientY !== e.touchData.clientY) {\n                    return;\n                }\n                this.hideInlineQTBar();\n                this.offsetX = coordinates.pageX;\n                this.offsetY = pageYOffset(coordinates, this.parent.element, this.parent.iframeSettings.enable);\n                if (target.nodeName === 'TEXTAREA') {\n                    this.showInlineQTBar(this.offsetX, this.offsetY, target);\n                }\n                else {\n                    var closestAnchor = closest(target, 'a');\n                    target = closestAnchor ? closestAnchor : target;\n                    if (target.tagName !== 'IMG' && target.tagName !== 'A' && (!closest(target, 'td,th') || !range.collapsed)) {\n                        if (this.parent.inlineMode.onSelection && range.collapsed) {\n                            return;\n                        }\n                        this.target = target;\n                        this.showInlineQTBar(this.offsetX, this.offsetY, target);\n                    }\n                }\n            }\n        }\n    };\n    QuickToolbar.prototype.keyDownHandler = function () {\n        if ((this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice()))\n            && !isNullOrUndefined(select('.' + CLS_INLINE_POP, document))) {\n            this.hideInlineQTBar();\n        }\n    };\n    QuickToolbar.prototype.inlineQTBarMouseDownHandler = function () {\n        if ((this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice()))\n            && !isNullOrUndefined(select('.' + CLS_INLINE_POP, document))) {\n            this.hideInlineQTBar();\n        }\n    };\n    QuickToolbar.prototype.keyUpHandler = function (e) {\n        if (this.parent.inlineMode.enable && !Browser.isDevice) {\n            if (this.parent.inlineMode.onSelection) {\n                return;\n            }\n            var args = e.args;\n            this.deBounce(this.offsetX, this.offsetY, args.target);\n        }\n    };\n    QuickToolbar.prototype.selectionChangeHandler = function (e) {\n        var _this = this;\n        clearTimeout(this.deBouncer);\n        this.deBouncer = window.setTimeout(function () { _this.onSelectionChange(e); }, 1000);\n    };\n    QuickToolbar.prototype.onSelectionChange = function (e) {\n        if (!isNullOrUndefined(select('.' + CLS_INLINE_POP, document.body))) {\n            return;\n        }\n        var selection = this.contentRenderer.getDocument().getSelection();\n        if (!selection.isCollapsed) {\n            this.mouseUpHandler({ args: e });\n        }\n    };\n    /**\n     * getInlineBaseToolbar method\n     * @hidden\n\n     */\n    QuickToolbar.prototype.getInlineBaseToolbar = function () {\n        return this.inlineQTBar && this.inlineQTBar.quickTBarObj;\n    };\n    /**\n     * Destroys the ToolBar.\n     * @method destroy\n     * @return {void}\n     * @hidden\n\n     */\n    QuickToolbar.prototype.destroy = function () {\n        if (this.linkQTBar) {\n            EventHandler.remove(this.linkQTBar.element, 'mousedown', this.onMouseDown);\n            this.linkQTBar.destroy();\n        }\n        if (this.textQTBar) {\n            EventHandler.remove(this.textQTBar.element, 'mousedown', this.onMouseDown);\n            this.textQTBar.destroy();\n        }\n        if (this.imageQTBar) {\n            EventHandler.remove(this.imageQTBar.element, 'mousedown', this.onMouseDown);\n            this.imageQTBar.destroy();\n        }\n        if (this.tableQTBar) {\n            EventHandler.remove(this.tableQTBar.element, 'mousedown', this.onMouseDown);\n            this.tableQTBar.destroy();\n        }\n        if (this.inlineQTBar) {\n            EventHandler.remove(this.inlineQTBar.element, 'mousedown', this.onMouseDown);\n            if (isIDevice()) {\n                EventHandler.remove(document, 'selectionchange', this.selectionChangeHandler);\n            }\n            this.inlineQTBar.destroy();\n        }\n        this.removeEventListener();\n    };\n    QuickToolbar.prototype.wireInlineQTBarEvents = function () {\n        this.parent.on(events.mouseUp, this.mouseUpHandler, this);\n        this.parent.on(events.mouseDown, this.inlineQTBarMouseDownHandler, this);\n        this.parent.on(events.keyDown, this.keyDownHandler, this);\n        this.parent.on(events.keyUp, this.keyUpHandler, this);\n        this.parent.on(events.sourceCodeMouseDown, this.mouseUpHandler, this);\n        this.parent.on(events.renderInlineToolbar, this.renderInlineQuickToolbar, this);\n    };\n    QuickToolbar.prototype.unWireInlineQTBarEvents = function () {\n        this.parent.off(events.mouseUp, this.mouseUpHandler);\n        this.parent.off(events.mouseDown, this.inlineQTBarMouseDownHandler);\n        this.parent.off(events.keyDown, this.keyDownHandler);\n        this.parent.off(events.keyUp, this.keyUpHandler);\n        this.parent.off(events.sourceCodeMouseDown, this.mouseUpHandler);\n        this.parent.off(events.renderInlineToolbar, this.renderInlineQuickToolbar);\n    };\n    QuickToolbar.prototype.toolbarUpdated = function (args) {\n        if (this.linkQTBar && !hasClass(this.linkQTBar.element, 'e-popup-close')) {\n            this.linkQTBar.hidePopup();\n        }\n        if (this.imageQTBar && !hasClass(this.imageQTBar.element, 'e-popup-close')) {\n            this.imageQTBar.hidePopup();\n        }\n        if (this.tableQTBar && !hasClass(this.tableQTBar.element, 'e-popup-close')) {\n            this.tableQTBar.hidePopup();\n        }\n    };\n    /**\n     * addEventListener\n     * @hidden\n\n     */\n    QuickToolbar.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.initialEnd, this.initializeQuickToolbars, this);\n        this.parent.on(events.mouseDown, this.renderQuickToolbars, this);\n        this.parent.on(events.toolbarUpdated, this.toolbarUpdated, this);\n        this.parent.on(events.drop, this.renderQuickToolbars, this);\n        this.wireInlineQTBarEvents();\n        this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n        if (this.parent.quickToolbarSettings.actionOnScroll === 'hide') {\n            this.parent.on(events.scroll, this.hideQuickToolbars, this);\n            this.parent.on(events.contentscroll, this.hideQuickToolbars, this);\n        }\n        this.parent.on(events.focusChange, this.hideQuickToolbars, this);\n        this.parent.on(events.iframeMouseDown, this.onIframeMouseDown, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.keyDown, this.onKeyDown, this);\n        this.parent.on(events.rtlMode, this.setRtl, this);\n    };\n    QuickToolbar.prototype.onKeyDown = function (e) {\n        var args = e.args;\n        if (args.which === 8 || args.which === 46) {\n            if (this.imageQTBar && !hasClass(this.imageQTBar.element, 'e-popup-close')) {\n                this.imageQTBar.hidePopup();\n            }\n        }\n    };\n    QuickToolbar.prototype.onIframeMouseDown = function () {\n        this.hideQuickToolbars();\n        this.hideInlineQTBar();\n    };\n    QuickToolbar.prototype.setRtl = function (args) {\n        if (this.inlineQTBar) {\n            this.inlineQTBar.quickTBarObj.toolbarObj.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.imageQTBar) {\n            this.imageQTBar.quickTBarObj.toolbarObj.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.linkQTBar) {\n            this.imageQTBar.quickTBarObj.toolbarObj.setProperties({ enableRtl: args.enableRtl });\n        }\n    };\n    /**\n     * removeEventListener\n     * @hidden\n\n     */\n    QuickToolbar.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.initialEnd, this.initializeQuickToolbars);\n        this.parent.off(events.mouseDown, this.renderQuickToolbars);\n        this.parent.off(events.toolbarUpdated, this.toolbarUpdated);\n        this.parent.off(events.drop, this.renderQuickToolbars);\n        this.unWireInlineQTBarEvents();\n        this.parent.off(events.modelChanged, this.onPropertyChanged);\n        if (this.parent.quickToolbarSettings.actionOnScroll === 'hide') {\n            this.parent.off(events.scroll, this.hideQuickToolbars);\n            this.parent.off(events.contentscroll, this.hideQuickToolbars);\n        }\n        this.parent.off(events.focusChange, this.hideQuickToolbars);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off(events.iframeMouseDown, this.onIframeMouseDown);\n        this.parent.off(events.keyDown, this.onKeyDown);\n        this.parent.off(events.rtlMode, this.setRtl);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @hidden\n\n     */\n    QuickToolbar.prototype.onPropertyChanged = function (e) {\n        if (!isNullOrUndefined(e.newProp.quickToolbarSettings)) {\n            for (var _i = 0, _a = Object.keys(e.newProp.quickToolbarSettings); _i < _a.length; _i++) {\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'actionOnScroll':\n                        if (e.newProp.quickToolbarSettings.actionOnScroll === 'none') {\n                            this.parent.off(events.scroll, this.hideQuickToolbars);\n                            this.parent.off(events.contentscroll, this.hideQuickToolbars);\n                        }\n                        else {\n                            this.parent.on(events.scroll, this.hideQuickToolbars, this);\n                            this.parent.on(events.contentscroll, this.hideQuickToolbars, this);\n                        }\n                        break;\n                }\n            }\n        }\n        if (e.module !== this.getModuleName()) {\n            return;\n        }\n        if (this.inlineQTBar) {\n            removeClass([this.parent.element], [CLS_INLINE]);\n            this.unWireInlineQTBarEvents();\n            this.hideInlineQTBar();\n        }\n        if (this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice())) {\n            addClass([this.parent.element], [CLS_INLINE]);\n            this.wireInlineQTBarEvents();\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     */\n    QuickToolbar.prototype.getModuleName = function () {\n        return 'quickToolbar';\n    };\n    return QuickToolbar;\n}());\nexport { QuickToolbar };\n","<template>\r\n    <div class=\"dashboard-body\">\r\n        <errorNav/>\r\n        <div class=\"row\">\r\n            <sidenav class=\"col-2\"/>\r\n            <div class=\"col-10 content-section admin-dashboard-title\">\r\n                <div class=\"card title-card\">\r\n                    <div class=\"card-body\">\r\n                        <div class=\"row\">\r\n                            <div class=\"d-flex flex-wrap control-nav-btns\">\r\n                                <button type=\"submit\" class=\"btn btn-primary save\">Save</button>\r\n                                <button v-on:click=\"navigateBack\" type=\"button\" class=\"btn btn-outline-secondary\">Close</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div v-if=\"tendersIsLoading\" class=\"alert loading-alert\" role=\"alert\">\r\n                    <div class=\"row\">\r\n                        <div class=\"spinner-border\" role=\"status\">\r\n                            <span class=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                        <div class=\"col-3\">\r\n                            Loading...\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <div class=\"col-7\">\r\n                        <div class=\"card profile-card\">\r\n                            <div class=\"card-header\">\r\n                                Content\r\n                            </div>\r\n                            <div class=\"card-body\">\r\n                                <ValidationProvider name=\"name\" rules=\"required\" v-slot=\"{ errors }\">\r\n                                    <label for=\"title\">Title</label>\r\n                                    <div class=\"input-group mb-3\">\r\n                                        <textarea v-model=\"title\" class=\"form-control\" id=\"title\" rows=\"3\"></textarea>\r\n                                    </div>\r\n                                    <small class=\"form-text text-muted\">{{ errors[0] }}</small>\r\n                                </ValidationProvider>\r\n                                <ValidationProvider name=\"totalPrice\" rules=\"required\" v-slot=\"{ errors }\">\r\n                                    <label for=\"totalPrice\">Body</label>\r\n                                    <div class=\"input-group mb-3\">\r\n                                        <ejs-richtexteditor ref=\"rteObj\" :height=\"600\" :iframeSettings=\"iframeData\">\r\n                                                {{ tender.description }}\r\n                                        </ejs-richtexteditor>\r\n                                    </div>\r\n                                    <small class=\"form-text text-muted\">{{ errors[0] }}</small>\r\n                                </ValidationProvider>\r\n                                <br>\r\n                                <div class=\"row\">\r\n                                    <div class=\"col\">\r\n                                        <label for=\"title\">Status</label>\r\n                                         <td><span v-if=\"tenderIsLoading\" class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span><span v-else v-on:click=\"changeTenderActiveStatus(tender._id)\" :class=\"[tender.isActive ? 'badge-success' : 'badge-secondary', 'badge']\">{{ tender.isActive ? 'ACTIVE' :  'DISABLED' }}</span></td>\r\n                                    </div>\r\n                                    <div class=\"col\">\r\n                                        <label for=\"title\">Featured</label>\r\n                                         <td><span v-if=\"tenderIsLoading\" class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span><span v-else v-on:click=\"changeTenderActiveStatus(tender._id)\" :class=\"[tender.isFeatured ? 'badge-success' : 'badge-secondary', 'badge']\">{{ tender.isFeatured ? 'YES' :  'NO' }}</span></td>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-5\">\r\n                        <div class=\"card profile-card\">\r\n                            <div class=\"card-header\">\r\n                                Classification\r\n                            </div>\r\n                            <div class=\"card-body\">\r\n                                <label for=\"categories\">Category</label>\r\n                                <div class=\"vue-root\">\r\n                                    <smart-tree id=\"tree\" has-three-states selection-mode=\"checkBox\" class=\"categories\">\r\n                                        <template v-for=\"(category, index) in categoryList\">\r\n                                            <smart-tree-items-group v-if=\"category.isParent\" v-bind:key=\"index\" :expanded=\"checkIfCategoryIsSelected(category.children.map((e) => e._id))\">\r\n                                                <strong class=\"parent\" v-on:click=\"selectCategory(category.children.map((e) => e._id), CATEGORY_SELECTION_MULTIPLE)\">{{ category.name.en }}</strong>\r\n                                                <template v-for=\"(subCategory, subIndex) in category.children\">\r\n                                                    <smart-tree-item v-bind:key=\"subIndex\" v-on:click=\"selectCategory([subCategory._id], CATEGORY_SELECTION_SINGLE)\"  :selected=\"checkIfCategoryIsSelected([subCategory._id])\">{{ subCategory.name.en }}</smart-tree-item>\r\n                                                </template>\r\n                                            </smart-tree-items-group>\r\n                                            <smart-tree-item v-if=\"!category.isParent\" v-bind:key=\"index\" v-on:click=\"selectCategory([category._id], CATEGORY_SELECTION_SINGLE)\" :selected=\"checkIfCategoryIsSelected([category._id])\">{{ category.name.en }}</smart-tree-item>\r\n                                        </template>\r\n                                    </smart-tree>\r\n                                </div>\r\n                                <br>\r\n                                <hr>\r\n                                <br>\r\n                                <label for=\"regions\">Regions</label>\r\n                                <template v-for=\"(region, index) in regions\">\r\n                                    <div v-bind:key=\"index\" class=\"region-checkbox custom-control custom-checkbox regions\">\r\n                                        <input v-model=\"tenderRegions\" :value=\"region._id\" type=\"checkbox\" class=\"custom-control-input\" :id=\"`region${index+1}`\" :checked=\"true\">\r\n                                        <label class=\"custom-control-label\" :for=\"`region${index+1}`\">{{ region.name.en }} | {{ checkIfRegionIsSelected(region._id) }}</label>\r\n                                    </div>\r\n                                </template>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport sidenav from '../../components/Sidenav.vue'\r\nimport errorNav from '../../components/Error_Nav.vue'\r\nimport { GET_TENDER, GET_REGIONS, GET_CATEGORIES, TOGGLE_TENDER_PUBLISHED_STATUS, TOGGLE_TENDER_ACTIVE_STATUS, CLEAR_TENDER } from '../../store/action_types'\r\nimport { EDIT_TENDERS_ROUTE } from '../../utils/routes'\r\nimport { CATEGORY_SELECTION_SINGLE, CATEGORY_SELECTION_MULTIPLE } from '../../utils/const'\r\n\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { faEye } from '@fortawesome/free-solid-svg-icons'\r\nlibrary.add(faEye)\r\n\r\nimport { Toolbar, Link, Image, Count, HtmlEditor, QuickToolbar } from \"@syncfusion/ej2-vue-richtexteditor\";\r\n\r\nimport \"smart-webcomponents/source/styles/smart.default.css\";\r\nimport \"smart-webcomponents/source/modules/smart.tree.js\";\r\n\r\nexport default {\r\n    components: {\r\n        sidenav,\r\n        errorNav\r\n    },\r\n    provide: {\r\n        richtexteditor:[Toolbar, Link, Image, Count, HtmlEditor, QuickToolbar]\r\n    },    \r\n    data() {\r\n        return {\r\n            EDIT_TENDERS_ROUTE: EDIT_TENDERS_ROUTE,\r\n            iframeData: {\r\n                enable: true\r\n            },\r\n            title: null,\r\n            description: null,\r\n            tenderCategories: [],\r\n            tenderRegions: []\r\n        }\r\n    },\r\n    watch: {\r\n        tenderIsLoading: {\r\n            handler(val) {\r\n                if(val == false) {\r\n                    this.setValues()\r\n                }\r\n            }\r\n        }\r\n    },\r\n    computed: {\r\n        tender() {\r\n            return this.$store.getters.tender.data\r\n        },\r\n        tenderIsLoading() {\r\n            return this.$store.getters.tender.isLoading\r\n        },\r\n        categoryList() {\r\n            return this.$store.getters.category.data\r\n        },\r\n        regions() {\r\n            return this.$store.getters.region.data\r\n        }\r\n    },\r\n    methods: {\r\n        navigateBack() {\r\n            this.$router.go(-1)\r\n        },\r\n        changeTenderActiveStatus(id) {\r\n            this.$store.dispatch(TOGGLE_TENDER_PUBLISHED_STATUS, { _id: id })\r\n        },\r\n        changeTenderFeaturedStatus(id) {\r\n            this.$store.dispatch(TOGGLE_TENDER_ACTIVE_STATUS, { _id: id })\r\n        }, \r\n        setValues() {\r\n            this.title = this.tender.title\r\n            this.description = this.tender.description\r\n            this.tenderCategories = this.tender.categories\r\n        },\r\n        checkIfRegionIsSelected(region) {\r\n            return this.tender.region._id == region\r\n        },\r\n        checkIfCategoryIsSelected(categories) {\r\n            return categories.some((category) => {\r\n                return this.tenderCategories.map((e) => e._id).includes(category);\r\n            });\r\n        },\r\n        selectCategory(ids, type) {\r\n            if(type === CATEGORY_SELECTION_MULTIPLE) {\r\n                ids.forEach((id) => {\r\n                    if(this.tenderCategories.includes(id)) {\r\n                        this.tenderCategories.splice(this.tenderCategories.indexOf(id), 1)\r\n                    } else {\r\n                        this.tenderCategories.push(id)\r\n                    }\r\n                });\r\n            } else if (type === CATEGORY_SELECTION_SINGLE) {\r\n                if(this.tenderCategories.includes(ids[0])) {\r\n                    this.tenderCategories.splice(this.tenderCategories.indexOf(ids[0]), 1)\r\n                } else {\r\n                    this.tenderCategories.push(ids[0])\r\n                }\r\n            }\r\n        },\r\n        getRegions() {\r\n            this.$store.dispatch(GET_REGIONS)\r\n        },\r\n        getCategories() {\r\n            this.$store.dispatch(GET_CATEGORIES)\r\n        },\r\n        getTender() {\r\n            this.$store.dispatch(GET_TENDER, { id: this.$route.params.id })\r\n        },\r\n        clearTender() {\r\n            this.$store.dispatch(CLEAR_TENDER)\r\n        }\r\n    },\r\n    mounted() {\r\n        this.getTender()\r\n        this.getCategories()\r\n        this.getRegions()\r\n        this.setValues()\r\n    },\r\n    beforeDestroy() {\r\n        this.clearTender()\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n#tree {\r\n    --smart-tree-default-height: 79vh;\r\n}\r\n\r\n@import \"../../../node_modules/@syncfusion/ej2-base/styles/material.css\";\r\n@import \"../../../node_modules/@syncfusion/ej2-inputs/styles/material.css\";\r\n@import \"../../../node_modules/@syncfusion/ej2-lists/styles/material.css\";\r\n@import \"../../../node_modules/@syncfusion/ej2-popups/styles/material.css\";\r\n@import \"../../../node_modules/@syncfusion/ej2-buttons/styles/material.css\";\r\n@import \"../../../node_modules/@syncfusion/ej2-navigations/styles/material.css\";\r\n@import \"../../../node_modules/@syncfusion/ej2-splitbuttons/styles/material.css\";\r\n@import \"../../../node_modules/@syncfusion/ej2-vue-richtexteditor/styles/material.css\";\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit_Tender.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit_Tender.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Edit_Tender.vue?vue&type=template&id=19c9febf&scoped=true&\"\nimport script from \"./Edit_Tender.vue?vue&type=script&lang=js&\"\nexport * from \"./Edit_Tender.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Edit_Tender.vue?vue&type=style&index=0&id=19c9febf&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"19c9febf\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}